/*! For license information please see main.a1697746.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),a=n(43),s=n(950);function l(e){var t="https://b77a755e-cd3d-4f06-b7e4-57c9ade235f8.preview.emergentagent.com","/api"),Rt=(0,a.createContext)(),Dt=()=>{const e=(0,a.useContext)(Rt);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e},Mt={ar:{systemName:"EP Group System",login:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644",username:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",password:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",rememberMe:"\u062a\u0630\u0643\u0631\u0646\u064a",forgotPassword:"\u0646\u0633\u064a\u062a \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631\u061f",loginButton:"\u062f\u062e\u0648\u0644",loginLoading:"\u062c\u0627\u0631\u064a \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644...",welcome:"\u0645\u0631\u062d\u0628\u0627\u064b \u0628\u0643 \u0641\u064a",enterCredentials:"\u0623\u062f\u062e\u0644 \u0628\u064a\u0627\u0646\u0627\u062a\u0643 \u0644\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644",dashboard:"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645",statistics:"\u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a",users:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",userManagement:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",warehouse:"\u0627\u0644\u0645\u062e\u0627\u0632\u0646",warehouseManagement:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u062e\u0627\u0632\u0646",visits:"\u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a",visitsLog:"\u0633\u062c\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a",reports:"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631",chat:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a",settings:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a",secretReports:"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631 \u0627\u0644\u0633\u0631\u064a\u0629",logout:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c",totalUsers:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",totalClinics:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a",totalDoctors:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0623\u0637\u0628\u0627\u0621",totalVisits:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a",totalWarehouses:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u062e\u0627\u0632\u0646",totalProducts:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a",totalOrders:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0637\u0644\u0628\u0627\u062a",recentActivity:"\u0627\u0644\u0646\u0634\u0627\u0637 \u0627\u0644\u0623\u062e\u064a\u0631",viewAll:"\u0639\u0631\u0636 \u0627\u0644\u0643\u0644",addUser:"\u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062a\u062e\u062f\u0645",fullName:"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644",email:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",phone:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641",role:"\u0627\u0644\u062f\u0648\u0631",status:"\u0627\u0644\u062d\u0627\u0644\u0629",active:"\u0646\u0634\u0637",inactive:"\u063a\u064a\u0631 \u0646\u0634\u0637",actions:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a",edit:"\u062a\u0639\u062f\u064a\u0644",delete:"\u062d\u0630\u0641",save:"\u062d\u0641\u0638",cancel:"\u0625\u0644\u063a\u0627\u0621",admin:"\u0645\u062f\u064a\u0631",manager:"\u0645\u062f\u064a\u0631 \u0641\u0631\u0639",salesRep:"\u0645\u0646\u062f\u0648\u0628 \u0645\u0628\u064a\u0639\u0627\u062a",warehouse:"\u0645\u062e\u0632\u0646",accounting:"\u0645\u062d\u0627\u0633\u0628",warehouseName:"\u0627\u0633\u0645 \u0627\u0644\u0645\u062e\u0632\u0646",location:"\u0627\u0644\u0645\u0648\u0642\u0639",capacity:"\u0627\u0644\u0633\u0639\u0629",currentStock:"\u0627\u0644\u0645\u062e\u0632\u0648\u0646 \u0627\u0644\u062d\u0627\u0644\u064a",products:"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a",orders:"\u0627\u0644\u0637\u0644\u0628\u0627\u062a",movement:"\u0627\u0644\u062d\u0631\u0643\u0629",inventory:"\u0627\u0644\u062c\u0631\u062f",orderNumber:"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628",orderDate:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0637\u0644\u0628",orderType:"\u0646\u0648\u0639 \u0627\u0644\u0637\u0644\u0628",quantity:"\u0627\u0644\u0643\u0645\u064a\u0629",unitPrice:"\u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0629",totalPrice:"\u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a",approved:"\u0645\u0639\u062a\u0645\u062f",pending:"\u0641\u064a \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631",rejected:"\u0645\u0631\u0641\u0648\u0636",visitDate:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0632\u064a\u0627\u0631\u0629",doctor:"\u0627\u0644\u0637\u0628\u064a\u0628",clinic:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629",salesRep:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628",notes:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a",gpsLocation:"\u0645\u0648\u0642\u0639 GPS",visitType:"\u0646\u0648\u0639 \u0627\u0644\u0632\u064a\u0627\u0631\u0629",search:"\u0628\u062d\u062b",searchPlaceholder:"\u0627\u0628\u062d\u062b \u0639\u0646 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646\u060c \u0627\u0644\u0623\u0637\u0628\u0627\u0621\u060c \u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a\u060c \u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631...",searchResults:"\u0646\u062a\u0627\u0626\u062c \u0627\u0644\u0628\u062d\u062b",noResults:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0646\u062a\u0627\u0626\u062c",systemSettings:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0646\u0638\u0627\u0645",companyInfo:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0634\u0631\u0643\u0629",companyName:"\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629",logo:"\u0627\u0644\u0634\u0639\u0627\u0631",primaryColor:"\u0627\u0644\u0644\u0648\u0646 \u0627\u0644\u0623\u0633\u0627\u0633\u064a",secondaryColor:"\u0627\u0644\u0644\u0648\u0646 \u0627\u0644\u062b\u0627\u0646\u0648\u064a",adminSettings:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0625\u062f\u0627\u0631\u0629",permissions:"\u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a",dashboardConfig:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645",systemHealth:"\u0635\u062d\u0629 \u0627\u0644\u0646\u0638\u0627\u0645",security:"\u0627\u0644\u0623\u0645\u0627\u0646",activityLogs:"\u0633\u062c\u0644\u0627\u062a \u0627\u0644\u0623\u0646\u0634\u0637\u0629",loading:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644...",error:"\u062e\u0637\u0623",success:"\u0646\u062c\u062d",warning:"\u062a\u062d\u0630\u064a\u0631",info:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a",confirm:"\u062a\u0623\u0643\u064a\u062f",yes:"\u0646\u0639\u0645",no:"\u0644\u0627",close:"\u0625\u063a\u0644\u0627\u0642",back:"\u0631\u062c\u0648\u0639",next:"\u0627\u0644\u062a\u0627\u0644\u064a",previous:"\u0627\u0644\u0633\u0627\u0628\u0642",submit:"\u0625\u0631\u0633\u0627\u0644",footerAbout:"\u0639\u0646 \u0627\u0644\u0634\u0631\u0643\u0629",footerServices:"\u062e\u062f\u0645\u0627\u062a\u0646\u0627",footerContact:"\u0627\u062a\u0635\u0644 \u0628\u0646\u0627",footerPrivacy:"\u0633\u064a\u0627\u0633\u0629 \u0627\u0644\u062e\u0635\u0648\u0635\u064a\u0629",footerTerms:"\u0627\u0644\u0634\u0631\u0648\u0637 \u0648\u0627\u0644\u0623\u062d\u0643\u0627\u0645",footerSupport:"\u0627\u0644\u062f\u0639\u0645 \u0627\u0644\u0641\u0646\u064a",footerQuickLinks:"\u0631\u0648\u0627\u0628\u0637 \u0633\u0631\u064a\u0639\u0629",footerLegal:"\u0642\u0627\u0646\u0648\u0646\u064a",footerContactUs:"\u062a\u0648\u0627\u0635\u0644 \u0645\u0639\u0646\u0627",footerCopyright:"\u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0642\u0648\u0642 \u0645\u062d\u0641\u0648\u0638\u0629",footerDescription:"\u0646\u0638\u0627\u0645 \u0625\u062f\u0627\u0631\u0629 \u0634\u0627\u0645\u0644 \u0644\u0644\u0645\u0624\u0633\u0633\u0627\u062a \u0648\u0627\u0644\u0634\u0631\u0643\u0627\u062a \u0645\u0639 \u0623\u062d\u062f\u062b \u0627\u0644\u062a\u0642\u0646\u064a\u0627\u062a",footerLocation:"\u0627\u0644\u0642\u0627\u0647\u0631\u0629\u060c \u0645\u0635\u0631",themeLight:"\u0641\u0627\u062a\u062d",themeDark:"\u063a\u0627\u0645\u0642",themeMinimal:"\u0628\u0633\u064a\u0637",themeModern:"\u062d\u062f\u064a\u062b",themeFancy:"\u0641\u0627\u062e\u0631",themeCyber:"\u0633\u0627\u064a\u0628\u0631",themeSunset:"\u063a\u0631\u0648\u0628",themeOcean:"\u0645\u062d\u064a\u0637",themeForest:"\u063a\u0627\u0628\u0629"},en:{systemName:"EP Group System",login:"Login",username:"Username",password:"Password",rememberMe:"Remember Me",forgotPassword:"Forgot Password?",loginButton:"Login",loginLoading:"Logging in...",welcome:"Welcome to",enterCredentials:"Enter your credentials to login",dashboard:"Dashboard",statistics:"Statistics",users:"Users",userManagement:"User Management",warehouse:"Warehouse",warehouseManagement:"Warehouse Management",visits:"Visits",visitsLog:"Visits Log",reports:"Reports",chat:"Chat",settings:"Settings",secretReports:"Secret Reports",logout:"Logout",totalUsers:"Total Users",totalClinics:"Total Clinics",totalDoctors:"Total Doctors",totalVisits:"Total Visits",totalWarehouses:"Total Warehouses",totalProducts:"Total Products",totalOrders:"Total Orders",recentActivity:"Recent Activity",viewAll:"View All",addUser:"Add User",fullName:"Full Name",email:"Email",phone:"Phone",role:"Role",status:"Status",active:"Active",inactive:"Inactive",actions:"Actions",edit:"Edit",delete:"Delete",save:"Save",cancel:"Cancel",admin:"Admin",manager:"Manager",salesRep:"Sales Rep",warehouse:"Warehouse",accounting:"Accounting",warehouseName:"Warehouse Name",location:"Location",capacity:"Capacity",currentStock:"Current Stock",products:"Products",orders:"Orders",movement:"Movement",inventory:"Inventory",orderNumber:"Order Number",orderDate:"Order Date",orderType:"Order Type",quantity:"Quantity",unitPrice:"Unit Price",totalPrice:"Total Price",approved:"Approved",pending:"Pending",rejected:"Rejected",visitDate:"Visit Date",doctor:"Doctor",clinic:"Clinic",salesRep:"Sales Rep",notes:"Notes",gpsLocation:"GPS Location",visitType:"Visit Type",search:"Search",searchPlaceholder:"Search users, doctors, clinics, invoices...",searchResults:"Search Results",noResults:"No Results",systemSettings:"System Settings",companyInfo:"Company Information",companyName:"Company Name",logo:"Logo",primaryColor:"Primary Color",secondaryColor:"Secondary Color",adminSettings:"Admin Settings",permissions:"Permissions",dashboardConfig:"Dashboard Configuration",systemHealth:"System Health",security:"Security",activityLogs:"Activity Logs",loading:"Loading...",error:"Error",success:"Success",warning:"Warning",info:"Information",confirm:"Confirm",yes:"Yes",no:"No",close:"Close",back:"Back",next:"Next",previous:"Previous",submit:"Submit",footerAbout:"About Us",footerServices:"Our Services",footerContact:"Contact Us",footerPrivacy:"Privacy Policy",footerTerms:"Terms & Conditions",footerSupport:"Technical Support",footerQuickLinks:"Quick Links",footerLegal:"Legal",footerContactUs:"Contact",footerCopyright:"All rights reserved",footerDescription:"Comprehensive enterprise management system with latest technologies",footerLocation:"Cairo, Egypt",themeLight:"Light",themeDark:"Dark",themeMinimal:"Minimal",themeModern:"Modern",themeFancy:"Fancy",themeCyber:"Cyber",themeSunset:"Sunset",themeOcean:"Ocean",themeForest:"Forest"}},Ft=e=>{let{children:t}=e;const[n,r]=(0,a.useState)((()=>localStorage.getItem("language")||"en"));return(0,a.useEffect)((()=>{document.documentElement.dir="ar"===n?"rtl":"ltr",document.documentElement.lang=n,document.body.classList.add("ar"===n?"arabic":"english")}),[n]),(0,zt.jsx)(Rt.Provider,{value:{language:n,changeLanguage:e=>{r(e),localStorage.setItem("language",e),document.documentElement.dir="ar"===e?"rtl":"ltr",document.documentElement.lang=e,document.body.className=document.body.className.replace(/\b(arabic|english)\b/g,""),document.body.classList.add("ar"===e?"arabic":"english")},t:e=>{var t;return(null===(t=Mt[n])||void 0===t?void 0:t[e])||e},isRTL:"ar"===n},children:t})},It=e=>{let{className:t="",position:n="header"}=e;const{language:r,changeLanguage:a,t:s}=Dt(),l=()=>{a("ar"===r?"en":"ar")};return"login"===n?(0,zt.jsx)("div",{className:"language-toggle ".concat(t," ").concat("ar"===r?"rtl":""),children:(0,zt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zt.jsx)("button",{onClick:l,className:"language-option ".concat("ar"===r?"active":""),children:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629"}),(0,zt.jsx)("button",{onClick:l,className:"language-option ".concat("en"===r?"active":""),children:"English"})]})}):(0,zt.jsx)("div",{className:"language-toggle",children:(0,zt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zt.jsx)("button",{onClick:l,className:"language-option ".concat("ar"===r?"active":""),children:"\u0639"}),(0,zt.jsx)("button",{onClick:l,className:"language-option ".concat("en"===r?"active":""),children:"EN"})]})})},Ut=(0,a.createContext)(),Bt=()=>{const e=(0,a.useContext)(Ut);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},qt=e=>{let{children:t}=e;const[n,r]=(0,a.useState)("dark"),[s,l]=(0,a.useState)((()=>localStorage.getItem("app_language")||"ar")),i=["light","dark","minimal","modern","fancy","cyber","sunset","ocean","forest"];(0,a.useEffect)((()=>{const e=localStorage.getItem("theme")||"dark";r(e),document.documentElement.setAttribute("data-theme",e),document.body.setAttribute("data-theme",e),o(e)}),[]),(0,a.useEffect)((()=>{localStorage.setItem("app_language",s),document.dir="ar"===s?"rtl":"ltr",document.documentElement.lang=s,document.body.style.fontFamily="ar"===s?"'Tajawal', 'Cairo', 'Amiri', 'Segoe UI', 'Tahoma', Arial, sans-serif":"'Roboto', 'Inter', 'Segoe UI', 'Helvetica Neue', Arial, sans-serif"}),[s]);const o=e=>{const t=document.documentElement,n={light:{"--primary-bg":"#ffffff","--secondary-bg":"#f8fafc","--accent-bg":"#e2e8f0","--card-bg":"rgba(255, 255, 255, 0.95)","--glass-bg":"rgba(248, 250, 252, 0.8)","--text-primary":"#1e293b","--text-secondary":"#475569","--text-muted":"#64748b","--gradient-dark":"linear-gradient(135deg, #ffffff 0%, #f8fafc 50%, #e2e8f0 100%)","--border-color":"#e2e8f0","--hover-bg":"rgba(0, 0, 0, 0.05)","--shadow":"0 4px 6px -1px rgba(0, 0, 0, 0.1)","--primary-color":"#3b82f6","--success-color":"#10b981","--warning-color":"#f59e0b","--error-color":"#ef4444","--glow-primary":"none","--glow-secondary":"none"},dark:{"--primary-bg":"#0f172a","--secondary-bg":"#1e293b","--accent-bg":"#334155","--card-bg":"rgba(30, 41, 59, 0.95)","--glass-bg":"rgba(15, 23, 42, 0.8)","--text-primary":"#f8fafc","--text-secondary":"#cbd5e1","--text-muted":"#94a3b8","--gradient-dark":"linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%)","--border-color":"#334155","--hover-bg":"rgba(255, 255, 255, 0.05)","--shadow":"0 4px 6px -1px rgba(0, 0, 0, 0.3)","--primary-color":"#60a5fa","--success-color":"#34d399","--warning-color":"#fbbf24","--error-color":"#f87171","--glow-primary":"none","--glow-secondary":"none"},minimal:{"--primary-bg":"#fefefe","--secondary-bg":"#f9f9f9","--accent-bg":"#f0f0f0","--card-bg":"rgba(255, 255, 255, 0.98)","--glass-bg":"rgba(249, 249, 249, 0.95)","--text-primary":"#2d3748","--text-secondary":"#4a5568","--text-muted":"#718096","--gradient-dark":"linear-gradient(135deg, #fefefe 0%, #f9f9f9 100%)","--border-color":"#e2e8f0","--hover-bg":"rgba(0, 0, 0, 0.03)","--shadow":"0 1px 3px rgba(0, 0, 0, 0.1)","--primary-color":"#4a5568","--success-color":"#48bb78","--warning-color":"#ed8936","--error-color":"#e53e3e","--glow-primary":"none","--glow-secondary":"none"},modern:{"--primary-bg":"#0a0a0a","--secondary-bg":"#1a1a1a","--accent-bg":"#2d2d2d","--card-bg":"rgba(26, 26, 26, 0.95)","--glass-bg":"rgba(10, 10, 10, 0.8)","--text-primary":"#ffffff","--text-secondary":"#d1d5db","--text-muted":"#9ca3af","--gradient-dark":"linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #2d2d2d 100%)","--border-color":"#404040","--hover-bg":"rgba(255, 255, 255, 0.08)","--shadow":"0 8px 32px rgba(0, 0, 0, 0.4)","--primary-color":"#00d4ff","--success-color":"#00ff88","--warning-color":"#ffaa00","--error-color":"#ff4757","--glow-primary":"0 0 20px rgba(0, 212, 255, 0.3)","--glow-secondary":"0 0 10px rgba(0, 255, 136, 0.2)"},fancy:{"--primary-bg":"#1a1a2e","--secondary-bg":"#16213e","--accent-bg":"#0f3460","--card-bg":"rgba(22, 33, 62, 0.95)","--glass-bg":"rgba(26, 26, 46, 0.8)","--text-primary":"#eee6ff","--text-secondary":"#b8b5ff","--text-muted":"#8a87ff","--gradient-dark":"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)","--border-color":"#533483","--hover-bg":"rgba(238, 230, 255, 0.1)","--shadow":"0 8px 32px rgba(83, 52, 131, 0.3)","--primary-color":"#bb86fc","--success-color":"#4ade80","--warning-color":"#fbbf24","--error-color":"#f87171","--glow-primary":"0 0 20px rgba(187, 134, 252, 0.5)","--glow-secondary":"0 0 10px rgba(184, 181, 255, 0.3)"},cyber:{"--primary-bg":"#0d1117","--secondary-bg":"#161b22","--accent-bg":"#21262d","--card-bg":"rgba(22, 27, 34, 0.95)","--glass-bg":"rgba(13, 17, 23, 0.8)","--text-primary":"#00ff41","--text-secondary":"#58a6ff","--text-muted":"#7d8590","--gradient-dark":"linear-gradient(135deg, #0d1117 0%, #161b22 50%, #21262d 100%)","--border-color":"#30363d","--hover-bg":"rgba(0, 255, 65, 0.1)","--shadow":"0 8px 32px rgba(0, 255, 65, 0.2)","--primary-color":"#00ff41","--success-color":"#00ff41","--warning-color":"#ffab00","--error-color":"#ff4757","--glow-primary":"0 0 20px rgba(0, 255, 65, 0.4)","--glow-secondary":"0 0 10px rgba(88, 166, 255, 0.3)"},sunset:{"--primary-bg":"#2d1b3d","--secondary-bg":"#3d2858","--accent-bg":"#4a3566","--card-bg":"rgba(61, 40, 88, 0.95)","--glass-bg":"rgba(45, 27, 61, 0.8)","--text-primary":"#fff4e6","--text-secondary":"#ffd6a5","--text-muted":"#ffab76","--gradient-dark":"linear-gradient(135deg, #2d1b3d 0%, #3d2858 50%, #ff6b6b 100%)","--border-color":"#ff8a80","--hover-bg":"rgba(255, 116, 116, 0.1)","--shadow":"0 8px 32px rgba(255, 107, 107, 0.3)","--primary-color":"#ff6b6b","--success-color":"#51cf66","--warning-color":"#ffd43b","--error-color":"#ff6b6b","--glow-primary":"0 0 20px rgba(255, 107, 107, 0.4)","--glow-secondary":"0 0 10px rgba(255, 214, 165, 0.3)"},ocean:{"--primary-bg":"#0f2027","--secondary-bg":"#203a43","--accent-bg":"#2c5364","--card-bg":"rgba(32, 58, 67, 0.95)","--glass-bg":"rgba(15, 32, 39, 0.8)","--text-primary":"#e6fffa","--text-secondary":"#9decf9","--text-muted":"#4dd0e1","--gradient-dark":"linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%)","--border-color":"#26a69a","--hover-bg":"rgba(38, 166, 154, 0.1)","--shadow":"0 8px 32px rgba(0, 188, 212, 0.3)","--primary-color":"#00bcd4","--success-color":"#26a69a","--warning-color":"#ffa726","--error-color":"#ef5350","--glow-primary":"0 0 20px rgba(0, 188, 212, 0.4)","--glow-secondary":"0 0 10px rgba(157, 236, 249, 0.3)"},forest:{"--primary-bg":"#1b2f1e","--secondary-bg":"#2d4a32","--accent-bg":"#3e5c42","--card-bg":"rgba(45, 74, 50, 0.95)","--glass-bg":"rgba(27, 47, 30, 0.8)","--text-primary":"#f1f8e9","--text-secondary":"#c8e6c9","--text-muted":"#a5d6a7","--gradient-dark":"linear-gradient(135deg, #1b2f1e 0%, #2d4a32 50%, #3e5c42 100%)","--border-color":"#4caf50","--hover-bg":"rgba(76, 175, 80, 0.1)","--shadow":"0 8px 32px rgba(76, 175, 80, 0.3)","--primary-color":"#4caf50","--success-color":"#66bb6a","--warning-color":"#ffb74d","--error-color":"#ef5350","--glow-primary":"0 0 20px rgba(76, 175, 80, 0.4)","--glow-secondary":"0 0 10px rgba(200, 230, 201, 0.3)"}},r=n[e]||n.dark;Object.entries(r).forEach((e=>{let[n,r]=e;t.style.setProperty(n,r)}))},c=e=>{i.includes(e)&&(r(e),localStorage.setItem("theme",e),document.documentElement.setAttribute("data-theme",e),document.body.setAttribute("data-theme",e),o(e))};return(0,zt.jsx)(Ut.Provider,{value:{theme:n,toggleTheme:()=>{c("dark"===n?"light":"dark")},cycleTheme:()=>{const e=(i.indexOf(n)+1)%i.length,t=i[e];r(t),localStorage.setItem("theme",t),document.documentElement.setAttribute("data-theme",t),document.body.setAttribute("data-theme",t),o(t)},setSpecificTheme:c,availableThemes:i,language:s,setLanguage:l},children:(0,zt.jsx)("div",{"data-theme":n,style:{minHeight:"100vh",background:"var(--gradient-dark)",color:"var(--text-primary)"},children:t})})},Vt=e=>{let{name:t,size:n=24,className:r="",animated:a=!0}=e;const s="svg-icon ".concat(a?"svg-icon-animated":""," ").concat(r),l={theme:(0,zt.jsx)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",className:s,children:(0,zt.jsx)("path",{d:"M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.061l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),search:(0,zt.jsx)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",className:s,children:(0,zt.jsx)("path",{d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),user:(0,zt.jsx)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",className:s,children:(0,zt.jsx)("path",{d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),dashboard:(0,zt.jsx)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",className:s,children:(0,zt.jsx)("path",{d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v10a1 1 0 01-1 1H4a1 1 0 01-1-1V10zM14 9a1 1 0 011-1h6a1 1 0 011 1v12a1 1 0 01-1 1h-6a1 1 0 01-1-1V9z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),warehouse:(0,zt.jsx)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",className:s,children:(0,zt.jsx)("path",{d:"M3.75 21h16.5M4.5 3h15l-.75 18h-13.5L4.5 3zM12 7.5V15M8.25 15h7.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),visits:(0,zt.jsx)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",className:s,children:(0,zt.jsx)("path",{d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),reports:(0,zt.jsx)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",className:s,children:(0,zt.jsx)("path",{d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),chat:(0,zt.jsx)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",className:s,children:(0,zt.jsx)("path",{d:"M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),settings:(0,zt.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",className:s,children:[(0,zt.jsx)("path",{d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,zt.jsx)("path",{d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),logout:(0,zt.jsx)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",className:s,children:(0,zt.jsx)("path",{d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),close:(0,zt.jsx)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",className:s,children:(0,zt.jsx)("path",{d:"M6 18L18 6M6 6l12 12",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),print:(0,zt.jsx)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",className:s,children:(0,zt.jsx)("path",{d:"M6.72 13.829c-.24.03-.48.062-.72.096m-.72-.096A42.415 42.415 0 0112 13.5c2.04 0 4.068.069 6.08.205m-6.08-.205A23.383 23.383 0 005.5 15.5c-.068 2.845-.052 5.703.032 8.55a.75.75 0 001.232.336L8.5 22.5l1.736 1.886a.75.75 0 001.232-.336C11.552 21.203 11.568 18.345 11.5 15.5A23.383 23.383 0 0018 13.829c.24.03.48.062.72.096m-.72-.096c1.902.03 3.804.069 5.706.096",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),download:(0,zt.jsx)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",className:s,children:(0,zt.jsx)("path",{d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),notification:(0,zt.jsx)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",className:s,children:(0,zt.jsx)("path",{d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),moon:(0,zt.jsx)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",className:s,children:(0,zt.jsx)("path",{d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),sun:(0,zt.jsx)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",className:s,children:(0,zt.jsx)("path",{d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})};return l[t]||l.theme},Ht=e=>{let{isOpen:t,onClose:n}=e;const[r,s]=(0,a.useState)(""),[l,i]=(0,a.useState)("all"),[o,c]=(0,a.useState)({}),[d,u]=(0,a.useState)(!1),[m,f]=(0,a.useState)(!1),[h,p]=(0,a.useState)(null),x=async()=>{if(r.trim()){u(!0);try{const e=localStorage.getItem("token"),t=/^\d+$/.test(r.trim()),n=await Lt.get("".concat(Ot,"/search/comprehensive"),{params:{q:r,search_type:t?"invoice":l},headers:{Authorization:"Bearer ".concat(e)}});if(c(n.data.results),t&&n.data.results.invoices&&n.data.results.invoices.length>0){const e=n.data.results.invoices[0];p(e),f(!0)}}catch(e){console.error("Search error:",e)}finally{u(!1)}}};return t?(0,zt.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-start justify-center pt-10",children:[(0,zt.jsxs)("div",{className:"glass-effect w-full max-w-5xl max-h-[90vh] overflow-hidden rounded-2xl shadow-2xl",children:[(0,zt.jsxs)("div",{className:"p-6 border-b border-white border-opacity-20",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,zt.jsx)("h2",{className:"text-2xl font-bold text-gradient",children:"\u0627\u0644\u0628\u062d\u062b \u0627\u0644\u0634\u0627\u0645\u0644"}),(0,zt.jsx)("button",{onClick:n,className:"p-2 hover:bg-gray-100 hover:bg-opacity-10 rounded-full transition-colors",children:(0,zt.jsx)(Vt,{name:"close",size:24})})]}),(0,zt.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,zt.jsxs)("div",{className:"flex-1 relative",children:[(0,zt.jsx)("input",{type:"text",value:r,onChange:e=>s(e.target.value),onKeyPress:e=>{"Enter"===e.key&&x()},placeholder:"\u0627\u0628\u062d\u062b \u0639\u0646 \u0645\u0646\u062f\u0648\u0628\u060c \u0637\u0628\u064a\u0628\u060c \u0639\u064a\u0627\u062f\u0629\u060c \u0631\u0642\u0645 \u0641\u0627\u062a\u0648\u0631\u0629\u060c \u0623\u0648 \u0645\u0646\u062a\u062c...",className:"w-full p-4 pr-12 rounded-xl border-2 focus:outline-none focus:ring-2 focus:ring-blue-500 glass-effect",style:{borderColor:"var(--border-color)",color:"var(--text-primary)"}}),(0,zt.jsx)("div",{className:"absolute right-4 top-4",children:(0,zt.jsx)(Vt,{name:"search",size:20})})]}),(0,zt.jsxs)("button",{onClick:x,className:"btn-modern px-8 py-4 flex items-center gap-2",disabled:d,children:[(0,zt.jsx)(Vt,{name:"search",size:18}),"\u0628\u062d\u062b"]})]}),(0,zt.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[{value:"all",label:"\u0627\u0644\u0628\u062d\u062b \u0627\u0644\u0634\u0627\u0645\u0644",icon:"search"},{value:"representative",label:"\u0627\u0644\u0645\u0646\u0627\u062f\u064a\u0628",icon:"user"},{value:"doctor",label:"\u0627\u0644\u0623\u0637\u0628\u0627\u0621",icon:"user"},{value:"clinic",label:"\u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a",icon:"warehouse"},{value:"invoice",label:"\u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631",icon:"reports"},{value:"product",label:"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a",icon:"warehouse"}].map((e=>(0,zt.jsxs)("button",{onClick:()=>i(e.value),className:"px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 whitespace-nowrap flex items-center gap-2 ".concat(l===e.value?"bg-blue-500 text-white shadow-lg":"glass-effect hover:bg-gray-100 hover:bg-opacity-10"),children:[(0,zt.jsx)(Vt,{name:e.icon,size:16}),e.label]},e.value)))})]}),(0,zt.jsx)("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:d?(0,zt.jsxs)("div",{className:"text-center py-12",children:[(0,zt.jsx)("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,zt.jsx)("p",{style:{color:"var(--text-secondary)"},children:"\u062c\u0627\u0631\u064a \u0627\u0644\u0628\u062d\u062b..."})]}):o&&0!==Object.keys(o).length?(0,zt.jsxs)("div",{className:"space-y-8",children:[o.representatives&&o.representatives.length>0&&(0,zt.jsxs)("div",{className:"search-section",children:[(0,zt.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-3",children:[(0,zt.jsx)(Vt,{name:"user",size:24}),(0,zt.jsxs)("span",{children:["\u0627\u0644\u0645\u0646\u0627\u062f\u064a\u0628 (",o.representatives.length,")"]})]}),(0,zt.jsx)("div",{className:"grid gap-4",children:o.representatives.map((e=>{var t,n,r,a,s,l;return(0,zt.jsx)("div",{className:"glass-effect p-4 hover:shadow-lg transition-all duration-300",children:(0,zt.jsxs)("div",{className:"flex items-start gap-4",children:[(0,zt.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:e.photo?(0,zt.jsx)("img",{src:e.photo,alt:e.name,className:"w-full h-full rounded-full object-cover"}):e.name.charAt(0)}),(0,zt.jsxs)("div",{className:"flex-1",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,zt.jsx)("h4",{className:"font-bold text-lg",children:e.name}),(0,zt.jsx)("span",{className:"text-sm px-3 py-1 bg-blue-100 bg-opacity-20 rounded-full",children:"\u0645\u0646\u062f\u0648\u0628"})]}),(0,zt.jsxs)("p",{className:"text-sm mb-3",style:{color:"var(--text-secondary)"},children:[e.username," \u2022 ",e.email]}),(0,zt.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,zt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zt.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,zt.jsxs)("span",{children:["\u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a: ",(null===(t=e.statistics)||void 0===t||null===(n=t.visits)||void 0===n?void 0:n.total)||0]})]}),(0,zt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zt.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,zt.jsxs)("span",{children:["\u0627\u0644\u0637\u0644\u0628\u0627\u062a: ",(null===(r=e.statistics)||void 0===r||null===(a=r.orders)||void 0===a?void 0:a.total)||0]})]}),(0,zt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zt.jsx)("span",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),(0,zt.jsxs)("span",{children:["\u0627\u0644\u062a\u0627\u0631\u062c\u064a\u062a: ",(null===(s=e.statistics)||void 0===s?void 0:s.target)||0," \u062c.\u0645"]})]}),(0,zt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zt.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,zt.jsxs)("span",{children:["\u0627\u0644\u0645\u062f\u064a\u0648\u0646\u064a\u0629: ",(null===(l=e.statistics)||void 0===l?void 0:l.pending_debt)||0," \u062c.\u0645"]})]})]})]})]})},e.id)}))})]}),o.doctors&&o.doctors.length>0&&(0,zt.jsxs)("div",{className:"search-section",children:[(0,zt.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-3",children:[(0,zt.jsx)(Vt,{name:"user",size:24}),(0,zt.jsxs)("span",{children:["\u0627\u0644\u0623\u0637\u0628\u0627\u0621 (",o.doctors.length,")"]})]}),(0,zt.jsx)("div",{className:"grid gap-4",children:o.doctors.map((e=>{var t;return(0,zt.jsx)("div",{className:"glass-effect p-4 hover:shadow-lg transition-all duration-300",children:(0,zt.jsxs)("div",{className:"flex items-start gap-4",children:[(0,zt.jsxs)("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-teal-600 rounded-full flex items-center justify-center text-white font-bold",children:["\u062f.",e.name.charAt(0)]}),(0,zt.jsxs)("div",{className:"flex-1",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,zt.jsxs)("h4",{className:"font-bold text-lg",children:["\u062f. ",e.name]}),(0,zt.jsx)("span",{className:"text-sm px-3 py-1 bg-green-100 bg-opacity-20 rounded-full",children:"\u0637\u0628\u064a\u0628"})]}),(0,zt.jsxs)("p",{className:"text-sm mb-3",style:{color:"var(--text-secondary)"},children:[e.specialty," \u2022 ",e.phone]}),(0,zt.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,zt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zt.jsx)("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),(0,zt.jsxs)("span",{children:["\u0627\u0644\u0639\u064a\u0627\u062f\u0629: ",(null===(t=e.clinic)||void 0===t?void 0:t.name)||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"]})]}),(0,zt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zt.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,zt.jsxs)("span",{children:["\u0627\u0644\u0637\u0644\u0628\u0627\u062a: ",e.total_orders||0]})]}),(0,zt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zt.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,zt.jsxs)("span",{children:["\u0627\u0644\u0645\u062f\u064a\u0648\u0646\u064a\u0629: ",e.pending_debt||0," \u062c.\u0645"]})]})]})]})]})},e.id)}))})]}),o.clinics&&o.clinics.length>0&&(0,zt.jsxs)("div",{className:"search-section",children:[(0,zt.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-3",children:[(0,zt.jsx)(Vt,{name:"warehouse",size:24}),(0,zt.jsxs)("span",{children:["\u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a (",o.clinics.length,")"]})]}),(0,zt.jsx)("div",{className:"grid gap-4",children:o.clinics.map((e=>{var t;return(0,zt.jsx)("div",{className:"glass-effect p-4 hover:shadow-lg transition-all duration-300",children:(0,zt.jsxs)("div",{className:"flex items-start gap-4",children:[(0,zt.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center text-white font-bold",children:e.name.charAt(0)}),(0,zt.jsxs)("div",{className:"flex-1",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,zt.jsx)("h4",{className:"font-bold text-lg",children:e.name}),(0,zt.jsx)("span",{className:"text-sm px-3 py-1 bg-purple-100 bg-opacity-20 rounded-full",children:"\u0639\u064a\u0627\u062f\u0629"})]}),(0,zt.jsxs)("p",{className:"text-sm mb-3",style:{color:"var(--text-secondary)"},children:[e.address," \u2022 ",e.phone]}),(0,zt.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,zt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zt.jsx)("span",{className:"w-2 h-2 bg-indigo-500 rounded-full"}),(0,zt.jsxs)("span",{children:["\u0627\u0644\u0645\u062f\u064a\u0631: ",e.manager_name||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"]})]}),(0,zt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zt.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,zt.jsxs)("span",{children:["\u0627\u0644\u0623\u0637\u0628\u0627\u0621: ",(null===(t=e.doctors)||void 0===t?void 0:t.length)||0]})]}),(0,zt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zt.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,zt.jsxs)("span",{children:["\u0627\u0644\u0637\u0644\u0628\u0627\u062a: ",e.total_orders||0]})]}),(0,zt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zt.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,zt.jsxs)("span",{children:["\u0627\u0644\u0645\u062f\u064a\u0648\u0646\u064a\u0629: ",e.pending_debt||0," \u062c.\u0645"]})]})]})]})]})},e.id)}))})]}),o.invoices&&o.invoices.length>0&&(0,zt.jsxs)("div",{className:"search-section",children:[(0,zt.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-3",children:[(0,zt.jsx)(Vt,{name:"reports",size:24}),(0,zt.jsxs)("span",{children:["\u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631 (",o.invoices.length,")"]})]}),(0,zt.jsx)("div",{className:"grid gap-4",children:o.invoices.map((e=>(0,zt.jsx)("div",{className:"glass-effect p-4 hover:shadow-lg transition-all duration-300 cursor-pointer",onClick:()=>(e=>{p(e),f(!0)})(e),children:(0,zt.jsxs)("div",{className:"flex items-start gap-4",children:[(0,zt.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-red-600 rounded-full flex items-center justify-center text-white font-bold",children:"#"}),(0,zt.jsxs)("div",{className:"flex-1",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,zt.jsxs)("h4",{className:"font-bold text-lg",children:["\u0641\u0627\u062a\u0648\u0631\u0629 #",e.id.slice(-8)]}),(0,zt.jsx)("span",{className:"text-sm px-3 py-1 rounded-full ".concat("APPROVED"===e.status?"bg-green-100 bg-opacity-20 text-green-300":"PENDING"===e.status?"bg-yellow-100 bg-opacity-20 text-yellow-300":"bg-gray-100 bg-opacity-20 text-gray-300"),children:e.status})]}),(0,zt.jsxs)("p",{className:"text-sm mb-3",style:{color:"var(--text-secondary)"},children:[e.sales_rep_name," \u2022 ",e.doctor_name," \u2022 ",e.clinic_name]}),(0,zt.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,zt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zt.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,zt.jsxs)("span",{children:["\u0627\u0644\u062a\u0627\u0631\u064a\u062e: ",new Date(e.created_at).toLocaleDateString("ar-EG")]})]}),(0,zt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zt.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,zt.jsxs)("span",{children:["\u0627\u0644\u0642\u064a\u0645\u0629: ",e.total_amount," \u062c.\u0645"]})]})]})]})]})},e.id)))})]}),o.products&&o.products.length>0&&(0,zt.jsxs)("div",{className:"search-section",children:[(0,zt.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-3",children:[(0,zt.jsx)(Vt,{name:"warehouse",size:24}),(0,zt.jsxs)("span",{children:["\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a (",o.products.length,")"]})]}),(0,zt.jsx)("div",{className:"grid gap-4",children:o.products.map((e=>(0,zt.jsx)("div",{className:"glass-effect p-4 hover:shadow-lg transition-all duration-300",children:(0,zt.jsxs)("div",{className:"flex items-start gap-4",children:[(0,zt.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-blue-600 rounded-full flex items-center justify-center text-white font-bold",children:e.image?(0,zt.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-full rounded-full object-cover"}):e.name.charAt(0)}),(0,zt.jsxs)("div",{className:"flex-1",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,zt.jsx)("h4",{className:"font-bold text-lg",children:e.name}),(0,zt.jsx)("span",{className:"text-sm px-3 py-1 bg-indigo-100 bg-opacity-20 rounded-full",children:"\u0645\u0646\u062a\u062c"})]}),(0,zt.jsxs)("p",{className:"text-sm mb-3",style:{color:"var(--text-secondary)"},children:[e.description," \u2022 ",e.category]}),(0,zt.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,zt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zt.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,zt.jsxs)("span",{children:["\u0627\u0644\u0633\u0639\u0631: ",e.price," \u062c.\u0645"]})]}),(0,zt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zt.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,zt.jsxs)("span",{children:["\u0627\u0644\u0648\u062d\u062f\u0629: ",e.unit]})]}),(0,zt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zt.jsx)("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),(0,zt.jsxs)("span",{children:["\u062a\u0645 \u0637\u0644\u0628\u0647: ",e.total_ordered||0," \u0645\u0631\u0629"]})]})]})]})]})},e.id)))})]}),r&&0===Object.keys(o).length&&(0,zt.jsxs)("div",{className:"text-center py-12",children:[(0,zt.jsx)(Vt,{name:"search",size:64,className:"mx-auto mb-4 text-gray-400"}),(0,zt.jsxs)("p",{className:"text-lg mb-2",style:{color:"var(--text-secondary)"},children:['\u0644\u0627 \u062a\u0648\u062c\u062f \u0646\u062a\u0627\u0626\u062c \u0644\u0640 "',r,'"']}),(0,zt.jsx)("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:"\u062c\u0631\u0628 \u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0643\u0644\u0645\u0627\u062a \u0623\u062e\u0631\u0649 \u0623\u0648 \u0623\u0631\u0642\u0627\u0645 \u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631"})]})]}):(0,zt.jsxs)("div",{className:"text-center py-12",children:[(0,zt.jsx)(Vt,{name:"search",size:64,className:"mx-auto mb-4 text-gray-400"}),(0,zt.jsx)("p",{style:{color:"var(--text-secondary)"},children:"\u0627\u0628\u062f\u0623 \u0627\u0644\u0628\u062d\u062b \u0644\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u0627\u0644\u0646\u062a\u0627\u0626\u062c"}),(0,zt.jsx)("p",{className:"text-xs mt-2",style:{color:"var(--text-muted)"},children:"\u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0628\u062d\u062b \u0628\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0623\u0633\u0645\u0627\u0621 \u0623\u0648 \u0623\u0631\u0642\u0627\u0645 \u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631"})]})})]}),m&&h&&(0,zt.jsx)(Wt,{invoice:h,onClose:()=>f(!1)})]}):null},Wt=e=>{let{invoice:t,onClose:n}=e;return(0,zt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-60 flex items-center justify-center p-4",children:(0,zt.jsxs)("div",{className:"glass-effect w-full max-w-4xl max-h-[95vh] overflow-hidden rounded-2xl shadow-2xl",children:[(0,zt.jsxs)("div",{className:"p-6 border-b border-white border-opacity-20 flex items-center justify-between",children:[(0,zt.jsxs)("h3",{className:"text-2xl font-bold text-gradient",children:["\u0641\u0627\u062a\u0648\u0631\u0629 \u0631\u0642\u0645 #",t.id.slice(-8)]}),(0,zt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,zt.jsxs)("button",{onClick:()=>{document.getElementById("enhanced-invoice-content"),"\u0641\u0627\u062a\u0648\u0631\u0629-".concat(t.id.slice(-8),".pdf");alert("\u0633\u064a\u062a\u0645 \u062a\u0646\u0632\u064a\u0644 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629 \u0642\u0631\u064a\u0628\u0627\u064b")},className:"btn-modern px-4 py-2 flex items-center gap-2",children:[(0,zt.jsx)(Vt,{name:"download",size:16}),"\u062a\u0646\u0632\u064a\u0644 PDF"]}),(0,zt.jsxs)("button",{onClick:()=>{const e=document.getElementById("enhanced-invoice-content"),t=document.body.innerHTML;document.body.innerHTML=e.outerHTML,window.print(),document.body.innerHTML=t,window.location.reload()},className:"btn-modern px-4 py-2 flex items-center gap-2",children:[(0,zt.jsx)(Vt,{name:"print",size:16}),"\u0637\u0628\u0627\u0639\u0629"]}),(0,zt.jsx)("button",{onClick:n,className:"p-2 hover:bg-gray-100 hover:bg-opacity-10 rounded-full transition-colors",children:(0,zt.jsx)(Vt,{name:"close",size:20})})]})]}),(0,zt.jsx)("div",{className:"p-6 overflow-y-auto max-h-[80vh]",id:"enhanced-invoice-content",children:(0,zt.jsxs)("div",{className:"space-y-6",children:[(0,zt.jsxs)("div",{className:"text-center mb-8",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-center gap-4 mb-4",children:[(0,zt.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,zt.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"white",children:(0,zt.jsx)("path",{d:"M12 2L2 7v10c0 5.55 3.84 9.74 9 11 5.16-1.26 9-5.45 9-11V7l-10-5z"})})}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("h1",{className:"text-3xl font-bold",children:"\u0646\u0638\u0627\u0645 \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a"}),(0,zt.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Sales Management System"})]})]}),(0,zt.jsx)("div",{className:"w-full h-1 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full"})]}),(0,zt.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[(0,zt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,zt.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,zt.jsx)(Vt,{name:"reports",size:20}),"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629"]}),(0,zt.jsxs)("div",{className:"space-y-3",children:[(0,zt.jsxs)("div",{className:"flex justify-between",children:[(0,zt.jsx)("span",{className:"font-semibold",children:"\u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629:"}),(0,zt.jsxs)("span",{className:"font-mono",children:["#",t.id.slice(-8)]})]}),(0,zt.jsxs)("div",{className:"flex justify-between",children:[(0,zt.jsx)("span",{className:"font-semibold",children:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0646\u0634\u0627\u0621:"}),(0,zt.jsx)("span",{children:new Date(t.created_at).toLocaleDateString("ar-EG")})]}),(0,zt.jsxs)("div",{className:"flex justify-between",children:[(0,zt.jsx)("span",{className:"font-semibold",children:"\u0627\u0644\u0648\u0642\u062a:"}),(0,zt.jsx)("span",{children:new Date(t.created_at).toLocaleTimeString("ar-EG")})]}),(0,zt.jsxs)("div",{className:"flex justify-between",children:[(0,zt.jsx)("span",{className:"font-semibold",children:"\u0627\u0644\u062d\u0627\u0644\u0629:"}),(0,zt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat("APPROVED"===t.status?"bg-green-100 bg-opacity-20 text-green-300":"PENDING"===t.status?"bg-yellow-100 bg-opacity-20 text-yellow-300":"bg-gray-100 bg-opacity-20 text-gray-300"),children:t.status})]}),(0,zt.jsxs)("div",{className:"flex justify-between border-t pt-3 mt-3",children:[(0,zt.jsx)("span",{className:"font-bold text-lg",children:"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a:"}),(0,zt.jsxs)("span",{className:"font-bold text-lg text-green-500",children:[t.total_amount," \u062c.\u0645"]})]})]})]}),(0,zt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,zt.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,zt.jsx)(Vt,{name:"user",size:20}),"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0639\u0645\u064a\u0644"]}),(0,zt.jsxs)("div",{className:"space-y-3",children:[(0,zt.jsxs)("div",{className:"flex justify-between",children:[(0,zt.jsx)("span",{className:"font-semibold",children:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628:"}),(0,zt.jsx)("span",{children:t.sales_rep_name})]}),(0,zt.jsxs)("div",{className:"flex justify-between",children:[(0,zt.jsx)("span",{className:"font-semibold",children:"\u0627\u0644\u0637\u0628\u064a\u0628:"}),(0,zt.jsxs)("span",{children:["\u062f. ",t.doctor_name]})]}),(0,zt.jsxs)("div",{className:"flex justify-between",children:[(0,zt.jsx)("span",{className:"font-semibold",children:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629:"}),(0,zt.jsx)("span",{children:t.clinic_name})]}),(0,zt.jsxs)("div",{className:"flex justify-between",children:[(0,zt.jsx)("span",{className:"font-semibold",children:"\u0627\u0644\u0645\u062e\u0632\u0646:"}),(0,zt.jsx)("span",{children:t.warehouse_name})]})]})]})]}),t.items&&t.items.length>0&&(0,zt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,zt.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,zt.jsx)(Vt,{name:"warehouse",size:20}),"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a (",t.items.length,")"]}),(0,zt.jsx)("div",{className:"overflow-x-auto",children:(0,zt.jsxs)("table",{className:"w-full",children:[(0,zt.jsx)("thead",{children:(0,zt.jsxs)("tr",{className:"border-b",style:{borderColor:"var(--border-color)"},children:[(0,zt.jsx)("th",{className:"text-right py-3 px-4 font-bold",children:"#"}),(0,zt.jsx)("th",{className:"text-right py-3 px-4 font-bold",children:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c"}),(0,zt.jsx)("th",{className:"text-right py-3 px-4 font-bold",children:"\u0627\u0644\u0643\u0645\u064a\u0629"}),(0,zt.jsx)("th",{className:"text-right py-3 px-4 font-bold",children:"\u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0629"}),(0,zt.jsx)("th",{className:"text-right py-3 px-4 font-bold",children:"\u0627\u0644\u062e\u0635\u0645"}),(0,zt.jsx)("th",{className:"text-right py-3 px-4 font-bold",children:"\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a"})]})}),(0,zt.jsx)("tbody",{children:t.items.map(((e,t)=>(0,zt.jsxs)("tr",{className:"border-b border-opacity-20",style:{borderColor:"var(--border-color)"},children:[(0,zt.jsx)("td",{className:"py-3 px-4 text-center",children:t+1}),(0,zt.jsxs)("td",{className:"py-3 px-4",children:[(0,zt.jsx)("div",{className:"font-medium",children:e.product_name}),e.product_description&&(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:e.product_description})]}),(0,zt.jsx)("td",{className:"py-3 px-4 text-center",children:e.quantity}),(0,zt.jsxs)("td",{className:"py-3 px-4 text-center",children:[e.unit_price," \u062c.\u0645"]}),(0,zt.jsx)("td",{className:"py-3 px-4 text-center",children:e.discount_amount?"".concat(e.discount_amount," \u062c.\u0645"):"-"}),(0,zt.jsxs)("td",{className:"py-3 px-4 text-center font-bold",children:[(e.quantity*e.unit_price-(e.discount_amount||0)).toFixed(2)," \u062c.\u0645"]})]},t)))}),(0,zt.jsx)("tfoot",{children:(0,zt.jsxs)("tr",{className:"border-t-2 border-blue-500",children:[(0,zt.jsx)("td",{colSpan:"5",className:"py-3 px-4 text-right font-bold text-lg",children:"\u0627\u0644\u0645\u062c\u0645\u0648\u0639 \u0627\u0644\u0643\u0644\u064a:"}),(0,zt.jsxs)("td",{className:"py-3 px-4 text-center font-bold text-lg text-green-500",children:[t.total_amount," \u062c.\u0645"]})]})})]})})]}),(0,zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.notes&&(0,zt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,zt.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,zt.jsx)(Vt,{name:"chat",size:20}),"\u0645\u0644\u0627\u062d\u0638\u0627\u062a"]}),(0,zt.jsx)("p",{className:"text-sm leading-relaxed",children:t.notes})]}),(0,zt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,zt.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,zt.jsx)(Vt,{name:"reports",size:20}),"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062f\u0641\u0639"]}),(0,zt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,zt.jsxs)("div",{className:"flex justify-between",children:[(0,zt.jsx)("span",{children:"\u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u062f\u0641\u0639:"}),(0,zt.jsx)("span",{children:t.payment_method||"\u0622\u062c\u0644"})]}),(0,zt.jsxs)("div",{className:"flex justify-between",children:[(0,zt.jsx)("span",{children:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0633\u062a\u062d\u0642\u0627\u0642:"}),(0,zt.jsx)("span",{children:t.due_date?new Date(t.due_date).toLocaleDateString("ar-EG"):"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})]}),(0,zt.jsxs)("div",{className:"flex justify-between",children:[(0,zt.jsx)("span",{children:"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0645\u062f\u0641\u0648\u0639:"}),(0,zt.jsxs)("span",{className:"text-green-500",children:[t.paid_amount||0," \u062c.\u0645"]})]}),(0,zt.jsxs)("div",{className:"flex justify-between",children:[(0,zt.jsx)("span",{children:"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0645\u062a\u0628\u0642\u064a:"}),(0,zt.jsxs)("span",{className:"text-red-500",children:[(t.total_amount-(t.paid_amount||0)).toFixed(2)," \u062c.\u0645"]})]})]})]})]}),(0,zt.jsxs)("div",{className:"text-center mt-8 pt-6 border-t border-white border-opacity-20",children:[(0,zt.jsx)("p",{className:"text-sm mb-2",style:{color:"var(--text-secondary)"},children:"\u0634\u0643\u0631\u0627\u064b \u0644\u0643 \u0639\u0644\u0649 \u062b\u0642\u062a\u0643 \u0641\u064a \u0646\u0638\u0627\u0645 \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a"}),(0,zt.jsxs)("p",{className:"text-xs",style:{color:"var(--text-muted)"},children:["\u062a\u0645 \u0625\u0646\u0634\u0627\u0621 \u0647\u0630\u0647 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629 \u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a\u0627\u064b \u0641\u064a ",(new Date).toLocaleString("ar-EG")]}),(0,zt.jsxs)("div",{className:"mt-4 flex items-center justify-center gap-4",children:[(0,zt.jsx)("div",{className:"w-16 h-1 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full"}),(0,zt.jsx)("span",{className:"text-xs font-bold",children:"Sales Management System"}),(0,zt.jsx)("div",{className:"w-16 h-1 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full"})]})]})]})})]})})},$t=e=>{let{showLabel:t=!1,isDropdown:n=!1}=e;const{theme:r,cycleTheme:a,availableThemes:s,setSpecificTheme:l}=Bt(),i=e=>({light:"sun",dark:"moon",minimal:"theme",modern:"theme",fancy:"theme"}[e]||"theme"),o=e=>({light:"\u0641\u0627\u062a\u062d",dark:"\u062f\u0627\u0643\u0646",minimal:"\u0628\u0633\u064a\u0637",modern:"\u0639\u0635\u0631\u064a",fancy:"\u0641\u0627\u062e\u0631",cyber:"\u0633\u0627\u064a\u0628\u0631",sunset:"\u063a\u0631\u0648\u0628",ocean:"\u0645\u062d\u064a\u0637",forest:"\u063a\u0627\u0628\u0629"}[e]||e);return n?(0,zt.jsxs)("div",{className:"relative group",children:[(0,zt.jsxs)("button",{className:"theme-toggle flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 hover:bg-opacity-10 transition-all duration-200",title:"\u0627\u0644\u062b\u064a\u0645 \u0627\u0644\u062d\u0627\u0644\u064a: ".concat(o(r)),children:[(0,zt.jsx)(Vt,{name:i(r),size:20}),t&&(0,zt.jsx)("span",{children:o(r)})]}),(0,zt.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white bg-opacity-95 backdrop-blur-sm rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:s.map((e=>(0,zt.jsxs)("button",{onClick:()=>l(e),className:"w-full flex items-center gap-3 px-4 py-2 text-right hover:bg-gray-100 hover:bg-opacity-20 transition-colors ".concat(r===e?"bg-blue-500 bg-opacity-20":""),children:[(0,zt.jsx)(Vt,{name:i(e),size:16}),(0,zt.jsx)("span",{children:o(e)})]},e)))})]}):(0,zt.jsxs)("button",{onClick:a,className:"theme-toggle flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 hover:bg-opacity-10 transition-all duration-200",title:"\u0627\u0644\u062b\u064a\u0645 \u0627\u0644\u062d\u0627\u0644\u064a: ".concat(o(r)," - \u0627\u0636\u063a\u0637 \u0644\u0644\u062a\u0628\u062f\u064a\u0644"),children:[(0,zt.jsx)(Vt,{name:i(r),size:20}),t&&(0,zt.jsx)("span",{children:o(r)})]})},Gt=(0,a.createContext)(),Qt=()=>{const e=(0,a.useContext)(Gt);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Kt=e=>{let{children:t}=e;const[n,r]=(0,a.useState)(null),[s,l]=(0,a.useState)(!0);(0,a.useEffect)((()=>{const e=localStorage.getItem("token");e?i(e):l(!1)}),[]);const i=async e=>{try{const t=await Lt.get("".concat(Ot,"/auth/me"),{headers:{Authorization:"Bearer ".concat(e)}});r(t.data)}catch(t){localStorage.removeItem("token")}finally{l(!1)}},o={user:n,login:async(e,t)=>{try{const n=await Lt.post("".concat(Ot,"/auth/login"),{username:e,password:t}),{token:a,user:s}=n.data;return localStorage.setItem("token",a),r(s),{success:!0}}catch(s){var n,a;return{success:!1,error:(null===(n=s.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.detail)||"\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644"}}},logout:()=>{localStorage.removeItem("token"),r(null)},loading:s};return(0,zt.jsx)(Gt.Provider,{value:o,children:t})},Xt=()=>{var e;const[t,n]=(0,a.useState)(""),[r,s]=(0,a.useState)(""),[l,i]=(0,a.useState)(""),[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(null),[m,f]=(0,a.useState)(!1),{login:h}=Qt(),{language:p,changeLanguage:x,t:g,isRTL:v}=Dt(),{theme:b,changeTheme:y}=Bt(),j=[{id:"light",name:g("themeLight"),icon:"\u2600\ufe0f"},{id:"dark",name:g("themeDark"),icon:"\ud83c\udf19"},{id:"minimal",name:g("themeMinimal"),icon:"\u26aa"},{id:"modern",name:g("themeModern"),icon:"\ud83d\udd2e"},{id:"fancy",name:g("themeFancy"),icon:"\u2728"},{id:"cyber",name:g("themeCyber"),icon:"\ud83d\udc9a"},{id:"sunset",name:g("themeSunset"),icon:"\ud83c\udf05"},{id:"ocean",name:g("themeOcean"),icon:"\ud83c\udf0a"},{id:"forest",name:g("themeForest"),icon:"\ud83c\udf32"}];(0,a.useEffect)((()=>{N()}),[]);const N=async()=>{try{const e=await Lt.get("".concat(Ot,"/settings"));u(e.data)}catch(l){console.error("Error fetching settings:",l)}};return(0,zt.jsxs)("div",{className:"".concat(v?"rtl":"ltr"),style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh"},children:[(0,zt.jsx)("div",{className:"login-language-toggle ".concat(v?"rtl":""),children:(0,zt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,zt.jsx)(It,{position:"login"}),(0,zt.jsxs)("div",{className:"relative",children:[(0,zt.jsx)("button",{onClick:()=>f(!m),className:"glass-effect p-3 rounded-full hover:scale-105 transition-transform",title:"ar"===p?"\u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u062b\u064a\u0645":"Change Theme",children:(0,zt.jsx)(Vt,{name:"theme",size:20,className:"svg-icon-animated"})}),m&&(0,zt.jsxs)("div",{className:"absolute top-full right-0 mt-2 glass-effect rounded-xl p-2 min-w-48 border border-white border-opacity-20 z-50",children:[(0,zt.jsx)("div",{className:"grid grid-cols-3 gap-2",children:j.map((e=>(0,zt.jsx)("button",{onClick:()=>{y(e.id),f(!1)},className:"theme-option ".concat(e.id," ").concat(b===e.id?"active":""),title:e.name,children:(0,zt.jsx)("span",{className:"text-lg",children:e.icon})},e.id)))}),(0,zt.jsx)("div",{className:"mt-2 pt-2 border-t border-white border-opacity-20",children:(0,zt.jsxs)("div",{className:"text-xs text-center",style:{color:"var(--text-secondary)"},children:["ar"===p?"\u0627\u0644\u062b\u064a\u0645 \u0627\u0644\u062d\u0627\u0644\u064a:":"Current:"," ",(0,zt.jsx)("strong",{children:null===(e=j.find((e=>e.id===b)))||void 0===e?void 0:e.name})]})})]})]})]})}),(0,zt.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,zt.jsx)("div",{className:"floating",children:(0,zt.jsxs)("div",{className:"card-modern w-full max-w-md p-8 fade-in-up glass-effect",children:[(0,zt.jsxs)("div",{className:"text-center mb-8",children:[(0,zt.jsx)("div",{className:"mb-6",children:null!==d&&void 0!==d&&d.logo_image?(0,zt.jsx)("img",{src:d.logo_image,alt:g("logo"),className:"w-24 h-24 mx-auto rounded-full object-cover glow-pulse"}):(0,zt.jsx)("div",{className:"w-24 h-24 mx-auto card-gradient-orange rounded-full flex items-center justify-center glow-pulse",children:(0,zt.jsx)("span",{className:"text-4xl",children:"\ud83c\udfe5"})})}),(0,zt.jsx)("h1",{className:"text-4xl font-bold text-gradient mb-3 system-brand ".concat(v?"arabic":"english"),children:g("systemName")}),(0,zt.jsx)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:g("footerDescription")}),(0,zt.jsx)("p",{className:"text-sm mt-2",style:{color:"var(--text-muted)"},children:g("enterCredentials")})]}),(0,zt.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(!0),i("");const n=await h(t,r);n.success||i(n.error),c(!1)},className:"space-y-8 form-modern",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{children:(0,zt.jsxs)("span",{className:"text-shadow-glow",children:["\ud83e\uddd1\u200d\ud83d\udcbc ",g("username")]})}),(0,zt.jsx)("input",{type:"text",value:t,onChange:e=>n(e.target.value),className:"w-full focus-visible",placeholder:g("username"),style:{textAlign:v?"right":"left"},required:!0})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{children:(0,zt.jsxs)("span",{className:"text-shadow-glow",children:["\ud83d\udd12 ",g("password")]})}),(0,zt.jsx)("input",{type:"password",value:r,onChange:e=>s(e.target.value),className:"w-full focus-visible",placeholder:g("password"),style:{textAlign:v?"right":"left"},required:!0})]}),l&&(0,zt.jsxs)("div",{className:"alert-modern alert-error scale-in",children:[(0,zt.jsx)("span",{className:"".concat(v?"mr-2":"ml-2"),children:"\u26a0\ufe0f"}),l]}),(0,zt.jsx)("button",{type:"submit",disabled:o,className:"w-full btn-primary neon-glow",children:o?(0,zt.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,zt.jsx)("div",{className:"loading-shimmer w-6 h-6 rounded-full"}),(0,zt.jsx)("span",{children:g("loginLoading")})]}):(0,zt.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,zt.jsx)("span",{children:"\ud83d\ude80"}),(0,zt.jsx)("span",{children:g("loginButton")})]})})]}),(0,zt.jsx)("div",{className:"mt-8",children:(0,zt.jsxs)("div",{className:"card-gradient-blue p-6 rounded-2xl text-center",children:[(0,zt.jsxs)("h3",{className:"font-bold mb-3 flex items-center justify-center gap-2",children:[(0,zt.jsx)("span",{children:"\ud83d\udca1"}),(0,zt.jsx)("span",{children:"ar"===p?"\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u062a\u062c\u0631\u0628\u0629":"Demo Credentials"})]}),(0,zt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,zt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,zt.jsx)("span",{className:"font-bold",children:"ar"===p?"\u0623\u062f\u0645\u0646:":"Admin:"}),(0,zt.jsx)("span",{children:"admin / admin123"})]}),(0,zt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,zt.jsx)("span",{className:"font-bold",children:"ar"===p?"\u0645\u0646\u062f\u0648\u0628:":"Sales Rep:"}),(0,zt.jsx)("span",{children:"ar"===p?"\u0623\u0646\u0634\u0626 \u0645\u0646 \u0644\u0648\u062d\u0629 \u0627\u0644\u0623\u062f\u0645\u0646":"Create from Admin Panel"})]})]})]})}),(0,zt.jsx)("div",{className:"mt-6 text-center",children:(0,zt.jsxs)("p",{className:"text-xs",style:{color:"var(--text-muted)"},children:["\xa9 ",(new Date).getFullYear()," ",g("systemName")," - ",g("footerCopyright")]})})]})})})]})},Yt=()=>{const[e,t]=(0,a.useState)("permissions"),[n,r]=(0,a.useState)(null),[s,l]=(0,a.useState)(null),[i,o]=(0,a.useState)(null),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)(!1);(0,a.useEffect)((()=>{f()}),[]);const f=async()=>{m(!0);try{const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)},n=await Lt.get("".concat(Ot,"/admin/permissions"),{headers:t});r(n.data);const a=await Lt.get("".concat(Ot,"/admin/dashboard-config"),{headers:t});l(a.data);const s=await Lt.get("".concat(Ot,"/admin/system-health"),{headers:t});o(s.data);const i=await Lt.get("".concat(Ot,"/admin/activity-logs"),{headers:t});d(i.data)}catch(e){console.error("Error loading admin data:",e)}finally{m(!1)}},h=async e=>{m(!0);try{const t=localStorage.getItem("token");await Lt.post("".concat(Ot,"/admin/dashboard-config"),e,{headers:{Authorization:"Bearer ".concat(t)}}),l(e),alert("\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0628\u0646\u062c\u0627\u062d")}catch(t){console.error("Error updating dashboard config:",t),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u062f\u064a\u062b \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645")}finally{m(!1)}};return u&&!n?(0,zt.jsxs)("div",{className:"glass-effect p-8 text-center",children:[(0,zt.jsx)("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,zt.jsx)("p",{style:{color:"var(--text-secondary)"},children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0625\u062f\u0627\u0631\u0629..."})]}):(0,zt.jsxs)("div",{className:"space-y-6",children:[(0,zt.jsxs)("div",{className:"glass-effect p-6",children:[(0,zt.jsx)("h2",{className:"text-3xl font-bold mb-4 text-gradient",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0634\u0627\u0645\u0644\u0629"}),(0,zt.jsx)("p",{style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u062a\u062d\u0643\u0645 \u0627\u0644\u0643\u0627\u0645\u0644 \u0641\u064a \u0627\u0644\u0646\u0638\u0627\u0645\u060c \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a\u060c \u0648\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645"})]}),(0,zt.jsx)("div",{className:"glass-effect p-2",children:(0,zt.jsx)("div",{className:"flex space-x-2 overflow-x-auto",children:[{id:"permissions",label:"\u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a",icon:"user"},{id:"dashboard",label:"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645",icon:"dashboard"},{id:"system",label:"\u0627\u0644\u0646\u0638\u0627\u0645",icon:"settings"},{id:"security",label:"\u0627\u0644\u0623\u0645\u0627\u0646",icon:"settings"},{id:"logs",label:"\u0627\u0644\u0633\u062c\u0644\u0627\u062a",icon:"reports"}].map((n=>(0,zt.jsxs)("button",{onClick:()=>t(n.id),className:"flex items-center gap-2 px-6 py-3 rounded-lg transition-all duration-300 whitespace-nowrap ".concat(e===n.id?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"hover:bg-white hover:bg-opacity-10"),children:[(0,zt.jsx)(Vt,{name:n.icon,size:20}),(0,zt.jsx)("span",{children:n.label})]},n.id)))})}),(0,zt.jsxs)("div",{className:"glass-effect p-8",children:["permissions"===e&&(0,zt.jsx)(Jt,{permissions:n,onUpdate:async e=>{m(!0);try{const t=localStorage.getItem("token");await Lt.post("".concat(Ot,"/admin/permissions"),e,{headers:{Authorization:"Bearer ".concat(t)}}),r(e),alert("\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a \u0628\u0646\u062c\u0627\u062d")}catch(t){console.error("Error updating permissions:",t),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a")}finally{m(!1)}},loading:u}),"dashboard"===e&&(0,zt.jsx)(Zt,{config:s,onUpdate:h,loading:u}),"system"===e&&(0,zt.jsx)(en,{health:i,onRefresh:f,loading:u}),"security"===e&&(0,zt.jsx)(tn,{config:s,onUpdate:h,loading:u}),"logs"===e&&(0,zt.jsx)(nn,{logs:c,onRefresh:f,loading:u})]})]})},Jt=e=>{let{permissions:t,onUpdate:n,loading:r}=e;const[s,l]=(0,a.useState)(t);(0,a.useEffect)((()=>{l(t)}),[t]);if(!s)return null;const i=Object.keys(s.roles_config);return(0,zt.jsxs)("div",{className:"space-y-8",children:[(0,zt.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a"}),(0,zt.jsxs)("div",{className:"glass-effect p-6",children:[(0,zt.jsx)("h4",{className:"text-xl font-bold mb-6",children:"\u0635\u0644\u0627\u062d\u064a\u0627\u062a \u0627\u0644\u0623\u062f\u0648\u0627\u0631"}),(0,zt.jsx)("div",{className:"overflow-x-auto",children:(0,zt.jsxs)("table",{className:"w-full",children:[(0,zt.jsx)("thead",{children:(0,zt.jsxs)("tr",{className:"border-b border-white border-opacity-20",children:[(0,zt.jsx)("th",{className:"text-right p-4",children:"\u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0629"}),i.map((e=>(0,zt.jsx)("th",{className:"text-center p-4 min-w-20",children:"admin"===e?"\u0645\u062f\u064a\u0631":"manager"===e?"\u0645\u062f\u064a\u0631 \u0641\u0631\u0639":"sales_rep"===e?"\u0645\u0646\u062f\u0648\u0628":"warehouse"===e?"\u0645\u062e\u0632\u0646":"\u0645\u062d\u0627\u0633\u0628"},e)))]})}),(0,zt.jsx)("tbody",{children:Object.entries({dashboard_access:"\u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645",user_management:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",warehouse_management:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u062e\u0627\u0632\u0646",visits_management:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a",reports_access:"\u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u062a\u0642\u0627\u0631\u064a\u0631",chat_access:"\u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a",settings_access:"\u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a",secret_reports:"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631 \u0627\u0644\u0633\u0631\u064a\u0629",financial_reports:"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631 \u0627\u0644\u0645\u0627\u0644\u064a\u0629",system_logs:"\u0633\u062c\u0644\u0627\u062a \u0627\u0644\u0646\u0638\u0627\u0645"}).map((e=>{let[t,n]=e;return(0,zt.jsxs)("tr",{className:"border-b border-white border-opacity-10",children:[(0,zt.jsx)("td",{className:"p-4 font-medium",children:n}),i.map((e=>{var n,r,a;return(0,zt.jsx)("td",{className:"p-4 text-center",children:(0,zt.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,zt.jsx)("input",{type:"checkbox",checked:(null===(n=s.roles_config[e])||void 0===n?void 0:n[t])||!1,onChange:n=>((e,t,n)=>{const r=d(d({},s),{},{roles_config:d(d({},s.roles_config),{},{[e]:d(d({},s.roles_config[e]),{},{[t]:n})})});l(r)})(e,t,n.target.checked),className:"sr-only"}),(0,zt.jsx)("div",{className:"relative w-6 h-6 rounded border-2 transition-colors ".concat(null!==(r=s.roles_config[e])&&void 0!==r&&r[t]?"bg-blue-600 border-blue-600":"border-gray-400"),children:(null===(a=s.roles_config[e])||void 0===a?void 0:a[t])&&(0,zt.jsx)("div",{className:"absolute inset-1 bg-white rounded-sm"})})]})},e)}))]},t)}))})]})})]}),(0,zt.jsxs)("div",{className:"glass-effect p-6",children:[(0,zt.jsx)("h4",{className:"text-xl font-bold mb-6",children:"\u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0627\u0644\u0648\u0627\u062c\u0647\u0629"}),(0,zt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(s.ui_controls||{}).map((e=>{let[t,n]=e;return(0,zt.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,zt.jsx)("span",{className:"text-sm",children:"show_statistics_cards"===t?"\u0639\u0631\u0636 \u0628\u0637\u0627\u0642\u0627\u062a \u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a":"show_charts"===t?"\u0639\u0631\u0636 \u0627\u0644\u0645\u062e\u0637\u0637\u0627\u062a":"show_recent_activities"===t?"\u0639\u0631\u0636 \u0627\u0644\u0623\u0646\u0634\u0637\u0629 \u0627\u0644\u0623\u062e\u064a\u0631\u0629":"show_user_photos"===t?"\u0639\u0631\u0636 \u0635\u0648\u0631 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646":"show_themes_selector"===t?"\u0639\u0631\u0636 \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u062b\u064a\u0645":"show_language_selector"===t?"\u0639\u0631\u0636 \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0644\u063a\u0629":"enable_dark_mode"===t?"\u062a\u0645\u0643\u064a\u0646 \u0627\u0644\u0648\u0636\u0639 \u0627\u0644\u0644\u064a\u0644\u064a":"enable_notifications"===t?"\u062a\u0645\u0643\u064a\u0646 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a":"enable_search"===t?"\u062a\u0645\u0643\u064a\u0646 \u0627\u0644\u0628\u062d\u062b":t}),(0,zt.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,zt.jsx)("input",{type:"checkbox",checked:n,onChange:e=>((e,t)=>{const n=d(d({},s),{},{ui_controls:d(d({},s.ui_controls),{},{[e]:t})});l(n)})(t,e.target.checked),className:"sr-only peer"}),(0,zt.jsx)("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},t)}))})]}),(0,zt.jsxs)("div",{className:"glass-effect p-6",children:[(0,zt.jsx)("h4",{className:"text-xl font-bold mb-6",children:"\u0645\u0641\u0627\u062a\u064a\u062d \u0627\u0644\u0645\u0645\u064a\u0632\u0627\u062a"}),(0,zt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(s.feature_toggles||{}).map((e=>{let[t,n]=e;return(0,zt.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,zt.jsx)("span",{className:"text-sm",children:"gamification_enabled"===t?"\u0627\u0644\u062a\u062d\u0641\u064a\u0632 \u0648\u0627\u0644\u0623\u0644\u0639\u0627\u0628":"gps_tracking_enabled"===t?"\u062a\u062a\u0628\u0639 GPS":"voice_notes_enabled"===t?"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0627\u0644\u0635\u0648\u062a\u064a\u0629":"file_uploads_enabled"===t?"\u0631\u0641\u0639 \u0627\u0644\u0645\u0644\u0641\u0627\u062a":"print_reports_enabled"===t?"\u0637\u0628\u0627\u0639\u0629 \u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631":"export_data_enabled"===t?"\u062a\u0635\u062f\u064a\u0631 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a":"email_notifications_enabled"===t?"\u0625\u0634\u0639\u0627\u0631\u0627\u062a \u0627\u0644\u0628\u0631\u064a\u062f":"sms_notifications_enabled"===t?"\u0625\u0634\u0639\u0627\u0631\u0627\u062a SMS":t}),(0,zt.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,zt.jsx)("input",{type:"checkbox",checked:n,onChange:e=>((e,t)=>{const n=d(d({},s),{},{feature_toggles:d(d({},s.feature_toggles),{},{[e]:t})});l(n)})(t,e.target.checked),className:"sr-only peer"}),(0,zt.jsx)("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},t)}))})]}),(0,zt.jsx)("button",{onClick:()=>n(s),disabled:r,className:"w-full py-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold rounded-lg transition-all duration-300 disabled:opacity-50",children:r?"\u062c\u0627\u0631\u064a \u0627\u0644\u062d\u0641\u0638...":"\u062d\u0641\u0638 \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a"})]})},Zt=e=>{var t,n,r,s;let{config:l,onUpdate:i,loading:o}=e;const[c,u]=(0,a.useState)(l);(0,a.useEffect)((()=>{u(l)}),[l]);if(!c)return null;const m=["admin","manager","sales_rep","warehouse","accounting"];return(0,zt.jsxs)("div",{className:"space-y-8",children:[(0,zt.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645"}),(0,zt.jsxs)("div",{className:"glass-effect p-6",children:[(0,zt.jsx)("h4",{className:"text-xl font-bold mb-6",children:"\u062a\u0628\u0648\u064a\u0628\u0627\u062a \u0627\u0644\u062a\u0646\u0642\u0644"}),(0,zt.jsx)("div",{className:"overflow-x-auto",children:(0,zt.jsxs)("table",{className:"w-full",children:[(0,zt.jsx)("thead",{children:(0,zt.jsxs)("tr",{className:"border-b border-white border-opacity-20",children:[(0,zt.jsx)("th",{className:"text-right p-4",children:"\u0627\u0644\u062a\u0628\u0648\u064a\u0628"}),m.map((e=>(0,zt.jsx)("th",{className:"text-center p-4 min-w-20",children:"admin"===e?"\u0645\u062f\u064a\u0631":"manager"===e?"\u0645\u062f\u064a\u0631 \u0641\u0631\u0639":"sales_rep"===e?"\u0645\u0646\u062f\u0648\u0628":"warehouse"===e?"\u0645\u062e\u0632\u0646":"\u0645\u062d\u0627\u0633\u0628"},e)))]})}),(0,zt.jsx)("tbody",{children:Object.entries({statistics_tab:"\u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a",users_tab:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",warehouse_tab:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u062e\u0627\u0632\u0646",visits_tab:"\u0633\u062c\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a",reports_tab:"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631",chat_tab:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a",settings_tab:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a"}).map((e=>{let[t,n]=e;return(0,zt.jsxs)("tr",{className:"border-b border-white border-opacity-10",children:[(0,zt.jsx)("td",{className:"p-4 font-medium",children:n}),m.map((e=>{var n,r,a,s,l,i,o,m,f;return(0,zt.jsx)("td",{className:"p-4 text-center",children:(0,zt.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,zt.jsx)("input",{type:"checkbox",checked:((null===(n=c.dashboard_sections)||void 0===n||null===(r=n.navigation_tabs)||void 0===r||null===(a=r[t])||void 0===a?void 0:a.roles)||[]).includes(e),onChange:n=>((e,t,n)=>{const r=d(d({},c),{},{dashboard_sections:d(d({},c.dashboard_sections),{},{navigation_tabs:d(d({},c.dashboard_sections.navigation_tabs),{},{[e]:d(d({},c.dashboard_sections.navigation_tabs[e]),{},{roles:n?[...c.dashboard_sections.navigation_tabs[e].roles||[],t]:(c.dashboard_sections.navigation_tabs[e].roles||[]).filter((e=>e!==t))})})})});u(r)})(t,e,n.target.checked),className:"sr-only"}),(0,zt.jsx)("div",{className:"relative w-6 h-6 rounded border-2 transition-colors ".concat(((null===(s=c.dashboard_sections)||void 0===s||null===(l=s.navigation_tabs)||void 0===l||null===(i=l[t])||void 0===i?void 0:i.roles)||[]).includes(e)?"bg-blue-600 border-blue-600":"border-gray-400"),children:((null===(o=c.dashboard_sections)||void 0===o||null===(m=o.navigation_tabs)||void 0===m||null===(f=m[t])||void 0===f?void 0:f.roles)||[]).includes(e)&&(0,zt.jsx)("div",{className:"absolute inset-1 bg-white rounded-sm"})})]})},e)}))]},t)}))})]})})]}),(0,zt.jsxs)("div",{className:"glass-effect p-6",children:[(0,zt.jsx)("h4",{className:"text-xl font-bold mb-6",children:"\u062a\u062e\u0635\u064a\u0635 \u0627\u0644\u0648\u0627\u062c\u0647\u0629"}),(0,zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium mb-3",children:"\u0627\u0644\u0644\u0648\u0646 \u0627\u0644\u0623\u0633\u0627\u0633\u064a"}),(0,zt.jsx)("input",{type:"color",value:(null===(t=c.ui_customization)||void 0===t||null===(n=t.company_branding)||void 0===n?void 0:n.primary_color)||"#3b82f6",onChange:e=>{var t;return u(d(d({},c),{},{ui_customization:d(d({},c.ui_customization),{},{company_branding:d(d({},null===(t=c.ui_customization)||void 0===t?void 0:t.company_branding),{},{primary_color:e.target.value})})}))},className:"w-full h-12 glass-effect border border-white border-opacity-20 rounded-lg"})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium mb-3",children:"\u0627\u0644\u0644\u0648\u0646 \u0627\u0644\u062b\u0627\u0646\u0648\u064a"}),(0,zt.jsx)("input",{type:"color",value:(null===(r=c.ui_customization)||void 0===r||null===(s=r.company_branding)||void 0===s?void 0:s.secondary_color)||"#1e293b",onChange:e=>{var t;return u(d(d({},c),{},{ui_customization:d(d({},c.ui_customization),{},{company_branding:d(d({},null===(t=c.ui_customization)||void 0===t?void 0:t.company_branding),{},{secondary_color:e.target.value})})}))},className:"w-full h-12 glass-effect border border-white border-opacity-20 rounded-lg"})]})]})]}),(0,zt.jsx)("button",{onClick:()=>i(c),disabled:o,className:"w-full py-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold rounded-lg transition-all duration-300 disabled:opacity-50",children:o?"\u062c\u0627\u0631\u064a \u0627\u0644\u062d\u0641\u0638...":"\u062d\u0641\u0638 \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a"})]})},en=e=>{var t,n,r,a;let{health:s,onRefresh:l,loading:i}=e;return s?(0,zt.jsxs)("div",{className:"space-y-8",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zt.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u0635\u062d\u0629 \u0627\u0644\u0646\u0638\u0627\u0645"}),(0,zt.jsx)("button",{onClick:l,disabled:i,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-300 disabled:opacity-50",children:i?"\u062a\u062d\u062f\u064a\u062b...":"\u062a\u062d\u062f\u064a\u062b"})]}),(0,zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,zt.jsxs)("div",{className:"glass-effect p-6 text-center",children:[(0,zt.jsx)("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:(null===(t=s.users)||void 0===t?void 0:t.total)||0}),(0,zt.jsx)("div",{className:"text-sm text-gray-400",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"})]}),(0,zt.jsxs)("div",{className:"glass-effect p-6 text-center",children:[(0,zt.jsx)("div",{className:"text-3xl font-bold text-green-400 mb-2",children:(null===(n=s.users)||void 0===n?void 0:n.active)||0}),(0,zt.jsx)("div",{className:"text-sm text-gray-400",children:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0627\u0644\u0646\u0634\u0637\u064a\u0646"})]}),(0,zt.jsxs)("div",{className:"glass-effect p-6 text-center",children:[(0,zt.jsx)("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:(null===(r=s.system_metrics)||void 0===r?void 0:r.total_visits)||0}),(0,zt.jsx)("div",{className:"text-sm text-gray-400",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a"})]}),(0,zt.jsxs)("div",{className:"glass-effect p-6 text-center",children:[(0,zt.jsx)("div",{className:"text-3xl font-bold text-orange-400 mb-2",children:(null===(a=s.system_metrics)||void 0===a?void 0:a.total_orders)||0}),(0,zt.jsx)("div",{className:"text-sm text-gray-400",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0637\u0644\u0628\u0627\u062a"})]})]}),(0,zt.jsxs)("div",{className:"glass-effect p-6",children:[(0,zt.jsx)("h4",{className:"text-xl font-bold mb-6",children:"\u062d\u0627\u0644\u0629 \u0642\u0648\u0627\u0639\u062f \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a"}),(0,zt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(s.collections_health||{}).map((e=>{let[t,n]=e;return(0,zt.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,zt.jsx)("span",{className:"font-medium capitalize",children:t}),(0,zt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,zt.jsx)("span",{className:"text-sm text-gray-400",children:n.count||0}),(0,zt.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("healthy"===n.status?"bg-green-400":"bg-red-400")})]})]},t)}))})]}),(0,zt.jsxs)("div",{className:"glass-effect p-6",children:[(0,zt.jsx)("h4",{className:"text-xl font-bold mb-6",children:"\u062d\u0627\u0644\u0629 \u0642\u0627\u0639\u062f\u0629 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a"}),(0,zt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,zt.jsx)("div",{className:"w-4 h-4 rounded-full ".concat("connected"===s.database_status?"bg-green-400":"bg-red-400")}),(0,zt.jsx)("span",{className:"font-medium",children:"connected"===s.database_status?"\u0645\u062a\u0635\u0644":"\u063a\u064a\u0631 \u0645\u062a\u0635\u0644"}),(0,zt.jsxs)("span",{className:"text-sm text-gray-400 mr-auto",children:["\u0622\u062e\u0631 \u0641\u062d\u0635: ",new Date(s.checked_at).toLocaleString("ar-EG")]})]})]})]}):null},tn=e=>{var t,n,r,s,l;let{config:i,onUpdate:o,loading:c}=e;const[u,m]=(0,a.useState)(i);if((0,a.useEffect)((()=>{m(i)}),[i]),!u)return null;const f=(e,t)=>{const n=d(d({},u),{},{security_settings:d(d({},u.security_settings),{},{[e]:t})});m(n)};return(0,zt.jsxs)("div",{className:"space-y-8",children:[(0,zt.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0623\u0645\u0627\u0646"}),(0,zt.jsxs)("div",{className:"glass-effect p-6",children:[(0,zt.jsx)("h4",{className:"text-xl font-bold mb-6",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"}),(0,zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium mb-3",children:"\u0641\u062a\u0631\u0629 \u0627\u0646\u062a\u0647\u0627\u0621 \u0635\u0644\u0627\u062d\u064a\u0629 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 (\u0623\u064a\u0627\u0645)"}),(0,zt.jsx)("input",{type:"number",value:(null===(t=u.security_settings)||void 0===t?void 0:t.password_expiry_days)||90,onChange:e=>f("password_expiry_days",parseInt(e.target.value)),className:"w-full p-4 glass-effect border border-white border-opacity-20 rounded-lg text-white",min:"1",max:"365"})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium mb-3",children:"\u0639\u062f\u062f \u0645\u062d\u0627\u0648\u0644\u0627\u062a \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0627\u0644\u0645\u0633\u0645\u0648\u062d"}),(0,zt.jsx)("input",{type:"number",value:(null===(n=u.security_settings)||void 0===n?void 0:n.max_login_attempts)||5,onChange:e=>f("max_login_attempts",parseInt(e.target.value)),className:"w-full p-4 glass-effect border border-white border-opacity-20 rounded-lg text-white",min:"1",max:"10"})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium mb-3",children:"\u0645\u0647\u0644\u0629 \u0627\u0646\u062a\u0647\u0627\u0621 \u0627\u0644\u062c\u0644\u0633\u0629 (\u062f\u0642\u064a\u0642\u0629)"}),(0,zt.jsx)("input",{type:"number",value:(null===(r=u.security_settings)||void 0===r?void 0:r.session_timeout_minutes)||480,onChange:e=>f("session_timeout_minutes",parseInt(e.target.value)),className:"w-full p-4 glass-effect border border-white border-opacity-20 rounded-lg text-white",min:"30",max:"1440"})]})]}),(0,zt.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("div",{className:"font-medium",children:"\u0625\u062c\u0628\u0627\u0631 \u062a\u063a\u064a\u064a\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"}),(0,zt.jsx)("div",{className:"text-sm text-gray-400",children:"\u0625\u062c\u0628\u0627\u0631 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0639\u0644\u0649 \u062a\u063a\u064a\u064a\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0639\u0646\u062f \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0627\u0644\u062a\u0627\u0644\u064a"})]}),(0,zt.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,zt.jsx)("input",{type:"checkbox",checked:(null===(s=u.security_settings)||void 0===s?void 0:s.force_password_change)||!1,onChange:e=>f("force_password_change",e.target.checked),className:"sr-only peer"}),(0,zt.jsx)("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),(0,zt.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("div",{className:"font-medium",children:"\u0627\u0644\u062a\u062d\u0642\u0642 \u0628\u062e\u0637\u0648\u062a\u064a\u0646 (2FA)"}),(0,zt.jsx)("div",{className:"text-sm text-gray-400",children:"\u062a\u0645\u0643\u064a\u0646 \u0627\u0644\u062a\u062d\u0642\u0642 \u0628\u062e\u0637\u0648\u062a\u064a\u0646 \u0644\u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"})]}),(0,zt.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,zt.jsx)("input",{type:"checkbox",checked:(null===(l=u.security_settings)||void 0===l?void 0:l.require_2fa)||!1,onChange:e=>f("require_2fa",e.target.checked),className:"sr-only peer"}),(0,zt.jsx)("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),(0,zt.jsx)("button",{onClick:()=>o(u),disabled:c,className:"w-full py-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold rounded-lg transition-all duration-300 disabled:opacity-50",children:c?"\u062c\u0627\u0631\u064a \u0627\u0644\u062d\u0641\u0638...":"\u062d\u0641\u0638 \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0623\u0645\u0627\u0646"})]})},nn=e=>{let{logs:t,onRefresh:n,loading:r}=e;return(0,zt.jsxs)("div",{className:"space-y-8",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zt.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u0633\u062c\u0644\u0627\u062a \u0627\u0644\u0623\u0646\u0634\u0637\u0629"}),(0,zt.jsx)("button",{onClick:n,disabled:r,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-300 disabled:opacity-50",children:r?"\u062a\u062d\u062f\u064a\u062b...":"\u062a\u062d\u062f\u064a\u062b"})]}),(0,zt.jsx)("div",{className:"glass-effect p-6",children:(0,zt.jsx)("div",{className:"space-y-4",children:t&&t.length>0?t.map((e=>(0,zt.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,zt.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("user_management"===e.category?"bg-blue-400":"visits"===e.category?"bg-green-400":"orders"===e.category?"bg-orange-400":"bg-gray-400")}),(0,zt.jsxs)("div",{className:"flex-1",children:[(0,zt.jsx)("div",{className:"font-medium",children:e.description}),(0,zt.jsxs)("div",{className:"text-sm text-gray-400",children:[e.user_name," \u2022 ",new Date(e.timestamp).toLocaleString("ar-EG")]})]}),(0,zt.jsx)("div",{className:"text-xs px-2 py-1 bg-white bg-opacity-10 rounded-full",children:"user_management"===e.category?"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646":"visits"===e.category?"\u0632\u064a\u0627\u0631\u0627\u062a":"orders"===e.category?"\u0637\u0644\u0628\u0627\u062a":e.category})]},e.id))):(0,zt.jsxs)("div",{className:"text-center py-12",children:[(0,zt.jsx)(Vt,{name:"reports",size:64,className:"mx-auto mb-4 text-gray-400"}),(0,zt.jsx)("p",{style:{color:"var(--text-secondary)"},children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0633\u062c\u0644\u0627\u062a \u0644\u0644\u0623\u0646\u0634\u0637\u0629"})]})})})]})},rn=()=>{var e;const[t,n]=(0,a.useState)([]),[r,s]=(0,a.useState)(null),[l,i]=(0,a.useState)([]),[o,c]=(0,a.useState)(""),[u,m]=(0,a.useState)([]),[f,h]=(0,a.useState)(!1),[p,x]=(0,a.useState)(""),[g,v]=(0,a.useState)(!1),[b,y]=(0,a.useState)(null),{user:j}=Qt();(0,a.useEffect)((()=>{N(),w()}),[]),(0,a.useEffect)((()=>{if(r){k(r.id);const e=setInterval((()=>k(r.id)),5e3);return()=>clearInterval(e)}}),[r]);const N=async()=>{try{const e=localStorage.getItem("token"),t=await Lt.get("".concat(Ot,"/conversations"),{headers:{Authorization:"Bearer ".concat(e)}});n(t.data)}catch(e){console.error("Error fetching conversations:",e)}},w=async()=>{try{const e=localStorage.getItem("token"),t=await Lt.get("".concat(Ot,"/users"),{headers:{Authorization:"Bearer ".concat(e)}});m(t.data.filter((e=>e.id!==j.id)))}catch(e){console.error("Error fetching users:",e)}},k=async e=>{try{const t=localStorage.getItem("token"),n=await Lt.get("".concat(Ot,"/conversations/").concat(e,"/messages"),{headers:{Authorization:"Bearer ".concat(t)}});i(n.data)}catch(t){console.error("Error fetching messages:",t)}},S=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"TEXT",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!r)return;const n=d(d({message_type:e},"TEXT"===e?{message_text:o}:{}),"VOICE"===e?{voice_note:t}:{});if("TEXT"!==e||o.trim())try{const t=localStorage.getItem("token");await Lt.post("".concat(Ot,"/conversations/").concat(r.id,"/messages"),n,{headers:{Authorization:"Bearer ".concat(t)}}),"TEXT"===e&&c(""),k(r.id)}catch(a){console.error("Error sending message:",a)}};return(0,zt.jsxs)("div",{style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh"},children:[(0,zt.jsx)($t,{}),(0,zt.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,zt.jsxs)("div",{className:"flex items-center mb-8",children:[(0,zt.jsx)("div",{className:"w-16 h-16 card-gradient-blue rounded-full flex items-center justify-center ml-4 glow-pulse",children:(0,zt.jsx)("span",{className:"text-3xl",children:"\ud83d\udcac"})}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("h2",{className:"text-3xl font-bold text-gradient",children:"\u0646\u0638\u0627\u0645 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a"}),(0,zt.jsx)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:"\u062a\u0648\u0627\u0635\u0644 \u0645\u0639 \u0627\u0644\u0645\u0646\u0627\u062f\u064a\u0628 \u0648\u0627\u0644\u0645\u062f\u064a\u0631\u064a\u0646"})]})]}),(0,zt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-96",children:[(0,zt.jsxs)("div",{className:"card-modern p-4",children:[(0,zt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,zt.jsx)("h3",{className:"text-lg font-bold",children:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a"}),(0,zt.jsx)("button",{onClick:()=>h(!0),className:"btn-primary text-sm py-2 px-4",children:"+ \u0645\u062d\u0627\u062f\u062b\u0629 \u062c\u062f\u064a\u062f\u0629"})]}),(0,zt.jsx)("div",{className:"space-y-2 overflow-y-auto max-h-80",children:t.map((e=>{var t,n;return(0,zt.jsxs)("div",{onClick:()=>s(e),className:"p-3 rounded-lg cursor-pointer transition-colors ".concat((null===r||void 0===r?void 0:r.id)===e.id?"bg-orange-100 bg-opacity-20":"hover:bg-gray-100 hover:bg-opacity-10"),children:[(0,zt.jsx)("div",{className:"font-semibold",children:null===(t=e.participant_names)||void 0===t?void 0:t.join(", ")}),(0,zt.jsx)("div",{className:"text-sm text-gray-500 truncate",children:(null===(n=e.last_message)||void 0===n?void 0:n.message_text)||"\u0631\u0633\u0627\u0644\u0629 \u0635\u0648\u062a\u064a\u0629"}),(0,zt.jsx)("div",{className:"text-xs text-gray-400",children:new Date(e.last_message_at).toLocaleTimeString("ar-EG")})]},e.id)}))})]}),(0,zt.jsx)("div",{className:"lg:col-span-2 card-modern flex flex-col",children:r?(0,zt.jsxs)(zt.Fragment,{children:[(0,zt.jsx)("div",{className:"p-4 border-b",style:{borderColor:"var(--accent-bg)"},children:(0,zt.jsx)("h3",{className:"font-bold",children:null===(e=r.participant_names)||void 0===e?void 0:e.join(", ")})}),(0,zt.jsx)("div",{className:"flex-1 p-4 overflow-y-auto space-y-3",children:l.map((e=>(0,zt.jsx)("div",{className:"flex ".concat(e.sender_id===j.id?"justify-end":"justify-start"),children:(0,zt.jsxs)("div",{className:"max-w-xs lg:max-w-md px-4 py-2 rounded-lg ".concat(e.sender_id===j.id?"bg-orange-500 text-white":"glass-effect"),children:["TEXT"===e.message_type?(0,zt.jsx)("p",{children:e.message_text}):(0,zt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zt.jsx)("span",{children:"\ud83c\udfb5"}),(0,zt.jsx)("audio",{controls:!0,className:"w-32",children:(0,zt.jsx)("source",{src:e.voice_note,type:"audio/wav"})})]}),(0,zt.jsx)("div",{className:"text-xs opacity-75 mt-1",children:new Date(e.created_at).toLocaleTimeString("ar-EG")})]})},e.id)))}),(0,zt.jsx)("div",{className:"p-4 border-t",style:{borderColor:"var(--accent-bg)"},children:(0,zt.jsxs)("div",{className:"flex gap-2",children:[(0,zt.jsx)("input",{type:"text",value:o,onChange:e=>c(e.target.value),onKeyPress:e=>"Enter"===e.key&&S(),placeholder:"\u0627\u0643\u062a\u0628 \u0631\u0633\u0627\u0644\u062a\u0643...",className:"flex-1 form-modern"}),(0,zt.jsx)("button",{onClick:()=>S(),className:"btn-primary px-4",children:"\ud83d\udce4"}),(0,zt.jsx)("button",{onClick:g?()=>{b&&g&&(b.stop(),v(!1),y(null))}:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=new MediaRecorder(e),n=[];t.ondataavailable=e=>n.push(e.data),t.onstop=()=>{const t=new Blob(n,{type:"audio/wav"}),r=new FileReader;r.onloadend=()=>{const e=r.result;S("VOICE",e)},r.readAsDataURL(t),e.getTracks().forEach((e=>e.stop()))},t.start(),y(t),v(!0)}catch(e){console.error("Error starting recording:",e)}},className:"px-4 py-2 rounded-lg ".concat(g?"bg-red-500 text-white":"btn-success"),children:g?"\ud83d\uded1":"\ud83c\udfa4"})]})})]}):(0,zt.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,zt.jsxs)("div",{className:"text-center",style:{color:"var(--text-secondary)"},children:[(0,zt.jsx)("span",{className:"text-6xl block mb-4",children:"\ud83d\udcac"}),(0,zt.jsx)("p",{children:"\u0627\u062e\u062a\u0631 \u0645\u062d\u0627\u062f\u062b\u0629 \u0644\u0644\u0628\u062f\u0621"})]})})})]}),f&&(0,zt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,zt.jsxs)("div",{className:"modal-modern p-6 w-full max-w-md",children:[(0,zt.jsx)("h3",{className:"text-lg font-bold mb-4",children:"\u0645\u062d\u0627\u062f\u062b\u0629 \u062c\u062f\u064a\u062f\u0629"}),(0,zt.jsxs)("div",{className:"mb-4",children:[(0,zt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u062e\u062a\u0631 \u0645\u0633\u062a\u062e\u062f\u0645:"}),(0,zt.jsxs)("select",{value:p,onChange:e=>x(e.target.value),className:"w-full form-modern",children:[(0,zt.jsx)("option",{value:"",children:"\u0627\u062e\u062a\u0631 \u0645\u0633\u062a\u062e\u062f\u0645"}),u.map((e=>(0,zt.jsxs)("option",{value:e.id,children:[e.full_name," (",e.role,")"]},e.id)))]})]}),(0,zt.jsxs)("div",{className:"flex gap-3",children:[(0,zt.jsx)("button",{onClick:async()=>{if(p)try{const e=localStorage.getItem("token");await Lt.post("".concat(Ot,"/conversations"),{participants:[p]},{headers:{Authorization:"Bearer ".concat(e)}}),h(!1),x(""),N()}catch(e){console.error("Error creating conversation:",e)}},className:"btn-primary flex-1",children:"\u0628\u062f\u0621 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629"}),(0,zt.jsx)("button",{onClick:()=>h(!1),className:"btn-warning flex-1",children:"\u0625\u0644\u063a\u0627\u0621"})]})]})})]})]})},an=()=>{const[e,t]=(0,a.useState)(!0),[n,r]=(0,a.useState)(""),[s,l]=(0,a.useState)("performance"),[i,o]=(0,a.useState)("week"),[c,u]=(0,a.useState)(""),[m,f]=(0,a.useState)("sales_performance"),[h,p]=(0,a.useState)(null),[x,g]=(0,a.useState)(null),{language:v}=Dt();(0,a.useEffect)((()=>{"performance"===s?b():y()}),[s,i,c,m]);const b=async()=>{t(!0),r("");try{const e=localStorage.getItem("token"),t=new URLSearchParams(d({time_range:i},c&&{user_filter:c})),n=await Lt.get("".concat(Ot,"/analytics/performance-dashboard?").concat(t),{headers:{Authorization:"Bearer ".concat(e)}});p(n.data)}catch(n){r("\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0623\u062f\u0627\u0621"),console.error("Performance dashboard error:",n)}finally{t(!1)}},y=async()=>{t(!0),r("");try{const e=localStorage.getItem("token"),t=new URLSearchParams({kpi_type:m,period:i}),n=await Lt.get("".concat(Ot,"/analytics/kpi-metrics?").concat(t),{headers:{Authorization:"Bearer ".concat(e)}});g(n.data)}catch(n){r("\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0645\u0624\u0634\u0631\u0627\u062a \u0627\u0644\u0623\u062f\u0627\u0621"),console.error("KPI metrics error:",n)}finally{t(!1)}},j=e=>e>0?"text-green-400":e<0?"text-red-400":"text-gray-400",N=e=>e>0?"\ud83d\udcc8":e<0?"\ud83d\udcc9":"\ud83d\udcca",w=e=>{const t={excellent:"bg-green-500 bg-opacity-20 text-green-400 border-green-500",good:"bg-blue-500 bg-opacity-20 text-blue-400 border-blue-500",average:"bg-yellow-500 bg-opacity-20 text-yellow-400 border-yellow-500",needs_improvement:"bg-red-500 bg-opacity-20 text-red-400 border-red-500",no_data:"bg-gray-500 bg-opacity-20 text-gray-400 border-gray-500"};return t[e]||t.no_data},k=e=>{const t={excellent:"\u0645\u0645\u062a\u0627\u0632",good:"\u062c\u064a\u062f",average:"\u0645\u062a\u0648\u0633\u0637",needs_improvement:"\u064a\u062d\u062a\u0627\u062c \u062a\u062d\u0633\u064a\u0646",no_data:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"};return t[e]||t.no_data},S=e=>{let{title:t,value:n,unit:r,growth:a,icon:s,description:l}=e;return(0,zt.jsxs)("div",{className:"glass-effect p-6 rounded-xl hover:bg-white hover:bg-opacity-10 transition-all duration-300",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,zt.jsx)("div",{className:"text-2xl",children:s}),(0,zt.jsxs)("div",{className:"text-sm font-medium ".concat(j(a)),children:[N(a)," ",a>0?"+":"",a.toFixed(1),"%"]})]}),(0,zt.jsxs)("div",{className:"mb-2",children:[(0,zt.jsxs)("div",{className:"text-3xl font-bold mb-1",style:{color:"var(--text-primary)"},children:[n.toLocaleString(),r]}),(0,zt.jsx)("div",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:t})]}),l&&(0,zt.jsx)("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:l})]})},_=e=>{let{title:t,data:n}=e;return(0,zt.jsxs)("div",{className:"p-6 rounded-xl border-2 ".concat(w(n.status)),children:[(0,zt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,zt.jsx)("h3",{className:"text-lg font-bold",children:t}),(0,zt.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(w(n.status)),children:k(n.status)})]}),(0,zt.jsxs)("div",{className:"space-y-4",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zt.jsxs)("div",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:[n.value,n.unit]}),(0,zt.jsxs)("div",{className:"text-sm",style:{color:"var(--text-muted)"},children:["\u0627\u0644\u0647\u062f\u0641: ",n.target,n.unit]})]}),(0,zt.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,zt.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat("excellent"===n.status?"bg-green-500":"good"===n.status?"bg-blue-500":"average"===n.status?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(Math.min(100,n.achievement),"%")}})}),(0,zt.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,zt.jsxs)("span",{style:{color:"var(--text-secondary)"},children:["\u0627\u0644\u062a\u062d\u0642\u064a\u0642: ",n.achievement,"%"]}),(0,zt.jsxs)("span",{className:"font-medium ".concat("up"===n.trend?"text-green-400":"down"===n.trend?"text-red-400":"text-gray-400"),children:["up"===n.trend?"\u2197\ufe0f":"down"===n.trend?"\u2198\ufe0f":"\u27a1\ufe0f"," ",n.trend]})]}),(0,zt.jsx)("p",{className:"text-xs",style:{color:"var(--text-muted)"},children:n.description})]})]})};return(0,zt.jsxs)("div",{className:"space-y-8",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zt.jsx)("h2",{className:"text-3xl font-bold text-gradient",children:"\ud83d\udcca \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0644\u064a\u0644\u0627\u062a \u0627\u0644\u0645\u062a\u0642\u062f\u0645\u0629"}),(0,zt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,zt.jsxs)("select",{value:i,onChange:e=>o(e.target.value),className:"px-4 py-2 glass-effect border border-white border-opacity-20 rounded-lg text-white",children:[(0,zt.jsx)("option",{value:"today",children:"\u0627\u0644\u064a\u0648\u0645"}),(0,zt.jsx)("option",{value:"week",children:"\u0647\u0630\u0627 \u0627\u0644\u0623\u0633\u0628\u0648\u0639"}),(0,zt.jsx)("option",{value:"month",children:"\u0647\u0630\u0627 \u0627\u0644\u0634\u0647\u0631"}),(0,zt.jsx)("option",{value:"quarter",children:"\u0647\u0630\u0627 \u0627\u0644\u0631\u0628\u0639"}),(0,zt.jsx)("option",{value:"year",children:"\u0647\u0630\u0627 \u0627\u0644\u0639\u0627\u0645"})]}),"performance"===s&&(0,zt.jsxs)("select",{value:c,onChange:e=>u(e.target.value),className:"px-4 py-2 glass-effect border border-white border-opacity-20 rounded-lg text-white",children:[(0,zt.jsx)("option",{value:"",children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"}),(0,zt.jsx)("option",{value:"sales_rep",children:"\u0645\u0646\u0627\u062f\u064a\u0628 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a"}),(0,zt.jsx)("option",{value:"manager",children:"\u0627\u0644\u0645\u062f\u0631\u0627\u0621"}),(0,zt.jsx)("option",{value:"warehouse_manager",children:"\u0645\u062f\u0631\u0627\u0621 \u0627\u0644\u0645\u062e\u0627\u0632\u0646"})]}),"kpis"===s&&(0,zt.jsxs)("select",{value:m,onChange:e=>f(e.target.value),className:"px-4 py-2 glass-effect border border-white border-opacity-20 rounded-lg text-white",children:[(0,zt.jsx)("option",{value:"sales_performance",children:"\u0623\u062f\u0627\u0621 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a"}),(0,zt.jsx)("option",{value:"team_efficiency",children:"\u0643\u0641\u0627\u0621\u0629 \u0627\u0644\u0641\u0631\u064a\u0642"}),(0,zt.jsx)("option",{value:"customer_satisfaction",children:"\u0631\u0636\u0627 \u0627\u0644\u0639\u0645\u0644\u0627\u0621"})]})]})]}),(0,zt.jsxs)("div",{className:"glass-effect p-2 rounded-xl inline-flex",children:[(0,zt.jsx)("button",{onClick:()=>l("performance"),className:"px-6 py-3 rounded-lg transition-all duration-300 ".concat("performance"===s?"bg-blue-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white hover:bg-opacity-10"),children:"\ud83d\udcc8 \u0644\u0648\u062d\u0629 \u0627\u0644\u0623\u062f\u0627\u0621"}),(0,zt.jsx)("button",{onClick:()=>l("kpis"),className:"px-6 py-3 rounded-lg transition-all duration-300 ".concat("kpis"===s?"bg-purple-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white hover:bg-opacity-10"),children:"\ud83c\udfaf \u0645\u0624\u0634\u0631\u0627\u062a \u0627\u0644\u0623\u062f\u0627\u0621"})]}),n&&(0,zt.jsx)("div",{className:"p-4 bg-red-500 bg-opacity-20 border border-red-500 rounded-lg text-red-400",children:n}),e?(0,zt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map((e=>(0,zt.jsx)("div",{className:"glass-effect p-6 rounded-xl animate-pulse",children:(0,zt.jsxs)("div",{className:"space-y-4",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zt.jsx)("div",{className:"w-8 h-8 bg-gray-600 rounded"}),(0,zt.jsx)("div",{className:"w-16 h-4 bg-gray-600 rounded"})]}),(0,zt.jsx)("div",{className:"w-24 h-8 bg-gray-600 rounded"}),(0,zt.jsx)("div",{className:"w-32 h-4 bg-gray-700 rounded"})]})},e)))}):(0,zt.jsxs)(zt.Fragment,{children:["performance"===s&&h&&(0,zt.jsxs)("div",{className:"space-y-8",children:[(0,zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,zt.jsx)(S,{title:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a",value:h.core_metrics.visits.current,unit:"",growth:h.core_metrics.visits.growth,icon:"\ud83d\ude97",description:"\u0645\u0642\u0627\u0631\u0646\u0629 \u0628\u0627\u0644\u0641\u062a\u0631\u0629 \u0627\u0644\u0633\u0627\u0628\u0642\u0629"}),(0,zt.jsx)(S,{title:"\u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u0641\u0639\u0627\u0644\u0629",value:h.core_metrics.effective_visits.current,unit:"",growth:h.core_metrics.effective_visits.growth,icon:"\u2705",description:"\u0632\u064a\u0627\u0631\u0627\u062a \u062d\u0642\u0642\u062a \u0646\u062a\u0627\u0626\u062c \u0625\u064a\u062c\u0627\u0628\u064a\u0629"}),(0,zt.jsx)(S,{title:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0637\u0644\u0628\u0627\u062a",value:h.core_metrics.orders.current,unit:"",growth:h.core_metrics.orders.growth,icon:"\ud83d\udce6",description:"\u0637\u0644\u0628\u0627\u062a \u062a\u0645 \u0625\u0646\u0634\u0627\u0624\u0647\u0627"}),(0,zt.jsx)(S,{title:"\u0645\u0639\u062f\u0644 \u0627\u0644\u062a\u062d\u0648\u064a\u0644",value:h.core_metrics.conversion_rate.current,unit:"%",growth:h.core_metrics.conversion_rate.growth,icon:"\ud83c\udfaf",description:"\u0645\u0639\u062f\u0644 \u0646\u062c\u0627\u062d \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a"})]}),h.top_performers.length>0&&(0,zt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,zt.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[(0,zt.jsx)("span",{children:"\ud83c\udfc6"}),(0,zt.jsx)("span",{children:"\u0623\u0641\u0636\u0644 \u0627\u0644\u0645\u0624\u062f\u064a\u0646"})]}),(0,zt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.top_performers.map(((e,t)=>(0,zt.jsxs)("div",{className:"p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,zt.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,zt.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white font-bold ".concat(0===t?"bg-yellow-500":1===t?"bg-gray-400":2===t?"bg-amber-600":"bg-blue-500"),children:t+1}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:e.user_info.full_name}),(0,zt.jsxs)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["@",e.user_info.username]})]})]}),(0,zt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,zt.jsxs)("div",{className:"flex justify-between",children:[(0,zt.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a:"}),(0,zt.jsx)("span",{className:"font-medium text-blue-400",children:e.total_visits})]}),(0,zt.jsxs)("div",{className:"flex justify-between",children:[(0,zt.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u0641\u0639\u0627\u0644\u0629:"}),(0,zt.jsx)("span",{className:"font-medium text-green-400",children:e.effective_visits})]}),(0,zt.jsxs)("div",{className:"flex justify-between",children:[(0,zt.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0645\u0639\u062f\u0644 \u0627\u0644\u0641\u0639\u0627\u0644\u064a\u0629:"}),(0,zt.jsxs)("span",{className:"font-medium text-purple-400",children:[e.effectiveness_rate.toFixed(1),"%"]})]})]})]},t)))})]}),h.daily_trends.length>0&&(0,zt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,zt.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[(0,zt.jsx)("span",{children:"\ud83d\udcc8"}),(0,zt.jsx)("span",{children:"\u0627\u062a\u062c\u0627\u0647\u0627\u062a \u0627\u0644\u0623\u062f\u0627\u0621 \u0627\u0644\u064a\u0648\u0645\u064a\u0629"})]}),(0,zt.jsx)("div",{className:"space-y-4",children:h.daily_trends.slice(-7).map(((e,t)=>(0,zt.jsxs)("div",{className:"flex items-center gap-4 p-3 bg-white bg-opacity-5 rounded-lg",children:[(0,zt.jsx)("div",{className:"w-24 text-sm",style:{color:"var(--text-secondary)"},children:new Date(e.date).toLocaleDateString("ar-EG",{weekday:"short",day:"numeric",month:"short"})}),(0,zt.jsxs)("div",{className:"flex-1",children:[(0,zt.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,zt.jsxs)("span",{className:"text-blue-400",children:["\ud83d\ude97 ",e.visits]}),(0,zt.jsxs)("span",{className:"text-green-400",children:["\u2705 ",e.effective_visits]}),(0,zt.jsxs)("span",{className:"text-purple-400",children:["\ud83d\udce6 ",e.orders]}),(0,zt.jsxs)("span",{className:"text-yellow-400",children:["\ud83c\udfaf ",e.effectiveness_rate.toFixed(1),"%"]})]}),(0,zt.jsx)("div",{className:"mt-2",children:(0,zt.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,zt.jsx)("div",{className:"h-2 bg-gradient-to-r from-blue-500 to-green-500 rounded-full transition-all duration-300",style:{width:"".concat(Math.min(100,e.effectiveness_rate),"%")}})})})]})]},t)))})]}),h.team_summary.length>0&&(0,zt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,zt.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[(0,zt.jsx)("span",{children:"\ud83d\udc65"}),(0,zt.jsx)("span",{children:"\u0645\u0644\u062e\u0635 \u0627\u0644\u0641\u0631\u0642"})]}),(0,zt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.team_summary.map(((e,t)=>(0,zt.jsxs)("div",{className:"p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,zt.jsx)("div",{className:"font-medium mb-3",style:{color:"var(--text-primary)"},children:e.manager_name}),(0,zt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,zt.jsxs)("div",{className:"flex justify-between",children:[(0,zt.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u062d\u062c\u0645 \u0627\u0644\u0641\u0631\u064a\u0642:"}),(0,zt.jsx)("span",{className:"font-medium",children:e.team_size})]}),(0,zt.jsxs)("div",{className:"flex justify-between",children:[(0,zt.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a:"}),(0,zt.jsx)("span",{className:"font-medium text-blue-400",children:e.total_visits})]}),(0,zt.jsxs)("div",{className:"flex justify-between",children:[(0,zt.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u0641\u0639\u0627\u0644\u0629:"}),(0,zt.jsx)("span",{className:"font-medium text-green-400",children:e.effective_visits})]}),(0,zt.jsxs)("div",{className:"flex justify-between",children:[(0,zt.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0645\u0639\u062f\u0644 \u0627\u0644\u0641\u0639\u0627\u0644\u064a\u0629:"}),(0,zt.jsxs)("span",{className:"font-medium text-purple-400",children:[e.effectiveness_rate.toFixed(1),"%"]})]})]})]},t)))})]}),h.insights&&(0,zt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,zt.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[(0,zt.jsx)("span",{children:"\ud83d\udca1"}),(0,zt.jsx)("span",{children:"\u0631\u0624\u0649 \u0630\u0643\u064a\u0629"})]}),(0,zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,zt.jsxs)("div",{className:"text-center p-4 bg-blue-500 bg-opacity-20 rounded-lg",children:[(0,zt.jsx)("div",{className:"text-2xl mb-2",children:"\ud83c\udf1f"}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0623\u0641\u0636\u0644 \u064a\u0648\u0645 \u0623\u062f\u0627\u0621"}),(0,zt.jsx)("div",{className:"font-bold",style:{color:"var(--text-primary)"},children:h.insights.best_performing_day?new Date(h.insights.best_performing_day).toLocaleDateString("ar-EG"):"\u063a\u064a\u0631 \u0645\u062a\u0627\u062d"})]}),(0,zt.jsxs)("div",{className:"text-center p-4 bg-green-500 bg-opacity-20 rounded-lg",children:[(0,zt.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udc65"}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0639\u062f\u062f \u0627\u0644\u0645\u0624\u062f\u064a\u0646 \u0627\u0644\u0641\u0631\u064a\u062f\u064a\u0646"}),(0,zt.jsx)("div",{className:"font-bold",style:{color:"var(--text-primary)"},children:h.insights.total_unique_performers})]}),(0,zt.jsxs)("div",{className:"text-center p-4 bg-purple-500 bg-opacity-20 rounded-lg",children:[(0,zt.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udcca"}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u062a\u0648\u0633\u0637 \u0627\u0644\u0641\u0639\u0627\u0644\u064a\u0629"}),(0,zt.jsxs)("div",{className:"font-bold",style:{color:"var(--text-primary)"},children:[h.insights.average_effectiveness,"%"]})]})]})]})]}),"kpis"===s&&x&&(0,zt.jsxs)("div",{className:"space-y-8",children:[(0,zt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,zt.jsx)("h3",{className:"text-xl font-bold",children:"\u0645\u0644\u062e\u0635 \u0645\u0624\u0634\u0631\u0627\u062a \u0627\u0644\u0623\u062f\u0627\u0621"}),(0,zt.jsx)("div",{className:"flex items-center gap-4",children:(0,zt.jsxs)("div",{className:"px-4 py-2 rounded-full text-sm font-medium ".concat("excellent"===x.summary.overall_performance?"bg-green-500 bg-opacity-20 text-green-400":"bg-blue-500 bg-opacity-20 text-blue-400"),children:["\u0627\u0644\u0623\u062f\u0627\u0621 \u0627\u0644\u0639\u0627\u0645: ","excellent"===x.summary.overall_performance?"\u0645\u0645\u062a\u0627\u0632":"\u062c\u064a\u062f"]})})]}),(0,zt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,zt.jsxs)("div",{className:"text-center p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,zt.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:x.summary.total_kpis}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0624\u0634\u0631\u0627\u062a"})]}),(0,zt.jsxs)("div",{className:"text-center p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,zt.jsx)("div",{className:"text-2xl font-bold text-green-400",children:x.summary.excellent_kpis}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u0624\u0634\u0631\u0627\u062a \u0645\u0645\u062a\u0627\u0632\u0629"})]}),(0,zt.jsxs)("div",{className:"text-center p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,zt.jsx)("div",{className:"text-2xl font-bold text-red-400",children:x.summary.needs_improvement}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u062a\u062d\u062a\u0627\u062c \u062a\u062d\u0633\u064a\u0646"})]}),(0,zt.jsxs)("div",{className:"text-center p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,zt.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:new Date(x.generated_at).toLocaleDateString("ar-EG")}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0622\u062e\u0631 \u062a\u062d\u062f\u064a\u062b"})]})]})]}),(0,zt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(x.metrics).map((e=>{let[t,n]=e;return(0,zt.jsx)(_,{title:n.description,data:n},t)}))})]})]})]})},sn=e=>{let{stats:t,user:n}=e;const[r,s]=(0,a.useState)("week"),[l,i]=(0,a.useState)({}),[o,c]=(0,a.useState)([]),[u,m]=(0,a.useState)(t),[f,h]=(0,a.useState)(!1),{analytics:p,loading:x}=xn(),{language:g}=(0,a.useContext)(Ut),v={en:{title:"\ud83d\udcca Comprehensive Statistics Dashboard",subtitle:"Complete overview of system and team performance",today:"Today",week:"Week",month:"Month",quarter:"Quarter",live:"Live",quickActions:"\u26a1 Quick Actions",liveStats:"\ud83d\udd34 Live Statistics",updatesEvery30:"(Updates every 30 seconds)",visitsToday:"Visits Today",activeSalesReps:"Active Sales Reps",pendingOrders:"Pending Orders",totalUsers:"Total Users",totalClinics:"Total Clinics",totalVisits:"Total Visits",totalWarehouses:"Total Warehouses",lowStockItems:"Low Stock Items",todayVisits:"Today's Visits",lastUpdated:"Last updated:"},ar:{title:"\ud83d\udcca \u0644\u0648\u062d\u0629 \u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a \u0627\u0644\u0634\u0627\u0645\u0644\u0629",subtitle:"\u0646\u0638\u0631\u0629 \u0634\u0627\u0645\u0644\u0629 \u0639\u0644\u0649 \u0623\u062f\u0627\u0621 \u0627\u0644\u0646\u0638\u0627\u0645 \u0648\u0627\u0644\u0641\u0631\u064a\u0642",today:"\u0627\u0644\u064a\u0648\u0645",week:"\u0627\u0644\u0623\u0633\u0628\u0648\u0639",month:"\u0627\u0644\u0634\u0647\u0631",quarter:"\u0627\u0644\u0631\u0628\u0639",live:"\u0645\u0628\u0627\u0634\u0631",quickActions:"\u26a1 \u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0633\u0631\u064a\u0639\u0629",liveStats:"\ud83d\udd34 \u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a \u0627\u0644\u0645\u0628\u0627\u0634\u0631\u0629",updatesEvery30:"(\u064a\u062a\u0645 \u0627\u0644\u062a\u062d\u062f\u064a\u062b \u0643\u0644 30 \u062b\u0627\u0646\u064a\u0629)",visitsToday:"\u0632\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u064a\u0648\u0645",activeSalesReps:"\u0645\u0646\u0627\u062f\u064a\u0628 \u0646\u0634\u0637\u064a\u0646 \u0627\u0644\u0622\u0646",pendingOrders:"\u0637\u0644\u0628\u064a\u0627\u062a \u0645\u0639\u0644\u0642\u0629",totalUsers:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",totalClinics:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a",totalVisits:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a",totalWarehouses:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u062e\u0627\u0632\u0646",lowStockItems:"\u0645\u0646\u062a\u062c\u0627\u062a \u0646\u0642\u0635 \u0645\u062e\u0632\u0648\u0646",todayVisits:"\u0632\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u064a\u0648\u0645",lastUpdated:"\u0622\u062e\u0631 \u062a\u062d\u062f\u064a\u062b:"}},b=v[g]||v.en;(0,a.useEffect)((()=>{y(),N(),j()}),[r]);const y=async()=>{h(!0);try{let e=d({},t);switch(r){case"today":const t=localStorage.getItem("token");e=(await Lt.get("".concat(Ot,"/dashboard/stats?period=today"),{headers:{Authorization:"Bearer ".concat(t)}})).data;break;case"week":break;case"month":e=(await Lt.get("".concat(Ot,"/dashboard/stats?period=month"),{headers:{Authorization:"Bearer ".concat(t)}})).data;break;case"quarter":e=(await Lt.get("".concat(Ot,"/dashboard/stats?period=quarter"),{headers:{Authorization:"Bearer ".concat(t)}})).data}m(e),i({users_growth:"+12%",visits_growth:"+8%",clinics_growth:"+15%",revenue_growth:"+22%"})}catch(e){console.error("Error fetching time-filtered data:",e),m(t)}finally{h(!1)}},j=async()=>{await y()},N=async()=>{const e=[];u.pending_reviews>0&&e.push({type:"reviews",count:u.pending_reviews,text:"ar"===g?"\u0645\u0631\u0627\u062c\u0639\u0627\u062a \u062a\u062d\u062a\u0627\u062c \u0645\u0648\u0627\u0641\u0642\u0629":"Reviews Need Approval"}),u.low_stock_items>0&&e.push({type:"stock",count:u.low_stock_items,text:"ar"===g?"\u0645\u0646\u062a\u062c\u0627\u062a \u0646\u0642\u0635 \u0645\u062e\u0632\u0648\u0646":"Low Stock Items"}),u.pending_clinics>0&&e.push({type:"clinics",count:u.pending_clinics,text:"ar"===g?"\u0639\u064a\u0627\u062f\u0627\u062a \u062a\u062d\u062a\u0627\u062c \u0645\u0648\u0627\u0641\u0642\u0629":"Clinics Need Approval"}),c(e)},w=[{key:"total_users",title:b.totalUsers,icon:"\ud83d\udc65",color:"bg-blue-500",growth:l.users_growth},{key:"total_clinics",title:b.totalClinics,icon:"\ud83c\udfe5",color:"bg-green-500",growth:l.clinics_growth},{key:"total_visits",title:b.totalVisits,icon:"\ud83d\udccb",color:"bg-indigo-500",growth:l.visits_growth},{key:"total_warehouses",title:b.totalWarehouses,icon:"\ud83c\udfea",color:"bg-pink-500",growth:"+0%"},{key:"today_visits",title:b.todayVisits,icon:"\ud83d\udcc5",color:"bg-teal-500",growth:"+18%"},{key:"low_stock_items",title:b.lowStockItems,icon:"\u26a0\ufe0f",color:"bg-red-500",isAlert:!0}];return(0,zt.jsx)("div",{style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh"},children:(0,zt.jsxs)("div",{className:"space-y-8",children:[(0,zt.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,zt.jsx)("h2",{className:"text-3xl font-bold text-gradient",children:b.title}),p&&(0,zt.jsxs)("div",{className:"flex items-center gap-2 bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm animate-pulse",children:[(0,zt.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,zt.jsx)("span",{children:b.live})]})]}),(0,zt.jsxs)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:[b.subtitle," - ",b.lastUpdated," ",null!==p&&void 0!==p&&p.timestamp?new Date(p.timestamp).toLocaleTimeString("ar"===g?"ar-EG":"en-US"):"ar"===g?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644...":"Loading..."]})]}),(0,zt.jsx)("div",{className:"flex gap-2",children:["today","week","month","quarter"].map((e=>(0,zt.jsx)("button",{onClick:()=>{s(e)},disabled:f,className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat(r===e?"btn-primary":"btn-secondary"," ").concat(f?"opacity-50 cursor-not-allowed":""),children:f&&r===e?(0,zt.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):b[e]},e)))})]}),p&&(0,zt.jsxs)("div",{className:"card-modern p-6",children:[(0,zt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,zt.jsx)("span",{children:"\ud83d\udd34"}),(0,zt.jsx)("span",{children:b.liveStats}),(0,zt.jsx)("span",{className:"text-sm text-green-600 animate-pulse",children:b.updatesEvery30})]}),(0,zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,zt.jsxs)("div",{className:"glass-effect p-4 rounded-lg border-l-4 border-blue-500",children:[(0,zt.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:p.live_stats.visits_today}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:b.visitsToday})]}),(0,zt.jsxs)("div",{className:"glass-effect p-4 rounded-lg border-l-4 border-green-500",children:[(0,zt.jsx)("div",{className:"text-3xl font-bold text-green-600",children:p.live_stats.active_sales_reps}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:b.activeSalesReps})]}),(0,zt.jsxs)("div",{className:"glass-effect p-4 rounded-lg border-l-4 border-orange-500",children:[(0,zt.jsx)("div",{className:"text-3xl font-bold text-orange-600",children:p.live_stats.pending_orders}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:b.pendingOrders})]})]})]}),o.length>0&&(0,zt.jsxs)("div",{className:"card-modern p-6",children:[(0,zt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,zt.jsx)("span",{children:"\u26a1"}),(0,zt.jsx)("span",{children:b.quickActions})]}),(0,zt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:o.map(((e,t)=>(0,zt.jsx)("div",{className:"glass-effect p-4 rounded-lg border-l-4 border-orange-500",children:(0,zt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:e.text}),(0,zt.jsx)("p",{className:"text-2xl font-bold text-orange-500",children:e.count})]}),(0,zt.jsx)("button",{className:"btn-warning text-sm",children:"ar"===g?"\u0639\u0631\u0636":"View"})]})},t)))})]}),(0,zt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:w.map((e=>{const n=t[e.key]||0;return(0,zt.jsxs)("div",{className:"card-modern p-6 relative overflow-hidden",children:[(0,zt.jsx)("div",{className:"absolute top-0 right-0 w-20 h-20 rounded-full opacity-10 -mr-10 -mt-10",style:{background:e.color.replace("bg-","")}}),(0,zt.jsxs)("div",{className:"relative z-10",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,zt.jsx)("div",{className:"w-12 h-12 ".concat(e.color," rounded-lg flex items-center justify-center text-white text-xl"),children:e.icon}),e.growth&&(0,zt.jsx)("span",{className:"text-sm font-medium px-2 py-1 rounded-lg ".concat(e.isAlert?"bg-red-100 text-red-600":"bg-green-100 text-green-600"),children:e.growth})]}),(0,zt.jsx)("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--text-secondary)"},children:e.title}),(0,zt.jsx)("p",{className:"text-3xl font-bold ".concat(e.isAlert?"text-red-500":""),style:{color:e.isAlert?void 0:"var(--text-primary)"},children:n})]})]},e.key)}))}),(0,zt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,zt.jsxs)("div",{className:"card-modern p-6",children:[(0,zt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,zt.jsx)("span",{children:"\ud83d\udcc8"}),(0,zt.jsx)("span",{children:"ar"===g?"\u0623\u062f\u0627\u0621 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a":"Visits Performance"})]}),null!==p&&void 0!==p&&p.chart_data?(0,zt.jsx)("div",{className:"h-64",children:(0,zt.jsx)("div",{className:"flex items-center justify-center h-full bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg",children:(0,zt.jsxs)("div",{className:"text-center",children:[(0,zt.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udcca"}),(0,zt.jsx)("p",{className:"text-gray-600 mb-2",children:"ar"===g?"\u0631\u0633\u0645 \u0628\u064a\u0627\u0646\u064a \u062a\u0641\u0627\u0639\u0644\u064a \u0644\u0644\u0623\u062f\u0627\u0621":"Interactive Performance Chart"}),(0,zt.jsx)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:p.chart_data.slice(-4).map(((e,t)=>(0,zt.jsxs)("div",{className:"bg-white p-3 rounded-lg shadow",children:[(0,zt.jsx)("div",{className:"text-sm text-gray-500",children:new Date(e.date).toLocaleDateString()}),(0,zt.jsxs)("div",{className:"text-lg font-bold text-blue-600",children:[e.visits," ","ar"===g?"\u0632\u064a\u0627\u0631\u0629":"visits"]})]},t)))})]})})}):(0,zt.jsx)("div",{className:"h-64 flex items-center justify-center glass-effect rounded-lg",children:(0,zt.jsxs)("div",{className:"text-center",children:[(0,zt.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udcca"}),(0,zt.jsx)("p",{style:{color:"var(--text-secondary)"},children:"ar"===g?"\u0631\u0633\u0645 \u0628\u064a\u0627\u0646\u064a \u0644\u0623\u062f\u0627\u0621 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a":"Visits Performance Chart"}),(0,zt.jsx)("p",{className:"text-sm mt-2",style:{color:"var(--text-muted)"},children:"ar"===g?"\u064a\u062a\u0645 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a...":"Loading data..."})]})})]}),(0,zt.jsx)(ln,{})]}),"admin"===n.role&&(0,zt.jsxs)("div",{className:"card-modern p-6",children:[(0,zt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,zt.jsx)("span",{children:"\ud83d\udc51"}),(0,zt.jsx)("span",{children:"ar"===g?"\u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0627\u0644\u0645\u062f\u064a\u0631":"Admin Actions"})]}),(0,zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,zt.jsx)(cn,{icon:"\ud83d\udcca",text:"ar"===g?"\u062a\u0635\u062f\u064a\u0631 \u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631":"Export Reports",onClick:()=>mn()}),(0,zt.jsx)(cn,{icon:"\ud83d\udc65",text:"ar"===g?"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646":"User Management",onClick:()=>fn()}),(0,zt.jsx)(cn,{icon:"\u2699\ufe0f",text:"ar"===g?"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0646\u0638\u0627\u0645":"System Settings",onClick:()=>hn()})]})]}),(0,zt.jsx)("div",{className:"mt-8",children:(0,zt.jsx)(ln,{})})]})})},ln=()=>{const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)(!0),[s,l]=(0,a.useState)(null),[i,o]=(0,a.useState)(!1),{language:c}=Dt();(0,a.useEffect)((()=>{d()}),[]);const d=async()=>{try{const n=localStorage.getItem("token");try{const e=await Lt.get("".concat(Ot,"/activities/recent"),{headers:{Authorization:"Bearer ".concat(n)}});if(e.data&&e.data.activities){const n=e.data.activities.map(((e,t)=>({id:t+1,type:e.type||"general",message:"ar"===c?e.title:e.description||e.title,details:e.details||{},timestamp:e.timestamp||(new Date).toISOString(),color:e.color||u(e.type)})));if(n.length>0)return console.log("\u2705 Loaded ".concat(n.length," real activities from API")),void t(n)}}catch(e){console.error("Failed to load real activities from API:",e)}console.log("Using mock activities data"),t([{id:1,type:"visit",message:"ar"===c?"\u0632\u064a\u0627\u0631\u0629 \u062c\u062f\u064a\u062f\u0629 \u0644\u0644\u062f\u0643\u062a\u0648\u0631 \u0623\u062d\u0645\u062f \u0645\u0646 \u0627\u0644\u0645\u0646\u062f\u0648\u0628 \u0645\u062d\u0645\u0648\u062f":"New visit to Dr. Ahmed by sales rep Mahmoud",details:{doctor:"ar"===c?"\u062f. \u0623\u062d\u0645\u062f \u0645\u062d\u0645\u062f":"Dr. Ahmed Mohamed",sales_rep:"ar"===c?"\u0645\u062d\u0645\u0648\u062f \u0639\u0644\u064a":"Mahmoud Ali",clinic:"ar"===c?"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0646\u0648\u0631":"Al Nour Clinic",visit_time:"10:30 AM",effectiveness:!0},timestamp:new Date(Date.now()-3e5).toISOString(),color:"text-green-500"},{id:2,type:"clinic",message:"ar"===c?"\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0639\u064a\u0627\u062f\u0629 \u062c\u062f\u064a\u062f\u0629 \u0645\u0646 \u0627\u0644\u0645\u0646\u062f\u0648\u0628 \u0625\u0628\u0631\u0627\u0647\u064a\u0645":"New clinic added by sales rep Ibrahim",details:{clinic_name:"ar"===c?"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0634\u0641\u0627\u0621":"Al Shifa Clinic",sales_rep:"ar"===c?"\u0625\u0628\u0631\u0627\u0647\u064a\u0645 \u062d\u0633\u0646":"Ibrahim Hassan",address:"ar"===c?"\u0634\u0627\u0631\u0639 \u0627\u0644\u062c\u0645\u0647\u0648\u0631\u064a\u0629\u060c \u0627\u0644\u0645\u0646\u0635\u0648\u0631\u0629":"Gomhoria Street, Mansoura",status:"pending_approval"},timestamp:new Date(Date.now()-9e5).toISOString(),color:"text-blue-500"},{id:3,type:"order",message:"ar"===c?"\u0637\u0644\u0628\u064a\u0629 \u062c\u062f\u064a\u062f\u0629 \u0645\u0646 \u0627\u0644\u0645\u0646\u062f\u0648\u0628 \u0625\u0628\u0631\u0627\u0647\u064a\u0645 \u062a\u062d\u062a\u0627\u062c \u0644\u0644\u0645\u0648\u0627\u0641\u0642\u0629":"New order from sales rep Ibrahim needs approval",details:{order_id:"ORD-2024-001",sales_rep:"ar"===c?"\u0625\u0628\u0631\u0627\u0647\u064a\u0645 \u062d\u0633\u0646":"Ibrahim Hassan",clinic:"ar"===c?"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0623\u0645\u0644":"Al Amal Clinic",total_amount:2500,currency:"EGP",items_count:5,status:"pending_manager_approval"},timestamp:new Date(Date.now()-18e5).toISOString(),color:"text-orange-500"},{id:4,type:"user",message:"ar"===c?"\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062a\u062e\u062f\u0645 \u062c\u062f\u064a\u062f \u0645\u0646 \u0627\u0644\u0645\u062f\u064a\u0631 \u0639\u0644\u064a":"New user added by manager Ali",details:{user_name:"ar"===c?"\u062e\u0627\u0644\u062f \u0645\u062d\u0645\u062f":"Khaled Mohamed",role:"sales_rep",manager:"ar"===c?"\u0639\u0644\u064a \u0623\u062d\u0645\u062f":"Ali Ahmed",department:"ar"===c?"\u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a - \u0627\u0644\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u0634\u0631\u0642\u064a\u0629":"Sales - Eastern Region",employee_id:"EMP-2024-012"},timestamp:new Date(Date.now()-36e5).toISOString(),color:"text-purple-500"}])}catch(n){console.error("Error loading activities:",n)}finally{r(!1)}},u=e=>({visit:"text-green-500",clinic:"text-blue-500",order:"text-orange-500",user:"text-purple-500",approval:"text-yellow-500",warehouse:"text-indigo-500"}[e]||"text-gray-500");return(0,zt.jsxs)(zt.Fragment,{children:[(0,zt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,zt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,zt.jsx)("span",{children:"\ud83d\udd50"}),(0,zt.jsx)("span",{children:"ar"===c?"\u0627\u0644\u0646\u0634\u0627\u0637\u0627\u062a \u0627\u0644\u0623\u062e\u064a\u0631\u0629":"Recent Activities"})]}),n?(0,zt.jsx)("div",{className:"space-y-3",children:[1,2,3,4].map((e=>(0,zt.jsxs)("div",{className:"animate-pulse flex items-center gap-3 p-3",children:[(0,zt.jsx)("div",{className:"w-8 h-8 bg-gray-600 rounded-full"}),(0,zt.jsxs)("div",{className:"flex-1",children:[(0,zt.jsx)("div",{className:"h-4 bg-gray-600 rounded mb-2"}),(0,zt.jsx)("div",{className:"h-3 bg-gray-700 rounded w-3/4"})]})]},e)))}):(0,zt.jsxs)("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:[e.map((e=>{return(0,zt.jsxs)("div",{className:"flex items-center gap-3 p-3 glass-effect rounded-lg cursor-pointer hover:bg-white hover:bg-opacity-10 transition-all duration-300 hover:scale-102",onClick:()=>(e=>{l(e),o(!0)})(e),children:[(0,zt.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold ".concat("visit"===e.type?"bg-green-500":"clinic"===e.type?"bg-blue-500":"order"===e.type?"bg-orange-500":"bg-purple-500"),children:(t=e.type,{visit:"\ud83d\udc68\u200d\u2695\ufe0f",clinic:"\ud83c\udfe5",order:"\ud83d\udce6",user:"\ud83d\udc64",approval:"\u2705",warehouse:"\ud83c\udfea"}[t]||"\ud83d\udccb")}),(0,zt.jsxs)("div",{className:"flex-1",children:[(0,zt.jsx)("p",{className:"text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:e.message}),(0,zt.jsx)("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:new Date(e.timestamp).toLocaleString("ar"===c?"ar-EG":"en-US")})]}),(0,zt.jsx)("div",{className:"text-gray-400 hover:text-blue-400 transition-colors",children:(0,zt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,zt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]},e.id);var t})),0===e.length&&(0,zt.jsxs)("div",{className:"text-center py-8",children:[(0,zt.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcdd"}),(0,zt.jsx)("p",{style:{color:"var(--text-secondary)"},children:"ar"===c?"\u0644\u0627 \u062a\u0648\u062c\u062f \u0623\u0646\u0634\u0637\u0629 \u062d\u062f\u064a\u062b\u0629":"No recent activities"})]})]})]}),i&&s&&(0,zt.jsx)(on,{activity:s,language:c,onClose:()=>o(!1)})]})},on=e=>{let{activity:t,language:n,onClose:r}=e;const a={en:{activityDetails:"Activity Details",visitDetails:"Visit Details",clinicDetails:"Clinic Details",orderDetails:"Order Details",userDetails:"User Details",close:"Close"},ar:{activityDetails:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0646\u0634\u0627\u0637",visitDetails:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0629",clinicDetails:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0639\u064a\u0627\u062f\u0629",orderDetails:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0637\u0644\u0628\u064a\u0629",userDetails:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",close:"\u0625\u063a\u0644\u0627\u0642"}},s=a[n]||a.en;return(0,zt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,zt.jsxs)("div",{className:"modal-modern p-8 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,zt.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:s.activityDetails}),(0,zt.jsx)("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\u2715"})]}),(0,zt.jsxs)("div",{className:"space-y-6",children:[(0,zt.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg",children:[(0,zt.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white text-xl ".concat("visit"===t.type?"bg-green-500":"clinic"===t.type?"bg-blue-500":"order"===t.type?"bg-orange-500":"bg-purple-500"),children:"visit"===t.type?"\ud83d\udc68\u200d\u2695\ufe0f":"clinic"===t.type?"\ud83c\udfe5":"order"===t.type?"\ud83d\udce6":"\ud83d\udc64"}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("h4",{className:"text-lg font-bold text-gray-800",children:t.message}),(0,zt.jsx)("p",{className:"text-sm text-gray-600",children:new Date(t.timestamp).toLocaleString("ar"===n?"ar-EG":"en-US")})]})]}),(0,zt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(t.details||{}).map((e=>{let[t,n]=e;return(0,zt.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,zt.jsx)("div",{className:"text-sm font-bold text-gray-600 capitalize mb-1",children:t.replace("_"," ")}),(0,zt.jsx)("div",{className:"text-lg text-gray-800",children:"boolean"===typeof n?n?"\u2705":"\u274c":"number"===typeof n?n.toLocaleString():n})]},t)}))})]}),(0,zt.jsx)("div",{className:"flex justify-end mt-6",children:(0,zt.jsx)("button",{onClick:r,className:"btn-primary px-6 py-3",children:s.close})})]})})},cn=e=>{let{icon:t,text:n,onClick:r}=e;return(0,zt.jsxs)("button",{onClick:r,className:"btn-primary flex items-center justify-center gap-2 py-3 hover:scale-105 transition-transform",children:[(0,zt.jsx)("span",{className:"text-xl",children:t}),(0,zt.jsx)("span",{children:n})]})},dn=e=>{let{onCapture:t,onSkip:n}=e;const r=(0,a.useRef)(null),s=(0,a.useRef)(null),[l,i]=(0,a.useState)(null),[o,c]=(0,a.useState)(!1),{language:d}=(0,a.useContext)(Ut),u={en:{title:"\ud83d\udcf7 Daily Check-in Selfie",subtitle:"Please take a selfie to verify your attendance",startCamera:"\ud83c\udfa5 Start Camera",takeSelfie:"\ud83d\udcf8 Take Selfie",retake:"\ud83d\udd04 Retake",confirm:"\u2705 Confirm",skip:"\u23ed\ufe0f Skip for Now",cameraError:"Cannot access camera. Please allow camera permissions."},ar:{title:"\ud83d\udcf7 \u0633\u064a\u0644\u0641\u064a \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062d\u0636\u0648\u0631 \u0627\u0644\u064a\u0648\u0645\u064a",subtitle:"\u064a\u0631\u062c\u0649 \u0623\u062e\u0630 \u0633\u064a\u0644\u0641\u064a \u0644\u0644\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0636\u0648\u0631\u0643",startCamera:"\ud83c\udfa5 \u062a\u0634\u063a\u064a\u0644 \u0627\u0644\u0643\u0627\u0645\u064a\u0631\u0627",takeSelfie:"\ud83d\udcf8 \u0627\u0644\u062a\u0642\u0627\u0637 \u0633\u064a\u0644\u0641\u064a",retake:"\ud83d\udd04 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u062a\u0642\u0627\u0637",confirm:"\u2705 \u062a\u0623\u0643\u064a\u062f",skip:"\u23ed\ufe0f \u062a\u062e\u0637\u064a \u0627\u0644\u0622\u0646",cameraError:"\u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0643\u0627\u0645\u064a\u0631\u0627. \u064a\u0631\u062c\u0649 \u0627\u0644\u0633\u0645\u0627\u062d \u0628\u0635\u0644\u0627\u062d\u064a\u0627\u062a \u0627\u0644\u0643\u0627\u0645\u064a\u0631\u0627."}},m=u[d]||u.en,f=async e=>{try{const n=localStorage.getItem("token");await Lt.post("".concat(Ot,"/users/selfie"),{selfie_image:e,timestamp:(new Date).toISOString(),location:await h()},{headers:{Authorization:"Bearer ".concat(n)}}),t&&t(e)}catch(n){console.error("Error saving selfie:",n)}},h=()=>new Promise((e=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((t=>e({latitude:t.coords.latitude,longitude:t.coords.longitude})),(()=>e({latitude:null,longitude:null}))):e({latitude:null,longitude:null})})),p=()=>{l&&(l.getTracks().forEach((e=>e.stop())),i(null))};return(0,a.useEffect)((()=>()=>p()),[]),(0,zt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",children:(0,zt.jsxs)("div",{className:"modal-modern p-8 w-full max-w-md",children:[(0,zt.jsxs)("div",{className:"text-center mb-6",children:[(0,zt.jsx)("h3",{className:"text-2xl font-bold text-gradient mb-2",children:m.title}),(0,zt.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:m.subtitle})]}),(0,zt.jsxs)("div",{className:"space-y-4",children:[(0,zt.jsx)("div",{className:"relative bg-black rounded-lg overflow-hidden",style:{aspectRatio:"4/3"},children:l?(0,zt.jsxs)(zt.Fragment,{children:[(0,zt.jsx)("video",{ref:r,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),(0,zt.jsx)("div",{className:"absolute inset-4 border-2 border-green-400 rounded-lg"})]}):(0,zt.jsx)("div",{className:"flex items-center justify-center h-full text-white",children:(0,zt.jsxs)("div",{className:"text-center",children:[(0,zt.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcf7"}),(0,zt.jsx)("button",{onClick:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:640,height:480}});i(e),r.current&&(r.current.srcObject=e)}catch(e){console.error("Error accessing camera:",e),alert(m.cameraError)}},className:"btn-primary",children:m.startCamera})]})})}),(0,zt.jsx)("canvas",{ref:s,style:{display:"none"}}),l&&(0,zt.jsx)("div",{className:"flex gap-3",children:(0,zt.jsxs)("button",{onClick:()=>{if(s.current&&r.current){const e=s.current,t=r.current,n=e.getContext("2d");e.width=t.videoWidth,e.height=t.videoHeight,n.drawImage(t,0,0);const a=e.toDataURL("image/jpeg",.8);c(!0),f(a)}},className:"btn-success flex-1 flex items-center justify-center gap-2",children:[(0,zt.jsx)("span",{children:"\ud83d\udcf8"}),(0,zt.jsx)("span",{children:m.takeSelfie})]})}),(0,zt.jsx)("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:(0,zt.jsx)("button",{onClick:()=>{p(),n&&n()},className:"btn-secondary flex-1",children:m.skip})})]})]})})},un=e=>{var t,n,r,s;let{user:l,onClose:i}=e;const[o,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(!0),{language:m}=(0,a.useContext)(Ut),f={en:{title:"\ud83d\udccb Today's Plan",subtitle:"Your daily tasks and schedule",visits:"Visits Scheduled",orders:"Orders to Process",clinics:"Clinics to Visit",startDay:"\ud83d\ude80 Start Your Day",viewMap:"\ud83d\uddfa\ufe0f View on Map",noTasks:"No tasks scheduled for today",loading:"Loading your daily plan..."},ar:{title:"\ud83d\udccb \u062e\u0637\u0629 \u0627\u0644\u064a\u0648\u0645",subtitle:"\u0645\u0647\u0627\u0645\u0643 \u0648\u062c\u062f\u0648\u0644\u0643 \u0627\u0644\u064a\u0648\u0645\u064a",visits:"\u0632\u064a\u0627\u0631\u0627\u062a \u0645\u062c\u062f\u0648\u0644\u0629",orders:"\u0637\u0644\u0628\u0627\u062a \u0644\u0644\u0645\u0639\u0627\u0644\u062c\u0629",clinics:"\u0639\u064a\u0627\u062f\u0627\u062a \u0644\u0644\u0632\u064a\u0627\u0631\u0629",startDay:"\ud83d\ude80 \u0627\u0628\u062f\u0623 \u064a\u0648\u0645\u0643",viewMap:"\ud83d\uddfa\ufe0f \u0639\u0631\u0636 \u0639\u0644\u0649 \u0627\u0644\u062e\u0631\u064a\u0637\u0629",noTasks:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0647\u0627\u0645 \u0645\u062c\u062f\u0648\u0644\u0629 \u0644\u0644\u064a\u0648\u0645",loading:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u062e\u0637\u0629 \u0627\u0644\u064a\u0648\u0645..."}},h=f[m]||f.en;(0,a.useEffect)((()=>{p()}),[]);const p=async()=>{try{const e=localStorage.getItem("token"),t=await Lt.get("".concat(Ot,"/users/").concat(l.id,"/daily-plan"),{headers:{Authorization:"Bearer ".concat(e)}});c(t.data)}catch(e){c({visits:[{id:1,clinic_name:"ar"===m?"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0646\u0648\u0631":"Al Nour Clinic",doctor_name:"ar"===m?"\u062f. \u0623\u062d\u0645\u062f \u0645\u062d\u0645\u062f":"Dr. Ahmed Mohamed",time:"10:00 AM",address:"ar"===m?"\u0634\u0627\u0631\u0639 \u0627\u0644\u062c\u0645\u0647\u0648\u0631\u064a\u0629\u060c \u0627\u0644\u0645\u0646\u0635\u0648\u0631\u0629":"Gomhoria Street, Mansoura",status:"pending"},{id:2,clinic_name:"ar"===m?"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0634\u0641\u0627\u0621":"Al Shifa Clinic",doctor_name:"ar"===m?"\u062f. \u0641\u0627\u0637\u0645\u0629 \u0639\u0644\u064a":"Dr. Fatema Ali",time:"2:00 PM",address:"ar"===m?"\u0634\u0627\u0631\u0639 \u0627\u0644\u0645\u062d\u0637\u0629\u060c \u0627\u0644\u0645\u0646\u0635\u0648\u0631\u0629":"Station Street, Mansoura",status:"pending"}],orders:[{id:1,clinic_name:"ar"===m?"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0623\u0645\u0644":"Al Amal Clinic",items_count:5,total_amount:2500,status:"pending_delivery"}],route_optimized:!0,estimated_duration:"6 hours",total_distance:"45 km"})}finally{u(!1)}};return d?(0,zt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,zt.jsx)("div",{className:"modal-modern p-8 w-full max-w-2xl",children:(0,zt.jsxs)("div",{className:"text-center",children:[(0,zt.jsx)("div",{className:"w-16 h-16 loading-shimmer rounded-full mx-auto mb-4"}),(0,zt.jsx)("p",{children:h.loading})]})})}):(0,zt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,zt.jsxs)("div",{className:"modal-modern p-8 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:h.title}),(0,zt.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:h.subtitle})]}),(0,zt.jsx)("button",{onClick:i,className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\u2715"})]}),(0,zt.jsxs)("div",{className:"space-y-6",children:[(0,zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,zt.jsxs)("div",{className:"card-modern p-4 text-center",children:[(0,zt.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null===o||void 0===o||null===(t=o.visits)||void 0===t?void 0:t.length)||0}),(0,zt.jsx)("div",{className:"text-sm text-gray-600",children:h.visits})]}),(0,zt.jsxs)("div",{className:"card-modern p-4 text-center",children:[(0,zt.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(null===o||void 0===o||null===(n=o.orders)||void 0===n?void 0:n.length)||0}),(0,zt.jsx)("div",{className:"text-sm text-gray-600",children:h.orders})]}),(0,zt.jsxs)("div",{className:"card-modern p-4 text-center",children:[(0,zt.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:(null===o||void 0===o?void 0:o.estimated_duration)||"N/A"}),(0,zt.jsx)("div",{className:"text-sm text-gray-600",children:"ar"===m?"\u0645\u062f\u0629 \u0645\u062a\u0648\u0642\u0639\u0629":"Estimated Duration"})]})]}),(null===o||void 0===o?void 0:o.visits)&&o.visits.length>0&&(0,zt.jsxs)("div",{className:"card-modern p-6",children:[(0,zt.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,zt.jsx)("span",{children:"\ud83d\udc68\u200d\u2695\ufe0f"}),(0,zt.jsx)("span",{children:h.visits})]}),(0,zt.jsx)("div",{className:"space-y-3",children:o.visits.map(((e,t)=>(0,zt.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[(0,zt.jsx)("div",{className:"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-bold",children:t+1}),(0,zt.jsxs)("div",{className:"flex-1",children:[(0,zt.jsx)("div",{className:"font-medium text-lg",children:e.clinic_name}),(0,zt.jsx)("div",{className:"text-sm text-gray-600",children:e.doctor_name}),(0,zt.jsx)("div",{className:"text-xs text-gray-500",children:e.address})]}),(0,zt.jsxs)("div",{className:"text-right",children:[(0,zt.jsx)("div",{className:"text-lg font-bold text-blue-600",children:e.time}),(0,zt.jsx)("div",{className:"text-xs text-gray-500",children:"ar"===m?"\u0645\u0639\u0644\u0642":"Pending"})]})]},e.id)))})]}),(null===o||void 0===o?void 0:o.orders)&&o.orders.length>0&&(0,zt.jsxs)("div",{className:"card-modern p-6",children:[(0,zt.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,zt.jsx)("span",{children:"\ud83d\udce6"}),(0,zt.jsx)("span",{children:h.orders})]}),(0,zt.jsx)("div",{className:"space-y-3",children:o.orders.map((e=>(0,zt.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("div",{className:"font-medium",children:e.clinic_name}),(0,zt.jsxs)("div",{className:"text-sm text-gray-600",children:[e.items_count," ","ar"===m?"\u0639\u0646\u0627\u0635\u0631":"items"," \u2022 ",e.total_amount.toLocaleString()," EGP"]})]}),(0,zt.jsx)("div",{className:"text-sm text-orange-600 font-medium",children:"ar"===m?"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u062a\u0633\u0644\u064a\u0645":"Pending Delivery"})]},e.id)))})]}),0===(null===o||void 0===o||null===(r=o.visits)||void 0===r?void 0:r.length)&&0===(null===o||void 0===o||null===(s=o.orders)||void 0===s?void 0:s.length)&&(0,zt.jsxs)("div",{className:"text-center py-12",children:[(0,zt.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udccb"}),(0,zt.jsx)("p",{className:"text-lg text-gray-600",children:h.noTasks})]}),(0,zt.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[(0,zt.jsxs)("button",{onClick:i,className:"btn-primary flex-1 flex items-center justify-center gap-2",children:[(0,zt.jsx)("span",{children:"\ud83d\ude80"}),(0,zt.jsx)("span",{children:h.startDay})]}),(0,zt.jsxs)("button",{className:"btn-info flex items-center justify-center gap-2 px-6",children:[(0,zt.jsx)("span",{children:"\ud83d\uddfa\ufe0f"}),(0,zt.jsx)("span",{children:h.viewMap})]})]})]})]})})},mn=()=>{const e={generated_at:(new Date).toISOString(),type:"comprehensive",format:"pdf"},t="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e,null,2)),n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download","report_".concat(Date.now(),".json")),document.body.appendChild(n),n.click(),n.remove()},fn=()=>{const e=new CustomEvent("navigateToTab",{detail:"users"});window.dispatchEvent(e)},hn=()=>{const e=new CustomEvent("navigateToTab",{detail:"settings"});window.dispatchEvent(e)},pn=()=>{var e,t;const[n,r]=(0,a.useState)([]),[s,l]=(0,a.useState)(!0),[i,o]=(0,a.useState)(""),[c,u]=(0,a.useState)(""),[m,f]=(0,a.useState)(1),[h,p]=(0,a.useState)(1),[x,g]=(0,a.useState)(""),[v,b]=(0,a.useState)(""),[y,j]=(0,a.useState)(""),[N,w]=(0,a.useState)(null),[k,S]=(0,a.useState)(!1),[_,C]=(0,a.useState)(!1),[E,T]=(0,a.useState)(!1),[A,P]=(0,a.useState)(!1),[L,z]=(0,a.useState)(!1),[O,R]=(0,a.useState)({username:"",email:"",password:"",full_name:"",role:"",phone:"",manager_id:"",department:"",employee_id:""}),[D,M]=(0,a.useState)({}),[F,I]=(0,a.useState)("all"),[U,B]=(0,a.useState)("all"),[q,V]=(0,a.useState)("full_name"),[H]=(0,a.useState)(10),[W,$]=(0,a.useState)(""),[G,Q]=(0,a.useState)(new Set),{language:K}=Dt();(0,a.useEffect)((()=>{Y();const e=setInterval(X,3e4);return()=>clearInterval(e)}),[m,x,v,y]);const X=async()=>{try{const e=localStorage.getItem("token");await Lt.post("".concat(Ot,"/users/update-last-seen"),{},{headers:{Authorization:"Bearer ".concat(e)}})}catch(i){console.log("Failed to update last seen:",i)}},Y=async()=>{l(!0);try{const e=localStorage.getItem("token"),t=new URLSearchParams(d(d(d({page:m,limit:10},x&&{search:x}),v&&{role_filter:v}),y&&{status_filter:y})),n=await Lt.get("".concat(Ot,"/users/enhanced-list?").concat(t),{headers:{Authorization:"Bearer ".concat(e)}});r(n.data.users),p(n.data.total_pages)}catch(i){o("\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"),console.error("Error fetching users:",i)}finally{l(!1)}},J=Y,Z=e=>({admin:"\u0645\u062f\u064a\u0631",manager:"\u0645\u062f\u064a\u0631 \u0641\u0631\u0639",sales_rep:"\u0645\u0646\u062f\u0648\u0628 \u0645\u0628\u064a\u0639\u0627\u062a",warehouse_manager:"\u0645\u062f\u064a\u0631 \u0645\u062e\u0632\u0646",accounting:"\u0645\u062d\u0627\u0633\u0628"}[e]||e),ee=n.filter((e=>{const t=e.full_name.toLowerCase().includes(x.toLowerCase())||e.email.toLowerCase().includes(x.toLowerCase())||e.username.toLowerCase().includes(x.toLowerCase()),n="all"===F||e.role===F,r="all"===U||"active"===U&&e.is_active||"inactive"===U&&!e.is_active;return t&&n&&r}));return(0,zt.jsxs)("div",{style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh"},children:[(0,zt.jsx)($t,{}),(0,zt.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,zt.jsxs)("div",{className:"flex items-center",children:[(0,zt.jsx)("div",{className:"w-16 h-16 card-gradient-blue rounded-full flex items-center justify-center ml-4 glow-pulse",children:(0,zt.jsx)("span",{className:"text-3xl",children:"\ud83d\udc65"})}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("h2",{className:"text-4xl font-bold text-gradient",children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0627\u0644\u0634\u0627\u0645\u0644\u0629"}),(0,zt.jsx)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:"\u0625\u062f\u0627\u0631\u0629 \u0643\u0627\u0645\u0644\u0629 \u0644\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0645\u0639 \u062c\u0645\u064a\u0639 \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a \u0648\u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a"})]})]}),(0,zt.jsxs)("button",{onClick:()=>z(!0),className:"btn-primary flex items-center gap-2 px-6 py-3 neon-glow",children:[(0,zt.jsx)("span",{children:"\u2795"}),(0,zt.jsx)("span",{children:"\u0645\u0633\u062a\u062e\u062f\u0645 \u062c\u062f\u064a\u062f"})]})]}),D.total_users&&(0,zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,zt.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,zt.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:D.total_users}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"})]}),(0,zt.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,zt.jsx)("div",{className:"text-3xl font-bold text-green-600",children:(null===(e=D.active_distribution)||void 0===e?void 0:e.active)||0}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0646\u0634\u0637\u064a\u0646"})]}),(0,zt.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,zt.jsx)("div",{className:"text-3xl font-bold text-red-600",children:(null===(t=D.active_distribution)||void 0===t?void 0:t.inactive)||0}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0645\u0639\u0637\u0644\u064a\u0646"})]}),(0,zt.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,zt.jsx)("div",{className:"text-3xl font-bold text-purple-600",children:Object.keys(D.role_distribution||{}).length}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u0623\u062f\u0648\u0627\u0631"})]})]}),i&&(0,zt.jsxs)("div",{className:"alert-modern alert-error mb-6 scale-in",children:[(0,zt.jsx)("span",{className:"ml-2",children:"\u274c"}),i]}),c&&(0,zt.jsxs)("div",{className:"alert-modern alert-success mb-6 scale-in",children:[(0,zt.jsx)("span",{className:"ml-2",children:"\u2705"}),c]}),(0,zt.jsx)("div",{className:"card-modern p-6 mb-8",children:(0,zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-4",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0628\u062d\u062b:"}),(0,zt.jsx)("input",{type:"text",value:x,onChange:e=>g(e.target.value),placeholder:"\u0627\u0628\u062d\u062b \u0628\u0627\u0644\u0627\u0633\u0645 \u0623\u0648 \u0627\u0644\u0628\u0631\u064a\u062f...",className:"form-modern w-full"})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0641\u0644\u062a\u0631\u0629 \u0628\u0627\u0644\u062f\u0648\u0631:"}),(0,zt.jsxs)("select",{value:F,onChange:e=>I(e.target.value),className:"form-modern w-full",children:[(0,zt.jsx)("option",{value:"all",children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0623\u062f\u0648\u0627\u0631"}),(0,zt.jsx)("option",{value:"admin",children:"\u0645\u062f\u064a\u0631 \u0627\u0644\u0646\u0638\u0627\u0645"}),(0,zt.jsx)("option",{value:"manager",children:"\u0645\u062f\u064a\u0631"}),(0,zt.jsx)("option",{value:"sales_rep",children:"\u0645\u0646\u062f\u0648\u0628 \u0645\u0628\u064a\u0639\u0627\u062a"}),(0,zt.jsx)("option",{value:"warehouse_manager",children:"\u0645\u062f\u064a\u0631 \u0645\u062e\u0632\u0646"}),(0,zt.jsx)("option",{value:"accounting",children:"\u0645\u062d\u0627\u0633\u0628"})]})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0641\u0644\u062a\u0631\u0629 \u0628\u0627\u0644\u062d\u0627\u0644\u0629:"}),(0,zt.jsxs)("select",{value:U,onChange:e=>B(e.target.value),className:"form-modern w-full",children:[(0,zt.jsx)("option",{value:"all",children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0627\u0644\u0627\u062a"}),(0,zt.jsx)("option",{value:"active",children:"\u0646\u0634\u0637"}),(0,zt.jsx)("option",{value:"inactive",children:"\u063a\u064a\u0631 \u0646\u0634\u0637"})]})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0625\u062c\u0631\u0627\u0621 \u062c\u0645\u0627\u0639\u064a:"}),(0,zt.jsxs)("select",{value:W,onChange:e=>$(e.target.value),className:"form-modern w-full",children:[(0,zt.jsx)("option",{value:"",children:"\u0627\u062e\u062a\u0631 \u0625\u062c\u0631\u0627\u0621"}),(0,zt.jsx)("option",{value:"activate",children:"\u062a\u0646\u0634\u064a\u0637 \u0627\u0644\u0645\u062d\u062f\u062f"}),(0,zt.jsx)("option",{value:"deactivate",children:"\u062a\u0639\u0637\u064a\u0644 \u0627\u0644\u0645\u062d\u062f\u062f"})]})]}),(0,zt.jsxs)("div",{className:"flex items-end gap-2",children:[(0,zt.jsxs)("button",{onClick:J,className:"btn-info flex-1 flex items-center justify-center gap-2",children:[(0,zt.jsx)("span",{children:"\ud83d\udd04"}),(0,zt.jsx)("span",{children:"\u062a\u062d\u062f\u064a\u062b"})]}),G.size>0&&W&&(0,zt.jsxs)("button",{onClick:async()=>{if(!W||0===G.size)return;if(window.confirm('\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062a\u0637\u0628\u064a\u0642 "'.concat(W,'" \u0639\u0644\u0649 ').concat(G.size," \u0645\u0633\u062a\u062e\u062f\u0645\u061f")))try{const e=localStorage.getItem("token"),t=Array.from(G).map((t=>"activate"===W||"deactivate"===W?Lt.patch("".concat(Ot,"/users/").concat(t,"/toggle-status"),{},{headers:{Authorization:"Bearer ".concat(e)}}):void 0));await Promise.all(t),u("\u062a\u0645 \u062a\u0637\u0628\u064a\u0642 \u0627\u0644\u0625\u062c\u0631\u0627\u0621 \u0639\u0644\u0649 ".concat(G.size," \u0645\u0633\u062a\u062e\u062f\u0645")),Q(new Set),$(""),J()}catch(i){o("\u062e\u0637\u0623 \u0641\u064a \u062a\u0637\u0628\u064a\u0642 \u0627\u0644\u0625\u062c\u0631\u0627\u0621 \u0627\u0644\u062c\u0645\u0627\u0639\u064a")}},className:"btn-warning flex-1 flex items-center justify-center gap-2",children:[(0,zt.jsx)("span",{children:"\u26a1"}),(0,zt.jsx)("span",{children:"\u062a\u0637\u0628\u064a\u0642"})]})]})]})}),(0,zt.jsxs)("div",{className:"card-modern overflow-hidden",children:[(0,zt.jsx)("div",{className:"p-6 border-b",style:{borderColor:"var(--accent-bg)"},children:(0,zt.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-3",children:[(0,zt.jsx)("span",{children:"\ud83d\udccb"}),(0,zt.jsxs)("span",{children:["\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 (",ee.length,")"]}),G.size>0&&(0,zt.jsxs)("span",{className:"badge-modern badge-info",children:[G.size," \u0645\u062d\u062f\u062f"]})]})}),s?(0,zt.jsxs)("div",{className:"p-12 text-center",children:[(0,zt.jsx)("div",{className:"loading-shimmer w-16 h-16 rounded-full mx-auto mb-4"}),(0,zt.jsx)("p",{style:{color:"var(--text-secondary)"},children:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644..."})]}):(0,zt.jsx)("div",{className:"table-modern",children:(0,zt.jsxs)("table",{className:"min-w-full",children:[(0,zt.jsx)("thead",{children:(0,zt.jsxs)("tr",{children:[(0,zt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:(0,zt.jsx)("input",{type:"checkbox",onChange:e=>{e.target.checked?Q(new Set(ee.map((e=>e.id)))):Q(new Set)},className:"rounded"})}),(0,zt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),(0,zt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u062f\u0648\u0631"}),(0,zt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u062d\u0627\u0644\u0629"}),(0,zt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0622\u062e\u0631 \u062f\u062e\u0648\u0644"}),(0,zt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a"})]})}),(0,zt.jsx)("tbody",{children:ee.map((e=>(0,zt.jsxs)("tr",{className:"hover:bg-gray-50 hover:bg-opacity-5 transition-colors",children:[(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsx)("input",{type:"checkbox",checked:G.has(e.id),onChange:t=>{const n=new Set(G);t.target.checked?n.add(e.id):n.delete(e.id),Q(n)},className:"rounded"})}),(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,zt.jsxs)("div",{className:"relative",children:[e.profile_image?(0,zt.jsx)("img",{src:e.profile_image,alt:e.full_name,className:"w-10 h-10 rounded-full object-cover border-2 border-gray-200"}):(0,zt.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold ".concat(e.is_active?"bg-gradient-to-br from-blue-500 to-purple-600":"bg-gray-500"),children:e.full_name.charAt(0)}),(0,zt.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white ".concat(e.is_active?"bg-green-500":"bg-red-500")})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:e.full_name}),(0,zt.jsxs)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:[e.username," \u2022 ",e.email]}),e.phone&&(0,zt.jsxs)("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:["\ud83d\udcf1 ",e.phone]})]})]})}),(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsx)("span",{className:"badge-modern ".concat("admin"===e.role?"badge-danger":"manager"===e.role?"badge-warning":"sales_rep"===e.role?"badge-info":"warehouse_manager"===e.role?"badge-success":"badge-secondary"),children:Z(e.role)})}),(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsx)("span",{className:"badge-modern ".concat(e.is_active?"badge-success":"badge-danger"),children:e.is_active?"\u2705 \u0646\u0634\u0637":"\u274c \u0645\u0639\u0637\u0644"})}),(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:e.last_login?new Date(e.last_login).toLocaleDateString("ar-EG"):"\u0644\u0645 \u064a\u0633\u062c\u0644 \u062f\u062e\u0648\u0644"})}),(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsxs)("div",{className:"flex gap-2",children:[(0,zt.jsx)("button",{onClick:()=>{w(e),S(!0)},className:"btn-info text-xs px-3 py-1",title:"\u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644",children:"\ud83d\udc41\ufe0f"}),(0,zt.jsx)("button",{onClick:()=>{w(e),T(!0)},className:"btn-primary text-xs px-3 py-1",title:"\u062a\u0639\u062f\u064a\u0644",children:"\u270f\ufe0f"}),(0,zt.jsx)("button",{onClick:()=>(async(e,t)=>{const n=t?"\u062a\u0639\u0637\u064a\u0644":"\u062a\u0646\u0634\u064a\u0637";if(window.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 ".concat(n," \u0647\u0630\u0627 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u061f")))try{const t=localStorage.getItem("token");await Lt.patch("".concat(Ot,"/users/").concat(e,"/toggle-status"),{},{headers:{Authorization:"Bearer ".concat(t)}}),u("\u062a\u0645 ".concat(n," \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0646\u062c\u0627\u062d")),J()}catch(i){o("\u062e\u0637\u0623 \u0641\u064a ".concat(n," \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"))}})(e.id,e.is_active),className:"text-xs px-3 py-1 rounded ".concat(e.is_active?"btn-warning":"btn-success"),title:e.is_active?"\u062a\u0639\u0637\u064a\u0644":"\u062a\u0646\u0634\u064a\u0637",children:e.is_active?"\u23f8\ufe0f":"\u25b6\ufe0f"}),(0,zt.jsx)("button",{onClick:()=>(async(e,t)=>{if(window.confirm('\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 "'.concat(t,'"\u061f \u0647\u0630\u0627 \u0627\u0644\u0625\u062c\u0631\u0627\u0621 \u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u062a\u0631\u0627\u062c\u0639 \u0639\u0646\u0647.')))try{const n=localStorage.getItem("token");await Lt.delete("".concat(Ot,"/users/").concat(e),{headers:{Authorization:"Bearer ".concat(n)}}),u('\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 "'.concat(t,'" \u0628\u0646\u062c\u0627\u062d')),J()}catch(i){o("\u062e\u0637\u0623 \u0641\u064a \u062d\u0630\u0641 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645")}})(e.id,e.full_name),className:"btn-danger text-xs px-3 py-1",title:"\u062d\u0630\u0641",children:"\ud83d\uddd1\ufe0f"})]})})]},e.id)))})]})})]}),L&&(0,zt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,zt.jsxs)("div",{className:"modal-modern p-8 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,zt.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u2795 \u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062a\u062e\u062f\u0645 \u062c\u062f\u064a\u062f"}),(0,zt.jsx)("button",{onClick:()=>z(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\u2715"})]}),(0,zt.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=localStorage.getItem("token");await Lt.post("".concat(Ot,"/users"),O,{headers:{Authorization:"Bearer ".concat(e)}}),u('\u062a\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 "'.concat(O.full_name,'" \u0628\u0646\u062c\u0627\u062d')),z(!1),R({username:"",email:"",password:"",full_name:"",role:"",phone:"",manager_id:"",department:"",employee_id:""}),J()}catch(i){o("\u062e\u0637\u0623 \u0641\u064a \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645")}},className:"space-y-6",children:[(0,zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 *"}),(0,zt.jsx)("input",{type:"text",value:O.username,onChange:e=>R(d(d({},O),{},{username:e.target.value})),className:"form-modern w-full",required:!0})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a *"}),(0,zt.jsx)("input",{type:"email",value:O.email,onChange:e=>R(d(d({},O),{},{email:e.target.value})),className:"form-modern w-full",required:!0})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 *"}),(0,zt.jsx)("input",{type:"password",value:O.password,onChange:e=>R(d(d({},O),{},{password:e.target.value})),className:"form-modern w-full",required:!0})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644 *"}),(0,zt.jsx)("input",{type:"text",value:O.full_name,onChange:e=>R(d(d({},O),{},{full_name:e.target.value})),className:"form-modern w-full",required:!0})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u062f\u0648\u0631 *"}),(0,zt.jsxs)("select",{value:O.role,onChange:e=>R(d(d({},O),{},{role:e.target.value})),className:"form-modern w-full",required:!0,children:[(0,zt.jsx)("option",{value:"",children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u062f\u0648\u0631"}),(0,zt.jsx)("option",{value:"admin",children:"\u0645\u062f\u064a\u0631 \u0627\u0644\u0646\u0638\u0627\u0645"}),(0,zt.jsx)("option",{value:"manager",children:"\u0645\u062f\u064a\u0631"}),(0,zt.jsx)("option",{value:"sales_rep",children:"\u0645\u0646\u062f\u0648\u0628 \u0645\u0628\u064a\u0639\u0627\u062a"}),(0,zt.jsx)("option",{value:"warehouse_manager",children:"\u0645\u062f\u064a\u0631 \u0645\u062e\u0632\u0646"}),(0,zt.jsx)("option",{value:"accounting",children:"\u0645\u062d\u0627\u0633\u0628"})]})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641"}),(0,zt.jsx)("input",{type:"tel",value:O.phone,onChange:e=>R(d(d({},O),{},{phone:e.target.value})),className:"form-modern w-full"})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0642\u0633\u0645"}),(0,zt.jsx)("input",{type:"text",value:O.department,onChange:e=>R(d(d({},O),{},{department:e.target.value})),className:"form-modern w-full"})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0631\u0642\u0645 \u0627\u0644\u0645\u0648\u0638\u0641"}),(0,zt.jsx)("input",{type:"text",value:O.employee_id,onChange:e=>R(d(d({},O),{},{employee_id:e.target.value})),className:"form-modern w-full"})]})]}),(0,zt.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,zt.jsx)("button",{type:"submit",disabled:s,className:"btn-primary flex-1",children:s?"\u062c\u0627\u0631\u064a \u0627\u0644\u0625\u0646\u0634\u0627\u0621...":"\u2705 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),(0,zt.jsx)("button",{type:"button",onClick:()=>z(!1),className:"btn-secondary flex-1",children:"\u0625\u0644\u063a\u0627\u0621"})]})]})]})}),E&&N&&(0,zt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,zt.jsxs)("div",{className:"modal-modern p-8 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,zt.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u270f\ufe0f \u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),(0,zt.jsx)("button",{onClick:()=>T(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\u2715"})]}),(0,zt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),N)try{const e=localStorage.getItem("token");await Lt.put("".concat(Ot,"/users/").concat(N.id),N,{headers:{Authorization:"Bearer ".concat(e)}}),u('\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 "'.concat(N.full_name,'" \u0628\u0646\u062c\u0627\u062d')),T(!1),w(null),J()}catch(i){o("\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645")}},className:"space-y-6",children:[(0,zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),(0,zt.jsx)("input",{type:"text",value:N.username,onChange:e=>w(d(d({},N),{},{username:e.target.value})),className:"form-modern w-full"})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a"}),(0,zt.jsx)("input",{type:"email",value:N.email,onChange:e=>w(d(d({},N),{},{email:e.target.value})),className:"form-modern w-full"})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644"}),(0,zt.jsx)("input",{type:"text",value:N.full_name,onChange:e=>w(d(d({},N),{},{full_name:e.target.value})),className:"form-modern w-full"})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641"}),(0,zt.jsx)("input",{type:"tel",value:N.phone||"",onChange:e=>w(d(d({},N),{},{phone:e.target.value})),className:"form-modern w-full"})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u062f\u0648\u0631"}),(0,zt.jsxs)("select",{value:N.role,onChange:e=>w(d(d({},N),{},{role:e.target.value})),className:"form-modern w-full",children:[(0,zt.jsx)("option",{value:"admin",children:"\u0645\u062f\u064a\u0631 \u0627\u0644\u0646\u0638\u0627\u0645"}),(0,zt.jsx)("option",{value:"manager",children:"\u0645\u062f\u064a\u0631"}),(0,zt.jsx)("option",{value:"sales_rep",children:"\u0645\u0646\u062f\u0648\u0628 \u0645\u0628\u064a\u0639\u0627\u062a"}),(0,zt.jsx)("option",{value:"warehouse_manager",children:"\u0645\u062f\u064a\u0631 \u0645\u062e\u0632\u0646"}),(0,zt.jsx)("option",{value:"accounting",children:"\u0645\u062d\u0627\u0633\u0628"})]})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0642\u0633\u0645"}),(0,zt.jsx)("input",{type:"text",value:N.department||"",onChange:e=>w(d(d({},N),{},{department:e.target.value})),className:"form-modern w-full"})]})]}),(0,zt.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,zt.jsx)("button",{type:"submit",disabled:s,className:"btn-primary flex-1",children:s?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u062f\u064a\u062b...":"\u2705 \u062d\u0641\u0638 \u0627\u0644\u062a\u063a\u064a\u064a\u0631\u0627\u062a"}),(0,zt.jsx)("button",{type:"button",onClick:()=>T(!1),className:"btn-secondary flex-1",children:"\u0625\u0644\u063a\u0627\u0621"})]})]})]})}),k&&N&&(0,zt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,zt.jsxs)("div",{className:"modal-modern p-8 w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,zt.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\ud83d\udc41\ufe0f \u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),(0,zt.jsx)("button",{onClick:()=>S(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\u2715"})]}),(0,zt.jsxs)("div",{className:"space-y-6",children:[(0,zt.jsxs)("div",{className:"card-modern p-6",children:[(0,zt.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0623\u0633\u0627\u0633\u064a\u0629"}),(0,zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"text-sm font-bold text-gray-500",children:"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644"}),(0,zt.jsx)("p",{className:"text-lg font-medium",children:N.full_name})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"text-sm font-bold text-gray-500",children:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),(0,zt.jsx)("p",{className:"text-lg font-medium",children:N.username})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"text-sm font-bold text-gray-500",children:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a"}),(0,zt.jsx)("p",{className:"text-lg font-medium",children:N.email})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"text-sm font-bold text-gray-500",children:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641"}),(0,zt.jsx)("p",{className:"text-lg font-medium",children:N.phone||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"text-sm font-bold text-gray-500",children:"\u0627\u0644\u062f\u0648\u0631"}),(0,zt.jsx)("p",{className:"text-lg font-medium",children:(0,zt.jsx)("span",{className:"badge-modern ".concat("admin"===N.role?"badge-danger":"manager"===N.role?"badge-warning":"sales_rep"===N.role?"badge-info":"badge-success"),children:Z(N.role)})})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"text-sm font-bold text-gray-500",children:"\u0627\u0644\u062d\u0627\u0644\u0629"}),(0,zt.jsx)("p",{className:"text-lg font-medium",children:(0,zt.jsx)("span",{className:"badge-modern ".concat(N.is_active?"badge-success":"badge-danger"),children:N.is_active?"\u2705 \u0646\u0634\u0637":"\u274c \u0645\u0639\u0637\u0644"})})]})]})]}),N.statistics&&(0,zt.jsxs)("div",{className:"card-modern p-6",children:[(0,zt.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a"}),(0,zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[void 0!==N.statistics.total_visits&&(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"text-sm font-bold text-gray-500",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a"}),(0,zt.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:N.statistics.total_visits})]}),void 0!==N.statistics.total_orders&&(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"text-sm font-bold text-gray-500",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0637\u0644\u0628\u0627\u062a"}),(0,zt.jsx)("p",{className:"text-2xl font-bold text-green-600",children:N.statistics.total_orders})]})]})]}),(0,zt.jsxs)("div",{className:"card-modern p-6",children:[(0,zt.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0646\u0634\u0627\u0637"}),(0,zt.jsxs)("div",{className:"space-y-2",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"text-sm font-bold text-gray-500",children:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0646\u0634\u0627\u0621"}),(0,zt.jsx)("p",{className:"text-lg",children:new Date(N.created_at).toLocaleDateString("ar-EG")})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"text-sm font-bold text-gray-500",children:"\u0622\u062e\u0631 \u062f\u062e\u0648\u0644"}),(0,zt.jsx)("p",{className:"text-lg",children:N.last_login?new Date(N.last_login).toLocaleString("ar-EG"):"\u0644\u0645 \u064a\u0633\u062c\u0644 \u062f\u062e\u0648\u0644 \u0628\u0639\u062f"})]})]})]})]}),(0,zt.jsx)("div",{className:"flex justify-end mt-6",children:(0,zt.jsx)("button",{onClick:()=>S(!1),className:"btn-primary px-6 py-3",children:"\u0625\u063a\u0644\u0627\u0642"})})]})})]})]})},xn=()=>{const[e,t]=(0,a.useState)(null),[n,r]=(0,a.useState)(!0);return(0,a.useEffect)((()=>{const e=async()=>{try{const e=localStorage.getItem("token"),n=await Lt.get("".concat(Ot,"/analytics/realtime"),{headers:{Authorization:"Bearer ".concat(e)}});t(n.data)}catch(e){console.error("Error fetching real-time analytics:",e)}finally{r(!1)}};e();const n=setInterval(e,3e4);return()=>clearInterval(n)}),[]),{analytics:e,loading:n}},gn=e=>{var t,n,r,s,l;let{user:i,onLogout:o,onSearchOpen:c}=e;const{theme:d,changeTheme:u}=Bt(),{language:m,changeLanguage:f,t:h,isRTL:p}=Dt(),[x,g]=(0,a.useState)(!1),v=[{id:"light",name:h("themeLight"),icon:"\u2600\ufe0f"},{id:"dark",name:h("themeDark"),icon:"\ud83c\udf19"},{id:"minimal",name:h("themeMinimal"),icon:"\u26aa"},{id:"modern",name:h("themeModern"),icon:"\ud83d\udd2e"},{id:"fancy",name:h("themeFancy"),icon:"\u2728"},{id:"cyber",name:h("themeCyber"),icon:"\ud83d\udc9a"},{id:"sunset",name:h("themeSunset"),icon:"\ud83c\udf05"},{id:"ocean",name:h("themeOcean"),icon:"\ud83c\udf0a"},{id:"forest",name:h("themeForest"),icon:"\ud83c\udf32"}];return(0,zt.jsx)("header",{className:"header-enhanced sticky top-0 z-50 px-6 py-4",children:(0,zt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,zt.jsx)("div",{className:"w-12 h-12 glass-effect rounded-full flex items-center justify-center",children:(0,zt.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:(0,zt.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"white",children:(0,zt.jsx)("path",{d:"M12 2L2 7v10c0 5.55 3.84 9.74 9 11 5.16-1.26 9-5.45 9-11V7l-10-5z"})})})}),(0,zt.jsx)("h1",{className:"header-brand system-brand ".concat(p?"arabic":"english"),children:h("systemName")})]}),(0,zt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,zt.jsx)("button",{onClick:c,className:"glass-effect p-3 rounded-full hover:scale-105 transition-transform",title:h("search"),children:(0,zt.jsx)(Vt,{name:"search",size:20,className:"svg-icon-animated"})}),(0,zt.jsx)(It,{}),(0,zt.jsxs)("button",{onClick:()=>{const e=v.findIndex((e=>e.id===d)),t=(e+1)%v.length;u(v[t].id)},className:"theme-toggle-button glass-effect p-3 rounded-full hover:scale-105 transition-all duration-300 flex items-center gap-2",title:"ar"===m?"\u0627\u0644\u062b\u064a\u0645 \u0627\u0644\u062d\u0627\u0644\u064a: ".concat(null===(t=v.find((e=>e.id===d)))||void 0===t?void 0:t.name," - \u0627\u0636\u063a\u0637 \u0644\u0644\u062a\u0628\u062f\u064a\u0644"):"Current: ".concat(null===(n=v.find((e=>e.id===d)))||void 0===n?void 0:n.name," - Click to switch"),children:[(0,zt.jsx)("span",{className:"text-lg transition-transform duration-300 hover:rotate-12",children:null===(r=v.find((e=>e.id===d)))||void 0===r?void 0:r.icon}),(0,zt.jsx)(Vt,{name:"theme",size:16,className:"svg-icon-animated"})]}),(0,zt.jsxs)("div",{className:"relative",children:[(0,zt.jsxs)("button",{onClick:()=>g(!x),className:"flex items-center gap-3 glass-effect px-4 py-2 rounded-full hover:scale-105 transition-transform",children:[(0,zt.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-orange-500 to-pink-500 flex items-center justify-center text-white font-bold text-sm",children:(null===(s=i.full_name)||void 0===s?void 0:s.charAt(0))||(null===(l=i.username)||void 0===l?void 0:l.charAt(0))||"U"}),(0,zt.jsx)("span",{className:"font-medium hidden md:block",style:{color:"var(--text-primary)"},children:i.full_name||i.username}),(0,zt.jsx)(Vt,{name:"user",size:16})]}),x&&(0,zt.jsxs)("div",{className:"absolute top-full right-0 mt-2 glass-effect rounded-xl p-2 min-w-48 border border-white border-opacity-20",children:[(0,zt.jsxs)("div",{className:"p-3 border-b border-white border-opacity-20",children:[(0,zt.jsx)("div",{className:"font-semibold",style:{color:"var(--text-primary)"},children:i.full_name||i.username}),(0,zt.jsxs)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:[h(i.role||"user")," \u2022 ",i.email]})]}),(0,zt.jsxs)("div",{className:"py-2 space-y-1",children:[(0,zt.jsxs)("button",{className:"w-full text-left px-3 py-2 rounded-lg hover:bg-white hover:bg-opacity-10 transition-colors flex items-center gap-3",style:{color:"var(--text-primary)"},children:[(0,zt.jsx)(Vt,{name:"user",size:16}),(0,zt.jsx)("span",{children:"ar"===m?"\u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a":"Profile"})]}),(0,zt.jsxs)("button",{className:"w-full text-left px-3 py-2 rounded-lg hover:bg-white hover:bg-opacity-10 transition-colors flex items-center gap-3",style:{color:"var(--text-primary)"},children:[(0,zt.jsx)(Vt,{name:"settings",size:16}),(0,zt.jsx)("span",{children:h("settings")})]}),(0,zt.jsx)("div",{className:"border-t border-white border-opacity-20 my-2"}),(0,zt.jsxs)("button",{onClick:o,className:"w-full text-left px-3 py-2 rounded-lg hover:bg-red-500 hover:bg-opacity-20 transition-colors flex items-center gap-3 text-red-400",children:[(0,zt.jsx)(Vt,{name:"close",size:16}),(0,zt.jsx)("span",{children:h("logout")})]})]})]})]})]})]})})},vn=()=>{const{theme:e,language:t}=Bt(),n=(new Date).getFullYear();return(0,zt.jsx)("footer",{className:"glass-effect border-t border-white border-opacity-20 py-8 px-6",style:{background:"var(--secondary-bg)"},children:(0,zt.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,zt.jsxs)("div",{className:"space-y-4",children:[(0,zt.jsx)("h3",{className:"text-lg font-bold text-gradient",children:"EP Group System"}),(0,zt.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"ar"===t?"\u0646\u0638\u0627\u0645 \u0625\u062f\u0627\u0631\u0629 \u0634\u0627\u0645\u0644 \u0644\u0644\u0645\u0624\u0633\u0633\u0627\u062a \u0645\u0639 \u0646\u0638\u0627\u0645 \u0645\u062d\u0627\u0633\u0628\u0629 \u0645\u062a\u0643\u0627\u0645\u0644\u060c \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0646\u0627\u062f\u064a\u0628\u060c \u0627\u0644\u0645\u062e\u0627\u0632\u0646\u060c \u0648\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631 \u0627\u0644\u0645\u0627\u0644\u064a\u0629":"Comprehensive enterprise management system with integrated accounting, sales rep management, warehouses, and financial reporting"}),(0,zt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zt.jsx)("span",{className:"text-green-400",children:"\u25cf"}),(0,zt.jsx)("span",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"ar"===t?"\u0627\u0644\u0646\u0638\u0627\u0645 \u0645\u062a\u0627\u062d 24/7":"System Available 24/7"})]})]}),(0,zt.jsxs)("div",{className:"space-y-4",children:[(0,zt.jsx)("h4",{className:"font-semibold",style:{color:"var(--text-primary)"},children:"ar"===t?"\u0645\u0645\u064a\u0632\u0627\u062a \u0627\u0644\u0646\u0638\u0627\u0645":"System Features"}),(0,zt.jsxs)("ul",{className:"space-y-2",children:[(0,zt.jsx)("li",{children:(0,zt.jsxs)("a",{href:"#accounting",className:"text-sm hover:text-blue-500 transition-colors",style:{color:"var(--text-secondary)"},children:["\ud83d\udcb0 ","ar"===t?"\u0646\u0638\u0627\u0645 \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629":"Accounting System"]})}),(0,zt.jsx)("li",{children:(0,zt.jsxs)("a",{href:"#sales",className:"text-sm hover:text-blue-500 transition-colors",style:{color:"var(--text-secondary)"},children:["\ud83d\udc65 ","ar"===t?"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0646\u0627\u062f\u064a\u0628":"Sales Management"]})}),(0,zt.jsx)("li",{children:(0,zt.jsxs)("a",{href:"#warehouse",className:"text-sm hover:text-blue-500 transition-colors",style:{color:"var(--text-secondary)"},children:["\ud83c\udfea ","ar"===t?"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u062e\u0627\u0632\u0646":"Warehouse Management"]})}),(0,zt.jsx)("li",{children:(0,zt.jsxs)("a",{href:"#reports",className:"text-sm hover:text-blue-500 transition-colors",style:{color:"var(--text-secondary)"},children:["\ud83d\udcca ","ar"===t?"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631 \u0627\u0644\u0645\u0627\u0644\u064a\u0629":"Financial Reports"]})})]})]}),(0,zt.jsxs)("div",{className:"space-y-4",children:[(0,zt.jsx)("h4",{className:"font-semibold",style:{color:"var(--text-primary)"},children:"ar"===t?"\u0627\u0644\u062f\u0639\u0645 \u0648\u0627\u0644\u0645\u0633\u0627\u0639\u062f\u0629":"Support & Help"}),(0,zt.jsxs)("ul",{className:"space-y-2",children:[(0,zt.jsx)("li",{children:(0,zt.jsxs)("a",{href:"#help",className:"text-sm hover:text-blue-500 transition-colors",style:{color:"var(--text-secondary)"},children:["\ud83d\udcd6 ","ar"===t?"\u062f\u0644\u064a\u0644 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645":"User Guide"]})}),(0,zt.jsx)("li",{children:(0,zt.jsxs)("a",{href:"#support",className:"text-sm hover:text-blue-500 transition-colors",style:{color:"var(--text-secondary)"},children:["\ud83d\udee0\ufe0f ","ar"===t?"\u0627\u0644\u062f\u0639\u0645 \u0627\u0644\u0641\u0646\u064a":"Technical Support"]})}),(0,zt.jsx)("li",{children:(0,zt.jsxs)("a",{href:"#updates",className:"text-sm hover:text-blue-500 transition-colors",style:{color:"var(--text-secondary)"},children:["\ud83d\udd04 ","ar"===t?"\u0627\u0644\u062a\u062d\u062f\u064a\u062b\u0627\u062a":"System Updates"]})})]})]}),(0,zt.jsxs)("div",{className:"space-y-4",children:[(0,zt.jsx)("h4",{className:"font-semibold",style:{color:"var(--text-primary)"},children:"ar"===t?"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062a\u0648\u0627\u0635\u0644":"Contact Info"}),(0,zt.jsxs)("div",{className:"space-y-2",children:[(0,zt.jsxs)("p",{className:"text-sm flex items-center gap-2",style:{color:"var(--text-secondary)"},children:[(0,zt.jsxs)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:[(0,zt.jsx)("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),(0,zt.jsx)("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]}),"support@epgroup.com"]}),(0,zt.jsxs)("p",{className:"text-sm flex items-center gap-2",style:{color:"var(--text-secondary)"},children:[(0,zt.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,zt.jsx)("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})}),"+20 100 123 4567"]}),(0,zt.jsxs)("p",{className:"text-sm flex items-center gap-2",style:{color:"var(--text-secondary)"},children:[(0,zt.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,zt.jsx)("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),"ar"===t?"\u0627\u0644\u0642\u0627\u0647\u0631\u0629\u060c \u0645\u0635\u0631":"Cairo, Egypt"]}),(0,zt.jsxs)("div",{className:"flex items-center gap-2 pt-2",children:[(0,zt.jsx)("span",{className:"text-xs",style:{color:"var(--text-muted)"},children:"ar"===t?"\u0633\u0627\u0639\u0627\u062a \u0627\u0644\u0639\u0645\u0644:":"Working Hours:"}),(0,zt.jsx)("span",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"24/7"})]})]})]})]}),(0,zt.jsxs)("div",{className:"mt-8 pt-8 border-t border-white border-opacity-20 flex flex-col md:flex-row justify-between items-center",children:[(0,zt.jsxs)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["\xa9 ",n," EP Group System.","ar"===t?" \u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0642\u0648\u0642 \u0645\u062d\u0641\u0648\u0638\u0629.":" All rights reserved."]}),(0,zt.jsx)("div",{className:"mt-6 md:mt-0 text-center md:text-right",children:(0,zt.jsxs)("div",{className:"animated-copyright-section p-6 rounded-xl",style:{background:"linear-gradient(45deg, rgba(255,107,53,0.1), rgba(247,147,30,0.1), rgba(255,210,63,0.1), rgba(6,214,160,0.1), rgba(17,138,178,0.1), rgba(7,59,76,0.1))",backgroundSize:"300% 300%",animation:"gradientShift 4s ease infinite",border:"2px solid transparent",borderImage:"linear-gradient(45deg, #ff6b35, #f7931e, #ffd23f, #06d6a0, #118ab2, #073b4c) 1",borderImageSlice:1},children:[(0,zt.jsx)("div",{className:"text-sm mb-3 font-semibold",style:{color:"var(--text-primary)",textShadow:"0 2px 4px rgba(0,0,0,0.3)"},children:"\u062c\u0645\u064a\u0639 \u062d\u0642\u0648\u0642 \u0627\u0644\u0645\u0644\u0643\u064a\u0647 \u0627\u0644\u0641\u0643\u0631\u064a\u0647 \u0645\u062d\u0641\u0648\u0638\u0647"}),(0,zt.jsx)("div",{className:"text-xl font-bold mb-4",style:{fontFamily:'"Roboto", "Tajawal", sans-serif',letterSpacing:"2px",background:"linear-gradient(45deg, #ff6b35, #f7931e, #ffd23f, #06d6a0, #118ab2, #073b4c)",backgroundSize:"300% 300%",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",animation:"gradientShift 3s ease infinite, bounce 3s infinite",textShadow:"none"},children:"Mahmoud Elmnakhli"}),(0,zt.jsxs)("a",{href:"https://facebook.com/mafiaidola",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-3 text-sm px-4 py-2 rounded-full transition-all duration-500 hover:scale-110 hover:rotate-3",style:{background:"linear-gradient(135deg, #1877f2, #42a5f5, #64b5f6)",color:"white",textDecoration:"none",boxShadow:"0 6px 20px rgba(24, 119, 242, 0.4)",animation:"socialPulse 4s ease-in-out infinite",border:"2px solid rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)"},children:[(0,zt.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,zt.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),(0,zt.jsx)("span",{style:{fontWeight:"600"},children:"Facebook Profile"}),(0,zt.jsx)("div",{className:"w-2 h-2 rounded-full bg-white opacity-70",style:{animation:"pulse 2s infinite"}})]})]})})]})]})})},bn=()=>{const[e,t]=(0,a.useState)(!1),[n,r]=(0,a.useState)(""),[s,l]=(0,a.useState)(!1),[i,o]=(0,a.useState)(""),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)("all"),[f,h]=(0,a.useState)(""),[p,x]=(0,a.useState)(""),[g,v]=(0,a.useState)(""),[b,y]=(0,a.useState)([]);(0,a.useEffect)((()=>{const e=new Date,t=new Date(e.getTime()-2592e6);h(t.toISOString().split("T")[0]),x(e.toISOString().split("T")[0]),j()}),[]);const j=async()=>{try{const e=localStorage.getItem("token"),t=await Lt.get("".concat(Ot,"/users"),{headers:{Authorization:"Bearer ".concat(e)}});y(t.data)}catch(i){console.error("Error fetching users:",i)}},N=async()=>{l(!0),o("");try{const e=localStorage.getItem("token");(await Lt.post("".concat(Ot,"/reports/secret/access"),{password:n},{headers:{Authorization:"Bearer ".concat(e)}})).data.access_granted&&(t(!0),w())}catch(i){var e,r;o((null===(e=i.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.detail)||"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u0629")}finally{l(!1)}},w=async()=>{l(!0);try{const e=localStorage.getItem("token"),t=await Lt.get("".concat(Ot,"/reports/secret/comprehensive"),{params:{password:n,filter_type:u,start_date:f?"".concat(f,"T00:00:00"):void 0,end_date:p?"".concat(p,"T23:59:59"):void 0,user_filter:g||void 0},headers:{Authorization:"Bearer ".concat(e)}});d(t.data)}catch(i){o("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u062a\u0642\u0631\u064a\u0631")}finally{l(!1)}};return e?(0,zt.jsx)("div",{className:"min-h-screen p-6",style:{background:"var(--gradient-dark)"},children:(0,zt.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,zt.jsx)("div",{className:"glass-effect p-6 rounded-2xl mb-6",children:(0,zt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,zt.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500 to-orange-600 rounded-full flex items-center justify-center",children:(0,zt.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"white",children:(0,zt.jsx)("path",{d:"M12 1L3 5v6c0 5.55 3.84 9.74 9 11 5.16-1.26 9-5.45 9-11V5l-9-4z"})})}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("h1",{className:"text-2xl font-bold text-red-500",children:"\u0627\u0644\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0633\u0631\u064a \u0627\u0644\u0634\u0627\u0645\u0644"}),(0,zt.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0623\u0646\u0634\u0637\u0629 \u0648\u0627\u0644\u062d\u0631\u0643\u0627\u062a \u0641\u064a \u0627\u0644\u0646\u0638\u0627\u0645"})]})]}),(0,zt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,zt.jsxs)("button",{onClick:()=>{const e=document.getElementById("secret-report-content"),t=document.body.innerHTML;document.body.innerHTML=e.outerHTML,window.print(),document.body.innerHTML=t,window.location.reload()},className:"btn-modern px-4 py-2 flex items-center gap-2",disabled:!c,children:[(0,zt.jsx)(Vt,{name:"print",size:16}),"\u0637\u0628\u0627\u0639\u0629"]}),(0,zt.jsxs)("button",{onClick:()=>t(!1),className:"btn-modern bg-red-500 hover:bg-red-600 px-4 py-2 flex items-center gap-2",children:[(0,zt.jsx)(Vt,{name:"logout",size:16}),"\u062e\u0631\u0648\u062c"]})]})]})}),(0,zt.jsxs)("div",{className:"glass-effect p-6 rounded-2xl mb-6",children:[(0,zt.jsx)("h3",{className:"text-lg font-bold mb-4",children:"\u0641\u0644\u0627\u062a\u0631 \u0627\u0644\u062a\u0642\u0631\u064a\u0631"}),(0,zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0646\u0648\u0639 \u0627\u0644\u0646\u0634\u0627\u0637"}),(0,zt.jsxs)("select",{value:u,onChange:e=>m(e.target.value),className:"w-full p-3 rounded-lg glass-effect border-2 focus:outline-none focus:ring-2 focus:ring-red-500",style:{borderColor:"var(--border-color)"},children:[(0,zt.jsx)("option",{value:"all",children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0623\u0646\u0634\u0637\u0629"}),(0,zt.jsx)("option",{value:"users",children:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"}),(0,zt.jsx)("option",{value:"visits",children:"\u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a"}),(0,zt.jsx)("option",{value:"orders",children:"\u0627\u0644\u0637\u0644\u0628\u0627\u062a"}),(0,zt.jsx)("option",{value:"clinics",children:"\u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a"}),(0,zt.jsx)("option",{value:"warehouse",children:"\u0627\u0644\u0645\u062e\u0627\u0632\u0646"}),(0,zt.jsx)("option",{value:"system",children:"\u0627\u0644\u0646\u0638\u0627\u0645"}),(0,zt.jsx)("option",{value:"login",children:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644"})]})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0645\u0646 \u062a\u0627\u0631\u064a\u062e"}),(0,zt.jsx)("input",{type:"date",value:f,onChange:e=>h(e.target.value),className:"w-full p-3 rounded-lg glass-effect border-2 focus:outline-none focus:ring-2 focus:ring-red-500",style:{borderColor:"var(--border-color)"}})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0625\u0644\u0649 \u062a\u0627\u0631\u064a\u062e"}),(0,zt.jsx)("input",{type:"date",value:p,onChange:e=>x(e.target.value),className:"w-full p-3 rounded-lg glass-effect border-2 focus:outline-none focus:ring-2 focus:ring-red-500",style:{borderColor:"var(--border-color)"}})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),(0,zt.jsxs)("select",{value:g,onChange:e=>v(e.target.value),className:"w-full p-3 rounded-lg glass-effect border-2 focus:outline-none focus:ring-2 focus:ring-red-500",style:{borderColor:"var(--border-color)"},children:[(0,zt.jsx)("option",{value:"",children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"}),b.map((e=>(0,zt.jsx)("option",{value:e.id,children:e.full_name},e.id)))]})]})]}),(0,zt.jsx)("div",{className:"mt-4",children:(0,zt.jsxs)("button",{onClick:w,disabled:s,className:"btn-modern px-6 py-3 flex items-center gap-2",children:[(0,zt.jsx)(Vt,{name:"search",size:16}),s?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644...":"\u062a\u062d\u062f\u064a\u062b \u0627\u0644\u062a\u0642\u0631\u064a\u0631"]})})]}),(0,zt.jsx)("div",{id:"secret-report-content",className:"glass-effect p-6 rounded-2xl",children:c&&(0,zt.jsxs)(zt.Fragment,{children:[(0,zt.jsxs)("div",{className:"mb-6",children:[(0,zt.jsx)("h3",{className:"text-lg font-bold mb-4",children:"\u0645\u0644\u062e\u0635 \u0627\u0644\u062a\u0642\u0631\u064a\u0631"}),(0,zt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,zt.jsxs)("div",{className:"bg-blue-500 bg-opacity-20 p-4 rounded-lg text-center",children:[(0,zt.jsx)("div",{className:"text-2xl font-bold text-blue-300",children:c.summary.total_activities}),(0,zt.jsx)("div",{className:"text-sm",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0623\u0646\u0634\u0637\u0629"})]}),(0,zt.jsxs)("div",{className:"bg-green-500 bg-opacity-20 p-4 rounded-lg text-center",children:[(0,zt.jsx)("div",{className:"text-2xl font-bold text-green-300",children:c.summary.categories.visits}),(0,zt.jsx)("div",{className:"text-sm",children:"\u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a"})]}),(0,zt.jsxs)("div",{className:"bg-orange-500 bg-opacity-20 p-4 rounded-lg text-center",children:[(0,zt.jsx)("div",{className:"text-2xl font-bold text-orange-300",children:c.summary.categories.orders}),(0,zt.jsx)("div",{className:"text-sm",children:"\u0627\u0644\u0637\u0644\u0628\u0627\u062a"})]}),(0,zt.jsxs)("div",{className:"bg-purple-500 bg-opacity-20 p-4 rounded-lg text-center",children:[(0,zt.jsx)("div",{className:"text-2xl font-bold text-purple-300",children:c.summary.categories.users}),(0,zt.jsx)("div",{className:"text-sm",children:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"})]})]})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsxs)("h3",{className:"text-lg font-bold mb-4",children:["\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0623\u0646\u0634\u0637\u0629 (",c.activities.length,")"]}),(0,zt.jsx)("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:c.activities.map(((e,t)=>{return(0,zt.jsx)("div",{className:"border-b border-white border-opacity-10 pb-3",children:(0,zt.jsxs)("div",{className:"flex items-start gap-4",children:[(0,zt.jsx)("div",{className:"flex-shrink-0",children:(0,zt.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center ".concat((r=e.category,{"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646":"bg-blue-500","\u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a":"bg-green-500","\u0627\u0644\u0637\u0644\u0628\u0627\u062a":"bg-orange-500","\u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a":"bg-purple-500","\u0627\u0644\u0645\u062e\u0627\u0632\u0646":"bg-red-500","\u0627\u0644\u0646\u0638\u0627\u0645":"bg-gray-500","\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644":"bg-indigo-500"}[r]||"bg-gray-500")),children:(0,zt.jsx)(Vt,{name:(n=e.action,{USER_REGISTRATION:"user",VISIT_REGISTERED:"visits",ORDER_CREATED:"warehouse",CLINIC_ADDED:"warehouse",STOCK_MOVEMENT:"warehouse",USER_LOGIN:"user",SECRET_REPORTS_ACCESS:"settings"}[n]||"settings"),size:16})})}),(0,zt.jsxs)("div",{className:"flex-1",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("h4",{className:"font-medium",children:e.description}),(0,zt.jsxs)("div",{className:"flex items-center gap-4 text-sm",style:{color:"var(--text-secondary)"},children:[(0,zt.jsxs)("span",{children:["\u0628\u0648\u0627\u0633\u0637\u0629: ",e.user_name]}),(0,zt.jsxs)("span",{children:["\u0627\u0644\u062f\u0648\u0631: ",e.user_role]}),(0,zt.jsxs)("span",{children:["\u0627\u0644\u062a\u0635\u0646\u064a\u0641: ",e.category]})]})]}),(0,zt.jsxs)("div",{className:"text-sm text-right",style:{color:"var(--text-muted)"},children:[(0,zt.jsx)("div",{children:new Date(e.timestamp).toLocaleDateString("ar-EG")}),(0,zt.jsx)("div",{children:new Date(e.timestamp).toLocaleTimeString("ar-EG")})]})]}),(0,zt.jsx)("div",{className:"mt-2 text-sm bg-gray-500 bg-opacity-20 p-3 rounded-lg",children:(0,zt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:Object.entries(e.details).map((e=>{let[t,n]=e;return(0,zt.jsxs)("div",{className:"flex justify-between",children:[(0,zt.jsxs)("span",{className:"font-medium",children:[t,":"]}),(0,zt.jsx)("span",{children:"object"===typeof n?JSON.stringify(n):String(n)})]},t)}))})})]})]})},e.id);var n,r}))})]}),(0,zt.jsxs)("div",{className:"mt-6 pt-4 border-t border-white border-opacity-20 text-center",children:[(0,zt.jsxs)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["\u062a\u0645 \u0625\u0646\u0634\u0627\u0621 \u0647\u0630\u0627 \u0627\u0644\u062a\u0642\u0631\u064a\u0631 \u0628\u0648\u0627\u0633\u0637\u0629: ",c.summary.generated_by]}),(0,zt.jsxs)("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:["\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0646\u0634\u0627\u0621: ",new Date(c.summary.generated_at).toLocaleString("ar-EG")]})]})]})})]})}):(0,zt.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{background:"var(--gradient-dark)"},children:(0,zt.jsxs)("div",{className:"glass-effect p-8 rounded-2xl shadow-2xl w-full max-w-md",children:[(0,zt.jsxs)("div",{className:"text-center mb-6",children:[(0,zt.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-red-500 to-orange-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,zt.jsx)("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"white",children:(0,zt.jsx)("path",{d:"M12 1L3 5v6c0 5.55 3.84 9.74 9 11 5.16-1.26 9-5.45 9-11V5l-9-4zM12 7c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})})}),(0,zt.jsx)("h2",{className:"text-2xl font-bold text-red-500 mb-2",children:"\u0627\u0644\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0633\u0631\u064a"}),(0,zt.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u064a\u062a\u0637\u0644\u0628 \u0643\u0644\u0645\u0629 \u0645\u0631\u0648\u0631 \u0644\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062d\u0633\u0627\u0633\u0629"})]}),(0,zt.jsxs)("div",{className:"space-y-4",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"}),(0,zt.jsx)("input",{type:"password",value:n,onChange:e=>r(e.target.value),placeholder:"\u0623\u062f\u062e\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",className:"w-full p-3 rounded-lg border-2 focus:outline-none focus:ring-2 focus:ring-red-500 glass-effect",style:{borderColor:"var(--border-color)",color:"var(--text-primary)"},onKeyPress:e=>"Enter"===e.key&&N()})]}),i&&(0,zt.jsx)("div",{className:"bg-red-500 bg-opacity-20 text-red-300 p-3 rounded-lg text-sm",children:i}),(0,zt.jsx)("button",{onClick:N,disabled:s||!n,className:"w-full btn-modern bg-red-500 hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0642\u0642...":"\u062f\u062e\u0648\u0644"})]}),(0,zt.jsx)("div",{className:"mt-6 text-center",children:(0,zt.jsx)("p",{className:"text-xs",style:{color:"var(--text-muted)"},children:"\u26a0\ufe0f \u0647\u0630\u0627 \u0627\u0644\u0642\u0633\u0645 \u0645\u062e\u0635\u0635 \u0644\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062d\u0633\u0627\u0633\u0629 \u0648\u0627\u0644\u0633\u0631\u064a\u0629"})})]})})},yn=()=>{const[e,t]=(0,a.useState)("visits_performance"),[n,r]=(0,a.useState)(null),[s,l]=(0,a.useState)(!1),[i,o]=(0,a.useState)({start_date:new Date(Date.now()-2592e6).toISOString().split("T")[0],end_date:(new Date).toISOString().split("T")[0]}),c=async()=>{l(!0);try{const t=localStorage.getItem("token"),n=new URLSearchParams({report_type:e,start_date:i.start_date,end_date:i.end_date}),a=await Lt.get("".concat(Ot,"/reports/advanced?").concat(n),{headers:{Authorization:"Bearer ".concat(t)}});r(a.data)}catch(t){console.error("Error fetching report:",t)}finally{l(!1)}};(0,a.useEffect)((()=>{c()}),[e,i]);const u=e=>{let{data:t,type:n,title:r}=e;return t&&t.data?(0,zt.jsxs)("div",{className:"card-modern p-6",children:[(0,zt.jsx)("h3",{className:"text-xl font-bold mb-4 text-center",children:r}),(0,zt.jsx)("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:(0,zt.jsxs)("div",{className:"text-center",children:[(0,zt.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udcca"}),(0,zt.jsx)("p",{className:"text-gray-600",children:"\u0631\u0633\u0645 \u0628\u064a\u0627\u0646\u064a \u062a\u0641\u0627\u0639\u0644\u064a"}),(0,zt.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:[t.data.length," \u0646\u0642\u0637\u0629 \u0628\u064a\u0627\u0646\u0627\u062a"]}),(0,zt.jsx)("div",{className:"mt-4 text-xs text-gray-400",children:t.data.slice(0,3).map(((e,t)=>(0,zt.jsxs)("div",{children:[e._id,": ",e.total_visits||e.total_orders||"N/A"]},t)))})]})})]}):(0,zt.jsx)("div",{children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a \u0644\u0644\u0639\u0631\u0636"})};return(0,zt.jsx)("div",{style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh"},children:(0,zt.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,zt.jsx)("div",{className:"flex items-center justify-between mb-8",children:(0,zt.jsxs)("div",{className:"flex items-center",children:[(0,zt.jsx)("div",{className:"w-16 h-16 card-gradient-green rounded-full flex items-center justify-center ml-4 glow-pulse",children:(0,zt.jsx)("span",{className:"text-3xl",children:"\ud83d\udcc8"})}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("h2",{className:"text-4xl font-bold text-gradient",children:"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631 \u0627\u0644\u062a\u0641\u0627\u0639\u0644\u064a\u0629 \u0627\u0644\u0645\u062a\u0642\u062f\u0645\u0629"}),(0,zt.jsx)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:"\u062a\u062d\u0644\u064a\u0644\u0627\u062a \u0648\u062a\u0642\u0627\u0631\u064a\u0631 \u0634\u0627\u0645\u0644\u0629 \u0645\u0639 \u0631\u0633\u0648\u0645 \u0628\u064a\u0627\u0646\u064a\u0629 \u062a\u0641\u0627\u0639\u0644\u064a\u0629"})]})]})}),(0,zt.jsx)("div",{className:"card-modern p-6 mb-8",children:(0,zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0646\u0648\u0639 \u0627\u0644\u062a\u0642\u0631\u064a\u0631:"}),(0,zt.jsxs)("select",{value:e,onChange:e=>t(e.target.value),className:"form-modern w-full",children:[(0,zt.jsx)("option",{value:"visits_performance",children:"\u0623\u062f\u0627\u0621 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a"}),(0,zt.jsx)("option",{value:"sales_by_rep",children:"\u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a \u0628\u0648\u0627\u0633\u0637\u0629 \u0627\u0644\u0645\u0646\u0627\u062f\u064a\u0628"})]})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0645\u0646 \u062a\u0627\u0631\u064a\u062e:"}),(0,zt.jsx)("input",{type:"date",value:i.start_date,onChange:e=>o(d(d({},i),{},{start_date:e.target.value})),className:"form-modern w-full"})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0625\u0644\u0649 \u062a\u0627\u0631\u064a\u062e:"}),(0,zt.jsx)("input",{type:"date",value:i.end_date,onChange:e=>o(d(d({},i),{},{end_date:e.target.value})),className:"form-modern w-full"})]}),(0,zt.jsx)("div",{className:"flex items-end",children:(0,zt.jsx)("button",{onClick:c,disabled:s,className:"btn-primary w-full flex items-center justify-center gap-2",children:s?(0,zt.jsxs)(zt.Fragment,{children:[(0,zt.jsx)("div",{className:"loading-shimmer w-4 h-4 rounded-full"}),(0,zt.jsx)("span",{children:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644..."})]}):(0,zt.jsxs)(zt.Fragment,{children:[(0,zt.jsx)("span",{children:"\ud83d\udd04"}),(0,zt.jsx)("span",{children:"\u062a\u062d\u062f\u064a\u062b \u0627\u0644\u062a\u0642\u0631\u064a\u0631"})]})})})]})}),n&&(0,zt.jsx)(u,{data:n,type:n.type,title:n.title})]})})},jn=e=>{let{onScan:t,onClose:n}=e;const[r,s]=(0,a.useState)(!1),l=(0,a.useRef)(null),i=(0,a.useRef)(null);return(0,a.useEffect)((()=>()=>(()=>{l.current&&l.current.srcObject&&l.current.srcObject.getTracks().forEach((e=>e.stop()));s(!1)})()),[]),(0,zt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",children:(0,zt.jsxs)("div",{className:"modal-modern p-6 w-full max-w-md",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,zt.jsx)("h3",{className:"text-xl font-bold text-gradient",children:"\ud83d\udcf1 \u0645\u0633\u062d QR Code"}),(0,zt.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\u2715"})]}),(0,zt.jsxs)("div",{className:"space-y-4",children:[(0,zt.jsx)("div",{className:"relative bg-black rounded-lg overflow-hidden",style:{aspectRatio:"1"},children:r?(0,zt.jsxs)(zt.Fragment,{children:[(0,zt.jsx)("video",{ref:l,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),(0,zt.jsx)("div",{className:"absolute inset-4 border-2 border-green-400 rounded-lg animate-pulse"}),(0,zt.jsx)("div",{className:"absolute bottom-4 left-4 right-4",children:(0,zt.jsxs)("button",{onClick:()=>{if(i.current&&l.current){const e=i.current,n=l.current,r=e.getContext("2d");e.width=n.videoWidth,e.height=n.videoHeight,r.drawImage(n,0,0);e.toDataURL();t({type:"clinic",id:"sample-clinic-id",name:"\u0639\u064a\u0627\u062f\u0629 \u062a\u062c\u0631\u064a\u0628\u064a\u0629",address:"\u0639\u0646\u0648\u0627\u0646 \u062a\u062c\u0631\u064a\u0628\u064a"})}},className:"btn-success w-full flex items-center justify-center gap-2",children:[(0,zt.jsx)("span",{children:"\ud83d\udcf7"}),(0,zt.jsx)("span",{children:"\u0645\u0633\u062d \u0627\u0644\u0643\u0648\u062f"})]})})]}):(0,zt.jsx)("div",{className:"flex items-center justify-center h-full text-white",children:(0,zt.jsxs)("div",{className:"text-center",children:[(0,zt.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcf1"}),(0,zt.jsx)("p",{className:"text-lg mb-4",children:"\u0627\u0636\u063a\u0637 \u0644\u0628\u062f\u0621 \u0627\u0644\u0645\u0633\u062d"}),(0,zt.jsx)("button",{onClick:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});l.current&&(l.current.srcObject=e,s(!0))}catch(e){console.error("Error accessing camera:",e),alert("\u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0643\u0627\u0645\u064a\u0631\u0627. \u062a\u0623\u0643\u062f \u0645\u0646 \u0627\u0644\u0633\u0645\u0627\u062d \u0644\u0644\u0645\u0648\u0642\u0639 \u0628\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0643\u0627\u0645\u064a\u0631\u0627.")}},className:"btn-primary",children:"\ud83c\udfa5 \u062a\u0634\u063a\u064a\u0644 \u0627\u0644\u0643\u0627\u0645\u064a\u0631\u0627"})]})})}),(0,zt.jsx)("canvas",{ref:i,style:{display:"none"}}),(0,zt.jsx)("div",{className:"text-center",children:(0,zt.jsx)("p",{className:"text-sm text-gray-500",children:"\ud83d\udccb \u0648\u062c\u0647 \u0627\u0644\u0643\u0627\u0645\u064a\u0631\u0627 \u0646\u062d\u0648 QR Code \u0644\u0644\u0639\u064a\u0627\u062f\u0629 \u0623\u0648 \u0627\u0644\u0645\u0646\u062a\u062c"})})]})]})})},Nn=()=>{const[e,t]=(0,a.useState)(navigator.onLine),[n,r]=(0,a.useState)([]);(0,a.useEffect)((()=>{const e=()=>{t(!0),s()},n=()=>t(!1);return window.addEventListener("online",e),window.addEventListener("offline",n),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}),[]);const s=async()=>{const e=JSON.parse(localStorage.getItem("offline_data")||'{"visits": [], "orders": []}');if(0!==e.visits.length||0!==e.orders.length)try{const t=localStorage.getItem("token"),n=await Lt.post("".concat(Ot,"/offline/sync"),e,{headers:{Authorization:"Bearer ".concat(t)}});localStorage.removeItem("offline_data"),r([]),console.log("Offline data synced successfully:",n.data)}catch(t){console.error("Error syncing offline data:",t)}};return e?null:(0,zt.jsx)("div",{className:"fixed bottom-4 left-4 right-4 bg-orange-100 border border-orange-400 text-orange-800 px-4 py-3 rounded-lg shadow-lg z-50",children:(0,zt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,zt.jsx)("span",{className:"text-xl",children:"\ud83d\udce1"}),(0,zt.jsxs)("div",{className:"flex-1",children:[(0,zt.jsx)("div",{className:"font-medium",children:"\u0648\u0636\u0639 \u0639\u062f\u0645 \u0627\u0644\u0627\u062a\u0635\u0627\u0644"}),(0,zt.jsx)("div",{className:"text-sm",children:"\u0633\u064a\u062a\u0645 \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0639\u0646\u062f \u0639\u0648\u062f\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644"}),n.length>0&&(0,zt.jsxs)("div",{className:"text-xs mt-1",children:[n.length," \u0639\u0646\u0627\u0635\u0631 \u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629"]})]})]})})},wn=()=>{const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)([]),[s,l]=(0,a.useState)(!1),[i,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)("");(0,a.useEffect)((()=>{f()}),[]);const f=async()=>{l(!0);try{const e=localStorage.getItem("token"),n=await Lt.get("".concat(Ot,"/orders?status=MANAGER_APPROVED"),{headers:{Authorization:"Bearer ".concat(e)}});t(n.data);const a=await Lt.get("".concat(Ot,"/orders?status=ACCOUNTING_APPROVED"),{headers:{Authorization:"Bearer ".concat(e)}});r(a.data)}catch(e){console.error("Error fetching orders:",e)}finally{l(!1)}},h=e=>{var t;return(null===(t=e.items)||void 0===t?void 0:t.reduce(((e,t)=>e+t.price*t.quantity),0))||0};return(0,zt.jsx)("div",{style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh"},children:(0,zt.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,zt.jsx)("div",{className:"flex items-center justify-between mb-8",children:(0,zt.jsxs)("div",{className:"flex items-center",children:[(0,zt.jsx)("div",{className:"w-16 h-16 card-gradient-yellow rounded-full flex items-center justify-center ml-4 glow-pulse",children:(0,zt.jsx)("span",{className:"text-3xl",children:"\ud83d\udcb0"})}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("h2",{className:"text-4xl font-bold text-gradient",children:"\u0644\u0648\u062d\u0629 \u062a\u062d\u0643\u0645 \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629"}),(0,zt.jsx)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:"\u0645\u0631\u0627\u062c\u0639\u0629 \u0648\u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0637\u0644\u0628\u064a\u0627\u062a \u0627\u0644\u0645\u0627\u0644\u064a\u0629"})]})]})}),(0,zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,zt.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,zt.jsx)("div",{className:"text-3xl font-bold text-orange-600",children:e.length}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0637\u0644\u0628\u064a\u0627\u062a \u062a\u062d\u062a\u0627\u062c \u0645\u0648\u0627\u0641\u0642\u0629"})]}),(0,zt.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,zt.jsx)("div",{className:"text-3xl font-bold text-green-600",children:n.length}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0637\u0644\u0628\u064a\u0627\u062a \u062a\u0645\u062a \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u064a\u0647\u0627"})]}),(0,zt.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,zt.jsxs)("div",{className:"text-3xl font-bold text-blue-600",children:[e.reduce(((e,t)=>e+h(t)),0).toLocaleString()," \u0631\u064a\u0627\u0644"]}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0645\u0639\u0644\u0642\u0629"})]})]}),(0,zt.jsxs)("div",{className:"card-modern mb-8",children:[(0,zt.jsx)("div",{className:"p-6 border-b",style:{borderColor:"var(--accent-bg)"},children:(0,zt.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-3",children:[(0,zt.jsx)("span",{children:"\u23f3"}),(0,zt.jsxs)("span",{children:["\u0637\u0644\u0628\u064a\u0627\u062a \u062a\u062d\u062a\u0627\u062c \u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629 (",e.length,")"]})]})}),s?(0,zt.jsxs)("div",{className:"p-12 text-center",children:[(0,zt.jsx)("div",{className:"loading-shimmer w-16 h-16 rounded-full mx-auto mb-4"}),(0,zt.jsx)("p",{style:{color:"var(--text-secondary)"},children:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644..."})]}):(0,zt.jsx)("div",{className:"table-modern",children:(0,zt.jsxs)("table",{className:"min-w-full",children:[(0,zt.jsx)("thead",{children:(0,zt.jsxs)("tr",{children:[(0,zt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628\u064a\u0629"}),(0,zt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628"}),(0,zt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629"}),(0,zt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a\u0629"}),(0,zt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0646\u0634\u0627\u0621"}),(0,zt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a"})]})}),(0,zt.jsx)("tbody",{children:e.map((e=>(0,zt.jsxs)("tr",{className:"hover:bg-gray-50 hover:bg-opacity-5 transition-colors",children:[(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsxs)("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:["#",e.id.substring(0,8)]})}),(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsx)("div",{style:{color:"var(--text-primary)"},children:e.sales_rep_name||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})}),(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsx)("div",{style:{color:"var(--text-primary)"},children:e.clinic_name||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})}),(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsxs)("div",{className:"text-lg font-bold text-green-600",children:[h(e).toLocaleString()," \u0631\u064a\u0627\u0644"]})}),(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:new Date(e.created_at).toLocaleDateString("ar-EG")})}),(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsxs)("div",{className:"flex gap-2",children:[(0,zt.jsx)("button",{onClick:()=>{o(e),d(!0)},className:"btn-success text-xs px-3 py-1",title:"\u0645\u0648\u0627\u0641\u0642\u0629",children:"\u2705 \u0645\u0648\u0627\u0641\u0642\u0629"}),(0,zt.jsx)("button",{className:"btn-info text-xs px-3 py-1",title:"\u062a\u0641\u0627\u0635\u064a\u0644",children:"\ud83d\udc41\ufe0f \u062a\u0641\u0627\u0635\u064a\u0644"})]})})]},e.id)))})]})})]}),(0,zt.jsxs)("div",{className:"card-modern",children:[(0,zt.jsx)("div",{className:"p-6 border-b",style:{borderColor:"var(--accent-bg)"},children:(0,zt.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-3",children:[(0,zt.jsx)("span",{children:"\u2705"}),(0,zt.jsxs)("span",{children:["\u0637\u0644\u0628\u064a\u0627\u062a \u062a\u0645\u062a \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u064a\u0647\u0627 (",n.length,")"]})]})}),(0,zt.jsx)("div",{className:"table-modern",children:(0,zt.jsxs)("table",{className:"min-w-full",children:[(0,zt.jsx)("thead",{children:(0,zt.jsxs)("tr",{children:[(0,zt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628\u064a\u0629"}),(0,zt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628"}),(0,zt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629"}),(0,zt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a\u0629"}),(0,zt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629"}),(0,zt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u062d\u0627\u0644\u0629"})]})}),(0,zt.jsx)("tbody",{children:n.map((e=>(0,zt.jsxs)("tr",{className:"hover:bg-gray-50 hover:bg-opacity-5 transition-colors",children:[(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsxs)("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:["#",e.id.substring(0,8)]})}),(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsx)("div",{style:{color:"var(--text-primary)"},children:e.sales_rep_name||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})}),(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsx)("div",{style:{color:"var(--text-primary)"},children:e.clinic_name||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})}),(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsxs)("div",{className:"text-lg font-bold text-green-600",children:[h(e).toLocaleString()," \u0631\u064a\u0627\u0644"]})}),(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:e.approved_at_accounting?new Date(e.approved_at_accounting).toLocaleDateString("ar-EG"):"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})}),(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsx)("span",{className:"badge-modern badge-success",children:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u062e\u0632\u0646"})})]},e.id)))})]})})]}),c&&i&&(0,zt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,zt.jsxs)("div",{className:"modal-modern p-8 w-full max-w-2xl",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,zt.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\ud83d\udcb0 \u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0637\u0644\u0628\u064a\u0629"}),(0,zt.jsx)("button",{onClick:()=>d(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\u2715"})]}),(0,zt.jsxs)("div",{className:"space-y-6",children:[(0,zt.jsxs)("div",{className:"card-modern p-4",children:[(0,zt.jsx)("h4",{className:"font-bold mb-3",children:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0637\u0644\u0628\u064a\u0629:"}),(0,zt.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("span",{className:"font-medium",children:"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628\u064a\u0629:"}),(0,zt.jsxs)("span",{className:"mr-2",children:["#",i.id.substring(0,8)]})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("span",{className:"font-medium",children:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628:"}),(0,zt.jsx)("span",{className:"mr-2",children:i.sales_rep_name})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("span",{className:"font-medium",children:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629:"}),(0,zt.jsx)("span",{className:"mr-2",children:i.clinic_name})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("span",{className:"font-medium",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0642\u064a\u0645\u0629:"}),(0,zt.jsxs)("span",{className:"mr-2 text-green-600 font-bold",children:[h(i).toLocaleString()," \u0631\u064a\u0627\u0644"]})]})]})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629:"}),(0,zt.jsx)("textarea",{value:u,onChange:e=>m(e.target.value),rows:4,className:"form-modern w-full",placeholder:"\u0623\u0636\u0641 \u0623\u064a \u0645\u0644\u0627\u062d\u0638\u0627\u062a \u062e\u0627\u0635\u0629 \u0628\u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0645\u0627\u0644\u064a\u0629..."})]}),(0,zt.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,zt.jsxs)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token");await Lt.post("".concat(Ot,"/orders/").concat(e,"/approve"),{notes:u},{headers:{Authorization:"Bearer ".concat(t)}}),d(!1),m(""),o(null),await f()}catch(t){console.error("Error approving order:",t),alert("\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0627\u0644\u0637\u0644\u0628\u064a\u0629")}})(i.id),className:"btn-success flex-1 flex items-center justify-center gap-2",children:[(0,zt.jsx)("span",{children:"\u2705"}),(0,zt.jsx)("span",{children:"\u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0627\u0644\u0637\u0644\u0628\u064a\u0629"})]}),(0,zt.jsx)("button",{onClick:()=>d(!1),className:"btn-secondary flex-1",children:"\u0625\u0644\u063a\u0627\u0621"})]})]})]})})]})})},kn=()=>{const[e,t]=(0,a.useState)("dashboard"),[n,r]=(0,a.useState)([]),[s,l]=(0,a.useState)([]),[i,o]=(0,a.useState)([]),[c,d]=(0,a.useState)({}),[u,m]=(0,a.useState)([]),[f,h]=(0,a.useState)(!1),[p,x]=(0,a.useState)(""),[g,v]=(0,a.useState)(""),{language:b}=(0,a.useContext)(Ut),y=[{id:"WH_CAIRO",name:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0642\u0627\u0647\u0631\u0629",city:"Cairo",region:"Greater Cairo"},{id:"WH_ALEX",name:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0625\u0633\u0643\u0646\u062f\u0631\u064a\u0629",city:"Alexandria",region:"Alexandria"},{id:"WH_GIZA",name:"\u0645\u062e\u0632\u0646 \u0627\u0644\u062c\u064a\u0632\u0629",city:"Giza",region:"Greater Cairo"},{id:"WH_MANSOURA",name:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0645\u0646\u0635\u0648\u0631\u0629",city:"Mansoura",region:"Dakahlia"},{id:"WH_ASWAN",name:"\u0645\u062e\u0632\u0646 \u0623\u0633\u0648\u0627\u0646",city:"Aswan",region:"Upper Egypt"}],j={en:{title:"\ud83c\udfea Comprehensive Warehouse Management",subtitle:"Complete management of warehouses, inventory and orders",dashboard:"Dashboard",inventory:"Inventory Management",orders:"Orders",movements:"Movement Log",warehouseOverview:"Warehouse Overview",urgentActions:"\ud83d\udea8 Urgent Actions Required",lowStock:"Low Stock Alert",pendingApproval:"Pending Approval",criticalIssues:"Critical Issues"},ar:{title:"\ud83c\udfea \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u062e\u0627\u0632\u0646 \u0627\u0644\u0634\u0627\u0645\u0644\u0629",subtitle:"\u0625\u062f\u0627\u0631\u0629 \u0643\u0627\u0645\u0644\u0629 \u0644\u0644\u0645\u062e\u0627\u0632\u0646 \u0648\u0627\u0644\u0645\u062e\u0632\u0648\u0646 \u0648\u0627\u0644\u0637\u0644\u0628\u0627\u062a",dashboard:"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645",inventory:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u062e\u0632\u0646",orders:"\u0627\u0644\u0637\u0644\u0628\u0627\u062a",movements:"\u0633\u062c\u0644 \u0627\u0644\u062d\u0631\u0643\u0627\u062a",warehouseOverview:"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0627\u0644\u0645\u062e\u0627\u0632\u0646",urgentActions:"\ud83d\udea8 \u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0639\u0627\u062c\u0644\u0629 \u0645\u0637\u0644\u0648\u0628\u0629",lowStock:"\u062a\u0646\u0628\u064a\u0647 \u0646\u0642\u0635 \u0645\u062e\u0632\u0648\u0646",pendingApproval:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629",criticalIssues:"\u0645\u0634\u0627\u0643\u0644 \u062d\u0631\u062c\u0629"}},N=j[b]||j.en;(0,a.useEffect)((()=>{w()}),[]);const w=async()=>{h(!0);try{const e=localStorage.getItem("token"),[t,n,a,s,i]=await Promise.all([Lt.get("".concat(Ot,"/warehouses"),{headers:{Authorization:"Bearer ".concat(e)}}),Lt.get("".concat(Ot,"/dashboard/warehouse-stats"),{headers:{Authorization:"Bearer ".concat(e)}}),Lt.get("".concat(Ot,"/inventory"),{headers:{Authorization:"Bearer ".concat(e)}}),Lt.get("".concat(Ot,"/orders/pending"),{headers:{Authorization:"Bearer ".concat(e)}}),Lt.get("".concat(Ot,"/warehouses/movements"),{headers:{Authorization:"Bearer ".concat(e)}})]);r(t.data),d(n.data),l(a.data),o(s.data),m(i.data)}catch(p){r(y),d({total_value:485e3,low_stock_count:12,pending_orders_count:8,movement_today:45}),l([{id:1,name:"\u0623\u0643\u0633\u0632\u0648\u0645 500\u0645\u062c",warehouse:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0642\u0627\u0647\u0631\u0629",quantity:120,min_stock:50,unit_price:25.5,category:"\u0623\u062f\u0648\u064a\u0629"},{id:2,name:"\u0641\u064a\u062a\u0627\u0645\u064a\u0646 \u062f3",warehouse:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0625\u0633\u0643\u0646\u062f\u0631\u064a\u0629",quantity:8,min_stock:30,unit_price:45,category:"\u0641\u064a\u062a\u0627\u0645\u064a\u0646\u0627\u062a"},{id:3,name:"\u0628\u0627\u0631\u0627\u0633\u064a\u062a\u0627\u0645\u0648\u0644",warehouse:"\u0645\u062e\u0632\u0646 \u0627\u0644\u062c\u064a\u0632\u0629",quantity:200,min_stock:100,unit_price:12.75,category:"\u0645\u0633\u0643\u0646\u0627\u062a"},{id:4,name:"\u0623\u0648\u0645\u064a\u062c\u0627 3",warehouse:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0645\u0646\u0635\u0648\u0631\u0629",quantity:15,min_stock:25,unit_price:65,category:"\u0645\u0643\u0645\u0644\u0627\u062a"},{id:5,name:"\u0643\u0627\u0644\u0633\u064a\u0648\u0645 \u0645\u063a\u0646\u064a\u0633\u064a\u0648\u0645",warehouse:"\u0645\u062e\u0632\u0646 \u0623\u0633\u0648\u0627\u0646",quantity:75,min_stock:40,unit_price:38.25,category:"\u0645\u0643\u0645\u0644\u0627\u062a"}]),o([{id:"ORD-001",clinic:"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0646\u0648\u0631",items:5,total:1250,status:"pending_manager",sales_rep:"\u0645\u062d\u0645\u0648\u062f \u0639\u0644\u064a",warehouse:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0642\u0627\u0647\u0631\u0629"},{id:"ORD-002",clinic:"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0634\u0641\u0627\u0621",items:3,total:850,status:"pending_accounting",sales_rep:"\u0623\u062d\u0645\u062f \u062d\u0633\u0646",warehouse:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0625\u0633\u0643\u0646\u062f\u0631\u064a\u0629"},{id:"ORD-003",clinic:"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0623\u0645\u0644",items:7,total:2100,status:"pending_warehouse",sales_rep:"\u0641\u0627\u0637\u0645\u0629 \u0645\u062d\u0645\u062f",warehouse:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0645\u0646\u0635\u0648\u0631\u0629"}]),m([{id:1,date:"2024-01-24",product:"\u0623\u0643\u0633\u0632\u0648\u0645 500\u0645\u062c",requester:"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0646\u0648\u0631",region:"\u0627\u0644\u0642\u0627\u0647\u0631\u0629",movement_type:"\u0635\u0631\u0641",order_type:"\u0637\u0644\u0628\u064a\u0629",quantity:10,sales_rep:"\u0645\u062d\u0645\u0648\u062f \u0639\u0644\u064a",doctor:"\u062f. \u0623\u062d\u0645\u062f \u0645\u062d\u0645\u062f",reason:"\u0637\u0644\u0628\u064a\u0629 \u0639\u0627\u062f\u064a\u0629",comments:"\u062a\u0645 \u0627\u0644\u0635\u0631\u0641 \u0628\u0646\u062c\u0627\u062d",status:"completed"},{id:2,date:"2024-01-24",product:"\u0641\u064a\u062a\u0627\u0645\u064a\u0646 \u062f3",requester:"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0634\u0641\u0627\u0621",region:"\u0627\u0644\u0625\u0633\u0643\u0646\u062f\u0631\u064a\u0629",movement_type:"\u0635\u0631\u0641",order_type:"\u062f\u064a\u0645\u0648",quantity:5,sales_rep:"\u0623\u062d\u0645\u062f \u062d\u0633\u0646",doctor:"\u062f. \u0641\u0627\u0637\u0645\u0629 \u0639\u0644\u064a",reason:"\u0639\u064a\u0646\u0629 \u0645\u062c\u0627\u0646\u064a\u0629",comments:"\u0644\u0644\u062a\u062c\u0631\u0628\u0629",status:"pending_approval"},{id:3,date:"2024-01-23",product:"\u0628\u0627\u0631\u0627\u0633\u064a\u062a\u0627\u0645\u0648\u0644",requester:"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0623\u0645\u0644",region:"\u0627\u0644\u062c\u064a\u0632\u0629",movement_type:"\u0625\u062f\u062e\u0627\u0644",order_type:"\u062a\u0632\u0648\u064a\u062f",quantity:100,sales_rep:"\u0625\u0628\u0631\u0627\u0647\u064a\u0645 \u062e\u0627\u0644\u062f",doctor:"",reason:"\u062a\u0632\u0648\u064a\u062f \u0645\u062e\u0632\u0648\u0646",comments:"\u0634\u062d\u0646\u0629 \u062c\u062f\u064a\u062f\u0629",status:"completed"}]),console.error("Using mock data:",p)}finally{h(!1)}};return(0,zt.jsx)("div",{style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh"},children:(0,zt.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,zt.jsx)("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:(0,zt.jsxs)("div",{className:"flex items-center",children:[(0,zt.jsx)("div",{className:"w-12 h-12 md:w-16 md:h-16 card-gradient-purple rounded-full flex items-center justify-center ml-4 glow-pulse",children:(0,zt.jsx)("span",{className:"text-xl md:text-3xl",children:"\ud83c\udfea"})}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("h2",{className:"text-2xl md:text-4xl font-bold text-gradient",children:N.title}),(0,zt.jsx)("p",{className:"text-sm md:text-lg",style:{color:"var(--text-secondary)"},children:N.subtitle})]})]})}),p&&(0,zt.jsxs)("div",{className:"alert-modern alert-error mb-6 scale-in",children:[(0,zt.jsx)("span",{className:"ml-2",children:"\u274c"}),p]}),g&&(0,zt.jsxs)("div",{className:"alert-modern alert-success mb-6 scale-in",children:[(0,zt.jsx)("span",{className:"ml-2",children:"\u2705"}),g]}),(0,zt.jsx)("div",{className:"mb-8",children:(0,zt.jsx)("nav",{className:"flex space-x-2 overflow-x-auto bg-white/80 backdrop-blur-lg rounded-2xl p-2 shadow-lg scrollbar-hide",style:{direction:"ltr"},children:[{key:"dashboard",label:N.dashboard,icon:"\ud83d\udcca"},{key:"inventory",label:N.inventory,icon:"\ud83d\udce6"},{key:"orders",label:N.orders,icon:"\ud83d\uded2"},{key:"movements",label:N.movements,icon:"\ud83d\udccb"}].map((n=>(0,zt.jsxs)("button",{onClick:()=>t(n.key),className:"nav-tab ".concat(e===n.key?"active":""," flex items-center whitespace-nowrap px-4 py-2 text-sm md:text-base"),children:[(0,zt.jsx)("span",{className:"ml-2",children:n.icon}),(0,zt.jsx)("span",{className:"hidden sm:inline",children:n.label})]},n.key)))})}),"dashboard"===e&&(0,zt.jsx)(Sn,{stats:c,warehouses:n,inventory:s,loading:f,language:b}),"inventory"===e&&(0,zt.jsx)(An,{inventory:s,warehouses:n,onRefresh:w,language:b}),"orders"===e&&(0,zt.jsx)(Pn,{orders:i,onRefresh:w,language:b}),"movements"===e&&(0,zt.jsx)(Ln,{movements:u,language:b})]})})},Sn=e=>{var t;let{stats:n,warehouses:r,inventory:a,loading:s,language:l}=e;const i="ar"===l?{warehouseOverview:"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0627\u0644\u0645\u062e\u0627\u0632\u0646",urgentActions:"\ud83d\udea8 \u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0639\u0627\u062c\u0644\u0629 \u0645\u0637\u0644\u0648\u0628\u0629",totalValue:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0642\u064a\u0645\u0629",lowStock:"\u0646\u0642\u0635 \u0645\u062e\u0632\u0648\u0646",pendingOrders:"\u0637\u0644\u0628\u0627\u062a \u0645\u0639\u0644\u0642\u0629",todayMovements:"\u062d\u0631\u0643\u0627\u062a \u0627\u0644\u064a\u0648\u0645",warehouseDetails:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0645\u062e\u0627\u0632\u0646",criticalAlerts:"\u062a\u0646\u0628\u064a\u0647\u0627\u062a \u062d\u0631\u062c\u0629",needsAttention:"\u064a\u062d\u062a\u0627\u062c 3 \u0639\u0628\u0648\u0627\u062a \u0627\u0643\u0633\u0632\u0648\u0645",needsApproval:"\u064a\u062d\u062a\u0627\u062c \u0645\u0648\u0627\u0641\u0642\u0629 \u0623\u0645\u064a\u0646 \u0627\u0644\u0645\u062e\u0632\u0646 \u0639\u0644\u0649 \u0627\u0644\u0637\u0644\u0628\u064a\u0629",stockShortage:"\u064a\u0648\u062c\u062f \u0646\u0642\u0635 \u0641\u064a \u0645\u0646\u062a\u062c"}:{warehouseOverview:"Warehouse Overview",urgentActions:"\ud83d\udea8 Urgent Actions Required",totalValue:"Total Value",lowStock:"Low Stock",pendingOrders:"Pending Orders",todayMovements:"Today Movements",warehouseDetails:"Warehouse Details",criticalAlerts:"Critical Alerts",needsAttention:"Needs 3 units of Axozom",needsApproval:"Needs warehouse manager approval",stockShortage:"Stock shortage in product"},o=[{warehouse:"\u0645\u062e\u0632\u0646 \u0623\u0628\u064a\u0633",message:i.needsAttention,type:"stock",priority:"high"},{warehouse:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0639\u0635\u0627\u0641\u0631\u0629",message:i.needsApproval,type:"approval",priority:"medium"},{warehouse:"\u0645\u062e\u0632\u0646 \u062c\u0644\u064a\u0645",message:"".concat(i.stockShortage," \u0641\u064a\u062a\u0627\u0645\u064a\u0646 \u062f3"),type:"shortage",priority:"high"}];return(0,zt.jsxs)("div",{className:"space-y-8",children:[(0,zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,zt.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,zt.jsxs)("div",{className:"text-3xl font-bold text-green-600",children:[(null===(t=n.total_value)||void 0===t?void 0:t.toLocaleString())||"485,000"," \u062c\u0646\u064a\u0647"]}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:i.totalValue})]}),(0,zt.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,zt.jsx)("div",{className:"text-3xl font-bold text-red-600",children:n.low_stock_count||12}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:i.lowStock})]}),(0,zt.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,zt.jsx)("div",{className:"text-3xl font-bold text-orange-600",children:n.pending_orders_count||8}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:i.pendingOrders})]}),(0,zt.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,zt.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:n.movement_today||45}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:i.todayMovements})]})]}),(0,zt.jsxs)("div",{className:"card-modern p-6",children:[(0,zt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,zt.jsx)("span",{children:"\ud83d\udea8"}),(0,zt.jsx)("span",{children:i.urgentActions})]}),(0,zt.jsx)("div",{className:"space-y-3",children:o.map(((e,t)=>(0,zt.jsx)("div",{className:"p-4 rounded-lg border-l-4 ".concat("high"===e.priority?"bg-red-50 border-red-500":"bg-orange-50 border-orange-500"),children:(0,zt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("div",{className:"font-bold text-gray-800",children:e.warehouse}),(0,zt.jsx)("div",{className:"text-sm text-gray-600",children:e.message})]}),(0,zt.jsx)("button",{className:"btn-sm ".concat("high"===e.priority?"btn-danger":"btn-warning"),children:"ar"===l?"\u0639\u0631\u0636":"View"})]})},t)))})]}),(0,zt.jsxs)("div",{className:"card-modern p-6",children:[(0,zt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,zt.jsx)("span",{children:"\ud83c\udfea"}),(0,zt.jsx)("span",{children:i.warehouseDetails})]}),(0,zt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((e=>{const t=a.filter((t=>t.warehouse===e.name)),n=t.filter((e=>e.quantity<=e.min_stock));return(0,zt.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 p-6 rounded-lg",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("h4",{className:"font-bold text-lg text-gray-800",children:e.name}),(0,zt.jsxs)("p",{className:"text-sm text-gray-600",children:[e.city," \u2022 ",e.region]})]}),(0,zt.jsx)("div",{className:"w-4 h-4 rounded-full ".concat(n.length>0?"bg-red-500":"bg-green-500")})]}),(0,zt.jsxs)("div",{className:"space-y-2",children:[(0,zt.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,zt.jsxs)("span",{children:["ar"===l?"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a":"Total Products",":"]}),(0,zt.jsx)("span",{className:"font-bold",children:t.length})]}),(0,zt.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,zt.jsxs)("span",{children:["ar"===l?"\u0646\u0642\u0635 \u0645\u062e\u0632\u0648\u0646":"Low Stock",":"]}),(0,zt.jsx)("span",{className:"font-bold ".concat(n.length>0?"text-red-600":"text-green-600"),children:n.length})]}),(0,zt.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,zt.jsxs)("span",{children:["ar"===l?"\u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u062a\u0642\u062f\u064a\u0631\u064a\u0629":"Estimated Value",":"]}),(0,zt.jsxs)("span",{className:"font-bold text-blue-600",children:[t.reduce(((e,t)=>e+t.quantity*t.unit_price),0).toLocaleString()," ","ar"===l?"\u062c\u0646\u064a\u0647":"EGP"]})]})]}),(0,zt.jsx)("button",{className:"btn-primary w-full mt-4 text-sm",children:"ar"===l?"\u0639\u0631\u0636 \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644":"View Details"})]},e.id)}))})]})]})},_n=e=>{let{stats:t,user:n}=e;const[r,s]=(0,a.useState)(!1),[l,i]=(0,a.useState)(!1),[o,c]=(0,a.useState)(null),{language:d}=(0,a.useContext)(Ut);(0,a.useEffect)((()=>{u()}),[]);const u=async()=>{try{const e=localStorage.getItem("token"),t=((new Date).toISOString().split("T")[0],await Lt.get("".concat(Ot,"/users/selfie/today"),{headers:{Authorization:"Bearer ".concat(e)}}));t.data.selfie?c(t.data.selfie):s(!0)}catch(e){s(!0)}},m={en:{welcome:"\ud83d\udc4b Welcome back",todayStats:"Today's Performance",visitsToday:"Visits Today",ordersToday:"Orders Today",clinicsAdded:"Clinics Added",efficiency:"Efficiency Rate",quickActions:"\u26a1 Quick Actions",newVisit:"\ud83d\udc68\u200d\u2695\ufe0f New Visit",newOrder:"\ud83d\udce6 New Order",addClinic:"\ud83c\udfe5 Add Clinic",viewPlan:"\ud83d\udccb View Daily Plan",todaySelfie:"\ud83d\udcf7 Today's Check-in",retakeSelfie:"\ud83d\udd04 Retake Selfie"},ar:{welcome:"\ud83d\udc4b \u0645\u0631\u062d\u0628\u0627\u064b \u0628\u0639\u0648\u062f\u062a\u0643",todayStats:"\u0623\u062f\u0627\u0621 \u0627\u0644\u064a\u0648\u0645",visitsToday:"\u0632\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u064a\u0648\u0645",ordersToday:"\u0637\u0644\u0628\u0627\u062a \u0627\u0644\u064a\u0648\u0645",clinicsAdded:"\u0639\u064a\u0627\u062f\u0627\u062a \u0645\u0636\u0627\u0641\u0629",efficiency:"\u0645\u0639\u062f\u0644 \u0627\u0644\u0643\u0641\u0627\u0621\u0629",quickActions:"\u26a1 \u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0633\u0631\u064a\u0639\u0629",newVisit:"\ud83d\udc68\u200d\u2695\ufe0f \u0632\u064a\u0627\u0631\u0629 \u062c\u062f\u064a\u062f\u0629",newOrder:"\ud83d\udce6 \u0637\u0644\u0628\u0629 \u062c\u062f\u064a\u062f\u0629",addClinic:"\ud83c\udfe5 \u0625\u0636\u0627\u0641\u0629 \u0639\u064a\u0627\u062f\u0629",viewPlan:"\ud83d\udccb \u0639\u0631\u0636 \u062e\u0637\u0629 \u0627\u0644\u064a\u0648\u0645",todaySelfie:"\ud83d\udcf7 \u062a\u0633\u062c\u064a\u0644 \u062d\u0636\u0648\u0631 \u0627\u0644\u064a\u0648\u0645",retakeSelfie:"\ud83d\udd04 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u062a\u0642\u0627\u0637 \u0633\u064a\u0644\u0641\u064a"}},f=m[d]||m.en;return(0,zt.jsxs)(zt.Fragment,{children:[(0,zt.jsx)("div",{style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh"},children:(0,zt.jsxs)("div",{className:"space-y-8",children:[(0,zt.jsx)("div",{className:"card-modern p-6",children:(0,zt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsxs)("h2",{className:"text-3xl font-bold text-gradient mb-2",children:[f.welcome,", ",n.full_name,"! \ud83c\udf1f"]}),(0,zt.jsx)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:(new Date).toLocaleDateString("ar"===d?"ar-EG":"en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),o&&(0,zt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,zt.jsxs)("div",{className:"text-center",children:[(0,zt.jsx)("div",{className:"text-sm text-gray-500 mb-1",children:f.todaySelfie}),(0,zt.jsx)("img",{src:o,alt:"Today's selfie",className:"w-16 h-16 rounded-full object-cover border-4 border-green-500"})]}),(0,zt.jsx)("button",{onClick:()=>s(!0),className:"btn-secondary text-sm px-3 py-1",children:f.retakeSelfie})]})]})}),(0,zt.jsxs)("div",{className:"card-modern p-6",children:[(0,zt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,zt.jsx)("span",{children:"\ud83d\udcca"}),(0,zt.jsx)("span",{children:f.todayStats})]}),(0,zt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,zt.jsxs)("div",{className:"text-center p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg",children:[(0,zt.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:t.today_visits||0}),(0,zt.jsx)("div",{className:"text-sm text-gray-600",children:f.visitsToday})]}),(0,zt.jsxs)("div",{className:"text-center p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-lg",children:[(0,zt.jsx)("div",{className:"text-3xl font-bold text-green-600",children:t.today_orders||0}),(0,zt.jsx)("div",{className:"text-sm text-gray-600",children:f.ordersToday})]}),(0,zt.jsxs)("div",{className:"text-center p-4 bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg",children:[(0,zt.jsx)("div",{className:"text-3xl font-bold text-purple-600",children:t.clinics_added||0}),(0,zt.jsx)("div",{className:"text-sm text-gray-600",children:f.clinicsAdded})]}),(0,zt.jsxs)("div",{className:"text-center p-4 bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg",children:[(0,zt.jsxs)("div",{className:"text-3xl font-bold text-orange-600",children:[t.efficiency_rate||"85","%"]}),(0,zt.jsx)("div",{className:"text-sm text-gray-600",children:f.efficiency})]})]})]}),(0,zt.jsxs)("div",{className:"card-modern p-6",children:[(0,zt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,zt.jsx)("span",{children:"\u26a1"}),(0,zt.jsx)("span",{children:f.quickActions})]}),(0,zt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,zt.jsxs)("button",{className:"btn-primary flex flex-col items-center gap-2 py-6",children:[(0,zt.jsx)("span",{className:"text-3xl",children:"\ud83d\udc68\u200d\u2695\ufe0f"}),(0,zt.jsx)("span",{children:f.newVisit})]}),(0,zt.jsxs)("button",{className:"btn-success flex flex-col items-center gap-2 py-6",children:[(0,zt.jsx)("span",{className:"text-3xl",children:"\ud83d\udce6"}),(0,zt.jsx)("span",{children:f.newOrder})]}),(0,zt.jsxs)("button",{className:"btn-info flex flex-col items-center gap-2 py-6",children:[(0,zt.jsx)("span",{className:"text-3xl",children:"\ud83c\udfe5"}),(0,zt.jsx)("span",{children:f.addClinic})]}),(0,zt.jsxs)("button",{onClick:()=>i(!0),className:"btn-warning flex flex-col items-center gap-2 py-6",children:[(0,zt.jsx)("span",{className:"text-3xl",children:"\ud83d\udccb"}),(0,zt.jsx)("span",{children:f.viewPlan})]})]})]}),(0,zt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,zt.jsxs)("div",{className:"card-modern p-6",children:[(0,zt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,zt.jsx)("span",{children:"\ud83d\udcc8"}),(0,zt.jsx)("span",{children:"ar"===d?"\u0623\u062f\u0627\u0621 \u0627\u0644\u0623\u0633\u0628\u0648\u0639":"Weekly Performance"})]}),(0,zt.jsx)("div",{className:"h-64 bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg flex items-center justify-center",children:(0,zt.jsxs)("div",{className:"text-center",children:[(0,zt.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udcca"}),(0,zt.jsx)("p",{className:"text-gray-600",children:"ar"===d?"\u0631\u0633\u0645 \u0628\u064a\u0627\u0646\u064a \u0644\u0623\u062f\u0627\u0626\u0643 \u0627\u0644\u0623\u0633\u0628\u0648\u0639\u064a":"Your Weekly Performance Chart"})]})})]}),(0,zt.jsxs)("div",{className:"card-modern p-6",children:[(0,zt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,zt.jsx)("span",{children:"\ud83c\udfc6"}),(0,zt.jsx)("span",{children:"ar"===d?"\u0625\u0646\u062c\u0627\u0632\u0627\u062a \u0627\u0644\u0634\u0647\u0631":"Monthly Achievements"})]}),(0,zt.jsxs)("div",{className:"space-y-3",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg",children:[(0,zt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,zt.jsx)("span",{className:"text-2xl",children:"\ud83e\udd47"}),(0,zt.jsx)("span",{className:"font-medium",children:"ar"===d?"\u0623\u0641\u0636\u0644 \u0645\u0646\u062f\u0648\u0628 \u0644\u0644\u0634\u0647\u0631":"Top Rep of the Month"})]}),(0,zt.jsx)("span",{className:"text-yellow-600 font-bold",children:"ar"===d?"\u0645\u0643\u062a\u0645\u0644":"Achieved"})]}),(0,zt.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[(0,zt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,zt.jsx)("span",{className:"text-2xl",children:"\ud83c\udfaf"}),(0,zt.jsx)("span",{className:"font-medium",children:"ar"===d?"\u062a\u062d\u0642\u064a\u0642 \u0647\u062f\u0641 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a":"Visits Target Met"})]}),(0,zt.jsx)("span",{className:"text-blue-600 font-bold",children:"95%"})]}),(0,zt.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[(0,zt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,zt.jsx)("span",{className:"text-2xl",children:"\ud83d\udcb0"}),(0,zt.jsx)("span",{className:"font-medium",children:"ar"===d?"\u062a\u062d\u0642\u064a\u0642 \u0647\u062f\u0641 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a":"Sales Target Met"})]}),(0,zt.jsx)("span",{className:"text-green-600 font-bold",children:"110%"})]})]})]})]})]})}),r&&(0,zt.jsx)(dn,{onCapture:e=>{c(e),s(!1),i(!0)},onSkip:()=>{s(!1),i(!0)}}),l&&(0,zt.jsx)(un,{user:n,onClose:()=>i(!1)})]})},Cn=()=>{const[e,t]=(0,a.useState)({clinic_name:"",clinic_phone:"",doctor_name:"",clinic_class:"",doctor_address:"",clinic_manager_name:"",address:"",notes:"",clinic_image:""}),[n,r]=(0,a.useState)(null),[s,l]=(0,a.useState)(""),[i,o]=(0,a.useState)(!1),[c,u]=(0,a.useState)(""),[m,f]=(0,a.useState)("");(0,a.useEffect)((()=>{h()}),[]);const h=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((async e=>{const t={latitude:e.coords.latitude,longitude:e.coords.longitude};r(t);try{l("\u0627\u0644\u0645\u0648\u0642\u0639: ".concat(t.latitude.toFixed(6),", ").concat(t.longitude.toFixed(6)))}catch(c){l("".concat(t.latitude.toFixed(6),", ").concat(t.longitude.toFixed(6)))}}),(e=>{u("\u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u0645\u0648\u0642\u0639\u0643 \u0627\u0644\u062d\u0627\u0644\u064a. \u062a\u0623\u0643\u062f \u0645\u0646 \u062a\u0641\u0639\u064a\u0644 GPS")}),{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4}):u("\u0627\u0644\u0645\u062a\u0635\u0641\u062d \u0644\u0627 \u064a\u062f\u0639\u0645 \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0645\u0648\u0642\u0639")};return(0,zt.jsxs)(zt.Fragment,{children:[(0,zt.jsx)($t,{}),(0,zt.jsxs)("div",{className:"card-modern p-8 page-transition",children:[(0,zt.jsxs)("div",{className:"flex items-center mb-8",children:[(0,zt.jsx)("div",{className:"w-16 h-16 card-gradient-orange rounded-full flex items-center justify-center ml-4 glow-pulse",children:(0,zt.jsx)("span",{className:"text-3xl",children:"\ud83c\udfe5"})}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("h2",{className:"text-3xl font-bold text-gradient",children:"\u062a\u0633\u062c\u064a\u0644 \u0639\u064a\u0627\u062f\u0629 \u062c\u062f\u064a\u062f\u0629"}),(0,zt.jsx)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:"\u0623\u0636\u0641 \u0639\u064a\u0627\u062f\u0629 \u0637\u0628\u064a\u0629 \u062c\u062f\u064a\u062f\u0629 \u0625\u0644\u0649 \u0627\u0644\u0646\u0638\u0627\u0645"})]})]}),c&&(0,zt.jsxs)("div",{className:"alert-modern alert-error mb-6 scale-in",children:[(0,zt.jsx)("span",{className:"ml-2",children:"\u26a0\ufe0f"}),c]}),m&&(0,zt.jsxs)("div",{className:"alert-modern alert-success mb-6 scale-in",children:[(0,zt.jsx)("span",{className:"ml-2",children:"\u2705"}),m]}),(0,zt.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),n){o(!0),u("");try{const r=localStorage.getItem("token"),a=d(d({},e),{},{doctor_specialty:e.clinic_class,latitude:n.latitude,longitude:n.longitude});await Lt.post("".concat(Ot,"/clinic-requests"),a,{headers:{Authorization:"Bearer ".concat(r)}}),f("\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u0637\u0644\u0628 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0639\u064a\u0627\u062f\u0629 \u0628\u0646\u062c\u0627\u062d. \u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0645\u062f\u064a\u0631"),t({clinic_name:"",clinic_phone:"",doctor_name:"",clinic_class:"",doctor_address:"",clinic_manager_name:"",address:"",notes:"",clinic_image:""})}catch(c){var a,s;u((null===(a=c.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.detail)||"\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628")}finally{o(!1)}}else u("\u0644\u0627 \u064a\u0645\u0643\u0646 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0639\u064a\u0627\u062f\u0629 \u0628\u062f\u0648\u0646 \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0645\u0648\u0642\u0639")},className:"space-y-8 form-modern",children:[(0,zt.jsxs)("div",{className:"card-gradient-success p-6 rounded-2xl",children:[(0,zt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-3",children:[(0,zt.jsx)("span",{className:"text-2xl",children:"\ud83d\uddfa\ufe0f"}),(0,zt.jsx)("span",{children:"\u0627\u0644\u0645\u0648\u0642\u0639 \u0627\u0644\u062c\u063a\u0631\u0627\u0641\u064a \u0627\u0644\u062d\u0627\u0644\u064a"})]}),(0,zt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n?(0,zt.jsxs)(zt.Fragment,{children:[(0,zt.jsxs)("div",{className:"glass-effect p-4 rounded-xl",children:[(0,zt.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,zt.jsx)("span",{className:"text-xl",children:"\ud83d\udccd"}),(0,zt.jsx)("span",{className:"font-bold",children:"\u0627\u0644\u0625\u062d\u062f\u0627\u062b\u064a\u0627\u062a:"})]}),(0,zt.jsxs)("p",{className:"text-sm font-mono",children:[n.latitude.toFixed(6),", ",n.longitude.toFixed(6)]})]}),(0,zt.jsxs)("div",{className:"glass-effect p-4 rounded-xl",children:[(0,zt.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,zt.jsx)("span",{className:"text-xl",children:"\ud83c\udfe0"}),(0,zt.jsx)("span",{className:"font-bold",children:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646:"})]}),(0,zt.jsx)("p",{className:"text-sm",children:s})]})]}):(0,zt.jsx)("div",{className:"col-span-2 text-center",children:(0,zt.jsx)("div",{className:"gps-indicator",children:(0,zt.jsx)("span",{children:"\u062c\u0627\u0631\u064a \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0645\u0648\u0642\u0639..."})})})}),(0,zt.jsx)("div",{className:"mt-6 h-48 glass-effect rounded-xl flex items-center justify-center",children:(0,zt.jsxs)("div",{className:"text-center",children:[(0,zt.jsx)("span",{className:"text-4xl mb-2 block",children:"\ud83d\uddfa\ufe0f"}),(0,zt.jsx)("p",{className:"font-bold",children:"\u062e\u0631\u064a\u0637\u0629 Google Maps"}),(0,zt.jsx)("p",{className:"text-sm opacity-75",children:"\u0633\u064a\u062a\u0645 \u0639\u0631\u0636 \u0627\u0644\u0645\u0648\u0642\u0639 \u0647\u0646\u0627 \u0628\u0639\u062f \u0625\u0636\u0627\u0641\u0629 \u0645\u0641\u062a\u0627\u062d \u0627\u0644\u062e\u0631\u0627\u0626\u0637"})]})})]}),(0,zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{children:(0,zt.jsx)("span",{className:"text-shadow-glow",children:"\ud83c\udfe5 \u0627\u0633\u0645 \u0627\u0644\u0639\u064a\u0627\u062f\u0629"})}),(0,zt.jsx)("input",{type:"text",value:e.clinic_name,onChange:n=>t(d(d({},e),{},{clinic_name:n.target.value})),className:"w-full",placeholder:"\u0645\u062b\u0627\u0644: \u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0646\u0648\u0631 \u0627\u0644\u0637\u0628\u064a\u0629",required:!0})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{children:(0,zt.jsx)("span",{className:"text-shadow-glow",children:"\ud83d\udcde \u0631\u0642\u0645 \u0627\u0644\u0639\u064a\u0627\u062f\u0629"})}),(0,zt.jsx)("input",{type:"tel",value:e.clinic_phone,onChange:n=>t(d(d({},e),{},{clinic_phone:n.target.value})),className:"w-full",placeholder:"0501234567"})]})]}),(0,zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{children:(0,zt.jsx)("span",{className:"text-shadow-glow",children:"\ud83d\udc68\u200d\u2695\ufe0f \u0627\u0633\u0645 \u0627\u0644\u0637\u0628\u064a\u0628"})}),(0,zt.jsx)("input",{type:"text",value:e.doctor_name,onChange:n=>t(d(d({},e),{},{doctor_name:n.target.value})),className:"w-full",placeholder:"\u062f. \u0623\u062d\u0645\u062f \u0645\u062d\u0645\u062f",required:!0})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{children:(0,zt.jsx)("span",{className:"text-shadow-glow",children:"\ud83c\udfc6 \u062a\u0635\u0646\u064a\u0641 \u0627\u0644\u0639\u064a\u0627\u062f\u0629"})}),(0,zt.jsxs)("select",{value:e.clinic_class,onChange:n=>t(d(d({},e),{},{clinic_class:n.target.value})),className:"w-full",required:!0,children:[(0,zt.jsx)("option",{value:"",children:"\u0627\u062e\u062a\u0631 \u062a\u0635\u0646\u064a\u0641 \u0627\u0644\u0639\u064a\u0627\u062f\u0629"}),(0,zt.jsx)("option",{value:"A Class",children:"A Class - \u0639\u064a\u0627\u062f\u0629 \u062f\u0631\u062c\u0629 \u0623\u0648\u0644\u0649"}),(0,zt.jsx)("option",{value:"B Class",children:"B Class - \u0639\u064a\u0627\u062f\u0629 \u062f\u0631\u062c\u0629 \u062b\u0627\u0646\u064a\u0629"}),(0,zt.jsx)("option",{value:"C Class",children:"C Class - \u0639\u064a\u0627\u062f\u0629 \u062f\u0631\u062c\u0629 \u062b\u0627\u0644\u062b\u0629"})]})]})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{children:(0,zt.jsx)("span",{className:"text-shadow-glow",children:"\ud83c\udfe0 \u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0637\u0628\u064a\u0628"})}),(0,zt.jsx)("input",{type:"text",value:e.doctor_address,onChange:n=>t(d(d({},e),{},{doctor_address:n.target.value})),className:"w-full",placeholder:"\u062d\u064a \u0627\u0644\u0645\u0644\u0632\u060c \u0634\u0627\u0631\u0639 \u0627\u0644\u0645\u0644\u0643 \u0641\u0647\u062f",required:!0})]}),(0,zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{children:(0,zt.jsx)("span",{className:"text-shadow-glow",children:"\ud83d\udc54 \u0627\u0644\u0645\u0633\u0624\u0648\u0644 \u0639\u0646 \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0639\u064a\u0627\u062f\u0629"})}),(0,zt.jsx)("input",{type:"text",value:e.clinic_manager_name,onChange:n=>t(d(d({},e),{},{clinic_manager_name:n.target.value})),className:"w-full",placeholder:"\u0627\u0633\u0645 \u0645\u062f\u064a\u0631 \u0627\u0644\u0639\u064a\u0627\u062f\u0629",required:!0})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{children:(0,zt.jsx)("span",{className:"text-shadow-glow",children:"\ud83d\udccd \u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0639\u064a\u0627\u062f\u0629"})}),(0,zt.jsx)("input",{type:"text",value:e.address,onChange:n=>t(d(d({},e),{},{address:n.target.value})),className:"w-full",placeholder:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0643\u0627\u0645\u0644 \u0644\u0644\u0639\u064a\u0627\u062f\u0629",required:!0})]})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{children:(0,zt.jsx)("span",{className:"text-shadow-glow",children:"\ud83d\udcf8 \u0635\u0648\u0631\u0629 \u0627\u0644\u0639\u064a\u0627\u062f\u0629 \u0645\u0646 \u0627\u0644\u062e\u0627\u0631\u062c (\u0627\u062e\u062a\u064a\u0627\u0631\u064a)"})}),(0,zt.jsxs)("div",{className:"mt-3",children:[(0,zt.jsx)("input",{type:"file",accept:"image/*",onChange:n=>{const r=n.target.files[0];if(r){if(r.size>5242880)return void u("\u062d\u062c\u0645 \u0627\u0644\u0635\u0648\u0631\u0629 \u064a\u062c\u0628 \u0623\u0646 \u064a\u0643\u0648\u0646 \u0623\u0642\u0644 \u0645\u0646 5 \u0645\u064a\u062c\u0627\u0628\u0627\u064a\u062a");const n=new FileReader;n.onload=n=>{t(d(d({},e),{},{clinic_image:n.target.result}))},n.readAsDataURL(r)}},className:"w-full p-4 border-2 border-dashed border-orange-300 rounded-xl hover:border-orange-500 transition-colors",style:{background:"var(--glass-bg)",borderColor:"var(--brand-orange)",borderOpacity:.3}}),e.clinic_image&&(0,zt.jsx)("div",{className:"mt-4",children:(0,zt.jsx)("img",{src:e.clinic_image,alt:"\u0635\u0648\u0631\u0629 \u0627\u0644\u0639\u064a\u0627\u062f\u0629",className:"h-48 w-full object-cover rounded-xl shadow-lg"})})]})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{children:(0,zt.jsx)("span",{className:"text-shadow-glow",children:"\ud83d\udcdd \u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0627\u0644\u0639\u064a\u0627\u062f\u0629"})}),(0,zt.jsx)("textarea",{value:e.notes,onChange:n=>t(d(d({},e),{},{notes:n.target.value})),rows:5,className:"w-full",placeholder:"\u0623\u0636\u0641 \u0623\u064a \u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0645\u0647\u0645\u0629 \u0639\u0646 \u0627\u0644\u0639\u064a\u0627\u062f\u0629\u060c \u0633\u0627\u0639\u0627\u062a \u0627\u0644\u0639\u0645\u0644\u060c \u0623\u0648 \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u062e\u0627\u0635\u0629...",required:!0})]}),(0,zt.jsx)("button",{type:"submit",disabled:i||!n,className:"w-full btn-primary text-xl py-4 neon-glow",children:i?(0,zt.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,zt.jsx)("div",{className:"loading-shimmer w-6 h-6 rounded-full"}),(0,zt.jsx)("span",{children:"\u062c\u0627\u0631\u064a \u0627\u0644\u0625\u0631\u0633\u0627\u0644..."})]}):(0,zt.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,zt.jsx)("span",{children:"\ud83d\ude80"}),(0,zt.jsx)("span",{children:"\u0625\u0631\u0633\u0627\u0644 \u0637\u0644\u0628 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0639\u064a\u0627\u062f\u0629"})]})})]})]})]})},En=()=>{const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)([]),[s,l]=(0,a.useState)([]),[i,o]=(0,a.useState)({doctor_id:"",order_type:"DEMO",warehouse_id:"",notes:"",items:[]}),[c,u]=(0,a.useState)([]),[m,f]=(0,a.useState)(!1),[h,p]=(0,a.useState)(""),[x,g]=(0,a.useState)("");(0,a.useEffect)((()=>{v(),b(),y()}),[]);const v=async()=>{try{const e=localStorage.getItem("token"),n=await Lt.get("".concat(Ot,"/doctors"),{headers:{Authorization:"Bearer ".concat(e)}});t(n.data.filter((e=>e.approved_by)))}catch(h){console.error("Error fetching doctors:",h)}},b=async()=>{try{const e=localStorage.getItem("token"),t=await Lt.get("".concat(Ot,"/products"),{headers:{Authorization:"Bearer ".concat(e)}});r(t.data)}catch(h){console.error("Error fetching products:",h)}},y=async()=>{try{const e=localStorage.getItem("token"),t=await Lt.get("".concat(Ot,"/warehouses"),{headers:{Authorization:"Bearer ".concat(e)}});l(t.data)}catch(h){console.error("Error fetching warehouses:",h)}};return(0,zt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,zt.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"\u0639\u0645\u0644 \u0637\u0644\u0628\u064a\u0629"}),h&&(0,zt.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-4",children:h}),x&&(0,zt.jsx)("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg mb-4",children:x}),(0,zt.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),0!==c.length){f(!0),p("");try{const t=localStorage.getItem("token"),n=e.find((e=>e.id===i.doctor_id)),r=d(d({},i),{},{clinic_id:n.clinic_id,items:c.map((e=>({product_id:e.id,quantity:e.quantity})))});await Lt.post("".concat(Ot,"/orders"),r,{headers:{Authorization:"Bearer ".concat(t)}}),g("\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628\u064a\u0629 \u0628\u0646\u062c\u0627\u062d. \u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0645\u062f\u064a\u0631"),o({doctor_id:"",order_type:"DEMO",warehouse_id:"",notes:"",items:[]}),u([])}catch(h){var n,r;p((null===(n=h.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.detail)||"\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628\u064a\u0629")}finally{f(!1)}}else p("\u064a\u062c\u0628 \u0625\u0636\u0627\u0641\u0629 \u0645\u0646\u062a\u062c \u0648\u0627\u062d\u062f \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644")},className:"space-y-6",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0637\u0628\u064a\u0628"}),(0,zt.jsxs)("select",{value:i.doctor_id,onChange:e=>o(d(d({},i),{},{doctor_id:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,zt.jsx)("option",{value:"",children:"-- \u0627\u062e\u062a\u0631 \u0627\u0644\u0637\u0628\u064a\u0628 --"}),e.map((e=>(0,zt.jsxs)("option",{value:e.id,children:["\u062f. ",e.name," - ",e.specialty]},e.id)))]})]}),(0,zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0646\u0648\u0639 \u0627\u0644\u0637\u0644\u0628\u064a\u0629"}),(0,zt.jsxs)("select",{value:i.order_type,onChange:e=>o(d(d({},i),{},{order_type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,zt.jsx)("option",{value:"DEMO",children:"\u062f\u064a\u0645\u0648 (\u0645\u062c\u0627\u0646\u064a)"}),(0,zt.jsx)("option",{value:"SALE",children:"\u0623\u0648\u0631\u062f\u0631 \u0645\u062f\u0641\u0648\u0639"})]})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0645\u062e\u0632\u0646"}),(0,zt.jsxs)("select",{value:i.warehouse_id,onChange:e=>o(d(d({},i),{},{warehouse_id:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,zt.jsx)("option",{value:"",children:"-- \u0627\u062e\u062a\u0631 \u0627\u0644\u0645\u062e\u0632\u0646 --"}),s.map((e=>(0,zt.jsxs)("option",{value:e.id,children:[e.name," - ",e.location]},e.id)))]})]})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0625\u0636\u0627\u0641\u0629 \u0645\u0646\u062a\u062c\u0627\u062a"}),(0,zt.jsxs)("select",{onChange:e=>{e.target.value&&((e=>{const t=n.find((t=>t.id===e));t&&!c.find((t=>t.id===e))&&u([...c,d(d({},t),{},{quantity:1})])})(e.target.value),e.target.value="")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,zt.jsx)("option",{value:"",children:"-- \u0627\u062e\u062a\u0631 \u0645\u0646\u062a\u062c \u0644\u0625\u0636\u0627\u0641\u062a\u0647 --"}),n.map((e=>(0,zt.jsxs)("option",{value:e.id,children:[e.name," - ",e.price," \u0631\u064a\u0627\u0644 (",e.unit,")"]},e.id)))]})]}),c.length>0&&(0,zt.jsxs)("div",{children:[(0,zt.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u0645\u062e\u062a\u0627\u0631\u0629"}),(0,zt.jsxs)("div",{className:"space-y-3",children:[c.map((e=>(0,zt.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[(0,zt.jsxs)("div",{className:"flex-1",children:[(0,zt.jsx)("h4",{className:"font-medium text-gray-800",children:e.name}),(0,zt.jsxs)("p",{className:"text-sm text-gray-600",children:[e.price," \u0631\u064a\u0627\u0644 / ",e.unit]})]}),(0,zt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,zt.jsx)("input",{type:"number",min:"1",value:e.quantity,onChange:t=>{return n=e.id,r=t.target.value,void u(c.map((e=>e.id===n?d(d({},e),{},{quantity:parseInt(r)}):e)));var n,r},className:"w-20 px-2 py-1 border border-gray-300 rounded text-center"}),(0,zt.jsxs)("span",{className:"text-sm font-medium text-gray-600",children:[(e.price*e.quantity).toFixed(2)," \u0631\u064a\u0627\u0644"]}),(0,zt.jsx)("button",{type:"button",onClick:()=>{return t=e.id,void u(c.filter((e=>e.id!==t)));var t},className:"text-red-600 hover:text-red-800 text-sm",children:"\u062d\u0630\u0641"})]})]},e.id))),(0,zt.jsx)("div",{className:"bg-blue-50 p-3 rounded-lg",children:(0,zt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,zt.jsx)("span",{className:"font-semibold text-blue-800",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0637\u0644\u0628\u064a\u0629:"}),(0,zt.jsxs)("span",{className:"text-xl font-bold text-blue-600",children:[c.reduce(((e,t)=>e+t.price*t.quantity),0).toFixed(2)," \u0631\u064a\u0627\u0644"]})]})})]})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0627\u0644\u0623\u0648\u0631\u062f\u0631"}),(0,zt.jsx)("textarea",{value:i.notes,onChange:e=>o(d(d({},i),{},{notes:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"\u0623\u0636\u0641 \u0623\u064a \u0645\u0644\u0627\u062d\u0638\u0627\u062a \u062e\u0627\u0635\u0629 \u0628\u0627\u0644\u0637\u0644\u0628\u064a\u0629..."})]}),(0,zt.jsx)("button",{type:"submit",disabled:m||0===c.length,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 transition duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:m?"\u062c\u0627\u0631\u064a \u0627\u0644\u0625\u0631\u0633\u0627\u0644...":"\u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628\u064a\u0629"})]})]})},Tn=()=>{const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)([]),[s,l]=(0,a.useState)(""),[i,o]=(0,a.useState)(""),[c,d]=(0,a.useState)(""),[u,m]=(0,a.useState)(!1),[f,h]=(0,a.useState)(null),[p,x]=(0,a.useState)(""),[g,v]=(0,a.useState)(""),[b,y]=(0,a.useState)(!1),[j,N]=(0,a.useState)(null),[w,k]=(0,a.useState)([]),[S,_]=(0,a.useState)(null);(0,a.useEffect)((()=>{T(),A(),C()}),[]);const C=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((e=>{h({latitude:e.coords.latitude,longitude:e.coords.longitude})}),(e=>{x("\u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u0645\u0648\u0642\u0639\u0643 \u0627\u0644\u062d\u0627\u0644\u064a. \u062a\u0623\u0643\u062f \u0645\u0646 \u062a\u0641\u0639\u064a\u0644 GPS")})):x("\u0627\u0644\u0645\u062a\u0635\u0641\u062d \u0644\u0627 \u064a\u062f\u0639\u0645 \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0645\u0648\u0642\u0639")},E=async(e,t,n)=>{try{const r=localStorage.getItem("token");await Lt.post("".concat(Ot,"/visits/").concat(e,"/voice-notes"),{audio_data:t,duration:Math.round(n)},{headers:{Authorization:"Bearer ".concat(r)}}),v("\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0629 \u0627\u0644\u0635\u0648\u062a\u064a\u0629 \u0628\u0646\u062c\u0627\u062d")}catch(p){console.error("Error adding voice note:",p),x("\u062e\u0637\u0623 \u0641\u064a \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0629 \u0627\u0644\u0635\u0648\u062a\u064a\u0629")}},T=async()=>{try{const e=localStorage.getItem("token"),n=await Lt.get("".concat(Ot,"/doctors"),{headers:{Authorization:"Bearer ".concat(e)}});t(n.data)}catch(p){console.error("Error fetching doctors:",p)}},A=async()=>{try{const e=localStorage.getItem("token"),t=await Lt.get("".concat(Ot,"/clinics"),{headers:{Authorization:"Bearer ".concat(e)}});r(t.data)}catch(p){console.error("Error fetching clinics:",p)}};return(0,zt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,zt.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"\u062a\u0633\u062c\u064a\u0644 \u0632\u064a\u0627\u0631\u0629 \u062c\u062f\u064a\u062f\u0629"}),(0,zt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),f){m(!0),x(""),v("");try{const e=localStorage.getItem("token"),t=await Lt.post("".concat(Ot,"/visits"),{doctor_id:s,clinic_id:i,latitude:f.latitude,longitude:f.longitude,notes:c},{headers:{Authorization:"Bearer ".concat(e)}});_(t.data.visit_id);for(const n of w)await E(t.data.visit_id,n.audio,n.duration);k([]),v("\u062a\u0645 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0629 \u0628\u0646\u062c\u0627\u062d"),l(""),o(""),d(""),_(null)}catch(p){var t,n;x((null===(t=p.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0629")}finally{m(!1)}}else x("\u0644\u0627 \u064a\u0645\u0643\u0646 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0629 \u0628\u062f\u0648\u0646 \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0645\u0648\u0642\u0639")},className:"space-y-6",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0637\u0628\u064a\u0628"}),(0,zt.jsxs)("select",{value:s,onChange:e=>l(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,zt.jsx)("option",{value:"",children:"-- \u0627\u062e\u062a\u0631 \u0627\u0644\u0637\u0628\u064a\u0628 --"}),e.map((e=>(0,zt.jsxs)("option",{value:e.id,children:["\u062f. ",e.name," - ",e.specialty]},e.id)))]})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0639\u064a\u0627\u062f\u0629"}),(0,zt.jsxs)("select",{value:i,onChange:e=>o(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,zt.jsx)("option",{value:"",children:"-- \u0627\u062e\u062a\u0631 \u0627\u0644\u0639\u064a\u0627\u062f\u0629 --"}),n.map((e=>(0,zt.jsxs)("option",{value:e.id,children:[e.name," - ",e.address]},e.id)))]})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0627\u0644\u0632\u064a\u0627\u0631\u0629"}),(0,zt.jsx)("textarea",{value:c,onChange:e=>d(e.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"\u0623\u0636\u0641 \u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0629...",required:!0})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0635\u0648\u062a\u064a\u0629 (\u0627\u062e\u062a\u064a\u0627\u0631\u064a\u0629)"}),(0,zt.jsxs)("div",{className:"border border-gray-300 rounded-lg p-4",children:[(0,zt.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,zt.jsx)("button",{type:"button",onClick:b?()=>{j&&b&&(j.stop(),y(!1),N(null))}:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=new MediaRecorder(e),n=[];t.ondataavailable=e=>n.push(e.data),t.onstop=async()=>{const t=new Blob(n,{type:"audio/wav"}),r=new FileReader;r.onloadend=async()=>{const e=r.result;S?await E(S,e,t.size/1e3):k([...w,{audio:e,duration:t.size/1e3}])},r.readAsDataURL(t),e.getTracks().forEach((e=>e.stop()))},t.start(),N(t),y(!0)}catch(p){console.error("Error starting recording:",p),x("\u062e\u0637\u0623 \u0641\u064a \u0628\u062f\u0621 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0635\u0648\u062a")}},className:"px-6 py-3 rounded-lg font-medium transition-colors ".concat(b?"bg-red-500 text-white hover:bg-red-600":"bg-green-500 text-white hover:bg-green-600"),children:b?(0,zt.jsxs)(zt.Fragment,{children:[(0,zt.jsx)("span",{className:"ml-2",children:"\ud83d\uded1"}),"\u0625\u064a\u0642\u0627\u0641 \u0627\u0644\u062a\u0633\u062c\u064a\u0644"]}):(0,zt.jsxs)(zt.Fragment,{children:[(0,zt.jsx)("span",{className:"ml-2",children:"\ud83c\udfa4"}),"\u0628\u062f\u0621 \u062a\u0633\u062c\u064a\u0644 \u0635\u0648\u062a\u064a"]})}),b&&(0,zt.jsxs)("div",{className:"flex items-center gap-2 text-red-600",children:[(0,zt.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),(0,zt.jsx)("span",{className:"text-sm font-medium",children:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u0633\u062c\u064a\u0644..."})]})]}),w.length>0&&(0,zt.jsxs)("div",{className:"space-y-2",children:[(0,zt.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0627\u0644\u0635\u0648\u062a\u064a\u0629 \u0627\u0644\u0645\u0633\u062c\u0644\u0629:"}),w.map(((e,t)=>(0,zt.jsxs)("div",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded-lg",children:[(0,zt.jsx)("span",{className:"text-sm",children:"\ud83c\udfb5"}),(0,zt.jsx)("audio",{controls:!0,className:"flex-1 h-8",children:(0,zt.jsx)("source",{src:e.audio,type:"audio/wav"})}),(0,zt.jsxs)("span",{className:"text-xs text-gray-500",children:[Math.round(e.duration),"\u062b"]})]},t)))]}),(0,zt.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"\ud83d\udca1 \u064a\u0645\u0643\u0646\u0643 \u062a\u0633\u062c\u064a\u0644 \u0639\u062f\u0629 \u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0635\u0648\u062a\u064a\u0629 \u0644\u062d\u0641\u0638 \u062a\u0641\u0627\u0635\u064a\u0644 \u0645\u0647\u0645\u0629 \u0623\u062b\u0646\u0627\u0621 \u0627\u0644\u0632\u064a\u0627\u0631\u0629"})]})]}),(0,zt.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg",children:(0,zt.jsxs)("div",{className:"flex items-center",children:[(0,zt.jsx)("div",{className:"text-blue-600 ml-2",children:"\ud83d\udccd"}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"\u0627\u0644\u0645\u0648\u0642\u0639 \u0627\u0644\u062d\u0627\u0644\u064a"}),f?(0,zt.jsxs)("p",{className:"text-xs text-blue-600",children:[f.latitude.toFixed(6),", ",f.longitude.toFixed(6)]}):(0,zt.jsx)("p",{className:"text-xs text-blue-600",children:"\u062c\u0627\u0631\u064a \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0645\u0648\u0642\u0639..."})]})]})}),p&&(0,zt.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:p}),g&&(0,zt.jsx)("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg",children:g}),(0,zt.jsx)("button",{type:"submit",disabled:u||!f,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 transition duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:u?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u0633\u062c\u064a\u0644...":"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0629"})]})]})},An=e=>{let{inventory:t,warehouses:n,onRefresh:r,language:s}=e;const[l,i]=(0,a.useState)("all"),[o,c]=(0,a.useState)(""),[d,u]=(0,a.useState)("all"),m="ar"===s?{inventoryTitle:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u062e\u0632\u0648\u0646 \u0627\u0644\u0634\u0627\u0645\u0644",warehouse:"\u0627\u0644\u0645\u062e\u0632\u0646",allWarehouses:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u062e\u0627\u0632\u0646",search:"\u0628\u062d\u062b \u0641\u064a \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a...",category:"\u0627\u0644\u0641\u0626\u0629",allCategories:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0641\u0626\u0627\u062a",productName:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c",quantity:"\u0627\u0644\u0643\u0645\u064a\u0629",minStock:"\u0623\u0642\u0644 \u0645\u062e\u0632\u0648\u0646",unitPrice:"\u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0629",totalValue:"\u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a\u0629",status:"\u0627\u0644\u062d\u0627\u0644\u0629",actions:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a",inStock:"\u0645\u062a\u0648\u0641\u0631",lowStock:"\u0646\u0642\u0635 \u0645\u062e\u0632\u0648\u0646",outOfStock:"\u0646\u0641\u062f \u0627\u0644\u0645\u062e\u0632\u0648\u0646",edit:"\u062a\u0639\u062f\u064a\u0644",view:"\u0639\u0631\u0636"}:{inventoryTitle:"Comprehensive Inventory Management",warehouse:"Warehouse",allWarehouses:"All Warehouses",search:"Search products...",category:"Category",allCategories:"All Categories",productName:"Product Name",quantity:"Quantity",minStock:"Min Stock",unitPrice:"Unit Price",totalValue:"Total Value",status:"Status",actions:"Actions",inStock:"In Stock",lowStock:"Low Stock",outOfStock:"Out of Stock",edit:"Edit",view:"View"},f=t.filter((e=>{const t="all"===l||e.warehouse===l,n=e.name.toLowerCase().includes(o.toLowerCase()),r="all"===d||e.category===d;return t&&n&&r})),h=[...new Set(t.map((e=>e.category)))];return(0,zt.jsx)("div",{className:"space-y-6",children:(0,zt.jsxs)("div",{className:"card-modern p-6",children:[(0,zt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,zt.jsx)("span",{children:"\ud83d\udce6"}),(0,zt.jsx)("span",{children:m.inventoryTitle})]}),(0,zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsxs)("label",{className:"block text-sm font-bold mb-2",children:[m.warehouse,":"]}),(0,zt.jsxs)("select",{value:l,onChange:e=>i(e.target.value),className:"form-modern w-full",children:[(0,zt.jsx)("option",{value:"all",children:m.allWarehouses}),n.map((e=>(0,zt.jsx)("option",{value:e.name,children:e.name},e.id)))]})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsxs)("label",{className:"block text-sm font-bold mb-2",children:[m.search,":"]}),(0,zt.jsx)("input",{type:"text",value:o,onChange:e=>c(e.target.value),placeholder:m.search,className:"form-modern w-full"})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsxs)("label",{className:"block text-sm font-bold mb-2",children:[m.category,":"]}),(0,zt.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"form-modern w-full",children:[(0,zt.jsx)("option",{value:"all",children:m.allCategories}),h.map((e=>(0,zt.jsx)("option",{value:e,children:e},e)))]})]}),(0,zt.jsx)("div",{className:"flex items-end",children:(0,zt.jsxs)("button",{onClick:r,className:"btn-primary w-full flex items-center justify-center gap-2",children:[(0,zt.jsx)("span",{children:"\ud83d\udd04"}),(0,zt.jsx)("span",{children:"ar"===s?"\u062a\u062d\u062f\u064a\u062b":"Refresh"})]})})]}),(0,zt.jsx)("div",{className:"table-modern overflow-x-auto",children:(0,zt.jsxs)("table",{className:"min-w-full",children:[(0,zt.jsx)("thead",{children:(0,zt.jsxs)("tr",{children:[(0,zt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:m.productName}),(0,zt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:m.warehouse}),(0,zt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:m.quantity}),(0,zt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:m.minStock}),(0,zt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:m.unitPrice}),(0,zt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:m.totalValue}),(0,zt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:m.status}),(0,zt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:m.actions})]})}),(0,zt.jsx)("tbody",{children:f.map((e=>{const t=(e=>0===e.quantity?{text:m.outOfStock,color:"text-red-600",bg:"bg-red-100"}:e.quantity<=e.min_stock?{text:m.lowStock,color:"text-orange-600",bg:"bg-orange-100"}:{text:m.inStock,color:"text-green-600",bg:"bg-green-100"})(e),n=e.quantity*e.unit_price;return(0,zt.jsxs)("tr",{className:"hover:bg-gray-50 hover:bg-opacity-5 transition-colors",children:[(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsxs)("div",{children:[(0,zt.jsx)("div",{className:"font-medium text-lg",children:e.name}),(0,zt.jsx)("div",{className:"text-sm text-gray-500",children:e.category})]})}),(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsx)("div",{className:"font-medium",children:e.warehouse})}),(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsx)("div",{className:"text-lg font-bold",children:e.quantity})}),(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsx)("div",{className:"text-sm text-gray-600",children:e.min_stock})}),(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsxs)("div",{className:"font-medium",children:[e.unit_price.toFixed(2)," ","ar"===s?"\u062c\u0646\u064a\u0647":"EGP"]})}),(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsxs)("div",{className:"text-lg font-bold text-green-600",children:[n.toFixed(2)," ","ar"===s?"\u062c\u0646\u064a\u0647":"EGP"]})}),(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(t.bg," ").concat(t.color),children:t.text})}),(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsxs)("div",{className:"flex gap-2",children:[(0,zt.jsx)("button",{className:"btn-info text-xs px-3 py-1",title:m.view,children:"\ud83d\udc41\ufe0f"}),(0,zt.jsx)("button",{className:"btn-primary text-xs px-3 py-1",title:m.edit,children:"\u270f\ufe0f"})]})})]},e.id)}))})]})})]})})},Pn=e=>{let{orders:t,onRefresh:n,language:r}=e;const a="ar"===r?{ordersTitle:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0645\u0646\u062a\u0638\u0631\u0629",orderId:"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628\u064a\u0629",clinic:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629",salesRep:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628",warehouse:"\u0627\u0644\u0645\u062e\u0632\u0646",items:"\u0639\u062f\u062f \u0627\u0644\u0639\u0646\u0627\u0635\u0631",total:"\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a",status:"\u0627\u0644\u062d\u0627\u0644\u0629",actions:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a",pendingManager:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u062f\u064a\u0631",pendingAccounting:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629",pendingWarehouse:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u062e\u0632\u0646",approve:"\u0645\u0648\u0627\u0641\u0642\u0629",reject:"\u0631\u0641\u0636",view:"\u0639\u0631\u0636"}:{ordersTitle:"Pending Orders Management",orderId:"Order ID",clinic:"Clinic",salesRep:"Sales Rep",warehouse:"Warehouse",items:"Items",total:"Total",status:"Status",actions:"Actions",pendingManager:"Pending Manager",pendingAccounting:"Pending Accounting",pendingWarehouse:"Pending Warehouse",approve:"Approve",reject:"Reject",view:"View"};return(0,zt.jsx)("div",{className:"space-y-6",children:(0,zt.jsxs)("div",{className:"card-modern p-6",children:[(0,zt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,zt.jsx)("span",{children:"\ud83d\uded2"}),(0,zt.jsx)("span",{children:a.ordersTitle})]}),(0,zt.jsx)("div",{className:"table-modern overflow-x-auto",children:(0,zt.jsxs)("table",{className:"min-w-full",children:[(0,zt.jsx)("thead",{children:(0,zt.jsxs)("tr",{children:[(0,zt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:a.orderId}),(0,zt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:a.clinic}),(0,zt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:a.salesRep}),(0,zt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:a.warehouse}),(0,zt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:a.items}),(0,zt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:a.total}),(0,zt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:a.status}),(0,zt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:a.actions})]})}),(0,zt.jsx)("tbody",{children:t.map((e=>{const t=(e=>{switch(e){case"pending_manager":return{text:a.pendingManager,color:"text-orange-600",bg:"bg-orange-100"};case"pending_accounting":return{text:a.pendingAccounting,color:"text-blue-600",bg:"bg-blue-100"};case"pending_warehouse":return{text:a.pendingWarehouse,color:"text-purple-600",bg:"bg-purple-100"};default:return{text:e,color:"text-gray-600",bg:"bg-gray-100"}}})(e.status);return(0,zt.jsxs)("tr",{className:"hover:bg-gray-50 hover:bg-opacity-5 transition-colors",children:[(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsxs)("div",{className:"font-medium",children:["#",e.id]})}),(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsx)("div",{className:"font-medium",children:e.clinic})}),(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsx)("div",{className:"font-medium",children:e.sales_rep})}),(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsx)("div",{className:"font-medium",children:e.warehouse})}),(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsx)("div",{className:"text-center font-bold",children:e.items})}),(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsxs)("div",{className:"text-lg font-bold text-green-600",children:[e.total.toLocaleString()," ","ar"===r?"\u062c\u0646\u064a\u0647":"EGP"]})}),(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(t.bg," ").concat(t.color),children:t.text})}),(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsxs)("div",{className:"flex gap-2",children:[(0,zt.jsx)("button",{className:"btn-info text-xs px-3 py-1",title:a.view,children:"\ud83d\udc41\ufe0f"}),(0,zt.jsx)("button",{className:"btn-success text-xs px-3 py-1",title:a.approve,children:"\u2705"}),(0,zt.jsx)("button",{className:"btn-danger text-xs px-3 py-1",title:a.reject,children:"\u274c"})]})})]},e.id)}))})]})})]})})},Ln=e=>{let{movements:t,language:n}=e;const[r,s]=(0,a.useState)(""),[l,i]=(0,a.useState)("all"),[o,c]=(0,a.useState)("all"),d="ar"===n?{movementsTitle:"\u0633\u062c\u0644 \u062d\u0631\u0643\u0627\u062a \u0627\u0644\u0645\u062e\u0632\u0646",filterByDate:"\u0641\u0644\u062a\u0631\u0629 \u0628\u0627\u0644\u062a\u0627\u0631\u064a\u062e",filterByType:"\u0641\u0644\u062a\u0631\u0629 \u0628\u0646\u0648\u0639 \u0627\u0644\u062d\u0631\u0643\u0629",filterByStatus:"\u0641\u0644\u062a\u0631\u0629 \u0628\u0627\u0644\u062d\u0627\u0644\u0629",allTypes:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0623\u0646\u0648\u0627\u0639",allStatuses:"\u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0627\u0644\u0627\u062a",date:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e",product:"\u0627\u0644\u0645\u0646\u062a\u062c",requester:"\u0627\u0644\u0637\u0627\u0644\u0628",region:"\u0627\u0644\u0645\u0646\u0637\u0642\u0629",movementType:"\u0646\u0648\u0639 \u0627\u0644\u062d\u0631\u0643\u0629",orderType:"\u0646\u0648\u0639 \u0627\u0644\u0637\u0644\u0628",quantity:"\u0627\u0644\u0643\u0645\u064a\u0629",salesRep:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628",doctor:"\u0627\u0644\u062f\u0643\u062a\u0648\u0631 \u0627\u0644\u0645\u0633\u062a\u0644\u0645",reason:"\u0627\u0644\u0633\u0628\u0628",comments:"\u062a\u0639\u0644\u064a\u0642\u0627\u062a",status:"\u0627\u0644\u062d\u0627\u0644\u0629",actions:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a",completed:"\u062a\u0645\u062a",pendingApproval:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629",review:"\u0645\u0631\u0627\u062c\u0639\u0629",cancel:"\u0625\u0644\u063a\u0627\u0621"}:{movementsTitle:"Warehouse Movement Log",filterByDate:"Filter by Date",filterByType:"Filter by Type",filterByStatus:"Filter by Status",allTypes:"All Types",allStatuses:"All Statuses",date:"Date",product:"Product",requester:"Requester",region:"Region",movementType:"Movement Type",orderType:"Order Type",quantity:"Quantity",salesRep:"Sales Rep",doctor:"Receiving Doctor",reason:"Reason",comments:"Comments",status:"Status",actions:"Actions",completed:"Completed",pendingApproval:"Pending Approval",review:"Review",cancel:"Cancel"},u=t.filter((e=>{const t=!r||e.date.includes(r),n="all"===l||e.movement_type===l,a="all"===o||e.status===o;return t&&n&&a}));return(0,zt.jsx)("div",{className:"space-y-6",children:(0,zt.jsxs)("div",{className:"card-modern p-6",children:[(0,zt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,zt.jsx)("span",{children:"\ud83d\udccb"}),(0,zt.jsx)("span",{children:d.movementsTitle})]}),(0,zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsxs)("label",{className:"block text-sm font-bold mb-2",children:[d.filterByDate,":"]}),(0,zt.jsx)("input",{type:"date",value:r,onChange:e=>s(e.target.value),className:"form-modern w-full"})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsxs)("label",{className:"block text-sm font-bold mb-2",children:[d.filterByType,":"]}),(0,zt.jsxs)("select",{value:l,onChange:e=>i(e.target.value),className:"form-modern w-full",children:[(0,zt.jsx)("option",{value:"all",children:d.allTypes}),(0,zt.jsx)("option",{value:"\u0635\u0631\u0641",children:"ar"===n?"\u0635\u0631\u0641":"Dispatch"}),(0,zt.jsx)("option",{value:"\u0625\u062f\u062e\u0627\u0644",children:"ar"===n?"\u0625\u062f\u062e\u0627\u0644":"Receive"})]})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsxs)("label",{className:"block text-sm font-bold mb-2",children:[d.filterByStatus,":"]}),(0,zt.jsxs)("select",{value:o,onChange:e=>c(e.target.value),className:"form-modern w-full",children:[(0,zt.jsx)("option",{value:"all",children:d.allStatuses}),(0,zt.jsx)("option",{value:"completed",children:d.completed}),(0,zt.jsx)("option",{value:"pending_approval",children:d.pendingApproval})]})]})]}),(0,zt.jsx)("div",{className:"table-modern overflow-x-auto",children:(0,zt.jsxs)("table",{className:"min-w-full text-sm",children:[(0,zt.jsx)("thead",{children:(0,zt.jsxs)("tr",{children:[(0,zt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.date}),(0,zt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.product}),(0,zt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.requester}),(0,zt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.region}),(0,zt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.movementType}),(0,zt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.orderType}),(0,zt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.quantity}),(0,zt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.salesRep}),(0,zt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.doctor}),(0,zt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.reason}),(0,zt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.comments}),(0,zt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.status}),(0,zt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.actions})]})}),(0,zt.jsx)("tbody",{children:u.map((e=>{const t=(e=>{switch(e){case"completed":return{text:d.completed,color:"text-green-600",bg:"bg-green-100"};case"pending_approval":return{text:d.pendingApproval,color:"text-orange-600",bg:"bg-orange-100"};default:return{text:e,color:"text-gray-600",bg:"bg-gray-100"}}})(e.status);return(0,zt.jsxs)("tr",{className:"hover:bg-gray-50 hover:bg-opacity-5 transition-colors",children:[(0,zt.jsx)("td",{className:"px-4 py-3",children:(0,zt.jsx)("div",{className:"text-sm font-medium",children:e.date})}),(0,zt.jsx)("td",{className:"px-4 py-3",children:(0,zt.jsx)("div",{className:"font-medium",children:e.product})}),(0,zt.jsx)("td",{className:"px-4 py-3",children:(0,zt.jsx)("div",{className:"text-sm",children:e.requester})}),(0,zt.jsx)("td",{className:"px-4 py-3",children:(0,zt.jsx)("div",{className:"text-sm",children:e.region})}),(0,zt.jsx)("td",{className:"px-4 py-3",children:(0,zt.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat("\u0635\u0631\u0641"===e.movement_type?"bg-red-100 text-red-800":"bg-green-100 text-green-800"),children:e.movement_type})}),(0,zt.jsx)("td",{className:"px-4 py-3",children:(0,zt.jsx)("div",{className:"text-sm",children:e.order_type})}),(0,zt.jsx)("td",{className:"px-4 py-3",children:(0,zt.jsx)("div",{className:"text-center font-bold",children:e.quantity})}),(0,zt.jsx)("td",{className:"px-4 py-3",children:(0,zt.jsx)("div",{className:"text-sm",children:e.sales_rep})}),(0,zt.jsx)("td",{className:"px-4 py-3",children:(0,zt.jsx)("div",{className:"text-sm",children:e.doctor||"-"})}),(0,zt.jsx)("td",{className:"px-4 py-3",children:(0,zt.jsx)("div",{className:"text-sm",children:e.reason})}),(0,zt.jsx)("td",{className:"px-4 py-3",children:(0,zt.jsx)("div",{className:"text-sm",children:e.comments})}),(0,zt.jsx)("td",{className:"px-4 py-3",children:(0,zt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(t.bg," ").concat(t.color),children:t.text})}),(0,zt.jsx)("td",{className:"px-4 py-3",children:(0,zt.jsxs)("div",{className:"flex gap-1",children:[(0,zt.jsx)("button",{className:"btn-info text-xs px-2 py-1",title:d.review,children:"\ud83d\udc41\ufe0f"}),(0,zt.jsx)("button",{className:"btn-danger text-xs px-2 py-1",title:d.cancel,children:"\u274c"})]})})]},e.id)}))})]})})]})})},zn=()=>{const{user:e,logout:t}=Qt(),{language:n,t:r,isRTL:s}=Dt(),[l,i]=(0,a.useState)({}),[o,c]=(0,a.useState)([]),[d,u]=(0,a.useState)("dashboard");(0,a.useEffect)((()=>{m(),f();const e=e=>{u(e.detail)};return window.addEventListener("navigateToTab",e),()=>{window.removeEventListener("navigateToTab",e)}}),[]);const m=async()=>{try{const e=localStorage.getItem("token"),t=await Lt.get("".concat(Ot,"/dashboard/stats"),{headers:{Authorization:"Bearer ".concat(e)}});i(t.data)}catch(e){console.error("Error fetching stats:",e)}},f=async()=>{try{const e=localStorage.getItem("token"),t=await Lt.get("".concat(Ot,"/visits"),{headers:{Authorization:"Bearer ".concat(e)}});c(t.data)}catch(e){console.error("Error fetching visits:",e)}},h=t=>{var n;return(null===(n={users:["admin","warehouse_manager","manager"],warehouse:["admin","warehouse_manager"],visit:["sales_rep"],reports:["admin","warehouse_manager","manager","accounting"],accounting:["admin","accounting"]}[t])||void 0===n?void 0:n.includes(e.role))||!1},[p,x]=(0,a.useState)(!1);return(0,zt.jsxs)(zt.Fragment,{children:[(0,zt.jsx)($t,{}),(0,zt.jsxs)("div",{className:"min-h-screen page-transition flex flex-col",children:[(0,zt.jsx)(gn,{user:e,onLogout:t,onSearchOpen:()=>x(!0)}),(0,zt.jsx)(Ht,{isOpen:p,onClose:()=>x(!1)}),(0,zt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 flex-1",children:[(0,zt.jsx)("div",{className:"mb-8",children:(0,zt.jsxs)("nav",{className:"flex space-x-4 overflow-x-auto nav-menu rounded-2xl p-2 shadow-lg ".concat(s?"space-x-reverse":""),"aria-label":"Tabs",children:[(0,zt.jsxs)("button",{onClick:()=>u("dashboard"),className:"nav-item ".concat("dashboard"===d?"active":""," flex items-center whitespace-nowrap"),children:[(0,zt.jsx)("span",{className:"".concat(s?"mr-2":"ml-2"),children:"\ud83d\udcca"}),"admin"===e.role?r("statistics"):r("dashboard")]}),h("users")&&(0,zt.jsxs)("button",{onClick:()=>u("users"),className:"nav-item ".concat("users"===d?"active":""," flex items-center whitespace-nowrap"),children:[(0,zt.jsx)("span",{className:"".concat(s?"mr-2":"ml-2"),children:"\ud83d\udc65"}),r("userManagement")]}),h("warehouse")&&(0,zt.jsxs)("button",{onClick:()=>u("warehouse"),className:"nav-item ".concat("warehouse"===d?"active":""," flex items-center whitespace-nowrap"),children:[(0,zt.jsx)("span",{className:"".concat(s?"mr-2":"ml-2"),children:"\ud83c\udfed"}),r("warehouseManagement")]}),h("visit")&&(0,zt.jsxs)("button",{onClick:()=>u("clinic-registration"),className:"nav-item ".concat("clinic-registration"===d?"active":""," flex items-center whitespace-nowrap"),children:[(0,zt.jsx)("span",{className:"".concat(s?"mr-2":"ml-2"),children:"\ud83c\udfe5"}),"ar"===n?"\u062a\u0633\u062c\u064a\u0644 \u0639\u064a\u0627\u062f\u0629":"Clinic Registration"]}),h("visit")&&(0,zt.jsxs)("button",{onClick:()=>u("order-creation"),className:"nav-item ".concat("order-creation"===d?"active":""," flex items-center whitespace-nowrap"),children:[(0,zt.jsx)("span",{className:"".concat(s?"mr-2":"ml-2"),children:"\ud83d\udce6"}),"ar"===n?"\u0639\u0645\u0644 \u0637\u0644\u0628\u064a\u0629":"Create Order"]}),h("visit")&&(0,zt.jsxs)("button",{onClick:()=>u("visit"),className:"nav-item ".concat("visit"===d?"active":""," flex items-center whitespace-nowrap"),children:[(0,zt.jsx)("span",{className:"".concat(s?"mr-2":"ml-2"),children:"\ud83d\udcdd"}),"ar"===n?"\u062a\u0633\u062c\u064a\u0644 \u0632\u064a\u0627\u0631\u0629":"Register Visit"]}),(0,zt.jsxs)("button",{onClick:()=>u("visits"),className:"nav-item ".concat("visits"===d?"active":""," flex items-center whitespace-nowrap"),children:[(0,zt.jsx)("span",{className:"".concat(s?"mr-2":"ml-2"),children:"\ud83d\udccb"}),r("visitsLog")]}),h("reports")&&(0,zt.jsxs)("button",{onClick:()=>u("reports"),className:"nav-item ".concat("reports"===d?"active":""," flex items-center whitespace-nowrap"),children:[(0,zt.jsx)("span",{className:"".concat(s?"mr-2":"ml-2"),children:"\ud83d\udcc8"}),r("reports")]}),h("reports")&&(0,zt.jsxs)("button",{onClick:()=>u("analytics"),className:"nav-item ".concat("analytics"===d?"active":""," flex items-center whitespace-nowrap"),children:[(0,zt.jsx)("span",{className:"".concat(s?"mr-2":"ml-2"),children:"\ud83d\udcca"}),"ar"===n?"\u0627\u0644\u062a\u062d\u0644\u064a\u0644\u0627\u062a \u0627\u0644\u0645\u062a\u0642\u062f\u0645\u0629":"Advanced Analytics"]}),"sales_rep"===e.role||h("reports")&&(0,zt.jsxs)("button",{onClick:()=>u("gamification"),className:"nav-item ".concat("gamification"===d?"active":""," flex items-center whitespace-nowrap"),children:[(0,zt.jsx)("span",{className:"".concat(s?"mr-2":"ml-2"),children:"\ud83c\udfae"}),"ar"===n?"\u0646\u0638\u0627\u0645 \u0627\u0644\u062a\u062d\u0641\u064a\u0632":"Gamification"]}),h("accounting")&&(0,zt.jsxs)("button",{onClick:()=>u("accounting"),className:"nav-item ".concat("accounting"===d?"active":""," flex items-center whitespace-nowrap"),children:[(0,zt.jsx)("span",{className:"".concat(s?"mr-2":"ml-2"),children:"\ud83d\udcb0"}),"ar"===n?"\u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629":"Accounting"]}),(0,zt.jsxs)("button",{onClick:()=>u("chat"),className:"nav-item ".concat("chat"===d?"active":""," flex items-center whitespace-nowrap"),children:[(0,zt.jsx)("span",{className:"".concat(s?"mr-2":"ml-2"),children:"\ud83d\udcac"}),r("chat")]}),"admin"===e.role&&(0,zt.jsxs)("button",{onClick:()=>u("settings"),className:"nav-item ".concat("settings"===d?"active":""," flex items-center whitespace-nowrap"),children:[(0,zt.jsx)("span",{className:"".concat(s?"mr-2":"ml-2"),children:"\u2699\ufe0f"}),r("settings")]}),"admin"===e.role&&(0,zt.jsxs)("button",{onClick:()=>u("secret"),className:"nav-item ".concat("secret"===d?"active":""," flex items-center whitespace-nowrap"),children:[(0,zt.jsx)("span",{className:"".concat(s?"mr-2":"ml-2"),children:"\ud83d\udd12"}),r("secretReports")]})]})}),"dashboard"===d&&"sales_rep"===e.role&&(0,zt.jsx)(_n,{stats:l,user:e}),"dashboard"===d&&"sales_rep"!==e.role&&(0,zt.jsx)(sn,{stats:l,user:e}),"clinic-registration"===d&&"sales_rep"===e.role&&(0,zt.jsx)(Cn,{}),"order-creation"===d&&"sales_rep"===e.role&&(0,zt.jsx)(En,{}),"users"===d&&h("users")&&(0,zt.jsx)(pn,{}),"warehouse"===d&&h("warehouse")&&(0,zt.jsx)(kn,{}),"visit"===d&&"sales_rep"===e.role&&(0,zt.jsx)(Tn,{}),"visits"===d&&(0,zt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,zt.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,zt.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"\u0633\u062c\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a"})}),(0,zt.jsx)("div",{className:"overflow-x-auto",children:(0,zt.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,zt.jsx)("thead",{className:"bg-gray-50",children:(0,zt.jsxs)("tr",{children:[(0,zt.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e"}),(0,zt.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u0627\u0644\u0637\u0628\u064a\u0628"}),(0,zt.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629"}),(0,zt.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628"}),(0,zt.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u0627\u0644\u062d\u0627\u0644\u0629"})]})}),(0,zt.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map((e=>(0,zt.jsxs)("tr",{children:[(0,zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.visit_date).toLocaleDateString("ar-EG")}),(0,zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.doctor_name}),(0,zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.clinic_name}),(0,zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.sales_rep_name}),(0,zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,zt.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(null===e.is_effective?"bg-yellow-100 text-yellow-800":e.is_effective?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:null===e.is_effective?"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u0631\u0627\u062c\u0639\u0629":e.is_effective?"\u0645\u062c\u062f\u064a\u0629":"\u063a\u064a\u0631 \u0645\u062c\u062f\u064a\u0629"})})]},e.id)))})]})})]}),"reports"===d&&h("reports")&&(0,zt.jsx)(yn,{}),"accounting"===d&&h("accounting")&&(0,zt.jsx)(On,{}),"analytics"===d&&h("reports")&&(0,zt.jsx)(an,{}),"gamification"===d&&("sales_rep"===e.role||h("reports"))&&(0,zt.jsx)(Rn,{}),"chat"===d&&(0,zt.jsx)(rn,{}),"settings"===d&&"admin"===e.role&&(0,zt.jsx)(Yt,{}),"secret"===d&&"admin"===e.role&&(0,zt.jsx)(bn,{})]}),(0,zt.jsx)(vn,{})]})]})},On=()=>{const[e,t]=(0,a.useState)("dashboard"),[n,r]=(0,a.useState)(null),[s,l]=(0,a.useState)([]),[i,o]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)(null),[f,h]=(0,a.useState)(!1),{language:p,t:x,isRTL:g}=Dt(),v=[{id:"dashboard",label:"ar"===p?"\u0644\u0648\u062d\u0629 \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629":"Accounting Dashboard",icon:"\ud83d\udcca"},{id:"invoices",label:"ar"===p?"\u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631":"Invoices",icon:"\ud83d\udccb"},{id:"expenses",label:"ar"===p?"\u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062a":"Expenses",icon:"\ud83d\udcb8"},{id:"customers",label:"ar"===p?"\u0627\u0644\u0639\u0645\u0644\u0627\u0621":"Customers",icon:"\ud83d\udc65"},{id:"reports",label:"ar"===p?"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631 \u0627\u0644\u0645\u0627\u0644\u064a\u0629":"Financial Reports",icon:"\ud83d\udcc8"}];(0,a.useEffect)((()=>{b()}),[e]);const b=async()=>{h(!0);try{const t=localStorage.getItem("token"),n={Authorization:"Bearer ".concat(t)};if("dashboard"===e){const[e,t]=await Promise.all([Lt.get("".concat(Ot,"/accounting/overview"),{headers:n}),Lt.get("".concat(Ot,"/accounting/dashboard-stats"),{headers:n})]);r({overview:e.data,stats:t.data})}else if("invoices"===e){const e=await Lt.get("".concat(Ot,"/accounting/invoices"),{headers:n});l(e.data)}else if("expenses"===e){const e=await Lt.get("".concat(Ot,"/accounting/expenses"),{headers:n});o(e.data)}else if("customers"===e){const e=await Lt.get("".concat(Ot,"/accounting/customers"),{headers:n});d(e.data)}else if("reports"===e){const e=await Lt.get("".concat(Ot,"/accounting/reports/profit-loss"),{headers:n});m(e.data)}}catch(t){console.error("Error loading accounting data:",t)}finally{h(!1)}},y=e=>new Intl.NumberFormat("ar"===p?"ar-EG":"en-US",{style:"currency",currency:"EGP",minimumFractionDigits:2}).format(e||0);return!f||n||s.length||i.length||c.length?(0,zt.jsxs)("div",{className:"space-y-6",children:[(0,zt.jsxs)("div",{className:"glass-effect p-6",children:[(0,zt.jsx)("h2",{className:"text-3xl font-bold mb-4 text-gradient",children:"ar"===p?"\u0646\u0638\u0627\u0645 \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629 \u0627\u0644\u0634\u0627\u0645\u0644":"Comprehensive Accounting System"}),(0,zt.jsx)("p",{style:{color:"var(--text-secondary)"},children:"ar"===p?"\u0625\u062f\u0627\u0631\u0629 \u0634\u0627\u0645\u0644\u0629 \u0644\u0644\u0634\u0624\u0648\u0646 \u0627\u0644\u0645\u0627\u0644\u064a\u0629\u060c \u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631\u060c \u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062a\u060c \u0648\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631":"Complete financial management, invoices, expenses, and reports"})]}),(0,zt.jsx)("div",{className:"glass-effect p-2",children:(0,zt.jsx)("div",{className:"flex gap-2 overflow-x-auto ".concat(g?"flex-row-reverse":""),children:v.map((n=>(0,zt.jsxs)("button",{onClick:()=>t(n.id),className:"flex items-center gap-3 px-6 py-3 rounded-lg transition-all duration-300 whitespace-nowrap ".concat(e===n.id?"bg-gradient-to-r from-green-600 to-blue-600 text-white":"hover:bg-white hover:bg-opacity-10"),children:[(0,zt.jsx)("span",{className:"text-xl",children:n.icon}),(0,zt.jsx)("span",{className:"font-medium",children:n.label})]},n.id)))})}),(0,zt.jsxs)("div",{className:"glass-effect p-8",children:["dashboard"===e&&(0,zt.jsx)(wn,{data:n,formatCurrency:y}),"invoices"===e&&(0,zt.jsx)(InvoicesTab,{invoices:s,formatCurrency:y}),"expenses"===e&&(0,zt.jsx)(ExpensesTab,{expenses:i,onCreateExpense:async e=>{try{const t=localStorage.getItem("token");await Lt.post("".concat(Ot,"/accounting/expenses"),e,{headers:{Authorization:"Bearer ".concat(t)}}),alert("ar"===p?"\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0635\u0631\u0648\u0641 \u0628\u0646\u062c\u0627\u062d":"Expense added successfully"),b()}catch(t){console.error("Error creating expense:",t),alert("ar"===p?"\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0635\u0631\u0648\u0641":"Error adding expense")}},formatCurrency:y}),"customers"===e&&(0,zt.jsx)(CustomersTab,{customers:c,formatCurrency:y}),"reports"===e&&(0,zt.jsx)(FinancialReportsTab,{report:u,formatCurrency:y})]})]}):(0,zt.jsxs)("div",{className:"glass-effect p-8 text-center",children:[(0,zt.jsx)("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,zt.jsx)("p",{style:{color:"var(--text-secondary)"},children:"ar"===p?"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629...":"Loading accounting data..."})]})},Rn=()=>{const[e,t]=(0,a.useState)(!0),[n,r]=(0,a.useState)(""),[s,l]=(0,a.useState)("profile"),[i,o]=(0,a.useState)("all_time"),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(null),[f,h]=(0,a.useState)(null),{language:p,t:x}=Dt();(0,a.useEffect)((()=>{g()}),[s,i]);const g=async()=>{t(!0),r("");try{const e=localStorage.getItem("token"),t=JSON.parse(localStorage.getItem("user")),n={Authorization:"Bearer ".concat(e)};if("profile"===s){const e=await Lt.get("".concat(Ot,"/gamification/user-profile/").concat(t.id),{headers:n});d(e.data)}else if("leaderboard"===s){const e=await Lt.get("".concat(Ot,"/gamification/leaderboard?period=").concat(i,"&limit=20"),{headers:n});m(e.data)}else if("achievements"===s){const e=await Lt.get("".concat(Ot,"/gamification/achievements"),{headers:n});h(e.data)}}catch(n){r("\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u062a\u062d\u0641\u064a\u0632"),console.error("Gamification data error:",n)}finally{t(!1)}},v=e=>{const t=["text-gray-400","text-green-400","text-blue-400","text-purple-400","text-yellow-400","text-red-400"];return t[Math.min(Math.floor((e-1)/2),t.length-1)]},b=e=>{const t=["\ud83e\udd49","\ud83e\udd48","\ud83e\udd47","\ud83d\udc8e","\ud83d\udc51"];return t[Math.min(Math.floor((e-1)/2),t.length-1)]},y=e=>1===e?"\ud83e\udd47":2===e?"\ud83e\udd48":3===e?"\ud83e\udd49":"#".concat(e),j=()=>c?(0,zt.jsxs)("div",{className:"space-y-6",children:[(0,zt.jsx)("div",{className:"glass-effect p-6 rounded-xl",children:(0,zt.jsxs)("div",{className:"flex items-center gap-6",children:[(0,zt.jsxs)("div",{className:"relative",children:[(0,zt.jsx)("div",{className:"w-20 h-20 rounded-full overflow-hidden bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:c.user_info.photo?(0,zt.jsx)("img",{src:"data:image/jpeg;base64,".concat(c.user_info.photo),alt:c.user_info.full_name,className:"w-full h-full object-cover"}):(0,zt.jsx)("span",{className:"text-white text-2xl font-bold",children:c.user_info.full_name.charAt(0).toUpperCase()})}),(0,zt.jsx)("div",{className:"absolute -bottom-2 -right-2 w-8 h-8 rounded-full bg-gradient-to-br from-yellow-400 to-red-500 flex items-center justify-center text-white font-bold text-sm ".concat(v(c.gamification_stats.level)),children:c.gamification_stats.level})]}),(0,zt.jsxs)("div",{className:"flex-1",children:[(0,zt.jsx)("h2",{className:"text-2xl font-bold mb-2",style:{color:"var(--text-primary)"},children:c.user_info.full_name}),(0,zt.jsxs)("div",{className:"flex items-center gap-4 mb-3",children:[(0,zt.jsxs)("span",{className:"text-xl ".concat(v(c.gamification_stats.level)),children:[b(c.gamification_stats.level)," \u0627\u0644\u0645\u0633\u062a\u0648\u0649 ",c.gamification_stats.level]}),(0,zt.jsxs)("span",{className:"text-yellow-400 text-xl font-bold",children:["\u2b50 ",c.gamification_stats.total_points.toLocaleString()," \u0646\u0642\u0637\u0629"]})]}),(0,zt.jsxs)("div",{className:"space-y-2",children:[(0,zt.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,zt.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u062a\u0642\u062f\u0645 \u0644\u0644\u0645\u0633\u062a\u0648\u0649 \u0627\u0644\u062a\u0627\u0644\u064a"}),(0,zt.jsx)("span",{style:{color:"var(--text-secondary)"},children:c.gamification_stats.points_to_next_level>0?"".concat(c.gamification_stats.points_to_next_level," \u0646\u0642\u0637\u0629 \u0645\u062a\u0628\u0642\u064a\u0629"):"\u0627\u0644\u0645\u0633\u062a\u0648\u0649 \u0627\u0644\u0623\u0642\u0635\u0649!"})]}),(0,zt.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-3",children:(0,zt.jsx)("div",{className:"h-3 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full transition-all duration-500",style:{width:"".concat(c.gamification_stats.level_progress,"%")}})})]})]}),(0,zt.jsxs)("div",{className:"text-center p-4 bg-gradient-to-br from-blue-500 to-purple-500 bg-opacity-20 rounded-xl",children:[(0,zt.jsx)("div",{className:"text-2xl mb-1",children:y(c.leaderboard.position)}),(0,zt.jsxs)("div",{className:"font-bold",style:{color:"var(--text-primary)"},children:["\u0627\u0644\u0645\u0631\u0643\u0632 \u0627\u0644\u0640 ",c.leaderboard.position]}),(0,zt.jsxs)("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:["\u0645\u0646 \u0623\u0635\u0644 ",c.leaderboard.total_participants]}),(0,zt.jsxs)("div",{className:"text-xs mt-1 font-medium text-blue-400",children:["\u0623\u0641\u0636\u0644 \u0645\u0646 ",c.leaderboard.percentile,"%"]})]})]})}),(0,zt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,zt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,zt.jsx)("span",{children:"\ud83d\udcb0"}),(0,zt.jsx)("span",{children:"\u062a\u0641\u0635\u064a\u0644 \u0627\u0644\u0646\u0642\u0627\u0637 (\u0645\u0646 \u0627\u0644\u0623\u062f\u0627\u0621 \u0627\u0644\u062d\u0642\u064a\u0642\u064a)"})]}),(0,zt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,zt.jsxs)("div",{className:"text-center p-4 bg-blue-500 bg-opacity-20 rounded-lg",children:[(0,zt.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:c.points_breakdown.visit_points}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0646\u0642\u0627\u0637 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a"}),(0,zt.jsxs)("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:[c.performance_stats.total_visits," \xd7 10"]})]}),(0,zt.jsxs)("div",{className:"text-center p-4 bg-green-500 bg-opacity-20 rounded-lg",children:[(0,zt.jsx)("div",{className:"text-2xl font-bold text-green-400",children:c.points_breakdown.effectiveness_bonus}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u0643\u0627\u0641\u0623\u0629 \u0627\u0644\u0641\u0639\u0627\u0644\u064a\u0629"}),(0,zt.jsxs)("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:[c.performance_stats.effective_visits," \xd7 20"]})]}),(0,zt.jsxs)("div",{className:"text-center p-4 bg-purple-500 bg-opacity-20 rounded-lg",children:[(0,zt.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:c.points_breakdown.order_points}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0646\u0642\u0627\u0637 \u0627\u0644\u0637\u0644\u0628\u0627\u062a"}),(0,zt.jsxs)("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:[c.performance_stats.total_orders," \xd7 50"]})]}),(0,zt.jsxs)("div",{className:"text-center p-4 bg-yellow-500 bg-opacity-20 rounded-lg",children:[(0,zt.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:c.points_breakdown.approval_bonus}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u0643\u0627\u0641\u0623\u0629 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629"}),(0,zt.jsxs)("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:[c.performance_stats.approved_orders," \xd7 100"]})]}),(0,zt.jsxs)("div",{className:"text-center p-4 bg-red-500 bg-opacity-20 rounded-lg",children:[(0,zt.jsx)("div",{className:"text-2xl font-bold text-red-400",children:c.points_breakdown.clinic_points}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0646\u0642\u0627\u0637 \u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a"}),(0,zt.jsxs)("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:[c.performance_stats.clinics_added," \xd7 200"]})]})]})]}),(0,zt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,zt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,zt.jsx)("span",{children:"\ud83d\udcca"}),(0,zt.jsx)("span",{children:"\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a \u0627\u0644\u0623\u062f\u0627\u0621"})]}),(0,zt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[(0,zt.jsxs)("div",{className:"text-center",children:[(0,zt.jsx)("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:c.performance_stats.total_visits}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a"}),(0,zt.jsxs)("div",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:[c.performance_stats.effectiveness_rate,"% \u0641\u0639\u0627\u0644\u064a\u0629"]})]}),(0,zt.jsxs)("div",{className:"text-center",children:[(0,zt.jsx)("div",{className:"text-3xl font-bold text-green-400 mb-2",children:c.performance_stats.total_orders}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0637\u0644\u0628\u0627\u062a"}),(0,zt.jsxs)("div",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:[c.performance_stats.approval_rate,"% \u0645\u0639\u062f\u0644 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629"]})]}),(0,zt.jsxs)("div",{className:"text-center",children:[(0,zt.jsx)("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:c.performance_stats.clinics_added}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0639\u064a\u0627\u062f\u0627\u062a \u0645\u0636\u0627\u0641\u0629"})]}),(0,zt.jsxs)("div",{className:"text-center",children:[(0,zt.jsx)("div",{className:"text-3xl font-bold text-orange-400 mb-2",children:c.performance_stats.visit_streak}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0633\u0644\u0633\u0644\u0629 \u0623\u064a\u0627\u0645"}),(0,zt.jsx)("div",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"\u0623\u064a\u0627\u0645 \u0645\u062a\u062a\u0627\u0644\u064a\u0629 \u0645\u0639 \u0632\u064a\u0627\u0631\u0627\u062a"})]})]})]}),c.achievements.length>0&&(0,zt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,zt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,zt.jsx)("span",{children:"\ud83c\udfc6"}),(0,zt.jsx)("span",{children:"\u0627\u0644\u0625\u0646\u062c\u0627\u0632\u0627\u062a \u0627\u0644\u0645\u062d\u0642\u0642\u0629"}),(0,zt.jsx)("span",{className:"bg-blue-500 bg-opacity-20 text-blue-400 px-2 py-1 rounded-full text-sm",children:c.achievements.length})]}),(0,zt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.achievements.map(((e,t)=>(0,zt.jsxs)("div",{className:"p-4 bg-gradient-to-br from-yellow-500 to-orange-500 bg-opacity-20 rounded-lg border border-yellow-500 border-opacity-30",children:[(0,zt.jsx)("div",{className:"text-3xl mb-2 text-center",children:e.icon}),(0,zt.jsx)("div",{className:"font-bold text-center mb-1",style:{color:"var(--text-primary)"},children:e.title}),(0,zt.jsx)("div",{className:"text-sm text-center",style:{color:"var(--text-secondary)"},children:e.description}),(0,zt.jsx)("div",{className:"text-xs text-center mt-2 text-yellow-400",children:"\u2728 \u0645\u0641\u062a\u0648\u062d"})]},t)))})]}),c.active_challenges.length>0&&(0,zt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,zt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,zt.jsx)("span",{children:"\ud83c\udfaf"}),(0,zt.jsx)("span",{children:"\u0627\u0644\u062a\u062d\u062f\u064a\u0627\u062a \u0627\u0644\u0646\u0634\u0637\u0629"})]}),(0,zt.jsx)("div",{className:"space-y-4",children:c.active_challenges.map(((e,t)=>(0,zt.jsxs)("div",{className:"p-4 bg-gradient-to-r from-blue-500 to-purple-500 bg-opacity-20 rounded-lg border border-blue-500 border-opacity-30",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,zt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,zt.jsx)("span",{className:"text-2xl",children:e.icon}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("div",{className:"font-bold",style:{color:"var(--text-primary)"},children:e.title}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:e.description})]})]}),(0,zt.jsxs)("div",{className:"text-center",children:[(0,zt.jsxs)("div",{className:"text-lg font-bold text-yellow-400",children:["+",e.reward_points]}),(0,zt.jsx)("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:"\u0646\u0642\u0637\u0629"})]})]}),(0,zt.jsxs)("div",{className:"space-y-2",children:[(0,zt.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,zt.jsxs)("span",{style:{color:"var(--text-secondary)"},children:["\u0627\u0644\u062a\u0642\u062f\u0645: ",e.current," / ",e.target]}),(0,zt.jsxs)("span",{style:{color:"var(--text-secondary)"},children:[e.progress.toFixed(1),"%"]})]}),(0,zt.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,zt.jsx)("div",{className:"h-2 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full transition-all duration-300",style:{width:"".concat(Math.min(100,e.progress),"%")}})}),(0,zt.jsxs)("div",{className:"text-xs text-center",style:{color:"var(--text-muted)"},children:["\u0627\u0644\u0645\u0648\u0639\u062f \u0627\u0644\u0646\u0647\u0627\u0626\u064a: ",new Date(e.deadline).toLocaleDateString("ar-EG")]})]})]},t)))})]})]}):null,N=()=>u?(0,zt.jsxs)("div",{className:"space-y-6",children:[(0,zt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zt.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-2",children:[(0,zt.jsx)("span",{children:"\ud83c\udfc5"}),(0,zt.jsxs)("span",{children:["\u0644\u0648\u062d\u0629 \u0627\u0644\u0645\u062a\u0635\u062f\u0631\u064a\u0646 - ",u.statistics.period_label]})]}),(0,zt.jsxs)("select",{value:i,onChange:e=>o(e.target.value),className:"px-4 py-2 glass-effect border border-white border-opacity-20 rounded-lg text-white",children:[(0,zt.jsx)("option",{value:"all_time",children:"\u0643\u0644 \u0627\u0644\u0623\u0648\u0642\u0627\u062a"}),(0,zt.jsx)("option",{value:"monthly",children:"\u0647\u0630\u0627 \u0627\u0644\u0634\u0647\u0631"}),(0,zt.jsx)("option",{value:"weekly",children:"\u0647\u0630\u0627 \u0627\u0644\u0623\u0633\u0628\u0648\u0639"})]})]}),(0,zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[(0,zt.jsxs)("div",{className:"text-center p-4 bg-blue-500 bg-opacity-20 rounded-lg",children:[(0,zt.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:u.statistics.total_participants}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0634\u0627\u0631\u0643\u064a\u0646"})]}),(0,zt.jsxs)("div",{className:"text-center p-4 bg-green-500 bg-opacity-20 rounded-lg",children:[(0,zt.jsx)("div",{className:"text-2xl font-bold text-green-400",children:u.statistics.highest_score.toLocaleString()}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0623\u0639\u0644\u0649 \u0646\u0642\u0627\u0637"})]}),(0,zt.jsxs)("div",{className:"text-center p-4 bg-purple-500 bg-opacity-20 rounded-lg",children:[(0,zt.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:u.statistics.average_points.toLocaleString()}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u062a\u0648\u0633\u0637 \u0627\u0644\u0646\u0642\u0627\u0637"})]})]})]}),u.leaderboard.length>=3&&(0,zt.jsx)("div",{className:"glass-effect p-6 rounded-xl",children:(0,zt.jsxs)("div",{className:"flex items-end justify-center gap-4",children:[(0,zt.jsxs)("div",{className:"text-center",children:[(0,zt.jsxs)("div",{className:"w-16 h-16 mx-auto mb-3 rounded-full overflow-hidden bg-gradient-to-br from-gray-400 to-gray-600 flex items-center justify-center relative",children:[u.leaderboard[1].photo?(0,zt.jsx)("img",{src:"data:image/jpeg;base64,".concat(u.leaderboard[1].photo),alt:u.leaderboard[1].full_name,className:"w-full h-full object-cover"}):(0,zt.jsx)("span",{className:"text-white text-lg font-bold",children:u.leaderboard[1].full_name.charAt(0)}),(0,zt.jsx)("div",{className:"absolute -top-2 -right-2 text-2xl",children:"\ud83e\udd48"})]}),(0,zt.jsx)("div",{className:"font-bold",style:{color:"var(--text-primary)"},children:u.leaderboard[1].full_name}),(0,zt.jsx)("div",{className:"text-2xl font-bold text-gray-400",children:u.leaderboard[1].total_points.toLocaleString()}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0646\u0642\u0637\u0629"})]}),(0,zt.jsxs)("div",{className:"text-center",children:[(0,zt.jsxs)("div",{className:"w-20 h-20 mx-auto mb-3 rounded-full overflow-hidden bg-gradient-to-br from-yellow-400 to-yellow-600 flex items-center justify-center relative",children:[u.leaderboard[0].photo?(0,zt.jsx)("img",{src:"data:image/jpeg;base64,".concat(u.leaderboard[0].photo),alt:u.leaderboard[0].full_name,className:"w-full h-full object-cover"}):(0,zt.jsx)("span",{className:"text-white text-xl font-bold",children:u.leaderboard[0].full_name.charAt(0)}),(0,zt.jsx)("div",{className:"absolute -top-3 -right-3 text-3xl",children:"\ud83e\udd47"})]}),(0,zt.jsx)("div",{className:"font-bold text-lg",style:{color:"var(--text-primary)"},children:u.leaderboard[0].full_name}),(0,zt.jsx)("div",{className:"text-3xl font-bold text-yellow-400",children:u.leaderboard[0].total_points.toLocaleString()}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0646\u0642\u0637\u0629"})]}),(0,zt.jsxs)("div",{className:"text-center",children:[(0,zt.jsxs)("div",{className:"w-16 h-16 mx-auto mb-3 rounded-full overflow-hidden bg-gradient-to-br from-amber-600 to-amber-800 flex items-center justify-center relative",children:[u.leaderboard[2].photo?(0,zt.jsx)("img",{src:"data:image/jpeg;base64,".concat(u.leaderboard[2].photo),alt:u.leaderboard[2].full_name,className:"w-full h-full object-cover"}):(0,zt.jsx)("span",{className:"text-white text-lg font-bold",children:u.leaderboard[2].full_name.charAt(0)}),(0,zt.jsx)("div",{className:"absolute -top-2 -right-2 text-2xl",children:"\ud83e\udd49"})]}),(0,zt.jsx)("div",{className:"font-bold",style:{color:"var(--text-primary)"},children:u.leaderboard[2].full_name}),(0,zt.jsx)("div",{className:"text-2xl font-bold text-amber-600",children:u.leaderboard[2].total_points.toLocaleString()}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0646\u0642\u0637\u0629"})]})]})}),(0,zt.jsxs)("div",{className:"glass-effect rounded-xl overflow-hidden",children:[(0,zt.jsx)("div",{className:"p-6 bg-gradient-to-r from-blue-600 to-purple-600",children:(0,zt.jsx)("h3",{className:"text-xl font-bold text-white",children:"\u0627\u0644\u062a\u0631\u062a\u064a\u0628 \u0627\u0644\u0643\u0627\u0645\u0644"})}),(0,zt.jsx)("div",{className:"divide-y divide-white divide-opacity-10",children:u.leaderboard.map(((e,t)=>(0,zt.jsx)("div",{className:"p-4 hover:bg-white hover:bg-opacity-5 transition-colors",children:(0,zt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,zt.jsx)("div",{className:"text-center min-w-[3rem]",children:(0,zt.jsx)("div",{className:"text-2xl font-bold",children:y(e.position)})}),(0,zt.jsx)("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:e.photo?(0,zt.jsx)("img",{src:"data:image/jpeg;base64,".concat(e.photo),alt:e.full_name,className:"w-full h-full object-cover"}):(0,zt.jsx)("span",{className:"text-white font-bold",children:e.full_name.charAt(0)})}),(0,zt.jsxs)("div",{className:"flex-1",children:[(0,zt.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,zt.jsx)("div",{className:"font-bold",style:{color:"var(--text-primary)"},children:e.full_name}),(0,zt.jsxs)("div",{className:"text-sm ".concat(v(e.level)),children:[b(e.level)," \u0627\u0644\u0645\u0633\u062a\u0648\u0649 ",e.level]})]}),(0,zt.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,zt.jsxs)("span",{className:"text-blue-400",children:["\ud83d\ude97 ",e.performance.visits," \u0632\u064a\u0627\u0631\u0629"]}),(0,zt.jsxs)("span",{className:"text-green-400",children:["\u2705 ",e.performance.effectiveness_rate,"% \u0641\u0639\u0627\u0644\u064a\u0629"]}),(0,zt.jsxs)("span",{className:"text-purple-400",children:["\ud83d\udce6 ",e.performance.orders," \u0637\u0644\u0628"]})]})]}),(0,zt.jsxs)("div",{className:"text-right",children:[(0,zt.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:e.total_points.toLocaleString()}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0646\u0642\u0637\u0629"})]}),(0,zt.jsx)("div",{className:"flex gap-1",children:e.badges.map(((e,t)=>(0,zt.jsx)("div",{className:"text-lg",title:e.title,children:e.icon},t)))})]})},e.user_id)))})]})]}):null,w=()=>f?(0,zt.jsxs)("div",{className:"space-y-6",children:[(0,zt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,zt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,zt.jsx)("span",{children:"\ud83c\udfc6"}),(0,zt.jsx)("span",{children:"\u0643\u062a\u0627\u0644\u0648\u062c \u0627\u0644\u0625\u0646\u062c\u0627\u0632\u0627\u062a"})]}),(0,zt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,zt.jsxs)("div",{className:"text-center p-4 bg-blue-500 bg-opacity-20 rounded-lg",children:[(0,zt.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:f.total_achievements}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0625\u0646\u062c\u0627\u0632\u0627\u062a"})]}),(0,zt.jsxs)("div",{className:"text-center p-4 bg-green-500 bg-opacity-20 rounded-lg",children:[(0,zt.jsx)("div",{className:"text-2xl font-bold text-green-400",children:f.categories.length}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0641\u0626\u0627\u062a"})]}),(0,zt.jsxs)("div",{className:"text-center p-4 bg-purple-500 bg-opacity-20 rounded-lg",children:[(0,zt.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:f.total_possible_points.toLocaleString()}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0646\u0642\u0627\u0637 \u0627\u0644\u0645\u0645\u0643\u0646\u0629"})]}),(0,zt.jsxs)("div",{className:"text-center p-4 bg-yellow-500 bg-opacity-20 rounded-lg",children:[(0,zt.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:"100%"}),(0,zt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u0646 \u0627\u0644\u0623\u062f\u0627\u0621 \u0627\u0644\u062d\u0642\u064a\u0642\u064a"})]})]})]}),(0,zt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.achievements.map(((e,t)=>(0,zt.jsxs)("div",{className:"glass-effect p-6 rounded-xl hover:bg-white hover:bg-opacity-10 transition-all duration-300 border border-white border-opacity-10",children:[(0,zt.jsxs)("div",{className:"text-center mb-4",children:[(0,zt.jsx)("div",{className:"text-4xl mb-2",children:e.icon}),(0,zt.jsx)("div",{className:"font-bold text-lg mb-2",style:{color:"var(--text-primary)"},children:e.title}),(0,zt.jsx)("div",{className:"text-sm mb-3",style:{color:"var(--text-secondary)"},children:e.description})]}),(0,zt.jsxs)("div",{className:"space-y-3",children:[(0,zt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,zt.jsx)("span",{className:"text-sm",style:{color:"var(--text-muted)"},children:"\u0634\u0631\u0637 \u0627\u0644\u0641\u062a\u062d:"}),(0,zt.jsx)("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:e.unlock_condition})]}),(0,zt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,zt.jsx)("span",{className:"text-sm",style:{color:"var(--text-muted)"},children:"\u0645\u0643\u0627\u0641\u0623\u0629 \u0627\u0644\u0646\u0642\u0627\u0637:"}),(0,zt.jsxs)("span",{className:"text-lg font-bold text-yellow-400",children:["+",e.points_reward]})]}),(0,zt.jsx)("div",{className:"text-center",children:(0,zt.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-medium ".concat("visits"===e.category?"bg-blue-500 bg-opacity-20 text-blue-400":"effectiveness"===e.category?"bg-green-500 bg-opacity-20 text-green-400":"orders"===e.category?"bg-purple-500 bg-opacity-20 text-purple-400":"clinics"===e.category?"bg-red-500 bg-opacity-20 text-red-400":"bg-orange-500 bg-opacity-20 text-orange-400"),children:e.category})})]})]},e.id)))})]}):null;return(0,zt.jsxs)("div",{className:"space-y-6",children:[(0,zt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zt.jsx)("h2",{className:"text-3xl font-bold text-gradient",children:"\ud83c\udfae \u0646\u0638\u0627\u0645 \u0627\u0644\u062a\u062d\u0641\u064a\u0632 \u0627\u0644\u0645\u062a\u0643\u0627\u0645\u0644"}),(0,zt.jsx)("div",{className:"text-sm bg-gradient-to-r from-blue-500 to-purple-500 bg-opacity-20 px-4 py-2 rounded-lg",children:(0,zt.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0645\u0631\u062a\u0628\u0637 \u0628\u0627\u0644\u0623\u062f\u0627\u0621 \u0627\u0644\u062d\u0642\u064a\u0642\u064a \ud83d\udcaf"})})]}),(0,zt.jsxs)("div",{className:"glass-effect p-2 rounded-xl inline-flex",children:[(0,zt.jsx)("button",{onClick:()=>l("profile"),className:"px-6 py-3 rounded-lg transition-all duration-300 ".concat("profile"===s?"bg-blue-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white hover:bg-opacity-10"),children:"\ud83d\udc64 \u0645\u0644\u0641\u064a \u0627\u0644\u0634\u062e\u0635\u064a"}),(0,zt.jsx)("button",{onClick:()=>l("leaderboard"),className:"px-6 py-3 rounded-lg transition-all duration-300 ".concat("leaderboard"===s?"bg-purple-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white hover:bg-opacity-10"),children:"\ud83c\udfc5 \u0644\u0648\u062d\u0629 \u0627\u0644\u0645\u062a\u0635\u062f\u0631\u064a\u0646"}),(0,zt.jsx)("button",{onClick:()=>l("achievements"),className:"px-6 py-3 rounded-lg transition-all duration-300 ".concat("achievements"===s?"bg-green-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white hover:bg-opacity-10"),children:"\ud83c\udfc6 \u0627\u0644\u0625\u0646\u062c\u0627\u0632\u0627\u062a"})]}),n&&(0,zt.jsx)("div",{className:"p-4 bg-red-500 bg-opacity-20 border border-red-500 rounded-lg text-red-400",children:n}),e?(0,zt.jsx)("div",{className:"space-y-6",children:[1,2,3].map((e=>(0,zt.jsx)("div",{className:"glass-effect p-6 rounded-xl animate-pulse",children:(0,zt.jsxs)("div",{className:"space-y-4",children:[(0,zt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,zt.jsx)("div",{className:"w-16 h-16 bg-gray-600 rounded-full"}),(0,zt.jsxs)("div",{className:"flex-1",children:[(0,zt.jsx)("div",{className:"h-6 bg-gray-600 rounded w-1/3 mb-2"}),(0,zt.jsx)("div",{className:"h-4 bg-gray-700 rounded w-1/2"})]})]}),(0,zt.jsx)("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3].map((e=>(0,zt.jsx)("div",{className:"h-16 bg-gray-600 rounded"},e)))})]})},e)))}):(0,zt.jsxs)(zt.Fragment,{children:["profile"===s&&(0,zt.jsx)(j,{}),"leaderboard"===s&&(0,zt.jsx)(N,{}),"achievements"===s&&(0,zt.jsx)(w,{})]})]})},Dn=()=>{const{user:e,loading:t}=Qt(),[n,r]=(0,a.useState)(!1);return t?(0,zt.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{background:"var(--gradient-dark)",color:"var(--text-primary)"},children:(0,zt.jsxs)("div",{className:"text-center",children:[(0,zt.jsx)("div",{className:"w-20 h-20 loading-shimmer rounded-full mx-auto mb-6"}),(0,zt.jsx)("p",{style:{color:"var(--text-secondary)",fontSize:"18px"},children:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644..."})]})}):(0,zt.jsxs)("div",{className:"App",style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh"},children:[e?(0,zt.jsx)(zn,{}):(0,zt.jsx)(Xt,{}),n&&(0,zt.jsx)(jn,{onScan:async e=>{try{const t=localStorage.getItem("token"),n=await Lt.post("".concat(Ot,"/qr/scan"),{content:e},{headers:{Authorization:"Bearer ".concat(t)}});"prefill_visit_form"===n.data.action?alert("\u062a\u0645 \u0645\u0633\u062d \u0639\u064a\u0627\u062f\u0629: ".concat(n.data.data.name)):"add_to_order"===n.data.action&&alert("\u062a\u0645 \u0645\u0633\u062d \u0645\u0646\u062a\u062c: ".concat(n.data.data.name)),r(!1)}catch(t){console.error("QR scan error:",t),alert("\u062e\u0637\u0623 \u0641\u064a \u0645\u0639\u0627\u0644\u062c\u0629 QR Code")}},onClose:()=>r(!1)}),(0,zt.jsx)(Nn,{}),e&&(0,zt.jsx)("button",{onClick:()=>r(!0),className:"fixed bottom-6 right-6 w-14 h-14 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 transition-colors z-40 flex items-center justify-center",title:"\u0645\u0633\u062d QR Code",children:(0,zt.jsx)("span",{className:"text-xl",children:"\ud83d\udcf1"})})]})},Mn=()=>(0,zt.jsx)(Ft,{children:(0,zt.jsx)(qt,{children:(0,zt.jsx)(Kt,{children:(0,zt.jsx)(Dn,{})})})});s.createRoot(document.getElementById("root")).render((0,zt.jsx)(a.StrictMode,{children:(0,zt.jsx)(Mn,{})}))})();
//# sourceMappingURL=main.a1697746.js.map