{"version":3,"file":"static/js/299.4822d298.chunk.js","mappings":"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","sources":["components/Clinics/ClinicMiniProfile.js","components/Clinics/ClinicsManagement.js","utils/activityLogger.js"],"sourcesContent":["// Clinic Mini Profile Component - الملف التعريفي المصغر للعيادة\nimport React, { useState, useEffect } from 'react';\nimport { useTranslation } from '../../localization/translations.js';\nimport axios from 'axios';\n\nconst ClinicMiniProfile = ({ clinic, onClose, language, isRTL }) => {\n  const [activeTab, setActiveTab] = useState('overview');\n  const [profileData, setProfileData] = useState({\n    orders: [],\n    debts: [],\n    visits: [],\n    payments: []\n  });\n  const [loading, setLoading] = useState(true);\n  \n  const { t } = useTranslation(language);\n  const API = (process.env.REACT_APP_BACKEND_URL || 'http://localhost:8001') + '/api';\n\n  useEffect(() => {\n    if (clinic?.id) {\n      fetchClinicProfile();\n    }\n  }, [clinic?.id]);\n\n  const fetchClinicProfile = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('access_token');\n      \n      // Mock data for clinic profile\n      setProfileData({\n        orders: [\n          {\n            id: 'order-001',\n            order_number: 'ORD-2024-001',\n            date: '2024-02-01T10:30:00Z',\n            total_amount: 1250.00,\n            status: 'delivered',\n            items_count: 5,\n            rep_name: 'محمد علي أحمد'\n          },\n          {\n            id: 'order-002',\n            order_number: 'ORD-2024-002',\n            date: '2024-01-28T14:15:00Z',\n            total_amount: 850.00,\n            status: 'pending',\n            items_count: 3,\n            rep_name: 'سارة محمود'\n          },\n          {\n            id: 'order-003',\n            order_number: 'ORD-2024-003',\n            date: '2024-01-25T09:45:00Z',\n            total_amount: 650.00,\n            status: 'cancelled',\n            items_count: 2,\n            rep_name: 'أحمد حسام'\n          }\n        ],\n        debts: [\n          {\n            id: 'debt-001',\n            invoice_number: 'INV-2024-001',\n            due_date: '2024-02-15T00:00:00Z',\n            original_amount: 1250.00,\n            paid_amount: 750.00,\n            remaining_amount: 500.00,\n            days_overdue: 0,\n            status: 'partial'\n          },\n          {\n            id: 'debt-002',\n            invoice_number: 'INV-2024-002',\n            due_date: '2024-01-30T00:00:00Z',\n            original_amount: 850.00,\n            paid_amount: 0.00,\n            remaining_amount: 850.00,\n            days_overdue: 5,\n            status: 'overdue'\n          }\n        ],\n        visits: [\n          {\n            id: 'visit-001',\n            visit_date: '2024-02-01T09:30:00Z',\n            rep_name: 'محمد علي أحمد',\n            visit_type: 'routine',\n            duration_minutes: 45,\n            order_created: true,\n            order_value: 1250.00,\n            notes: 'زيارة روتينية، تم عرض المنتجات الجديدة'\n          },\n          {\n            id: 'visit-002',\n            visit_date: '2024-01-28T11:00:00Z',\n            rep_name: 'سارة محمود',\n            visit_type: 'follow_up',\n            duration_minutes: 30,\n            order_created: false,\n            order_value: 0,\n            notes: 'متابعة الطلب السابق'\n          },\n          {\n            id: 'visit-003',\n            visit_date: '2024-01-25T14:30:00Z',\n            rep_name: 'أحمد حسام',\n            visit_type: 'presentation',\n            duration_minutes: 60,\n            order_created: true,\n            order_value: 650.00,\n            notes: 'عرض منتجات جديدة للموسم'\n          }\n        ],\n        payments: [\n          {\n            id: 'pay-001',\n            payment_date: '2024-02-02T15:20:00Z',\n            amount: 750.00,\n            method: 'cash',\n            invoice_number: 'INV-2024-001',\n            reference: 'REF-001'\n          },\n          {\n            id: 'pay-002',\n            payment_date: '2024-01-20T10:30:00Z',\n            amount: 1000.00,\n            method: 'bank_transfer',\n            invoice_number: 'INV-2023-025',\n            reference: 'TRF-445'\n          }\n        ]\n      });\n\n    } catch (error) {\n      console.error('خطأ في جلب بيانات العيادة:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('ar-EG', {\n      style: 'currency',\n      currency: 'EGP',\n      minimumFractionDigits: 2\n    }).format(amount);\n  };\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleDateString('ar-EG', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    });\n  };\n\n  const exportToPDF = (section) => {\n    let content = '';\n    const clinicName = clinic.clinic_name || 'عيادة غير محددة';\n    \n    switch (section) {\n      case 'orders':\n        content = `\nتقرير طلبات العيادة\n====================\n\nالعيادة: ${clinicName}\nالطبيب: ${clinic.doctor_name}\nتاريخ التقرير: ${new Date().toLocaleDateString('ar-EG')}\n\nالطلبات:\n--------\n${profileData.orders.map((order, index) => `\n${index + 1}. ${order.order_number}\n   التاريخ: ${formatDate(order.date)}\n   المبلغ: ${formatCurrency(order.total_amount)}\n   عدد العناصر: ${order.items_count}\n   المندوب: ${order.rep_name}\n   الحالة: ${getOrderStatusLabel(order.status)}\n`).join('\\n')}\n\nالإجمالي: ${profileData.orders.length} طلب\nإجمالي القيمة: ${formatCurrency(calculateTotals().totalOrderValue)}\n        `;\n        break;\n      case 'debts':\n        content = `\nتقرير مديونيات العيادة\n=====================\n\nالعيادة: ${clinicName}\nالطبيب: ${clinic.doctor_name}\nتاريخ التقرير: ${new Date().toLocaleDateString('ar-EG')}\n\nالمديونيات:\n-----------\n${profileData.debts.map((debt, index) => `\n${index + 1}. ${debt.invoice_number}\n   تاريخ الاستحقاق: ${formatDate(debt.due_date)}\n   المبلغ الأصلي: ${formatCurrency(debt.original_amount)}\n   المدفوع: ${formatCurrency(debt.paid_amount)}\n   المتبقي: ${formatCurrency(debt.remaining_amount)}\n   الحالة: ${debt.status === 'overdue' ? `متأخر ${debt.days_overdue} يوم` : debt.status}\n`).join('\\n')}\n\nإجمالي المديونيات: ${formatCurrency(calculateTotals().totalDebt)}\n        `;\n        break;\n      case 'visits':\n        content = `\nتقرير زيارات العيادة\n===================\n\nالعيادة: ${clinicName}\nالطبيب: ${clinic.doctor_name}\nتاريخ التقرير: ${new Date().toLocaleDateString('ar-EG')}\n\nالزيارات:\n---------\n${profileData.visits.map((visit, index) => `\n${index + 1}. ${formatDateTime(visit.visit_date)}\n   المندوب: ${visit.rep_name}\n   النوع: ${visit.visit_type === 'routine' ? 'روتينية' :\n           visit.visit_type === 'follow_up' ? 'متابعة' :\n           visit.visit_type === 'presentation' ? 'عرض منتجات' : visit.visit_type}\n   المدة: ${visit.duration_minutes} دقيقة\n   طلب: ${visit.order_created ? `تم - ${formatCurrency(visit.order_value)}` : 'لم يتم'}\n   ${visit.notes ? `الملاحظات: ${visit.notes}` : ''}\n`).join('\\n')}\n\nإجمالي الزيارات: ${calculateTotals().totalVisits}\n        `;\n        break;\n    }\n    \n    // Create and download file\n    const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `${clinicName}_${section}_${new Date().toISOString().split('T')[0]}.txt`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n    \n    alert(`تم تصدير تقرير ${section === 'orders' ? 'الطلبات' : section === 'debts' ? 'المديونيات' : 'الزيارات'} بنجاح!`);\n  };\n\n  const printSection = (section) => {\n    const printWindow = window.open('', '_blank');\n    const clinicName = clinic.clinic_name || 'عيادة غير محددة';\n    \n    let content = '';\n    switch (section) {\n      case 'orders':\n        content = `\n          <h2>تقرير طلبات العيادة</h2>\n          <p><strong>العيادة:</strong> ${clinicName}</p>\n          <p><strong>الطبيب:</strong> ${clinic.doctor_name}</p>\n          <p><strong>تاريخ التقرير:</strong> ${new Date().toLocaleDateString('ar-EG')}</p>\n          <table border=\"1\" style=\"width: 100%; border-collapse: collapse;\">\n            <tr>\n              <th>رقم الطلب</th>\n              <th>التاريخ</th>\n              <th>المبلغ</th>\n              <th>عدد العناصر</th>\n              <th>المندوب</th>\n              <th>الحالة</th>\n            </tr>\n            ${profileData.orders.map(order => `\n              <tr>\n                <td>${order.order_number}</td>\n                <td>${formatDate(order.date)}</td>\n                <td>${formatCurrency(order.total_amount)}</td>\n                <td>${order.items_count}</td>\n                <td>${order.rep_name}</td>\n                <td>${getOrderStatusLabel(order.status)}</td>\n              </tr>\n            `).join('')}\n          </table>\n        `;\n        break;\n      case 'debts':\n      case 'visits':\n        content = `<h2>تقرير ${section === 'debts' ? 'المديونيات' : 'الزيارات'}</h2>`;\n        break;\n    }\n    \n    printWindow.document.write(`\n      <html dir=\"rtl\">\n        <head>\n          <title>${clinicName} - تقرير ${section}</title>\n          <style>\n            body { font-family: Arial, sans-serif; margin: 20px; }\n            table { width: 100%; border-collapse: collapse; }\n            th, td { border: 1px solid #ddd; padding: 8px; text-align: right; }\n            th { background-color: #f2f2f2; }\n          </style>\n        </head>\n        <body>${content}</body>\n      </html>\n    `);\n    printWindow.document.close();\n    printWindow.print();\n  };\n\n  const showOrderDetails = (order) => {\n    const details = `\nتفاصيل الطلب: ${order.order_number}\n\nالتاريخ: ${formatDate(order.date)}\nالمبلغ: ${formatCurrency(order.total_amount)}\nعدد العناصر: ${order.items_count}\nالمندوب: ${order.rep_name}\nحالة الطلب: ${getOrderStatusLabel(order.status)}\n\nالعيادة: ${clinic.clinic_name}\nالطبيب: ${clinic.doctor_name}\n    `;\n    alert(details);\n  };\n\n  const showDebtDetails = (debt) => {\n    const details = `\nتفاصيل المديونية: ${debt.invoice_number}\n\nتاريخ الاستحقاق: ${formatDate(debt.due_date)}\nالمبلغ الأصلي: ${formatCurrency(debt.original_amount)}\nالمبلغ المدفوع: ${formatCurrency(debt.paid_amount)}\nالمبلغ المتبقي: ${formatCurrency(debt.remaining_amount)}\nالحالة: ${debt.status === 'overdue' ? `متأخر ${debt.days_overdue} يوم` : debt.status}\n\nالعيادة: ${clinic.clinic_name}\nالطبيب: ${clinic.doctor_name}\n\n${debt.status === 'overdue' ? \n  `⚠️ تنبيه: هذه المديونية متأخرة ${debt.days_overdue} يوم!` : \n  '✅ المديونية ضمن المدة المسموحة'}\n    `;\n    alert(details);\n  };\n\n  const showVisitDetails = (visit) => {\n    const visitTypeText = visit.visit_type === 'routine' ? 'روتينية' :\n                         visit.visit_type === 'follow_up' ? 'متابعة' :\n                         visit.visit_type === 'presentation' ? 'عرض منتجات' : visit.visit_type;\n    \n    const details = `\nتفاصيل الزيارة: ${formatDateTime(visit.visit_date)}\n\nالمندوب: ${visit.rep_name}\nنوع الزيارة: ${visitTypeText}\nمدة الزيارة: ${visit.duration_minutes} دقيقة\n\nإنشاء طلب: ${visit.order_created ? `تم - ${formatCurrency(visit.order_value)}` : 'لم يتم'}\n\nالعيادة: ${clinic.clinic_name}\nالطبيب: ${clinic.doctor_name}\n\n${visit.notes ? `الملاحظات:\\n${visit.notes}` : 'لا توجد ملاحظات'}\n    `;\n    alert(details);\n  };\n\n  const formatDateTime = (dateString) => {\n    return new Date(dateString).toLocaleString('ar-EG', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  const getOrderStatusLabel = (status) => {\n    const labels = {\n      'pending': 'معلق',\n      'approved': 'معتمد',\n      'delivered': 'تم التسليم',\n      'cancelled': 'ملغي'\n    };\n    return labels[status] || status;\n  };\n\n  const getOrderStatusColor = (status) => {\n    const colors = {\n      'pending': 'bg-yellow-500/20 text-yellow-300',\n      'approved': 'bg-blue-500/20 text-blue-300',\n      'delivered': 'bg-green-500/20 text-green-300',\n      'cancelled': 'bg-red-500/20 text-red-300'\n    };\n    return colors[status] || 'bg-gray-500/20 text-gray-300';\n  };\n\n  const getDebtStatusColor = (status) => {\n    const colors = {\n      'paid': 'bg-green-500/20 text-green-300',\n      'partial': 'bg-yellow-500/20 text-yellow-300',\n      'pending': 'bg-blue-500/20 text-blue-300',\n      'overdue': 'bg-red-500/20 text-red-300'\n    };\n    return colors[status] || 'bg-gray-500/20 text-gray-300';\n  };\n\n  const calculateTotals = () => {\n    const totalOrders = profileData.orders.length;\n    const totalOrderValue = profileData.orders.reduce((sum, order) => sum + order.total_amount, 0);\n    const totalDebt = profileData.debts.reduce((sum, debt) => sum + debt.remaining_amount, 0);\n    const totalVisits = profileData.visits.length;\n    const totalPayments = profileData.payments.reduce((sum, payment) => sum + payment.amount, 0);\n\n    return {\n      totalOrders,\n      totalOrderValue,\n      totalDebt,\n      totalVisits,\n      totalPayments\n    };\n  };\n\n  const totals = calculateTotals();\n\n  const renderOverview = () => (\n    <div className=\"space-y-6\">\n      {/* Clinic Info */}\n      <div className=\"bg-white/5 rounded-xl p-4\">\n        <div className=\"flex items-center gap-4 mb-4\">\n          <div className=\"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center\">\n            <span className=\"text-2xl text-white\">🏥</span>\n          </div>\n          <div className=\"flex-1\">\n            <h3 className=\"text-xl font-bold\">{clinic.clinic_name}</h3>\n            <p className=\"text-lg opacity-75\">{clinic.doctor_name}</p>\n            <p className=\"text-sm opacity-60\">{clinic.specialty}</p>\n            <div className=\"flex items-center gap-2 mt-2\">\n              <span className={`px-2 py-1 rounded text-xs ${clinic.classification ? \n                clinic.classification === 'A' ? 'bg-green-500/20 text-green-300' :\n                clinic.classification === 'B' ? 'bg-yellow-500/20 text-yellow-300' :\n                'bg-red-500/20 text-red-300' : 'bg-gray-500/20 text-gray-300'\n              }`}>\n                تصنيف {clinic.classification || 'غير محدد'}\n              </span>\n              <span className={`px-2 py-1 rounded text-xs ${\n                clinic.credit_status === 'good' ? 'bg-green-500/20 text-green-300' :\n                clinic.credit_status === 'average' ? 'bg-yellow-500/20 text-yellow-300' :\n                'bg-red-500/20 text-red-300'\n              }`}>\n                حالة ائتمانية: {clinic.credit_status === 'good' ? 'جيدة' : \n                              clinic.credit_status === 'average' ? 'متوسطة' : 'ضعيفة'}\n              </span>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\n          <div className=\"text-center\">\n            <div className=\"font-bold text-lg\">{totals.totalOrders}</div>\n            <div className=\"opacity-75\">إجمالي الطلبات</div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"font-bold text-lg text-green-400\">{formatCurrency(totals.totalOrderValue)}</div>\n            <div className=\"opacity-75\">قيمة الطلبات</div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"font-bold text-lg text-red-400\">{formatCurrency(totals.totalDebt)}</div>\n            <div className=\"opacity-75\">إجمالي المديونية</div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"font-bold text-lg\">{totals.totalVisits}</div>\n            <div className=\"opacity-75\">عدد الزيارات</div>\n          </div>\n        </div>\n      </div>\n\n      {/* Quick Stats */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        <div className=\"bg-white/5 rounded-lg p-4\">\n          <div className=\"flex items-center gap-3\">\n            <span className=\"text-2xl\">📦</span>\n            <div>\n              <div className=\"font-medium\">آخر طلب</div>\n              <div className=\"text-sm opacity-75\">\n                {profileData.orders.length > 0 \n                  ? `${profileData.orders[0].order_number} - ${formatCurrency(profileData.orders[0].total_amount)}`\n                  : 'لا توجد طلبات'\n                }\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white/5 rounded-lg p-4\">\n          <div className=\"flex items-center gap-3\">\n            <span className=\"text-2xl\">🏥</span>\n            <div>\n              <div className=\"font-medium\">آخر زيارة</div>\n              <div className=\"text-sm opacity-75\">\n                {profileData.visits.length > 0 \n                  ? `${formatDate(profileData.visits[0].visit_date)} - ${profileData.visits[0].rep_name}`\n                  : 'لا توجد زيارات'\n                }\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white/5 rounded-lg p-4\">\n          <div className=\"flex items-center gap-3\">\n            <span className=\"text-2xl\">💰</span>\n            <div>\n              <div className=\"font-medium\">آخر دفعة</div>\n              <div className=\"text-sm opacity-75\">\n                {profileData.payments.length > 0 \n                  ? `${formatDate(profileData.payments[0].payment_date)} - ${formatCurrency(profileData.payments[0].amount)}`\n                  : 'لا توجد دفعات'\n                }\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  const renderOrders = () => (\n    <div className=\"space-y-4\">\n      {/* Orders Header with Export Options */}\n      <div className=\"flex items-center justify-between mb-4\">\n        <h4 className=\"text-lg font-bold\">طلبات العيادة ({profileData.orders.length})</h4>\n        <div className=\"flex gap-2\">\n          <button\n            onClick={() => exportToPDF('orders')}\n            className=\"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors text-sm flex items-center gap-2\"\n          >\n            <span>📄</span>\n            تصدير PDF\n          </button>\n          <button\n            onClick={() => printSection('orders')}\n            className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm flex items-center gap-2\"\n          >\n            <span>🖨️</span>\n            طباعة\n          </button>\n        </div>\n      </div>\n      \n      {profileData.orders.length === 0 ? (\n        <div className=\"text-center py-8\">\n          <div className=\"text-4xl mb-2\">📦</div>\n          <p className=\"text-gray-400\">لا توجد طلبات</p>\n        </div>\n      ) : (\n        profileData.orders.map(order => (\n          <div \n            key={order.id} \n            className=\"bg-white/5 rounded-lg p-4 hover:bg-white/10 transition-colors cursor-pointer\"\n            onClick={() => showOrderDetails(order)}\n          >\n            <div className=\"flex items-center justify-between mb-2\">\n              <div className=\"font-medium text-blue-400\">{order.order_number}</div>\n              <span className={`px-2 py-1 rounded text-xs ${getOrderStatusColor(order.status)}`}>\n                {getOrderStatusLabel(order.status)}\n              </span>\n            </div>\n            <div className=\"grid grid-cols-2 gap-4 text-sm\">\n              <div>\n                <div className=\"opacity-75\">التاريخ:</div>\n                <div>{formatDate(order.date)}</div>\n              </div>\n              <div>\n                <div className=\"opacity-75\">المبلغ:</div>\n                <div className=\"font-medium\">{formatCurrency(order.total_amount)}</div>\n              </div>\n              <div>\n                <div className=\"opacity-75\">عدد العناصر:</div>\n                <div>{order.items_count}</div>\n              </div>\n              <div>\n                <div className=\"opacity-75\">المندوب:</div>\n                <div>{order.rep_name}</div>\n              </div>\n            </div>\n            <div className=\"mt-2 text-xs text-blue-300 flex items-center gap-1\">\n              <span>👆</span>\n              اضغط لعرض التفاصيل الكاملة\n            </div>\n          </div>\n        ))\n      )}\n    </div>\n  );\n\n  const renderDebts = () => (\n    <div className=\"space-y-4\">\n      {/* Debts Header with Export Options */}\n      <div className=\"flex items-center justify-between mb-4\">\n        <h4 className=\"text-lg font-bold\">مديونيات العيادة ({profileData.debts.length})</h4>\n        <div className=\"flex gap-2\">\n          <button\n            onClick={() => exportToPDF('debts')}\n            className=\"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors text-sm flex items-center gap-2\"\n          >\n            <span>📄</span>\n            تصدير PDF\n          </button>\n          <button\n            onClick={() => printSection('debts')}\n            className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm flex items-center gap-2\"\n          >\n            <span>🖨️</span>\n            طباعة\n          </button>\n        </div>\n      </div>\n      \n      {profileData.debts.length === 0 ? (\n        <div className=\"text-center py-8\">\n          <div className=\"text-4xl mb-2\">💳</div>\n          <p className=\"text-gray-400\">لا توجد مديونيات</p>\n        </div>\n      ) : (\n        profileData.debts.map(debt => (\n          <div \n            key={debt.id} \n            className=\"bg-white/5 rounded-lg p-4 hover:bg-white/10 transition-colors cursor-pointer\"\n            onClick={() => showDebtDetails(debt)}\n          >\n            <div className=\"flex items-center justify-between mb-2\">\n              <div className=\"font-medium text-orange-400\">{debt.invoice_number}</div>\n              <span className={`px-2 py-1 rounded text-xs ${getDebtStatusColor(debt.status)}`}>\n                {debt.status === 'overdue' ? `متأخر ${debt.days_overdue} يوم` : debt.status}\n              </span>\n            </div>\n            <div className=\"grid grid-cols-2 gap-4 text-sm\">\n              <div>\n                <div className=\"opacity-75\">تاريخ الاستحقاق:</div>\n                <div>{formatDate(debt.due_date)}</div>\n              </div>\n              <div>\n                <div className=\"opacity-75\">المبلغ الأصلي:</div>\n                <div>{formatCurrency(debt.original_amount)}</div>\n              </div>\n              <div>\n                <div className=\"opacity-75\">المبلغ المدفوع:</div>\n                <div className=\"text-green-400\">{formatCurrency(debt.paid_amount)}</div>\n              </div>\n              <div>\n                <div className=\"opacity-75\">المبلغ المتبقي:</div>\n                <div className=\"text-red-400 font-medium\">{formatCurrency(debt.remaining_amount)}</div>\n              </div>\n            </div>\n            <div className=\"mt-2 text-xs text-orange-300 flex items-center gap-1\">\n              <span>👆</span>\n              اضغط لعرض التفاصيل الكاملة والمحاسبة\n            </div>\n          </div>\n        ))\n      )}\n    </div>\n  );\n\n  const renderVisits = () => (\n    <div className=\"space-y-4\">\n      {/* Visits Header with Export Options */}\n      <div className=\"flex items-center justify-between mb-4\">\n        <h4 className=\"text-lg font-bold\">سجل زيارات العيادة ({profileData.visits.length})</h4>\n        <div className=\"flex gap-2\">\n          <button\n            onClick={() => exportToPDF('visits')}\n            className=\"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors text-sm flex items-center gap-2\"\n          >\n            <span>📄</span>\n            تصدير PDF\n          </button>\n          <button\n            onClick={() => printSection('visits')}\n            className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm flex items-center gap-2\"\n          >\n            <span>🖨️</span>\n            طباعة\n          </button>\n        </div>\n      </div>\n      \n      {profileData.visits.length === 0 ? (\n        <div className=\"text-center py-8\">\n          <div className=\"text-4xl mb-2\">🏥</div>\n          <p className=\"text-gray-400\">لا توجد زيارات</p>\n        </div>\n      ) : (\n        profileData.visits.map(visit => (\n          <div \n            key={visit.id} \n            className=\"bg-white/5 rounded-lg p-4 hover:bg-white/10 transition-colors cursor-pointer\"\n            onClick={() => showVisitDetails(visit)}\n          >\n            <div className=\"flex items-center justify-between mb-2\">\n              <div className=\"font-medium\">{formatDateTime(visit.visit_date)}</div>\n              <div className=\"text-sm\">\n                {visit.visit_type === 'routine' ? '📋 روتينية' :\n                 visit.visit_type === 'follow_up' ? '🔄 متابعة' :\n                 visit.visit_type === 'presentation' ? '📊 عرض منتجات' : visit.visit_type}\n              </div>\n            </div>\n            <div className=\"grid grid-cols-2 gap-4 text-sm mb-3\">\n              <div>\n                <div className=\"opacity-75\">المندوب:</div>\n                <div>{visit.rep_name}</div>\n              </div>\n              <div>\n                <div className=\"opacity-75\">المدة:</div>\n                <div>{visit.duration_minutes} دقيقة</div>\n              </div>\n              <div>\n                <div className=\"opacity-75\">طلب:</div>\n                <div className={visit.order_created ? 'text-green-400' : 'text-gray-400'}>\n                  {visit.order_created \n                    ? `✅ تم - ${formatCurrency(visit.order_value)}`\n                    : '❌ لم يتم'\n                  }\n                </div>\n              </div>\n            </div>\n            {visit.notes && (\n              <div className=\"text-sm opacity-75 bg-white/5 rounded p-2 mb-2\">\n                <div className=\"opacity-75 mb-1\">ملاحظات:</div>\n                <div>{visit.notes}</div>\n              </div>\n            )}\n            <div className=\"mt-2 text-xs text-blue-300 flex items-center gap-1\">\n              <span>👆</span>\n              اضغط لعرض التفاصيل الكاملة للزيارة\n            </div>\n          </div>\n        ))\n      )}\n    </div>\n  );\n\n  if (loading) {\n    return (\n      <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n        <div className=\"bg-white/10 backdrop-blur-lg rounded-xl p-8 border border-white/20\">\n          <div className=\"text-center\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n            <p>جاري تحميل ملف العيادة...</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white/10 backdrop-blur-lg rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-white/20\">\n        {/* Header */}\n        <div className=\"sticky top-0 bg-white/10 backdrop-blur-lg border-b border-white/20 p-6\">\n          <div className=\"flex items-center justify-between\">\n            <h2 className=\"text-2xl font-bold\">الملف التعريفي للعيادة</h2>\n            <button\n              onClick={onClose}\n              className=\"text-white/70 hover:text-white text-2xl\"\n            >\n              ✕\n            </button>\n          </div>\n        </div>\n\n        {/* Tabs */}\n        <div className=\"border-b border-white/10\">\n          <div className=\"flex overflow-x-auto\">\n            {[\n              { id: 'overview', name: 'نظرة عامة', icon: '📊' },\n              { id: 'orders', name: 'الطلبات', icon: '📦' },\n              { id: 'debts', name: 'المديونيات', icon: '💳' },\n              { id: 'visits', name: 'سجل الزيارات', icon: '🏥' }\n            ].map(tab => (\n              <button\n                key={tab.id}\n                onClick={() => setActiveTab(tab.id)}\n                className={`flex items-center gap-2 px-6 py-4 font-medium transition-colors whitespace-nowrap ${\n                  activeTab === tab.id\n                    ? 'text-blue-300 border-b-2 border-blue-400 bg-white/5'\n                    : 'text-white/70 hover:text-white hover:bg-white/5'\n                }`}\n              >\n                <span>{tab.icon}</span>\n                {tab.name}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Content */}\n        <div className=\"p-6\">\n          {activeTab === 'overview' && renderOverview()}\n          {activeTab === 'orders' && renderOrders()}\n          {activeTab === 'debts' && renderDebts()}\n          {activeTab === 'visits' && renderVisits()}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ClinicMiniProfile;","// Enhanced Clinics Management Component - إدارة العيادات المحسنة\nimport React, { useState, useEffect } from 'react';\nimport { useTranslation } from '../../localization/translations.js';\nimport ClinicMiniProfile from './ClinicMiniProfile.js';\nimport axios from 'axios';\nimport { activityLogger } from '../../utils/activityLogger.js';\n\nconst ClinicsManagement = ({ user, language, isRTL }) => {\n  const [clinics, setClinics] = useState([]);\n  const [areas, setAreas] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterClassification, setFilterClassification] = useState('all');\n  const [filterArea, setFilterArea] = useState('all');\n  const [filterCreditStatus, setFilterCreditStatus] = useState('all');\n  const [showClinicModal, setShowClinicModal] = useState(false);\n  const [showProfileModal, setShowProfileModal] = useState(false);\n  const [selectedClinic, setSelectedClinic] = useState(null);\n  \n  const { t } = useTranslation(language);\n  const API = (process.env.REACT_APP_BACKEND_URL || 'http://localhost:8001') + '/api';\n\n  useEffect(() => {\n    fetchClinics();\n    fetchAreas();\n    \n    // Log system access\n    activityLogger.logSystemAccess('إدارة العيادات', {\n      previousSection: sessionStorage.getItem('previousSection') || '',\n      accessMethod: 'navigation',\n      userRole: user?.role\n    });\n    \n    sessionStorage.setItem('previousSection', 'إدارة العيادات');\n  }, []);\n\n  const fetchClinics = async () => {\n    try {\n      const token = localStorage.getItem('access_token');\n      const response = await axios.get(`${API}/clinics`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setClinics(response.data || []);\n    } catch (error) {\n      console.error('Error fetching clinics:', error);\n      // Mock data for development\n      setClinics([\n        {\n          id: 'clinic-001',\n          clinic_name: 'عيادة الدكتور أحمد محمد',\n          doctor_name: 'د. أحمد محمد',\n          specialty: 'أمراض باطنة',\n          phone: '01234567890',\n          address: 'شارع النيل، المعادي، القاهرة',\n          area_id: 'area-001',\n          area_name: 'القاهرة الكبرى',\n          classification: 'A',\n          credit_status: 'good',\n          monthly_target: 50000,\n          monthly_achieved: 42000,\n          latitude: 30.0444,\n          longitude: 31.2357,\n          is_active: true,\n          created_at: '2024-01-01T10:00:00Z'\n        },\n        {\n          id: 'clinic-002',\n          clinic_name: 'مركز الشفاء الطبي',\n          doctor_name: 'د. فاطمة علي',\n          specialty: 'أطفال',\n          phone: '01098765432',\n          address: 'شارع الجامعة، الجيزة',\n          area_id: 'area-002',\n          area_name: 'الجيزة',\n          classification: 'B',\n          credit_status: 'average',\n          monthly_target: 35000,\n          monthly_achieved: 30000,\n          latitude: 30.0131,\n          longitude: 31.2089,\n          is_active: true,\n          created_at: '2024-01-02T10:00:00Z'\n        },\n        {\n          id: 'clinic-003',\n          clinic_name: 'عيادة النور',\n          doctor_name: 'د. محمود سالم',\n          specialty: 'عيون',\n          phone: '01555444333',\n          address: 'شارع الثورة، الإسكندرية',\n          area_id: 'area-003',\n          area_name: 'الإسكندرية',\n          classification: 'C',\n          credit_status: 'poor',\n          monthly_target: 25000,\n          monthly_achieved: 15000,\n          latitude: 31.2001,\n          longitude: 29.9187,\n          is_active: false,\n          created_at: '2024-01-03T10:00:00Z'\n        }\n      ]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchAreas = async () => {\n    try {\n      const token = localStorage.getItem('access_token');\n      const response = await axios.get(`${API}/areas`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setAreas(response.data || []);\n    } catch (error) {\n      console.error('Error fetching areas:', error);\n      setAreas([\n        { id: 'area-001', name: 'القاهرة الكبرى' },\n        { id: 'area-002', name: 'الجيزة' },\n        { id: 'area-003', name: 'الإسكندرية' }\n      ]);\n    }\n  };\n\n  const handleUpdateClinic = async (clinicId, clinicData) => {\n    try {\n      const currentClinic = clinics.find(c => c.id === clinicId);\n      const token = localStorage.getItem('access_token');\n      console.log('🔧 Updating clinic:', clinicId, 'with data:', clinicData);\n      \n      const response = await axios.put(`${API}/clinics/${clinicId}`, clinicData, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      \n      console.log('✅ Clinic updated successfully:', response.data);\n      \n      // تسجيل النشاط\n      await activityLogger.logActivity(\n        'clinic_update',\n        'تحديث بيانات عيادة',\n        'clinic',\n        clinicId,\n        currentClinic?.name || clinicData.name,\n        {\n          doctor_name: clinicData.doctor_name,\n          specialty: clinicData.specialty,\n          old_classification: currentClinic?.classification,\n          new_classification: clinicData.classification,\n          old_credit_limit: currentClinic?.credit_limit,\n          new_credit_limit: clinicData.credit_limit,\n          updated_by_role: user?.role,\n          update_reason: 'تحديث يدوي من واجهة الإدارة'\n        }\n      );\n      \n      fetchClinics();\n      setShowClinicModal(false);\n      alert('تم تحديث العيادة بنجاح');\n    } catch (error) {\n      console.error('❌ Error updating clinic:', error);\n      const errorMessage = error.response?.data?.detail || 'حدث خطأ أثناء تحديث العيادة';\n      alert(`خطأ في تحديث العيادة: ${errorMessage}`);\n    }\n  };\n\n  const handleDeleteClinic = async (clinicId) => {\n    const clinicToDelete = clinics.find(c => c.id === clinicId);\n    \n    if (window.confirm('هل أنت متأكد من حذف هذه العيادة؟')) {\n      try {\n        const token = localStorage.getItem('access_token');\n        console.log('🔧 Deleting clinic:', clinicId);\n        \n        const response = await axios.delete(`${API}/clinics/${clinicId}`, {\n          headers: { Authorization: `Bearer ${token}` }\n        });\n        \n        console.log('✅ Clinic deleted successfully:', response.data);\n        \n        // تسجيل النشاط\n        await activityLogger.logActivity(\n          'clinic_deletion',\n          'حذف عيادة',\n          'clinic',\n          clinicId,\n          clinicToDelete?.name || `عيادة ${clinicId}`,\n          {\n            deleted_clinic_name: clinicToDelete?.name,\n            doctor_name: clinicToDelete?.doctor_name,\n            specialty: clinicToDelete?.specialty,\n            classification: clinicToDelete?.classification,\n            credit_limit: clinicToDelete?.credit_limit,\n            area: clinicToDelete?.area,\n            deletion_reason: 'حذف يدوي من واجهة الإدارة',\n            deleted_by_role: user?.role\n          }\n        );\n        \n        fetchClinics();\n        alert('تم حذف العيادة بنجاح');\n      } catch (error) {\n        console.error('❌ Error deleting clinic:', error);\n        const errorMessage = error.response?.data?.detail || 'حدث خطأ أثناء حذف العيادة';\n        alert(`خطأ في حذف العيادة: ${errorMessage}`);\n      }\n    }\n  };\n\n  // Filter clinics\n  const filteredClinics = clinics.filter(clinic => {\n    const matchesSearch = clinic.clinic_name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         clinic.doctor_name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         clinic.address?.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesClassification = filterClassification === 'all' || clinic.classification === filterClassification;\n    const matchesArea = filterArea === 'all' || clinic.area_id === filterArea;\n    const matchesCreditStatus = filterCreditStatus === 'all' || clinic.credit_status === filterCreditStatus;\n    \n    return matchesSearch && matchesClassification && matchesArea && matchesCreditStatus;\n  });\n\n  // Get unique classifications\n  const classifications = [...new Set(clinics.map(c => c.classification).filter(Boolean))];\n  const creditStatuses = [...new Set(clinics.map(c => c.credit_status).filter(Boolean))];\n\n  const getClassificationColor = (classification) => {\n    switch (classification) {\n      case 'A': return 'bg-green-500/20 text-green-300 border-green-500/30';\n      case 'B': return 'bg-yellow-500/20 text-yellow-300 border-yellow-500/30';\n      case 'C': return 'bg-red-500/20 text-red-300 border-red-500/30';\n      default: return 'bg-gray-500/20 text-gray-300 border-gray-500/30';\n    }\n  };\n\n  const getCreditStatusColor = (status) => {\n    switch (status) {\n      case 'good': return 'bg-green-500/20 text-green-300';\n      case 'average': return 'bg-yellow-500/20 text-yellow-300';\n      case 'poor': return 'bg-red-500/20 text-red-300';\n      default: return 'bg-gray-500/20 text-gray-300';\n    }\n  };\n\n  const getCreditStatusLabel = (status) => {\n    const labels = {\n      'good': 'جيد',\n      'average': 'متوسط',\n      'poor': 'ضعيف'\n    };\n    return labels[status] || status;\n  };\n\n  const calculateAchievementRate = (achieved, target) => {\n    if (!target || target === 0) return 0;\n    return Math.round((achieved / target) * 100);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n          <p>جاري تحميل العيادات...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"clinics-management-container\">\n      {/* Header */}\n      <div className=\"mb-8\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-12 h-12 bg-gradient-to-br from-green-500 to-blue-600 rounded-lg flex items-center justify-center\">\n              <span className=\"text-2xl text-white\">🏥</span>\n            </div>\n            <div>\n              <h1 className=\"text-3xl font-bold\">إدارة العيادات</h1>\n              <p className=\"text-lg opacity-75\">إدارة شاملة للعيادات مع التصنيفات والحالة الائتمانية</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Stats Summary */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8\">\n        <div className=\"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20\">\n          <div className=\"text-2xl font-bold\">{clinics.length}</div>\n          <div className=\"text-sm opacity-75\">إجمالي العيادات</div>\n        </div>\n        <div className=\"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20\">\n          <div className=\"text-2xl font-bold\">{clinics.filter(c => c.is_active).length}</div>\n          <div className=\"text-sm opacity-75\">عيادات نشطة</div>\n        </div>\n        <div className=\"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20\">\n          <div className=\"text-2xl font-bold\">{clinics.filter(c => c.classification === 'A').length}</div>\n          <div className=\"text-sm opacity-75\">تصنيف A</div>\n        </div>\n        <div className=\"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20\">\n          <div className=\"text-2xl font-bold\">{clinics.filter(c => c.credit_status === 'good').length}</div>\n          <div className=\"text-sm opacity-75\">حالة ائتمانية جيدة</div>\n        </div>\n      </div>\n\n      {/* Filters */}\n      <div className=\"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20 mb-6\">\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          <div>\n            <label className=\"block text-sm font-medium mb-2\">البحث</label>\n            <input\n              type=\"text\"\n              placeholder=\"ابحث عن العيادات...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium mb-2\">التصنيف</label>\n            <select\n              value={filterClassification}\n              onChange={(e) => setFilterClassification(e.target.value)}\n              className=\"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"all\">جميع التصنيفات</option>\n              {classifications.map(classification => (\n                <option key={classification} value={classification}>تصنيف {classification}</option>\n              ))}\n            </select>\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium mb-2\">المنطقة</label>\n            <select\n              value={filterArea}\n              onChange={(e) => setFilterArea(e.target.value)}\n              className=\"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"all\">جميع المناطق</option>\n              {areas.map(area => (\n                <option key={area.id} value={area.id}>{area.name}</option>\n              ))}\n            </select>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium mb-2\">الحالة الائتمانية</label>\n            <select\n              value={filterCreditStatus}\n              onChange={(e) => setFilterCreditStatus(e.target.value)}\n              className=\"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"all\">جميع الحالات</option>\n              {creditStatuses.map(status => (\n                <option key={status} value={status}>{getCreditStatusLabel(status)}</option>\n              ))}\n            </select>\n          </div>\n        </div>\n      </div>\n\n      {/* Clinics Table */}\n      <div className=\"bg-white/10 backdrop-blur-lg rounded-xl border border-white/20 overflow-hidden\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead>\n              <tr className=\"border-b border-white/10 bg-white/5\">\n                <th className=\"px-6 py-4 text-right text-sm font-medium\">العيادة</th>\n                <th className=\"px-6 py-4 text-right text-sm font-medium\">الطبيب</th>\n                <th className=\"px-6 py-4 text-right text-sm font-medium\">التخصص</th>\n                <th className=\"px-6 py-4 text-right text-sm font-medium\">المنطقة</th>\n                <th className=\"px-6 py-4 text-right text-sm font-medium\">التصنيف</th>\n                <th className=\"px-6 py-4 text-right text-sm font-medium\">الحالة الائتمانية</th>\n                <th className=\"px-6 py-4 text-right text-sm font-medium\">الإنجاز الشهري</th>\n                <th className=\"px-6 py-4 text-right text-sm font-medium\">الحالة</th>\n                <th className=\"px-6 py-4 text-right text-sm font-medium\">الإجراءات</th>\n              </tr>\n            </thead>\n            <tbody>\n              {filteredClinics.map((clinic) => {\n                const achievementRate = calculateAchievementRate(clinic.monthly_achieved, clinic.monthly_target);\n                return (\n                  <tr key={clinic.id} className=\"border-b border-white/5 hover:bg-white/5 transition-colors\">\n                    <td className=\"px-6 py-4\">\n                      <div className=\"font-medium\">{clinic.clinic_name}</div>\n                      <div className=\"text-sm opacity-75\">{clinic.address}</div>\n                      <div className=\"text-sm opacity-60\">{clinic.phone}</div>\n                    </td>\n                    <td className=\"px-6 py-4 text-sm\">\n                      <div className=\"font-medium\">{clinic.doctor_name}</div>\n                    </td>\n                    <td className=\"px-6 py-4 text-sm\">\n                      <span className=\"px-2 py-1 bg-purple-500/20 text-purple-300 rounded-full text-xs\">\n                        {clinic.specialty || '-'}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 text-sm\">\n                      {clinic.area_name || 'غير محدد'}\n                    </td>\n                    <td className=\"px-6 py-4 text-sm\">\n                      <span className={`inline-block px-3 py-1 rounded-lg border text-center ${getClassificationColor(clinic.classification)}`}>\n                        تصنيف {clinic.classification}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 text-sm\">\n                      <span className={`inline-block px-2 py-1 rounded text-xs ${getCreditStatusColor(clinic.credit_status)}`}>\n                        {getCreditStatusLabel(clinic.credit_status)}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 text-sm\">\n                      <div className=\"flex flex-col\">\n                        <span className=\"font-medium\">{clinic.monthly_achieved?.toLocaleString()} / {clinic.monthly_target?.toLocaleString()} ج.م</span>\n                        <div className=\"w-full bg-gray-600 rounded-full h-2 mt-1\">\n                          <div \n                            className={`h-2 rounded-full ${achievementRate >= 80 ? 'bg-green-500' : achievementRate >= 60 ? 'bg-yellow-500' : 'bg-red-500'}`}\n                            style={{ width: `${Math.min(achievementRate, 100)}%` }}\n                          ></div>\n                        </div>\n                        <span className=\"text-xs mt-1\">{achievementRate}%</span>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 text-sm\">\n                      <span className={`inline-block px-2 py-1 rounded-full text-xs ${\n                        clinic.is_active ? 'bg-green-500/20 text-green-300' : 'bg-red-500/20 text-red-300'\n                      }`}>\n                        {clinic.is_active ? 'نشط' : 'غير نشط'}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <div className=\"flex gap-2\">\n                        <button\n                          onClick={() => {\n                            setSelectedClinic(clinic);\n                            setShowProfileModal(true);\n                          }}\n                          className=\"px-3 py-1 bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors text-xs\"\n                        >\n                          ملف العيادة\n                        </button>\n                        <button\n                          onClick={() => {\n                            setSelectedClinic(clinic);\n                            setShowClinicModal(true);\n                          }}\n                          className=\"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-xs\"\n                        >\n                          تعديل\n                        </button>\n                        <button\n                          onClick={() => handleDeleteClinic(clinic.id)}\n                          className=\"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-xs\"\n                        >\n                          حذف\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {filteredClinics.length === 0 && (\n        <div className=\"text-center py-12\">\n          <div className=\"text-6xl mb-4\">🏥</div>\n          <h3 className=\"text-xl font-bold mb-2\">لا توجد عيادات</h3>\n          <p className=\"text-gray-600\">لم يتم العثور على عيادات مطابقة للبحث المطلوب</p>\n        </div>\n      )}\n\n      {/* Clinic Modal */}\n      {showClinicModal && (\n        <ClinicModal\n          clinic={selectedClinic}\n          areas={areas}\n          onClose={() => setShowClinicModal(false)}\n          onSave={(data) => handleUpdateClinic(selectedClinic.id, data)}\n          language={language}\n        />\n      )}\n\n      {/* Clinic Mini Profile */}\n      {showProfileModal && selectedClinic && (\n        <ClinicMiniProfile\n          clinic={selectedClinic}\n          onClose={() => setShowProfileModal(false)}\n          language={language}\n          isRTL={isRTL}\n        />\n      )}\n    </div>\n  );\n};\n\n// Clinic Modal Component\nconst ClinicModal = ({ clinic, areas, onClose, onSave, language }) => {\n  const [formData, setFormData] = useState({\n    clinic_name: clinic?.clinic_name || '',\n    doctor_name: clinic?.doctor_name || '',\n    specialty: clinic?.specialty || '',\n    phone: clinic?.phone || '',\n    address: clinic?.address || '',\n    area_id: clinic?.area_id || '',\n    classification: clinic?.classification || 'C',\n    credit_status: clinic?.credit_status || 'average',\n    monthly_target: clinic?.monthly_target || '',\n    monthly_achieved: clinic?.monthly_achieved || '',\n    is_active: clinic?.is_active !== undefined ? clinic.is_active : true\n  });\n\n  const handleInputChange = (e) => {\n    const { name, value, type, checked } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' ? checked : value\n    }));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    \n    // Convert numeric fields\n    const processedData = {\n      ...formData,\n      monthly_target: parseFloat(formData.monthly_target) || 0,\n      monthly_achieved: parseFloat(formData.monthly_achieved) || 0\n    };\n    \n    onSave(processedData);\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white/10 backdrop-blur-lg rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-white/20\">\n        <div className=\"p-6\">\n          {/* Header */}\n          <div className=\"flex items-center justify-between mb-6\">\n            <h3 className=\"text-2xl font-bold\">\n              {clinic ? 'تعديل العيادة' : 'إضافة عيادة جديدة'}\n            </h3>\n            <button onClick={onClose} className=\"text-white/70 hover:text-white text-2xl\">\n              ✕\n            </button>\n          </div>\n\n          {/* Form */}\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <label className=\"block text-sm font-medium mb-2\">اسم العيادة *</label>\n                <input\n                  type=\"text\"\n                  name=\"clinic_name\"\n                  value={formData.clinic_name}\n                  onChange={handleInputChange}\n                  className=\"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  required\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium mb-2\">اسم الطبيب *</label>\n                <input\n                  type=\"text\"\n                  name=\"doctor_name\"\n                  value={formData.doctor_name}\n                  onChange={handleInputChange}\n                  className=\"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  required\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium mb-2\">التخصص</label>\n                <select\n                  name=\"specialty\"\n                  value={formData.specialty}\n                  onChange={handleInputChange}\n                  className=\"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"\">اختر التخصص</option>\n                  <option value=\"أمراض باطنة\">أمراض باطنة</option>\n                  <option value=\"أطفال\">أطفال</option>\n                  <option value=\"عيون\">عيون</option>\n                  <option value=\"أنف وأذن\">أنف وأذن</option>\n                  <option value=\"جراحة\">جراحة</option>\n                  <option value=\"نساء وتوليد\">نساء وتوليد</option>\n                  <option value=\"عظام\">عظام</option>\n                  <option value=\"جلدية\">جلدية</option>\n                  <option value=\"قلب\">قلب</option>\n                  <option value=\"أعصاب\">أعصاب</option>\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium mb-2\">رقم الهاتف *</label>\n                <input\n                  type=\"tel\"\n                  name=\"phone\"\n                  value={formData.phone}\n                  onChange={handleInputChange}\n                  className=\"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  required\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium mb-2\">المنطقة</label>\n                <select\n                  name=\"area_id\"\n                  value={formData.area_id}\n                  onChange={handleInputChange}\n                  className=\"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"\">اختر المنطقة</option>\n                  {areas.map(area => (\n                    <option key={area.id} value={area.id}>{area.name}</option>\n                  ))}\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium mb-2\">التصنيف</label>\n                <select\n                  name=\"classification\"\n                  value={formData.classification}\n                  onChange={handleInputChange}\n                  className=\"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"A\">تصنيف A - ممتاز</option>\n                  <option value=\"B\">تصنيف B - جيد</option>\n                  <option value=\"C\">تصنيف C - متوسط</option>\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium mb-2\">الحالة الائتمانية</label>\n                <select\n                  name=\"credit_status\"\n                  value={formData.credit_status}\n                  onChange={handleInputChange}\n                  className=\"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"good\">جيد</option>\n                  <option value=\"average\">متوسط</option>\n                  <option value=\"poor\">ضعيف</option>\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium mb-2\">الهدف الشهري (ج.م)</label>\n                <input\n                  type=\"number\"\n                  name=\"monthly_target\"\n                  value={formData.monthly_target}\n                  onChange={handleInputChange}\n                  className=\"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium mb-2\">الإنجاز الشهري (ج.م)</label>\n                <input\n                  type=\"number\"\n                  name=\"monthly_achieved\"\n                  value={formData.monthly_achieved}\n                  onChange={handleInputChange}\n                  className=\"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium mb-2\">العنوان *</label>\n              <textarea\n                name=\"address\"\n                value={formData.address}\n                onChange={handleInputChange}\n                rows=\"3\"\n                className=\"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"العنوان التفصيلي للعيادة...\"\n                required\n              />\n            </div>\n\n            <div className=\"flex items-center gap-2\">\n              <input\n                type=\"checkbox\"\n                id=\"is_active\"\n                name=\"is_active\"\n                checked={formData.is_active}\n                onChange={handleInputChange}\n                className=\"w-4 h-4 text-blue-600 rounded\"\n              />\n              <label htmlFor=\"is_active\" className=\"text-sm font-medium\">\n                عيادة نشطة\n              </label>\n            </div>\n\n            {/* Submit Buttons */}\n            <div className=\"flex gap-3 pt-6\">\n              <button\n                type=\"submit\"\n                className=\"flex-1 bg-gradient-to-r from-blue-600 to-green-600 text-white py-3 rounded-lg hover:from-blue-700 hover:to-green-700 transition-all\"\n              >\n                {clinic ? 'تحديث العيادة' : 'إضافة العيادة'}\n              </button>\n              <button\n                type=\"button\"\n                onClick={onClose}\n                className=\"flex-1 bg-gray-600 text-white py-3 rounded-lg hover:bg-gray-700 transition-colors\"\n              >\n                إلغاء\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ClinicsManagement;","// Activity Logger Utility - أداة تسجيل الأنشطة\n// المطلوب: تسجيل تلقائي لجميع الأنشطة مع GPS والتفاصيل\n\nimport axios from 'axios';\n\nclass ActivityLogger {\n  constructor() {\n    this.API = (process.env.REACT_APP_BACKEND_URL || 'http://localhost:8001') + '/api';\n    this.isEnabled = true;\n    this.currentPosition = null;\n    this.retryQueue = [];\n  }\n\n  // الحصول على الموقع الحالي\n  async getCurrentPosition() {\n    if (!navigator.geolocation) {\n      console.warn('Geolocation is not supported');\n      return null;\n    }\n\n    try {\n      const position = await new Promise((resolve, reject) => {\n        navigator.geolocation.getCurrentPosition(\n          resolve,\n          reject,\n          {\n            enableHighAccuracy: true,\n            timeout: 15000,\n            maximumAge: 300000 // 5 minutes cache\n          }\n        );\n      });\n\n      this.currentPosition = {\n        latitude: position.coords.latitude,\n        longitude: position.coords.longitude,\n        accuracy: position.coords.accuracy,\n        altitude: position.coords.altitude,\n        speed: position.coords.speed,\n        heading: position.coords.heading,\n        timestamp: new Date().toISOString()\n      };\n\n      // محاولة الحصول على العنوان\n      try {\n        const address = await this.getAddressFromCoordinates(\n          position.coords.latitude,\n          position.coords.longitude\n        );\n        this.currentPosition.address = address.formatted_address;\n        this.currentPosition.city = address.city;\n        this.currentPosition.area = address.area;\n        this.currentPosition.country = address.country;\n      } catch (error) {\n        console.warn('Failed to get address from coordinates:', error);\n        this.currentPosition.address = `${position.coords.latitude.toFixed(4)}, ${position.coords.longitude.toFixed(4)}`;\n      }\n\n      return this.currentPosition;\n    } catch (error) {\n      console.warn('Failed to get current position:', error);\n      return null;\n    }\n  }\n\n  // تحويل الإحداثيات إلى عنوان\n  async getAddressFromCoordinates(lat, lng) {\n    const GOOGLE_MAPS_API_KEY = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;\n    \n    if (!GOOGLE_MAPS_API_KEY) {\n      return {\n        formatted_address: `${lat.toFixed(4)}, ${lng.toFixed(4)}`,\n        city: '',\n        area: '',\n        country: 'مصر'\n      };\n    }\n\n    try {\n      const response = await fetch(\n        `https://maps.googleapis.com/maps/api/geocode/json?latlng=${lat},${lng}&key=${GOOGLE_MAPS_API_KEY}&language=ar`\n      );\n      const data = await response.json();\n      \n      if (data.results && data.results.length > 0) {\n        const result = data.results[0];\n        return {\n          formatted_address: result.formatted_address,\n          city: this.extractAddressComponent(result, 'locality') || \n                this.extractAddressComponent(result, 'administrative_area_level_2'),\n          area: this.extractAddressComponent(result, 'administrative_area_level_3') ||\n                this.extractAddressComponent(result, 'sublocality'),\n          country: this.extractAddressComponent(result, 'country') || 'مصر'\n        };\n      }\n    } catch (error) {\n      console.warn('Geocoding failed:', error);\n    }\n\n    return {\n      formatted_address: `${lat.toFixed(4)}, ${lng.toFixed(4)}`,\n      city: '',\n      area: '',\n      country: 'مصر'\n    };\n  }\n\n  // استخراج مكونات العنوان\n  extractAddressComponent(result, type) {\n    const component = result.address_components.find(\n      comp => comp.types.includes(type)\n    );\n    return component ? component.long_name : '';\n  }\n\n  // الحصول على معلومات الجهاز\n  getDeviceInfo() {\n    const ua = navigator.userAgent;\n    \n    return {\n      device_type: this.getDeviceType(),\n      operating_system: this.getOperatingSystem(),\n      browser: this.getBrowserInfo(),\n      browser_version: this.getBrowserVersion(),\n      user_agent: ua,\n      screen_resolution: `${window.screen.width}x${window.screen.height}`,\n      viewport_size: `${window.innerWidth}x${window.innerHeight}`,\n      timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\n      language: navigator.language,\n      online: navigator.onLine\n    };\n  }\n\n  getDeviceType() {\n    const ua = navigator.userAgent;\n    if (/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(ua)) {\n      return 'tablet';\n    } else if (/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(ua)) {\n      return 'mobile';\n    }\n    return 'desktop';\n  }\n\n  getOperatingSystem() {\n    const ua = navigator.userAgent;\n    const os = [\n      { name: 'Windows 11', regex: /Windows NT 10\\.0.*rv:91/ },\n      { name: 'Windows 10', regex: /Windows NT 10\\.0/ },\n      { name: 'Windows 8.1', regex: /Windows NT 6\\.3/ },\n      { name: 'Windows 8', regex: /Windows NT 6\\.2/ },\n      { name: 'Windows 7', regex: /Windows NT 6\\.1/ },\n      { name: 'macOS', regex: /Mac OS X/ },\n      { name: 'iOS', regex: /(iPhone|iPad|iPod)/ },\n      { name: 'Android', regex: /Android/ },\n      { name: 'Linux', regex: /Linux/ },\n      { name: 'Unix', regex: /X11/ }\n    ];\n\n    for (const o of os) {\n      if (o.regex.test(ua)) {\n        return o.name;\n      }\n    }\n    return 'Unknown';\n  }\n\n  getBrowserInfo() {\n    const ua = navigator.userAgent;\n    const browsers = [\n      { name: 'Chrome', regex: /Chrome/ },\n      { name: 'Firefox', regex: /Firefox/ },\n      { name: 'Safari', regex: /Safari/ },\n      { name: 'Edge', regex: /Edge/ },\n      { name: 'Opera', regex: /Opera/ },\n      { name: 'Internet Explorer', regex: /MSIE/ }\n    ];\n\n    for (const browser of browsers) {\n      if (browser.regex.test(ua)) {\n        return browser.name;\n      }\n    }\n    return 'Unknown';\n  }\n\n  getBrowserVersion() {\n    const ua = navigator.userAgent;\n    const match = ua.match(/(Chrome|Firefox|Safari|Edge|Opera)\\/(\\d+\\.\\d+)/);\n    return match ? match[2] : 'Unknown';\n  }\n\n  // تسجيل نشاط\n  async logActivity(type, action, targetType = null, targetId = null, targetName = null, details = {}) {\n    if (!this.isEnabled) return;\n\n    try {\n      const token = localStorage.getItem('access_token');\n      if (!token) {\n        console.warn('No access token available for activity logging');\n        return;\n      }\n\n      // الحصول على الموقع (optional)\n      const location = await this.getCurrentPosition();\n\n      const activityData = {\n        type,\n        action,\n        target_type: targetType,\n        target_id: targetId,\n        target_name: targetName,\n        location: location,\n        device_info: this.getDeviceInfo(),\n        details: {\n          ...details,\n          page_url: window.location.href,\n          page_title: document.title,\n          referrer: document.referrer,\n          session_storage_length: sessionStorage.length,\n          local_storage_length: localStorage.length\n        },\n        metadata: {\n          logged_at: new Date().toISOString(),\n          user_agent: navigator.userAgent,\n          connection_type: navigator.connection?.effectiveType || 'unknown',\n          battery_level: navigator.getBattery ? await navigator.getBattery().then(b => b.level) : null\n        }\n      };\n\n      const response = await axios.post(`${this.API}/activities`, activityData, {\n        headers: { \n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        timeout: 10000\n      });\n\n      console.log('Activity logged successfully:', response.data);\n      return response.data;\n\n    } catch (error) {\n      console.error('Failed to log activity:', error);\n      \n      // إضافة إلى queue للمحاولة مرة أخرى لاحقاً\n      this.retryQueue.push({\n        type, action, targetType, targetId, targetName, details,\n        timestamp: new Date().toISOString(),\n        retryCount: 0\n      });\n\n      // محاولة إعادة الإرسال بعد فترة\n      this.scheduleRetry();\n    }\n  }\n\n  // جدولة إعادة المحاولة\n  scheduleRetry() {\n    if (this.retryQueue.length === 0) return;\n\n    setTimeout(async () => {\n      const failedActivity = this.retryQueue.shift();\n      if (failedActivity && failedActivity.retryCount < 3) {\n        failedActivity.retryCount++;\n        try {\n          await this.logActivity(\n            failedActivity.type,\n            failedActivity.action,\n            failedActivity.targetType,\n            failedActivity.targetId,\n            failedActivity.targetName,\n            failedActivity.details\n          );\n        } catch (error) {\n          if (failedActivity.retryCount < 3) {\n            this.retryQueue.push(failedActivity);\n          }\n        }\n      }\n    }, 5000); // محاولة مرة أخرى بعد 5 ثوان\n  }\n\n  // تسجيل أنشطة محددة\n  async logVisitRegistration(clinicId, clinicName, visitDetails = {}) {\n    return this.logActivity(\n      'visit_registration',\n      'تسجيل زيارة عيادة',\n      'clinic',\n      clinicId,\n      clinicName,\n      {\n        visit_duration: visitDetails.duration || null,\n        doctor_present: visitDetails.doctorPresent || null,\n        samples_given: visitDetails.samplesGiven || 0,\n        notes: visitDetails.notes || '',\n        visit_type: visitDetails.type || 'routine',\n        ...visitDetails\n      }\n    );\n  }\n\n  async logClinicRegistration(clinicId, clinicName, clinicDetails = {}) {\n    return this.logActivity(\n      'clinic_registration',\n      'تسجيل عيادة جديدة',\n      'clinic',\n      clinicId,\n      clinicName,\n      {\n        doctor_name: clinicDetails.doctorName || '',\n        specialty: clinicDetails.specialty || '',\n        classification: clinicDetails.classification || '',\n        phone: clinicDetails.phone || '',\n        address: clinicDetails.address || '',\n        ...clinicDetails\n      }\n    );\n  }\n\n  async logOrderCreation(orderId, orderDetails = {}) {\n    return this.logActivity(\n      'order_creation',\n      'إنشاء طلب جديد',\n      'order',\n      orderId,\n      `طلب رقم ${orderId}`,\n      {\n        order_value: orderDetails.totalValue || 0,\n        items_count: orderDetails.itemsCount || 0,\n        clinic_name: orderDetails.clinicName || '',\n        payment_method: orderDetails.paymentMethod || '',\n        ...orderDetails\n      }\n    );\n  }\n\n  async logProductUpdate(productId, productName, updateDetails = {}) {\n    return this.logActivity(\n      'product_update',\n      'تحديث منتج',\n      'product',\n      productId,\n      productName,\n      {\n        old_price: updateDetails.oldPrice || null,\n        new_price: updateDetails.newPrice || null,\n        change_reason: updateDetails.changeReason || '',\n        update_type: updateDetails.updateType || 'general',\n        ...updateDetails\n      }\n    );\n  }\n\n  async logUserCreation(userId, userName, userDetails = {}) {\n    return this.logActivity(\n      'user_creation',\n      'إنشاء مستخدم جديد',\n      'user',\n      userId,\n      userName,\n      {\n        user_role: userDetails.role || '',\n        department: userDetails.department || '',\n        permissions: userDetails.permissions || [],\n        ...userDetails\n      }\n    );\n  }\n\n  async logSystemAccess(section, sectionDetails = {}) {\n    return this.logActivity(\n      'system_access',\n      `دخول قسم ${section}`,\n      'system',\n      section,\n      `قسم ${section}`,\n      {\n        access_time: new Date().toISOString(),\n        previous_section: sectionDetails.previousSection || '',\n        access_method: sectionDetails.accessMethod || 'navigation',\n        ...sectionDetails\n      }\n    );\n  }\n\n  async logLogin(loginDetails = {}) {\n    return this.logActivity(\n      'login',\n      'تسجيل دخول',\n      'system',\n      'login',\n      'نظام EP Group',\n      {\n        login_method: loginDetails.method || 'password',\n        biometric_verified: loginDetails.biometricVerified || false,\n        failed_attempts: loginDetails.failedAttempts || 0,\n        remember_me: loginDetails.rememberMe || false,\n        ...loginDetails\n      }\n    );\n  }\n\n  // تعطيل/تفعيل التسجيل\n  enable() {\n    this.isEnabled = true;\n  }\n\n  disable() {\n    this.isEnabled = false;\n  }\n\n  // مسح queue إعادة المحاولة\n  clearRetryQueue() {\n    this.retryQueue = [];\n  }\n}\n\n// إنشاء instance واحد للاستخدام في جميع أنحاء التطبيق\nexport const activityLogger = new ActivityLogger();\n\nexport default activityLogger;"],"names":["_ref","clinic","onClose","language","isRTL","activeTab","setActiveTab","useState","profileData","setProfileData","orders","debts","visits","payments","loading","setLoading","t","useTranslation","useEffect","id","fetchClinicProfile","async","localStorage","getItem","order_number","date","total_amount","status","items_count","rep_name","invoice_number","due_date","original_amount","paid_amount","remaining_amount","days_overdue","visit_date","visit_type","duration_minutes","order_created","order_value","notes","payment_date","amount","method","reference","error","console","formatCurrency","Intl","NumberFormat","style","currency","minimumFractionDigits","format","formatDate","dateString","Date","toLocaleDateString","year","month","day","exportToPDF","section","content","clinicName","clinic_name","concat","doctor_name","map","order","index","getOrderStatusLabel","join","length","calculateTotals","totalOrderValue","debt","totalDebt","visit","formatDateTime","totalVisits","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","toISOString","split","body","appendChild","click","removeChild","revokeObjectURL","alert","printSection","printWindow","window","open","write","close","print","toLocaleString","hour","minute","totalOrders","reduce","sum","totalPayments","payment","totals","_jsx","className","children","_jsxs","onClick","name","icon","tab","specialty","classification","credit_status","details","showOrderDetails","showDebtDetails","visitTypeText","showVisitDetails","ClinicModal","_ref2","areas","onSave","formData","setFormData","phone","address","area_id","monthly_target","monthly_achieved","is_active","undefined","handleInputChange","e","value","checked","target","prev","_objectSpread","onSubmit","preventDefault","processedData","parseFloat","onChange","required","area","rows","placeholder","htmlFor","user","clinics","setClinics","setAreas","searchTerm","setSearchTerm","filterClassification","setFilterClassification","filterArea","setFilterArea","filterCreditStatus","setFilterCreditStatus","showClinicModal","setShowClinicModal","showProfileModal","setShowProfileModal","selectedClinic","setSelectedClinic","API","fetchClinics","fetchAreas","activityLogger","logSystemAccess","previousSection","sessionStorage","accessMethod","userRole","role","setItem","token","response","axios","get","headers","Authorization","data","area_name","latitude","longitude","created_at","filteredClinics","filter","_clinic$clinic_name","_clinic$doctor_name","_clinic$address","matchesSearch","toLowerCase","includes","matchesClassification","matchesArea","matchesCreditStatus","classifications","Set","c","Boolean","creditStatuses","getClassificationColor","getCreditStatusColor","getCreditStatusLabel","_clinic$monthly_achie","_clinic$monthly_targe","achievementRate","achieved","Math","round","calculateAchievementRate","width","min","clinicToDelete","find","clinicId","confirm","log","delete","logActivity","deleted_clinic_name","credit_limit","deletion_reason","deleted_by_role","_error$response2","_error$response2$data","errorMessage","detail","handleDeleteClinic","clinicData","currentClinic","put","old_classification","new_classification","old_credit_limit","new_credit_limit","updated_by_role","update_reason","_error$response","_error$response$data","handleUpdateClinic","ClinicMiniProfile","constructor","this","isEnabled","currentPosition","retryQueue","getCurrentPosition","navigator","geolocation","warn","position","Promise","resolve","reject","enableHighAccuracy","timeout","maximumAge","coords","accuracy","altitude","speed","heading","timestamp","getAddressFromCoordinates","formatted_address","city","country","toFixed","lat","lng","GOOGLE_MAPS_API_KEY","process","fetch","json","results","result","extractAddressComponent","component","address_components","comp","types","long_name","getDeviceInfo","ua","userAgent","device_type","getDeviceType","operating_system","getOperatingSystem","browser","getBrowserInfo","browser_version","getBrowserVersion","user_agent","screen_resolution","screen","height","viewport_size","innerWidth","innerHeight","timezone","DateTimeFormat","resolvedOptions","timeZone","online","onLine","test","os","regex","o","browsers","match","action","targetType","arguments","targetId","targetName","_navigator$connection","activityData","target_type","target_id","target_name","location","device_info","page_url","page_title","title","referrer","session_storage_length","local_storage_length","metadata","logged_at","connection_type","connection","effectiveType","battery_level","getBattery","then","b","level","post","push","retryCount","scheduleRetry","setTimeout","failedActivity","shift","logVisitRegistration","visitDetails","visit_duration","duration","doctor_present","doctorPresent","samples_given","samplesGiven","logClinicRegistration","clinicDetails","doctorName","logOrderCreation","orderId","orderDetails","totalValue","itemsCount","payment_method","paymentMethod","logProductUpdate","productId","productName","updateDetails","old_price","oldPrice","new_price","newPrice","change_reason","changeReason","update_type","updateType","logUserCreation","userId","userName","userDetails","user_role","department","permissions","sectionDetails","access_time","previous_section","access_method","logLogin","loginDetails","login_method","biometric_verified","biometricVerified","failed_attempts","failedAttempts","remember_me","rememberMe","enable","disable","clearRetryQueue"],"sourceRoot":""}