/*! For license information please see main.f65c2713.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,s)=>{var a=s(853),n=s(43),l=s(950);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var c=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),p=Symbol.for("react.consumer"),g=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),y=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var w=Symbol.for("react.memo_cache_sentinel"),_=Symbol.iterator;function k(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=_&&e[_]||e["@@iterator"])?e:null}var S=Symbol.for("react.client.reference");function C(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===S?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case u:return"Fragment";case d:return"Portal";case x:return"Profiler";case m:return"StrictMode";case v:return"Suspense";case b:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case g:return(e.displayName||"Context")+".Provider";case p:return(e._context.displayName||"Context")+".Consumer";case f:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:C(e.type)||"Memo";case y:t=e._payload,e=e._init;try{return C(e(t))}catch(s){}}return null}var E,A,L=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=Object.assign;function P(e){if(void 0===E)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);E=t&&t[1]||"",A=-1<s.stack.indexOf("\n    at")?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+E+e+A}var T=!1;function O(e,t){if(!e||T)return"";T=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var s=function(){throw Error()};if(Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(s,[])}catch(n){var a=n}Reflect.construct(e,[],s)}else{try{s.call()}catch(l){a=l}e.call(s.prototype)}}else{try{throw Error()}catch(r){a=r}(s=e())&&"function"===typeof s.catch&&s.catch((function(){}))}}catch(i){if(i&&a&&"string"===typeof i.stack)return[i.stack,a.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=a.DetermineComponentFrameRoot(),r=l[0],i=l[1];if(r&&i){var c=r.split("\n"),o=i.split("\n");for(n=a=0;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;for(;n<o.length&&!o[n].includes("DetermineComponentFrameRoot");)n++;if(a===c.length||n===o.length)for(a=c.length-1,n=o.length-1;1<=a&&0<=n&&c[a]!==o[n];)n--;for(;1<=a&&0<=n;a--,n--)if(c[a]!==o[n]){if(1!==a||1!==n)do{if(a--,0>--n||c[a]!==o[n]){var d="\n"+c[a].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=a&&0<=n);break}}}finally{T=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?P(s):""}function M(e){switch(e.tag){case 26:case 27:case 5:return P(e.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 15:return e=O(e.type,!1);case 11:return e=O(e.type.render,!1);case 1:return e=O(e.type,!0);default:return""}}function D(e){try{var t="";do{t+=M(e),e=e.return}while(e);return t}catch(s){return"\nError generating stack: "+s.message+"\n"+s.stack}}function R(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(s=t.return),e=t.return}while(e)}return 3===t.tag?s:null}function I(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function F(e){if(R(e)!==e)throw Error(r(188))}function B(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=B(e)))return t;e=e.sibling}return null}var U=Array.isArray,q=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},H=[],G=-1;function W(e){return{current:e}}function Q(e){0>G||(e.current=H[G],H[G]=null,G--)}function $(e,t){G++,H[G]=e.current,e.current=t}var K=W(null),X=W(null),Y=W(null),J=W(null);function Z(e,t){switch($(Y,t),$(X,e),$(K,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Xd(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=Yd(e=Xd(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(K),$(K,t)}function ee(){Q(K),Q(X),Q(Y)}function te(e){null!==e.memoizedState&&$(J,e);var t=K.current,s=Yd(t,e.type);t!==s&&($(X,e),$(K,s))}function se(e){X.current===e&&(Q(K),Q(X)),J.current===e&&(Q(J),Du._currentValue=V)}var ae=Object.prototype.hasOwnProperty,ne=a.unstable_scheduleCallback,le=a.unstable_cancelCallback,re=a.unstable_shouldYield,ie=a.unstable_requestPaint,ce=a.unstable_now,oe=a.unstable_getCurrentPriorityLevel,de=a.unstable_ImmediatePriority,ue=a.unstable_UserBlockingPriority,me=a.unstable_NormalPriority,xe=a.unstable_LowPriority,he=a.unstable_IdlePriority,pe=a.log,ge=a.unstable_setDisableYieldValue,fe=null,ve=null;function be(e){if("function"===typeof pe&&ge(e),ve&&"function"===typeof ve.setStrictMode)try{ve.setStrictMode(fe,e)}catch(t){}}var je=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ye(e)/Ne|0)|0},ye=Math.log,Ne=Math.LN2;var we=128,_e=4194304;function ke(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Se(e,t){var s=e.pendingLanes;if(0===s)return 0;var a=0,n=e.suspendedLanes,l=e.pingedLanes,r=e.warmLanes;e=0!==e.finishedLanes;var i=134217727&s;return 0!==i?0!==(s=i&~n)?a=ke(s):0!==(l&=i)?a=ke(l):e||0!==(r=i&~r)&&(a=ke(r)):0!==(i=s&~n)?a=ke(i):0!==l?a=ke(l):e||0!==(r=s&~r)&&(a=ke(r)),0===a?0:0!==t&&t!==a&&0===(t&n)&&((n=a&-a)>=(r=t&-t)||32===n&&0!==(4194176&r))?t:a}function Ce(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ee(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ae(){var e=we;return 0===(4194176&(we<<=1))&&(we=128),e}function Le(){var e=_e;return 0===(62914560&(_e<<=1))&&(_e=4194304),e}function ze(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Pe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Te(e,t,s){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-je(t);e.entangledLanes|=t,e.entanglements[a]=1073741824|e.entanglements[a]|4194218&s}function Oe(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var a=31-je(s),n=1<<a;n&t|e[a]&t&&(e[a]|=t),s&=~n}}function Me(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function De(){var e=q.p;return 0!==e?e:void 0===(e=window.event)?32:Yu(e.type)}var Re=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Re,Fe="__reactProps$"+Re,Be="__reactContainer$"+Re,Ue="__reactEvents$"+Re,qe="__reactListeners$"+Re,Ve="__reactHandles$"+Re,He="__reactResources$"+Re,Ge="__reactMarker$"+Re;function We(e){delete e[Ie],delete e[Fe],delete e[Ue],delete e[qe],delete e[Ve]}function Qe(e){var t=e[Ie];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Be]||s[Ie]){if(s=t.alternate,null!==t.child||null!==s&&null!==s.child)for(e=cu(e);null!==e;){if(s=e[Ie])return s;e=cu(e)}return t}s=(e=s).parentNode}return null}function $e(e){if(e=e[Ie]||e[Be]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ke(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(r(33))}function Xe(e){var t=e[He];return t||(t=e[He]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ye(e){e[Ge]=!0}var Je=new Set,Ze={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Ze[e]=t,e=0;e<t.length;e++)Je.add(t[e])}var st=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),at=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nt={},lt={};function rt(e,t,s){if(n=t,ae.call(lt,n)||!ae.call(nt,n)&&(at.test(n)?lt[n]=!0:(nt[n]=!0,0)))if(null===s)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var a=t.toLowerCase().slice(0,5);if("data-"!==a&&"aria-"!==a)return void e.removeAttribute(t)}e.setAttribute(t,""+s)}var n}function it(e,t,s){if(null===s)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+s)}}function ct(e,t,s,a){if(null===a)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(s)}e.setAttributeNS(t,s,""+a)}}function ot(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ut(e){e._valueTracker||(e._valueTracker=function(e){var t=dt(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof s&&"function"===typeof s.get&&"function"===typeof s.set){var n=s.get,l=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(e){a=""+e,l.call(this,e)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function mt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),a="";return e&&(a=dt(e)?e.checked?"true":"false":e.value),(e=a)!==s&&(t.setValue(e),!0)}function xt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ht=/[\n"\\]/g;function pt(e){return e.replace(ht,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,s,a,n,l,r,i){e.name="",null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&"boolean"!==typeof r?e.type=r:e.removeAttribute("type"),null!=t?"number"===r?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ot(t)):e.value!==""+ot(t)&&(e.value=""+ot(t)):"submit"!==r&&"reset"!==r||e.removeAttribute("value"),null!=t?vt(e,r,ot(t)):null!=s?vt(e,r,ot(s)):null!=a&&e.removeAttribute("value"),null==n&&null!=l&&(e.defaultChecked=!!l),null!=n&&(e.checked=n&&"function"!==typeof n&&"symbol"!==typeof n),null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.name=""+ot(i):e.removeAttribute("name")}function ft(e,t,s,a,n,l,r,i){if(null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l&&(e.type=l),null!=t||null!=s){if(!("submit"!==l&&"reset"!==l||void 0!==t&&null!==t))return;s=null!=s?""+ot(s):"",t=null!=t?""+ot(t):s,i||t===e.value||(e.value=t),e.defaultValue=t}a="function"!==typeof(a=null!=a?a:n)&&"symbol"!==typeof a&&!!a,e.checked=i?e.checked:!!a,e.defaultChecked=!!a,null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&"boolean"!==typeof r&&(e.name=r)}function vt(e,t,s){"number"===t&&xt(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function bt(e,t,s,a){if(e=e.options,t){t={};for(var n=0;n<s.length;n++)t["$"+s[n]]=!0;for(s=0;s<e.length;s++)n=t.hasOwnProperty("$"+e[s].value),e[s].selected!==n&&(e[s].selected=n),n&&a&&(e[s].defaultSelected=!0)}else{for(s=""+ot(s),t=null,n=0;n<e.length;n++){if(e[n].value===s)return e[n].selected=!0,void(a&&(e[n].defaultSelected=!0));null!==t||e[n].disabled||(t=e[n])}null!==t&&(t.selected=!0)}}function jt(e,t,s){null==t||((t=""+ot(t))!==e.value&&(e.value=t),null!=s)?e.defaultValue=null!=s?""+ot(s):"":e.defaultValue!==t&&(e.defaultValue=t)}function yt(e,t,s,a){if(null==t){if(null!=a){if(null!=s)throw Error(r(92));if(U(a)){if(1<a.length)throw Error(r(93));a=a[0]}s=a}null==s&&(s=""),t=s}s=ot(t),e.defaultValue=s,(a=e.textContent)===s&&""!==a&&null!==a&&(e.value=a)}function Nt(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&3===s.nodeType)return void(s.nodeValue=t)}e.textContent=t}var wt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _t(e,t,s){var a=0===t.indexOf("--");null==s||"boolean"===typeof s||""===s?a?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":a?e.setProperty(t,s):"number"!==typeof s||0===s||wt.has(t)?"float"===t?e.cssFloat=s:e[t]=(""+s).trim():e[t]=s+"px"}function kt(e,t,s){if(null!=t&&"object"!==typeof t)throw Error(r(62));if(e=e.style,null!=s){for(var a in s)!s.hasOwnProperty(a)||null!=t&&t.hasOwnProperty(a)||(0===a.indexOf("--")?e.setProperty(a,""):"float"===a?e.cssFloat="":e[a]="");for(var n in t)a=t[n],t.hasOwnProperty(n)&&s[n]!==a&&_t(e,n,a)}else for(var l in t)t.hasOwnProperty(l)&&_t(e,l,t[l])}function St(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Et=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return Et.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Lt=null;function zt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pt=null,Tt=null;function Ot(e){var t=$e(e);if(t&&(e=t.stateNode)){var s=e[Fe]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),t=s.name,"radio"===s.type&&null!=t){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+pt(""+t)+'"][type="radio"]'),t=0;t<s.length;t++){var a=s[t];if(a!==e&&a.form===e.form){var n=a[Fe]||null;if(!n)throw Error(r(90));gt(a,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<s.length;t++)(a=s[t]).form===e.form&&mt(a)}break e;case"textarea":jt(e,s.value,s.defaultValue);break e;case"select":null!=(t=s.value)&&bt(e,!!s.multiple,t,!1)}}}var Mt=!1;function Dt(e,t,s){if(Mt)return e(t,s);Mt=!0;try{return e(t)}finally{if(Mt=!1,(null!==Pt||null!==Tt)&&(Io(),Pt&&(t=Pt,e=Tt,Tt=Pt=null,Ot(t),e)))for(t=0;t<e.length;t++)Ot(e[t])}}function Rt(e,t){var s=e.stateNode;if(null===s)return null;var a=s[Fe]||null;if(null===a)return null;s=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(s&&"function"!==typeof s)throw Error(r(231,t,typeof s));return s}var It=!1;if(st)try{var Ft={};Object.defineProperty(Ft,"passive",{get:function(){It=!0}}),window.addEventListener("test",Ft,Ft),window.removeEventListener("test",Ft,Ft)}catch(ym){It=!1}var Bt=null,Ut=null,qt=null;function Vt(){if(qt)return qt;var e,t,s=Ut,a=s.length,n="value"in Bt?Bt.value:Bt.textContent,l=n.length;for(e=0;e<a&&s[e]===n[e];e++);var r=a-e;for(t=1;t<=r&&s[a-t]===n[l-t];t++);return qt=n.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function Wt(){return!1}function Qt(e){function t(t,s,a,n,l){for(var r in this._reactName=t,this._targetInst=a,this.type=s,this.nativeEvent=n,this.target=l,this.currentTarget=null,e)e.hasOwnProperty(r)&&(t=e[r],this[r]=t?t(n):n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Gt:Wt,this.isPropagationStopped=Wt,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var $t,Kt,Xt,Yt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jt=Qt(Yt),Zt=z({},Yt,{view:0,detail:0}),es=Qt(Zt),ts=z({},Zt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?($t=e.screenX-Xt.screenX,Kt=e.screenY-Xt.screenY):Kt=$t=0,Xt=e),$t)},movementY:function(e){return"movementY"in e?e.movementY:Kt}}),ss=Qt(ts),as=Qt(z({},ts,{dataTransfer:0})),ns=Qt(z({},Zt,{relatedTarget:0})),ls=Qt(z({},Yt,{animationName:0,elapsedTime:0,pseudoElement:0})),rs=Qt(z({},Yt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),is=Qt(z({},Yt,{data:0})),cs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},os={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ds={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function us(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=ds[e])&&!!t[e]}function ms(){return us}var xs=Qt(z({},Zt,{key:function(e){if(e.key){var t=cs[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?os[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),hs=Qt(z({},ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),ps=Qt(z({},Zt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms})),gs=Qt(z({},Yt,{propertyName:0,elapsedTime:0,pseudoElement:0})),fs=Qt(z({},ts,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),vs=Qt(z({},Yt,{newState:0,oldState:0})),bs=[9,13,27,32],js=st&&"CompositionEvent"in window,ys=null;st&&"documentMode"in document&&(ys=document.documentMode);var Ns=st&&"TextEvent"in window&&!ys,ws=st&&(!js||ys&&8<ys&&11>=ys),_s=String.fromCharCode(32),ks=!1;function Ss(e,t){switch(e){case"keyup":return-1!==bs.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cs(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Es=!1;var As={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ls(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!As[e.type]:"textarea"===t}function zs(e,t,s,a){Pt?Tt?Tt.push(a):Tt=[a]:Pt=a,0<(t=Dd(t,"onChange")).length&&(s=new Jt("onChange","change",null,s,a),e.push({event:s,listeners:t}))}var Ps=null,Ts=null;function Os(e){Ed(e,0)}function Ms(e){if(mt(Ke(e)))return e}function Ds(e,t){if("change"===e)return t}var Rs=!1;if(st){var Is;if(st){var Fs="oninput"in document;if(!Fs){var Bs=document.createElement("div");Bs.setAttribute("oninput","return;"),Fs="function"===typeof Bs.oninput}Is=Fs}else Is=!1;Rs=Is&&(!document.documentMode||9<document.documentMode)}function Us(){Ps&&(Ps.detachEvent("onpropertychange",qs),Ts=Ps=null)}function qs(e){if("value"===e.propertyName&&Ms(Ts)){var t=[];zs(t,Ts,e,zt(e)),Dt(Os,t)}}function Vs(e,t,s){"focusin"===e?(Us(),Ts=s,(Ps=t).attachEvent("onpropertychange",qs)):"focusout"===e&&Us()}function Hs(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ms(Ts)}function Gs(e,t){if("click"===e)return Ms(t)}function Ws(e,t){if("input"===e||"change"===e)return Ms(t)}var Qs="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function $s(e,t){if(Qs(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var n=s[a];if(!ae.call(t,n)||!Qs(e[n],t[n]))return!1}return!0}function Ks(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xs(e,t){var s,a=Ks(e);for(e=0;a;){if(3===a.nodeType){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ks(a)}}function Ys(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Ys(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Js(e){for(var t=xt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var s="string"===typeof t.contentWindow.location.href}catch(a){s=!1}if(!s)break;t=xt((e=t.contentWindow).document)}return t}function Zs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ea(e,t){var s=Js(t);t=e.focusedElem;var a=e.selectionRange;if(s!==t&&t&&t.ownerDocument&&Ys(t.ownerDocument.documentElement,t)){if(null!==a&&Zs(t))if(e=a.start,void 0===(s=a.end)&&(s=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(s,t.value.length);else if((s=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){s=s.getSelection();var n=t.textContent.length,l=Math.min(a.start,n);a=void 0===a.end?l:Math.min(a.end,n),!s.extend&&l>a&&(n=a,a=l,l=n),n=Xs(t,l);var r=Xs(t,a);n&&r&&(1!==s.rangeCount||s.anchorNode!==n.node||s.anchorOffset!==n.offset||s.focusNode!==r.node||s.focusOffset!==r.offset)&&((e=e.createRange()).setStart(n.node,n.offset),s.removeAllRanges(),l>a?(s.addRange(e),s.extend(r.node,r.offset)):(e.setEnd(r.node,r.offset),s.addRange(e)))}for(e=[],s=t;s=s.parentNode;)1===s.nodeType&&e.push({element:s,left:s.scrollLeft,top:s.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<e.length;t++)(s=e[t]).element.scrollLeft=s.left,s.element.scrollTop=s.top}}var ta=st&&"documentMode"in document&&11>=document.documentMode,sa=null,aa=null,na=null,la=!1;function ra(e,t,s){var a=s.window===s?s.document:9===s.nodeType?s:s.ownerDocument;la||null==sa||sa!==xt(a)||("selectionStart"in(a=sa)&&Zs(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},na&&$s(na,a)||(na=a,0<(a=Dd(aa,"onSelect")).length&&(t=new Jt("onSelect","select",null,t,s),e.push({event:t,listeners:a}),t.target=sa)))}function ia(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var ca={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionrun:ia("Transition","TransitionRun"),transitionstart:ia("Transition","TransitionStart"),transitioncancel:ia("Transition","TransitionCancel"),transitionend:ia("Transition","TransitionEnd")},oa={},da={};function ua(e){if(oa[e])return oa[e];if(!ca[e])return e;var t,s=ca[e];for(t in s)if(s.hasOwnProperty(t)&&t in da)return oa[e]=s[t];return e}st&&(da=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);var ma=ua("animationend"),xa=ua("animationiteration"),ha=ua("animationstart"),pa=ua("transitionrun"),ga=ua("transitionstart"),fa=ua("transitioncancel"),va=ua("transitionend"),ba=new Map,ja="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ya(e,t){ba.set(e,t),et(t,[e])}var Na=[],wa=0,_a=0;function ka(){for(var e=wa,t=_a=wa=0;t<e;){var s=Na[t];Na[t++]=null;var a=Na[t];Na[t++]=null;var n=Na[t];Na[t++]=null;var l=Na[t];if(Na[t++]=null,null!==a&&null!==n){var r=a.pending;null===r?n.next=n:(n.next=r.next,r.next=n),a.pending=n}0!==l&&Aa(s,n,l)}}function Sa(e,t,s,a){Na[wa++]=e,Na[wa++]=t,Na[wa++]=s,Na[wa++]=a,_a|=a,e.lanes|=a,null!==(e=e.alternate)&&(e.lanes|=a)}function Ca(e,t,s,a){return Sa(e,t,s,a),La(e)}function Ea(e,t){return Sa(e,null,null,t),La(e)}function Aa(e,t,s){e.lanes|=s;var a=e.alternate;null!==a&&(a.lanes|=s);for(var n=!1,l=e.return;null!==l;)l.childLanes|=s,null!==(a=l.alternate)&&(a.childLanes|=s),22===l.tag&&(null===(e=l.stateNode)||1&e._visibility||(n=!0)),e=l,l=l.return;n&&null!==t&&3===e.tag&&(l=e.stateNode,n=31-je(s),null===(e=(l=l.hiddenUpdates)[n])?l[n]=[t]:e.push(t),t.lane=536870912|s)}function La(e){if(50<Eo)throw Eo=0,Ao=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var za={},Pa=new WeakMap;function Ta(e,t){if("object"===typeof e&&null!==e){var s=Pa.get(e);return void 0!==s?s:(t={value:e,source:t,stack:D(t)},Pa.set(e,t),t)}return{value:e,source:t,stack:D(t)}}var Oa=[],Ma=0,Da=null,Ra=0,Ia=[],Fa=0,Ba=null,Ua=1,qa="";function Va(e,t){Oa[Ma++]=Ra,Oa[Ma++]=Da,Da=e,Ra=t}function Ha(e,t,s){Ia[Fa++]=Ua,Ia[Fa++]=qa,Ia[Fa++]=Ba,Ba=e;var a=Ua;e=qa;var n=32-je(a)-1;a&=~(1<<n),s+=1;var l=32-je(t)+n;if(30<l){var r=n-n%5;l=(a&(1<<r)-1).toString(32),a>>=r,n-=r,Ua=1<<32-je(t)+n|s<<n|a,qa=l+e}else Ua=1<<l|s<<n|a,qa=e}function Ga(e){null!==e.return&&(Va(e,1),Ha(e,1,0))}function Wa(e){for(;e===Da;)Da=Oa[--Ma],Oa[Ma]=null,Ra=Oa[--Ma],Oa[Ma]=null;for(;e===Ba;)Ba=Ia[--Fa],Ia[Fa]=null,qa=Ia[--Fa],Ia[Fa]=null,Ua=Ia[--Fa],Ia[Fa]=null}var Qa=null,$a=null,Ka=!1,Xa=null,Ya=!1,Ja=Error(r(519));function Za(e){throw nn(Ta(Error(r(418,"")),e)),Ja}function en(e){var t=e.stateNode,s=e.type,a=e.memoizedProps;switch(t[Ie]=e,t[Fe]=a,s){case"dialog":Ad("cancel",t),Ad("close",t);break;case"iframe":case"object":case"embed":Ad("load",t);break;case"video":case"audio":for(s=0;s<Sd.length;s++)Ad(Sd[s],t);break;case"source":Ad("error",t);break;case"img":case"image":case"link":Ad("error",t),Ad("load",t);break;case"details":Ad("toggle",t);break;case"input":Ad("invalid",t),ft(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),ut(t);break;case"select":Ad("invalid",t);break;case"textarea":Ad("invalid",t),yt(t,a.value,a.defaultValue,a.children),ut(t)}"string"!==typeof(s=a.children)&&"number"!==typeof s&&"bigint"!==typeof s||t.textContent===""+s||!0===a.suppressHydrationWarning||qd(t.textContent,s)?(null!=a.popover&&(Ad("beforetoggle",t),Ad("toggle",t)),null!=a.onScroll&&Ad("scroll",t),null!=a.onScrollEnd&&Ad("scrollend",t),null!=a.onClick&&(t.onclick=Vd),t=!0):t=!1,t||Za(e)}function tn(e){for(Qa=e.return;Qa;)switch(Qa.tag){case 3:case 27:return void(Ya=!0);case 5:case 13:return void(Ya=!1);default:Qa=Qa.return}}function sn(e){if(e!==Qa)return!1;if(!Ka)return tn(e),Ka=!0,!1;var t,s=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Jd(e.type,e.memoizedProps)),t=!t),t&&(s=!0),s&&$a&&Za(e),tn(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,s=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===s){$a=iu(e.nextSibling);break e}s--}else"$"!==t&&"$!"!==t&&"$?"!==t||s++;e=e.nextSibling}$a=null}}else $a=Qa?iu(e.stateNode.nextSibling):null;return!0}function an(){$a=Qa=null,Ka=!1}function nn(e){null===Xa?Xa=[e]:Xa.push(e)}var ln=Error(r(460)),rn=Error(r(474)),cn={then:function(){}};function on(e){return"fulfilled"===(e=e.status)||"rejected"===e}function dn(){}function un(e,t,s){switch(void 0===(s=e[s])?e.push(t):s!==t&&(t.then(dn,dn),t=s),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ln)throw Error(r(483));throw e;default:if("string"===typeof t.status)t.then(dn,dn);else{if(null!==(e=eo)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var s=t;s.status="fulfilled",s.value=e}}),(function(e){if("pending"===t.status){var s=t;s.status="rejected",s.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ln)throw Error(r(483));throw e}throw mn=t,ln}}var mn=null;function xn(){if(null===mn)throw Error(r(459));var e=mn;return mn=null,e}var hn=null,pn=0;function gn(e){var t=pn;return pn+=1,null===hn&&(hn=[]),un(hn,e,t)}function fn(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function vn(e,t){if(t.$$typeof===c)throw Error(r(525));throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bn(e){return(0,e._init)(e._payload)}function jn(e){function t(t,s){if(e){var a=t.deletions;null===a?(t.deletions=[s],t.flags|=16):a.push(s)}}function s(s,a){if(!e)return null;for(;null!==a;)t(s,a),a=a.sibling;return null}function a(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function n(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function l(t,s,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<s?(t.flags|=33554434,s):a:(t.flags|=33554434,s):(t.flags|=1048576,s)}function i(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function c(e,t,s,a){return null===t||6!==t.tag?((t=Uc(s,e.mode,a)).return=e,t):((t=n(t,s)).return=e,t)}function m(e,t,s,a){var l=s.type;return l===u?h(e,t,s.props.children,a,s.key):null!==t&&(t.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===y&&bn(l)===t.type)?(fn(t=n(t,s.props),s),t.return=e,t):(fn(t=Ic(s.type,s.key,s.props,null,e.mode,a),s),t.return=e,t)}function x(e,t,s,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==s.containerInfo||t.stateNode.implementation!==s.implementation?((t=qc(s,e.mode,a)).return=e,t):((t=n(t,s.children||[])).return=e,t)}function h(e,t,s,a,l){return null===t||7!==t.tag?((t=Fc(s,e.mode,a,l)).return=e,t):((t=n(t,s)).return=e,t)}function p(e,t,s){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Uc(""+t,e.mode,s)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case o:return fn(s=Ic(t.type,t.key,t.props,null,e.mode,s),t),s.return=e,s;case d:return(t=qc(t,e.mode,s)).return=e,t;case y:return p(e,t=(0,t._init)(t._payload),s)}if(U(t)||k(t))return(t=Fc(t,e.mode,s,null)).return=e,t;if("function"===typeof t.then)return p(e,gn(t),s);if(t.$$typeof===g)return p(e,ki(e,t),s);vn(e,t)}return null}function f(e,t,s,a){var n=null!==t?t.key:null;if("string"===typeof s&&""!==s||"number"===typeof s||"bigint"===typeof s)return null!==n?null:c(e,t,""+s,a);if("object"===typeof s&&null!==s){switch(s.$$typeof){case o:return s.key===n?m(e,t,s,a):null;case d:return s.key===n?x(e,t,s,a):null;case y:return f(e,t,s=(n=s._init)(s._payload),a)}if(U(s)||k(s))return null!==n?null:h(e,t,s,a,null);if("function"===typeof s.then)return f(e,t,gn(s),a);if(s.$$typeof===g)return f(e,t,ki(e,s),a);vn(e,s)}return null}function v(e,t,s,a,n){if("string"===typeof a&&""!==a||"number"===typeof a||"bigint"===typeof a)return c(t,e=e.get(s)||null,""+a,n);if("object"===typeof a&&null!==a){switch(a.$$typeof){case o:return m(t,e=e.get(null===a.key?s:a.key)||null,a,n);case d:return x(t,e=e.get(null===a.key?s:a.key)||null,a,n);case y:return v(e,t,s,a=(0,a._init)(a._payload),n)}if(U(a)||k(a))return h(t,e=e.get(s)||null,a,n,null);if("function"===typeof a.then)return v(e,t,s,gn(a),n);if(a.$$typeof===g)return v(e,t,s,ki(t,a),n);vn(t,a)}return null}function b(c,m,x,h){if("object"===typeof x&&null!==x&&x.type===u&&null===x.key&&(x=x.props.children),"object"===typeof x&&null!==x){switch(x.$$typeof){case o:e:{for(var j=x.key;null!==m;){if(m.key===j){if((j=x.type)===u){if(7===m.tag){s(c,m.sibling),(h=n(m,x.props.children)).return=c,c=h;break e}}else if(m.elementType===j||"object"===typeof j&&null!==j&&j.$$typeof===y&&bn(j)===m.type){s(c,m.sibling),fn(h=n(m,x.props),x),h.return=c,c=h;break e}s(c,m);break}t(c,m),m=m.sibling}x.type===u?((h=Fc(x.props.children,c.mode,h,x.key)).return=c,c=h):(fn(h=Ic(x.type,x.key,x.props,null,c.mode,h),x),h.return=c,c=h)}return i(c);case d:e:{for(j=x.key;null!==m;){if(m.key===j){if(4===m.tag&&m.stateNode.containerInfo===x.containerInfo&&m.stateNode.implementation===x.implementation){s(c,m.sibling),(h=n(m,x.children||[])).return=c,c=h;break e}s(c,m);break}t(c,m),m=m.sibling}(h=qc(x,c.mode,h)).return=c,c=h}return i(c);case y:return b(c,m,x=(j=x._init)(x._payload),h)}if(U(x))return function(n,r,i,c){for(var o=null,d=null,u=r,m=r=0,x=null;null!==u&&m<i.length;m++){u.index>m?(x=u,u=null):x=u.sibling;var h=f(n,u,i[m],c);if(null===h){null===u&&(u=x);break}e&&u&&null===h.alternate&&t(n,u),r=l(h,r,m),null===d?o=h:d.sibling=h,d=h,u=x}if(m===i.length)return s(n,u),Ka&&Va(n,m),o;if(null===u){for(;m<i.length;m++)null!==(u=p(n,i[m],c))&&(r=l(u,r,m),null===d?o=u:d.sibling=u,d=u);return Ka&&Va(n,m),o}for(u=a(u);m<i.length;m++)null!==(x=v(u,n,m,i[m],c))&&(e&&null!==x.alternate&&u.delete(null===x.key?m:x.key),r=l(x,r,m),null===d?o=x:d.sibling=x,d=x);return e&&u.forEach((function(e){return t(n,e)})),Ka&&Va(n,m),o}(c,m,x,h);if(k(x)){if("function"!==typeof(j=k(x)))throw Error(r(150));return function(n,i,c,o){if(null==c)throw Error(r(151));for(var d=null,u=null,m=i,x=i=0,h=null,g=c.next();null!==m&&!g.done;x++,g=c.next()){m.index>x?(h=m,m=null):h=m.sibling;var b=f(n,m,g.value,o);if(null===b){null===m&&(m=h);break}e&&m&&null===b.alternate&&t(n,m),i=l(b,i,x),null===u?d=b:u.sibling=b,u=b,m=h}if(g.done)return s(n,m),Ka&&Va(n,x),d;if(null===m){for(;!g.done;x++,g=c.next())null!==(g=p(n,g.value,o))&&(i=l(g,i,x),null===u?d=g:u.sibling=g,u=g);return Ka&&Va(n,x),d}for(m=a(m);!g.done;x++,g=c.next())null!==(g=v(m,n,x,g.value,o))&&(e&&null!==g.alternate&&m.delete(null===g.key?x:g.key),i=l(g,i,x),null===u?d=g:u.sibling=g,u=g);return e&&m.forEach((function(e){return t(n,e)})),Ka&&Va(n,x),d}(c,m,x=j.call(x),h)}if("function"===typeof x.then)return b(c,m,gn(x),h);if(x.$$typeof===g)return b(c,m,ki(c,x),h);vn(c,x)}return"string"===typeof x&&""!==x||"number"===typeof x||"bigint"===typeof x?(x=""+x,null!==m&&6===m.tag?(s(c,m.sibling),(h=n(m,x)).return=c,c=h):(s(c,m),(h=Uc(x,c.mode,h)).return=c,c=h),i(c)):s(c,m)}return function(e,t,s,a){try{pn=0;var n=b(e,t,s,a);return hn=null,n}catch(r){if(r===ln)throw r;var l=Oc(29,r,null,e.mode);return l.lanes=a,l.return=e,l}}}var yn=jn(!0),Nn=jn(!1),wn=W(null),_n=W(0);function kn(e,t){$(_n,e=co),$(wn,t),co=e|t.baseLanes}function Sn(){$(_n,co),$(wn,wn.current)}function Cn(){co=_n.current,Q(wn),Q(_n)}var En=W(null),An=null;function Ln(e){var t=e.alternate;$(On,1&On.current),$(En,e),null===An&&(null===t||null!==wn.current||null!==t.memoizedState)&&(An=e)}function zn(e){if(22===e.tag){if($(On,On.current),$(En,e),null===An){var t=e.alternate;null!==t&&null!==t.memoizedState&&(An=e)}}else Pn()}function Pn(){$(On,On.current),$(En,En.current)}function Tn(e){Q(En),An===e&&(An=null),Q(On)}var On=W(0);function Mn(e){for(var t=e;null!==t;){if(13===t.tag){var s=t.memoizedState;if(null!==s&&(null===(s=s.dehydrated)||"$?"===s.data||"$!"===s.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Dn="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Rn=a.unstable_scheduleCallback,In=a.unstable_NormalPriority,Fn={$$typeof:g,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bn(){return{controller:new Dn,data:new Map,refCount:0}}function Un(e){e.refCount--,0===e.refCount&&Rn(In,(function(){e.controller.abort()}))}var qn=null,Vn=0,Hn=0,Gn=null;function Wn(){if(0===--Vn&&null!==qn){null!==Gn&&(Gn.status="fulfilled");var e=qn;qn=null,Hn=0,Gn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Qn=L.S;L.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===qn){var s=qn=[];Vn=0,Hn=yd(),Gn={status:"pending",value:void 0,then:function(e){s.push(e)}}}Vn++,t.then(Wn,Wn)}(0,t),null!==Qn&&Qn(e,t)};var $n=W(null);function Kn(){var e=$n.current;return null!==e?e:eo.pooledCache}function Xn(e,t){$($n,null===t?$n.current:t.pool)}function Yn(){var e=Kn();return null===e?null:{parent:Fn._currentValue,pool:e}}var Jn=0,Zn=null,el=null,tl=null,sl=!1,al=!1,nl=!1,ll=0,rl=0,il=null,cl=0;function ol(){throw Error(r(321))}function dl(e,t){if(null===t)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Qs(e[s],t[s]))return!1;return!0}function ul(e,t,s,a,n,l){return Jn=l,Zn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=null===e||null===e.memoizedState?kr:Sr,nl=!1,l=s(a,n),nl=!1,al&&(l=xl(t,s,a,n)),ml(e),l}function ml(e){L.H=_r;var t=null!==el&&null!==el.next;if(Jn=0,tl=el=Zn=null,sl=!1,rl=0,il=null,t)throw Error(r(300));null===e||Vr||null!==(e=e.dependencies)&&Ni(e)&&(Vr=!0)}function xl(e,t,s,a){Zn=e;var n=0;do{if(al&&(il=null),rl=0,al=!1,25<=n)throw Error(r(301));if(n+=1,tl=el=null,null!=e.updateQueue){var l=e.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,null!=l.memoCache&&(l.memoCache.index=0)}L.H=Cr,l=t(s,a)}while(al);return l}function hl(){var e=L.H,t=e.useState()[0];return t="function"===typeof t.then?jl(t):t,e=e.useState()[0],(null!==el?el.memoizedState:null)!==e&&(Zn.flags|=1024),t}function pl(){var e=0!==ll;return ll=0,e}function gl(e,t,s){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s}function fl(e){if(sl){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}sl=!1}Jn=0,tl=el=Zn=null,al=!1,rl=ll=0,il=null}function vl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===tl?Zn.memoizedState=tl=e:tl=tl.next=e,tl}function bl(){if(null===el){var e=Zn.alternate;e=null!==e?e.memoizedState:null}else e=el.next;var t=null===tl?Zn.memoizedState:tl.next;if(null!==t)tl=t,el=e;else{if(null===e){if(null===Zn.alternate)throw Error(r(467));throw Error(r(310))}e={memoizedState:(el=e).memoizedState,baseState:el.baseState,baseQueue:el.baseQueue,queue:el.queue,next:null},null===tl?Zn.memoizedState=tl=e:tl=tl.next=e}return tl}function jl(e){var t=rl;return rl+=1,null===il&&(il=[]),e=un(il,e,t),t=Zn,null===(null===tl?t.memoizedState:tl.next)&&(t=t.alternate,L.H=null===t||null===t.memoizedState?kr:Sr),e}function yl(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return jl(e);if(e.$$typeof===g)return _i(e)}throw Error(r(438,String(e)))}function Nl(e){var t=null,s=Zn.updateQueue;if(null!==s&&(t=s.memoCache),null==t){var a=Zn.alternate;null!==a&&(null!==(a=a.updateQueue)&&(null!=(a=a.memoCache)&&(t={data:a.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===s&&(s={lastEffect:null,events:null,stores:null,memoCache:null},Zn.updateQueue=s),s.memoCache=t,void 0===(s=t.data[t.index]))for(s=t.data[t.index]=Array(e),a=0;a<e;a++)s[a]=w;return t.index++,s}function wl(e,t){return"function"===typeof t?t(e):t}function _l(e){return kl(bl(),el,e)}function kl(e,t,s){var a=e.queue;if(null===a)throw Error(r(311));a.lastRenderedReducer=s;var n=e.baseQueue,l=a.pending;if(null!==l){if(null!==n){var i=n.next;n.next=l.next,l.next=i}t.baseQueue=n=l,a.pending=null}if(l=e.baseState,null===n)e.memoizedState=l;else{var c=i=null,o=null,d=t=n.next,u=!1;do{var m=-536870913&d.lane;if(m!==d.lane?(so&m)===m:(Jn&m)===m){var x=d.revertLane;if(0===x)null!==o&&(o=o.next={lane:0,revertLane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),m===Hn&&(u=!0);else{if((Jn&x)===x){d=d.next,x===Hn&&(u=!0);continue}m={lane:0,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===o?(c=o=m,i=l):o=o.next=m,Zn.lanes|=x,uo|=x}m=d.action,nl&&s(l,m),l=d.hasEagerState?d.eagerState:s(l,m)}else x={lane:m,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===o?(c=o=x,i=l):o=o.next=x,Zn.lanes|=m,uo|=m;d=d.next}while(null!==d&&d!==t);if(null===o?i=l:o.next=c,!Qs(l,e.memoizedState)&&(Vr=!0,u&&null!==(s=Gn)))throw s;e.memoizedState=l,e.baseState=i,e.baseQueue=o,a.lastRenderedState=l}return null===n&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Sl(e){var t=bl(),s=t.queue;if(null===s)throw Error(r(311));s.lastRenderedReducer=e;var a=s.dispatch,n=s.pending,l=t.memoizedState;if(null!==n){s.pending=null;var i=n=n.next;do{l=e(l,i.action),i=i.next}while(i!==n);Qs(l,t.memoizedState)||(Vr=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),s.lastRenderedState=l}return[l,a]}function Cl(e,t,s){var a=Zn,n=bl(),l=Ka;if(l){if(void 0===s)throw Error(r(407));s=s()}else s=t();var i=!Qs((el||n).memoizedState,s);if(i&&(n.memoizedState=s,Vr=!0),n=n.queue,Jl(Ll.bind(null,a,n,e),[e]),n.getSnapshot!==t||i||null!==tl&&1&tl.memoizedState.tag){if(a.flags|=2048,Ql(9,Al.bind(null,a,n,s,t),{destroy:void 0},null),null===eo)throw Error(r(349));l||0!==(60&Jn)||El(a,t,s)}return s}function El(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},null===(t=Zn.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Zn.updateQueue=t,t.stores=[e]):null===(s=t.stores)?t.stores=[e]:s.push(e)}function Al(e,t,s,a){t.value=s,t.getSnapshot=a,zl(t)&&Pl(e)}function Ll(e,t,s){return s((function(){zl(t)&&Pl(e)}))}function zl(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Qs(e,s)}catch(a){return!0}}function Pl(e){var t=Ea(e,2);null!==t&&Po(t,e,2)}function Tl(e){var t=vl();if("function"===typeof e){var s=e;if(e=s(),nl){be(!0);try{s()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wl,lastRenderedState:e},t}function Ol(e,t,s,a){return e.baseState=s,kl(e,el,"function"===typeof a?a:wl)}function Ml(e,t,s,a,n){if(yr(e))throw Error(r(485));if(null!==(e=t.action)){var l={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){l.listeners.push(e)}};null!==L.T?s(!0):l.isTransition=!1,a(l),null===(s=t.pending)?(l.next=t.pending=l,Dl(t,l)):(l.next=s.next,t.pending=s.next=l)}}function Dl(e,t){var s=t.action,a=t.payload,n=e.state;if(t.isTransition){var l=L.T,r={};L.T=r;try{var i=s(n,a),c=L.S;null!==c&&c(r,i),Rl(e,t,i)}catch(o){Fl(e,t,o)}finally{L.T=l}}else try{Rl(e,t,l=s(n,a))}catch(d){Fl(e,t,d)}}function Rl(e,t,s){null!==s&&"object"===typeof s&&"function"===typeof s.then?s.then((function(s){Il(e,t,s)}),(function(s){return Fl(e,t,s)})):Il(e,t,s)}function Il(e,t,s){t.status="fulfilled",t.value=s,Bl(t),e.state=s,null!==(t=e.pending)&&((s=t.next)===t?e.pending=null:(s=s.next,t.next=s,Dl(e,s)))}function Fl(e,t,s){var a=e.pending;if(e.pending=null,null!==a){a=a.next;do{t.status="rejected",t.reason=s,Bl(t),t=t.next}while(t!==a)}e.action=null}function Bl(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ul(e,t){return t}function ql(e,t){if(Ka){var s=eo.formState;if(null!==s){e:{var a=Zn;if(Ka){if($a){t:{for(var n=$a,l=Ya;8!==n.nodeType;){if(!l){n=null;break t}if(null===(n=iu(n.nextSibling))){n=null;break t}}n="F!"===(l=n.data)||"F"===l?n:null}if(n){$a=iu(n.nextSibling),a="F!"===n.data;break e}}Za(a)}a=!1}a&&(t=s[0])}}return(s=vl()).memoizedState=s.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ul,lastRenderedState:t},s.queue=a,s=vr.bind(null,Zn,a),a.dispatch=s,a=Tl(!1),l=jr.bind(null,Zn,!1,a.queue),n={state:t,dispatch:null,action:e,pending:null},(a=vl()).queue=n,s=Ml.bind(null,Zn,n,l,s),n.dispatch=s,a.memoizedState=e,[t,s,!1]}function Vl(e){return Hl(bl(),el,e)}function Hl(e,t,s){t=kl(e,t,Ul)[0],e=_l(wl)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?jl(t):t;var a=bl(),n=a.queue,l=n.dispatch;return s!==a.memoizedState&&(Zn.flags|=2048,Ql(9,Gl.bind(null,n,s),{destroy:void 0},null)),[t,l,e]}function Gl(e,t){e.action=t}function Wl(e){var t=bl(),s=el;if(null!==s)return Hl(t,s,e);bl(),t=t.memoizedState;var a=(s=bl()).queue.dispatch;return s.memoizedState=e,[t,a,!1]}function Ql(e,t,s,a){return e={tag:e,create:t,inst:s,deps:a,next:null},null===(t=Zn.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Zn.updateQueue=t),null===(s=t.lastEffect)?t.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,t.lastEffect=e),e}function $l(){return bl().memoizedState}function Kl(e,t,s,a){var n=vl();Zn.flags|=e,n.memoizedState=Ql(1|t,s,{destroy:void 0},void 0===a?null:a)}function Xl(e,t,s,a){var n=bl();a=void 0===a?null:a;var l=n.memoizedState.inst;null!==el&&null!==a&&dl(a,el.memoizedState.deps)?n.memoizedState=Ql(t,s,l,a):(Zn.flags|=e,n.memoizedState=Ql(1|t,s,l,a))}function Yl(e,t){Kl(8390656,8,e,t)}function Jl(e,t){Xl(2048,8,e,t)}function Zl(e,t){return Xl(4,2,e,t)}function er(e,t){return Xl(4,4,e,t)}function tr(e,t){if("function"===typeof t){e=e();var s=t(e);return function(){"function"===typeof s?s():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function sr(e,t,s){s=null!==s&&void 0!==s?s.concat([e]):null,Xl(4,4,tr.bind(null,t,e),s)}function ar(){}function nr(e,t){var s=bl();t=void 0===t?null:t;var a=s.memoizedState;return null!==t&&dl(t,a[1])?a[0]:(s.memoizedState=[e,t],e)}function lr(e,t){var s=bl();t=void 0===t?null:t;var a=s.memoizedState;if(null!==t&&dl(t,a[1]))return a[0];if(a=e(),nl){be(!0);try{e()}finally{be(!1)}}return s.memoizedState=[a,t],a}function rr(e,t,s){return void 0===s||0!==(1073741824&Jn)?e.memoizedState=t:(e.memoizedState=s,e=zo(),Zn.lanes|=e,uo|=e,s)}function ir(e,t,s,a){return Qs(s,t)?s:null!==wn.current?(e=rr(e,s,a),Qs(e,t)||(Vr=!0),e):0===(42&Jn)?(Vr=!0,e.memoizedState=s):(e=zo(),Zn.lanes|=e,uo|=e,t)}function cr(e,t,s,a,n){var l=q.p;q.p=0!==l&&8>l?l:8;var r=L.T,i={};L.T=i,jr(e,!1,t,s);try{var c=n(),o=L.S;if(null!==o&&o(i,c),null!==c&&"object"===typeof c&&"function"===typeof c.then)br(e,t,function(e,t){var s=[],a={status:"pending",value:null,reason:null,then:function(e){s.push(e)}};return e.then((function(){a.status="fulfilled",a.value=t;for(var e=0;e<s.length;e++)(0,s[e])(t)}),(function(e){for(a.status="rejected",a.reason=e,e=0;e<s.length;e++)(0,s[e])(void 0)})),a}(c,a),Lo());else br(e,t,a,Lo())}catch(d){br(e,t,{then:function(){},status:"rejected",reason:d},Lo())}finally{q.p=l,L.T=r}}function or(){}function dr(e,t,s,a){if(5!==e.tag)throw Error(r(476));var n=ur(e).queue;cr(e,n,t,V,null===s?or:function(){return mr(e),s(a)})}function ur(e){var t=e.memoizedState;if(null!==t)return t;var s={};return(t={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wl,lastRenderedState:V},next:null}).next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wl,lastRenderedState:s},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function mr(e){br(e,ur(e).next.queue,{},Lo())}function xr(){return _i(Du)}function hr(){return bl().memoizedState}function pr(){return bl().memoizedState}function gr(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var s=Lo(),a=zi(t,e=Li(s),s);return null!==a&&(Po(a,t,s),Pi(a,t,s)),t={cache:Bn()},void(e.payload=t)}t=t.return}}function fr(e,t,s){var a=Lo();s={lane:a,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},yr(e)?Nr(t,s):null!==(s=Ca(e,t,s,a))&&(Po(s,e,a),wr(s,t,a))}function vr(e,t,s){br(e,t,s,Lo())}function br(e,t,s,a){var n={lane:a,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(yr(e))Nr(t,n);else{var l=e.alternate;if(0===e.lanes&&(null===l||0===l.lanes)&&null!==(l=t.lastRenderedReducer))try{var r=t.lastRenderedState,i=l(r,s);if(n.hasEagerState=!0,n.eagerState=i,Qs(i,r))return Sa(e,t,n,0),null===eo&&ka(),!1}catch(c){}if(null!==(s=Ca(e,t,n,a)))return Po(s,e,a),wr(s,t,a),!0}return!1}function jr(e,t,s,a){if(a={lane:2,revertLane:yd(),action:a,hasEagerState:!1,eagerState:null,next:null},yr(e)){if(t)throw Error(r(479))}else null!==(t=Ca(e,s,a,2))&&Po(t,e,2)}function yr(e){var t=e.alternate;return e===Zn||null!==t&&t===Zn}function Nr(e,t){al=sl=!0;var s=e.pending;null===s?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function wr(e,t,s){if(0!==(4194176&s)){var a=t.lanes;s|=a&=e.pendingLanes,t.lanes=s,Oe(e,s)}}var _r={readContext:_i,use:yl,useCallback:ol,useContext:ol,useEffect:ol,useImperativeHandle:ol,useLayoutEffect:ol,useInsertionEffect:ol,useMemo:ol,useReducer:ol,useRef:ol,useState:ol,useDebugValue:ol,useDeferredValue:ol,useTransition:ol,useSyncExternalStore:ol,useId:ol};_r.useCacheRefresh=ol,_r.useMemoCache=ol,_r.useHostTransitionStatus=ol,_r.useFormState=ol,_r.useActionState=ol,_r.useOptimistic=ol;var kr={readContext:_i,use:yl,useCallback:function(e,t){return vl().memoizedState=[e,void 0===t?null:t],e},useContext:_i,useEffect:Yl,useImperativeHandle:function(e,t,s){s=null!==s&&void 0!==s?s.concat([e]):null,Kl(4194308,4,tr.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Kl(4194308,4,e,t)},useInsertionEffect:function(e,t){Kl(4,2,e,t)},useMemo:function(e,t){var s=vl();t=void 0===t?null:t;var a=e();if(nl){be(!0);try{e()}finally{be(!1)}}return s.memoizedState=[a,t],a},useReducer:function(e,t,s){var a=vl();if(void 0!==s){var n=s(t);if(nl){be(!0);try{s(t)}finally{be(!1)}}}else n=t;return a.memoizedState=a.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=fr.bind(null,Zn,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},vl().memoizedState=e},useState:function(e){var t=(e=Tl(e)).queue,s=vr.bind(null,Zn,t);return t.dispatch=s,[e.memoizedState,s]},useDebugValue:ar,useDeferredValue:function(e,t){return rr(vl(),e,t)},useTransition:function(){var e=Tl(!1);return e=cr.bind(null,Zn,e.queue,!0,!1),vl().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,s){var a=Zn,n=vl();if(Ka){if(void 0===s)throw Error(r(407));s=s()}else{if(s=t(),null===eo)throw Error(r(349));0!==(60&so)||El(a,t,s)}n.memoizedState=s;var l={value:s,getSnapshot:t};return n.queue=l,Yl(Ll.bind(null,a,l,e),[e]),a.flags|=2048,Ql(9,Al.bind(null,a,l,s,t),{destroy:void 0},null),s},useId:function(){var e=vl(),t=eo.identifierPrefix;if(Ka){var s=qa;t=":"+t+"R"+(s=(Ua&~(1<<32-je(Ua)-1)).toString(32)+s),0<(s=ll++)&&(t+="H"+s.toString(32)),t+=":"}else t=":"+t+"r"+(s=cl++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return vl().memoizedState=gr.bind(null,Zn)}};kr.useMemoCache=Nl,kr.useHostTransitionStatus=xr,kr.useFormState=ql,kr.useActionState=ql,kr.useOptimistic=function(e){var t=vl();t.memoizedState=t.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=s,t=jr.bind(null,Zn,!0,s),s.dispatch=t,[e,t]};var Sr={readContext:_i,use:yl,useCallback:nr,useContext:_i,useEffect:Jl,useImperativeHandle:sr,useInsertionEffect:Zl,useLayoutEffect:er,useMemo:lr,useReducer:_l,useRef:$l,useState:function(){return _l(wl)},useDebugValue:ar,useDeferredValue:function(e,t){return ir(bl(),el.memoizedState,e,t)},useTransition:function(){var e=_l(wl)[0],t=bl().memoizedState;return["boolean"===typeof e?e:jl(e),t]},useSyncExternalStore:Cl,useId:hr};Sr.useCacheRefresh=pr,Sr.useMemoCache=Nl,Sr.useHostTransitionStatus=xr,Sr.useFormState=Vl,Sr.useActionState=Vl,Sr.useOptimistic=function(e,t){return Ol(bl(),0,e,t)};var Cr={readContext:_i,use:yl,useCallback:nr,useContext:_i,useEffect:Jl,useImperativeHandle:sr,useInsertionEffect:Zl,useLayoutEffect:er,useMemo:lr,useReducer:Sl,useRef:$l,useState:function(){return Sl(wl)},useDebugValue:ar,useDeferredValue:function(e,t){var s=bl();return null===el?rr(s,e,t):ir(s,el.memoizedState,e,t)},useTransition:function(){var e=Sl(wl)[0],t=bl().memoizedState;return["boolean"===typeof e?e:jl(e),t]},useSyncExternalStore:Cl,useId:hr};function Er(e,t,s,a){s=null===(s=s(a,t=e.memoizedState))||void 0===s?t:z({},t,s),e.memoizedState=s,0===e.lanes&&(e.updateQueue.baseState=s)}Cr.useCacheRefresh=pr,Cr.useMemoCache=Nl,Cr.useHostTransitionStatus=xr,Cr.useFormState=Wl,Cr.useActionState=Wl,Cr.useOptimistic=function(e,t){var s=bl();return null!==el?Ol(s,0,e,t):(s.baseState=e,[e,s.queue.dispatch])};var Ar={isMounted:function(e){return!!(e=e._reactInternals)&&R(e)===e},enqueueSetState:function(e,t,s){e=e._reactInternals;var a=Lo(),n=Li(a);n.payload=t,void 0!==s&&null!==s&&(n.callback=s),null!==(t=zi(e,n,a))&&(Po(t,e,a),Pi(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var a=Lo(),n=Li(a);n.tag=1,n.payload=t,void 0!==s&&null!==s&&(n.callback=s),null!==(t=zi(e,n,a))&&(Po(t,e,a),Pi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Lo(),a=Li(s);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=zi(e,a,s))&&(Po(t,e,s),Pi(t,e,s))}};function Lr(e,t,s,a,n,l,r){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,l,r):!t.prototype||!t.prototype.isPureReactComponent||(!$s(s,a)||!$s(n,l))}function zr(e,t,s,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(s,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(s,a),t.state!==e&&Ar.enqueueReplaceState(t,t.state,null)}function Pr(e,t){var s=t;if("ref"in t)for(var a in s={},t)"ref"!==a&&(s[a]=t[a]);if(e=e.defaultProps)for(var n in s===t&&(s=z({},s)),e)void 0===s[n]&&(s[n]=e[n]);return s}var Tr="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Or(e){Tr(e)}function Mr(e){console.error(e)}function Dr(e){Tr(e)}function Rr(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(s){setTimeout((function(){throw s}))}}function Ir(e,t,s){try{(0,e.onCaughtError)(s.value,{componentStack:s.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(a){setTimeout((function(){throw a}))}}function Fr(e,t,s){return(s=Li(s)).tag=3,s.payload={element:null},s.callback=function(){Rr(e,t)},s}function Br(e){return(e=Li(e)).tag=3,e}function Ur(e,t,s,a){var n=s.type.getDerivedStateFromError;if("function"===typeof n){var l=a.value;e.payload=function(){return n(l)},e.callback=function(){Ir(t,s,a)}}var r=s.stateNode;null!==r&&"function"===typeof r.componentDidCatch&&(e.callback=function(){Ir(t,s,a),"function"!==typeof n&&(null===No?No=new Set([this]):No.add(this));var e=a.stack;this.componentDidCatch(a.value,{componentStack:null!==e?e:""})})}var qr=Error(r(461)),Vr=!1;function Hr(e,t,s,a){t.child=null===e?Nn(t,null,s,a):yn(t,e.child,s,a)}function Gr(e,t,s,a,n){s=s.render;var l=t.ref;if("ref"in a){var r={};for(var i in a)"ref"!==i&&(r[i]=a[i])}else r=a;return wi(t),a=ul(e,t,s,r,l,n),i=pl(),null===e||Vr?(Ka&&i&&Ga(t),t.flags|=1,Hr(e,t,a,n),t.child):(gl(e,t,n),ui(e,t,n))}function Wr(e,t,s,a,n){if(null===e){var l=s.type;return"function"!==typeof l||Mc(l)||void 0!==l.defaultProps||null!==s.compare?((e=Ic(s.type,null,a,t,t.mode,n)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=l,Qr(e,t,l,a,n))}if(l=e.child,!mi(e,n)){var r=l.memoizedProps;if((s=null!==(s=s.compare)?s:$s)(r,a)&&e.ref===t.ref)return ui(e,t,n)}return t.flags|=1,(e=Dc(l,a)).ref=t.ref,e.return=t,t.child=e}function Qr(e,t,s,a,n){if(null!==e){var l=e.memoizedProps;if($s(l,a)&&e.ref===t.ref){if(Vr=!1,t.pendingProps=a=l,!mi(e,n))return t.lanes=e.lanes,ui(e,t,n);0!==(131072&e.flags)&&(Vr=!0)}}return Yr(e,t,s,a,n)}function $r(e,t,s){var a=t.pendingProps,n=a.children,l=0!==(2&t.stateNode._pendingVisibility),r=null!==e?e.memoizedState:null;if(Xr(e,t),"hidden"===a.mode||l){if(0!==(128&t.flags)){if(a=null!==r?r.baseLanes|s:s,null!==e){for(n=t.child=e.child,l=0;null!==n;)l=l|n.lanes|n.childLanes,n=n.sibling;t.childLanes=l&~a}else t.childLanes=0,t.child=null;return Kr(e,t,a,s)}if(0===(536870912&s))return t.lanes=t.childLanes=536870912,Kr(e,t,null!==r?r.baseLanes|s:s,s);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Xn(0,null!==r?r.cachePool:null),null!==r?kn(t,r):Sn(),zn(t)}else null!==r?(Xn(0,r.cachePool),kn(t,r),Pn(),t.memoizedState=null):(null!==e&&Xn(0,null),Sn(),Pn());return Hr(e,t,n,s),t.child}function Kr(e,t,s,a){var n=Kn();return n=null===n?null:{parent:Fn._currentValue,pool:n},t.memoizedState={baseLanes:s,cachePool:n},null!==e&&Xn(0,null),Sn(),zn(t),null!==e&&yi(e,t,a,!0),null}function Xr(e,t){var s=t.ref;if(null===s)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof s&&"object"!==typeof s)throw Error(r(284));null!==e&&e.ref===s||(t.flags|=2097664)}}function Yr(e,t,s,a,n){return wi(t),s=ul(e,t,s,a,void 0,n),a=pl(),null===e||Vr?(Ka&&a&&Ga(t),t.flags|=1,Hr(e,t,s,n),t.child):(gl(e,t,n),ui(e,t,n))}function Jr(e,t,s,a,n,l){return wi(t),t.updateQueue=null,s=xl(t,a,s,n),ml(e),a=pl(),null===e||Vr?(Ka&&a&&Ga(t),t.flags|=1,Hr(e,t,s,l),t.child):(gl(e,t,l),ui(e,t,l))}function Zr(e,t,s,a,n){if(wi(t),null===t.stateNode){var l=za,r=s.contextType;"object"===typeof r&&null!==r&&(l=_i(r)),l=new s(a,l),t.memoizedState=null!==l.state&&void 0!==l.state?l.state:null,l.updater=Ar,t.stateNode=l,l._reactInternals=t,(l=t.stateNode).props=a,l.state=t.memoizedState,l.refs={},Ei(t),r=s.contextType,l.context="object"===typeof r&&null!==r?_i(r):za,l.state=t.memoizedState,"function"===typeof(r=s.getDerivedStateFromProps)&&(Er(t,s,r,a),l.state=t.memoizedState),"function"===typeof s.getDerivedStateFromProps||"function"===typeof l.getSnapshotBeforeUpdate||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||(r=l.state,"function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount(),r!==l.state&&Ar.enqueueReplaceState(l,l.state,null),Di(t,a,l,n),Mi(),l.state=t.memoizedState),"function"===typeof l.componentDidMount&&(t.flags|=4194308),a=!0}else if(null===e){l=t.stateNode;var i=t.memoizedProps,c=Pr(s,i);l.props=c;var o=l.context,d=s.contextType;r=za,"object"===typeof d&&null!==d&&(r=_i(d));var u=s.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof l.getSnapshotBeforeUpdate,i=t.pendingProps!==i,d||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i||o!==r)&&zr(t,l,a,r),Ci=!1;var m=t.memoizedState;l.state=m,Di(t,a,l,n),Mi(),o=t.memoizedState,i||m!==o||Ci?("function"===typeof u&&(Er(t,s,u,a),o=t.memoizedState),(c=Ci||Lr(t,s,c,a,m,o,r))?(d||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=o),l.props=a,l.state=o,l.context=r,a=c):("function"===typeof l.componentDidMount&&(t.flags|=4194308),a=!1)}else{l=t.stateNode,Ai(e,t),d=Pr(s,r=t.memoizedProps),l.props=d,u=t.pendingProps,m=l.context,o=s.contextType,c=za,"object"===typeof o&&null!==o&&(c=_i(o)),(o="function"===typeof(i=s.getDerivedStateFromProps)||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(r!==u||m!==c)&&zr(t,l,a,c),Ci=!1,m=t.memoizedState,l.state=m,Di(t,a,l,n),Mi();var x=t.memoizedState;r!==u||m!==x||Ci||null!==e&&null!==e.dependencies&&Ni(e.dependencies)?("function"===typeof i&&(Er(t,s,i,a),x=t.memoizedState),(d=Ci||Lr(t,s,d,a,m,x,c)||null!==e&&null!==e.dependencies&&Ni(e.dependencies))?(o||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(a,x,c),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(a,x,c)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=x),l.props=a,l.state=x,l.context=c,a=d):("function"!==typeof l.componentDidUpdate||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return l=a,Xr(e,t),a=0!==(128&t.flags),l||a?(l=t.stateNode,s=a&&"function"!==typeof s.getDerivedStateFromError?null:l.render(),t.flags|=1,null!==e&&a?(t.child=yn(t,e.child,null,n),t.child=yn(t,null,s,n)):Hr(e,t,s,n),t.memoizedState=l.state,e=t.child):e=ui(e,t,n),e}function ei(e,t,s,a){return an(),t.flags|=256,Hr(e,t,s,a),t.child}var ti={dehydrated:null,treeContext:null,retryLane:0};function si(e){return{baseLanes:e,cachePool:Yn()}}function ai(e,t,s){return e=null!==e?e.childLanes&~s:0,t&&(e|=ho),e}function ni(e,t,s){var a,n=t.pendingProps,l=!1,i=0!==(128&t.flags);if((a=i)||(a=(null===e||null!==e.memoizedState)&&0!==(2&On.current)),a&&(l=!0,t.flags&=-129),a=0!==(32&t.flags),t.flags&=-33,null===e){if(Ka){if(l?Ln(t):Pn(),Ka){var c,o=$a;if(c=o){e:{for(c=o,o=Ya;8!==c.nodeType;){if(!o){o=null;break e}if(null===(c=iu(c.nextSibling))){o=null;break e}}o=c}null!==o?(t.memoizedState={dehydrated:o,treeContext:null!==Ba?{id:Ua,overflow:qa}:null,retryLane:536870912},(c=Oc(18,null,null,0)).stateNode=o,c.return=t,t.child=c,Qa=t,$a=null,c=!0):c=!1}c||Za(t)}if(null!==(o=t.memoizedState)&&null!==(o=o.dehydrated))return"$!"===o.data?t.lanes=16:t.lanes=536870912,null;Tn(t)}return o=n.children,n=n.fallback,l?(Pn(),o=ri({mode:"hidden",children:o},l=t.mode),n=Fc(n,l,s,null),o.return=t,n.return=t,o.sibling=n,t.child=o,(l=t.child).memoizedState=si(s),l.childLanes=ai(e,a,s),t.memoizedState=ti,n):(Ln(t),li(t,o))}if(null!==(c=e.memoizedState)&&null!==(o=c.dehydrated)){if(i)256&t.flags?(Ln(t),t.flags&=-257,t=ii(e,t,s)):null!==t.memoizedState?(Pn(),t.child=e.child,t.flags|=128,t=null):(Pn(),l=n.fallback,o=t.mode,n=ri({mode:"visible",children:n.children},o),(l=Fc(l,o,s,null)).flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,yn(t,e.child,null,s),(n=t.child).memoizedState=si(s),n.childLanes=ai(e,a,s),t.memoizedState=ti,t=l);else if(Ln(t),"$!"===o.data){if(a=o.nextSibling&&o.nextSibling.dataset)var d=a.dgst;a=d,(n=Error(r(419))).stack="",n.digest=a,nn({value:n,source:null,stack:null}),t=ii(e,t,s)}else if(Vr||yi(e,t,s,!1),a=0!==(s&e.childLanes),Vr||a){if(null!==(a=eo)){if(0!==(42&(n=s&-s)))n=1;else switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=64;break;case 268435456:n=134217728;break;default:n=0}if(0!==(n=0!==(n&(a.suspendedLanes|s))?0:n)&&n!==c.retryLane)throw c.retryLane=n,Ea(e,n),Po(a,e,n),qr}"$?"===o.data||Ho(),t=ii(e,t,s)}else"$?"===o.data?(t.flags|=128,t.child=e.child,t=id.bind(null,e),o._reactRetry=t,t=null):(e=c.treeContext,$a=iu(o.nextSibling),Qa=t,Ka=!0,Xa=null,Ya=!1,null!==e&&(Ia[Fa++]=Ua,Ia[Fa++]=qa,Ia[Fa++]=Ba,Ua=e.id,qa=e.overflow,Ba=t),(t=li(t,n.children)).flags|=4096);return t}return l?(Pn(),l=n.fallback,o=t.mode,d=(c=e.child).sibling,(n=Dc(c,{mode:"hidden",children:n.children})).subtreeFlags=31457280&c.subtreeFlags,null!==d?l=Dc(d,l):(l=Fc(l,o,s,null)).flags|=2,l.return=t,n.return=t,n.sibling=l,t.child=n,n=l,l=t.child,null===(o=e.child.memoizedState)?o=si(s):(null!==(c=o.cachePool)?(d=Fn._currentValue,c=c.parent!==d?{parent:d,pool:d}:c):c=Yn(),o={baseLanes:o.baseLanes|s,cachePool:c}),l.memoizedState=o,l.childLanes=ai(e,a,s),t.memoizedState=ti,n):(Ln(t),e=(s=e.child).sibling,(s=Dc(s,{mode:"visible",children:n.children})).return=t,s.sibling=null,null!==e&&(null===(a=t.deletions)?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=s,t.memoizedState=null,s)}function li(e,t){return(t=ri({mode:"visible",children:t},e.mode)).return=e,e.child=t}function ri(e,t){return Bc(e,t,0,null)}function ii(e,t,s){return yn(t,e.child,null,s),(e=li(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ci(e,t,s){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),bi(e.return,t,s)}function oi(e,t,s,a,n){var l=e.memoizedState;null===l?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:n}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=a,l.tail=s,l.tailMode=n)}function di(e,t,s){var a=t.pendingProps,n=a.revealOrder,l=a.tail;if(Hr(e,t,a.children,s),0!==(2&(a=On.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ci(e,s,t);else if(19===e.tag)ci(e,s,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch($(On,a),n){case"forwards":for(s=t.child,n=null;null!==s;)null!==(e=s.alternate)&&null===Mn(e)&&(n=s),s=s.sibling;null===(s=n)?(n=t.child,t.child=null):(n=s.sibling,s.sibling=null),oi(t,!1,n,s,l);break;case"backwards":for(s=null,n=t.child,t.child=null;null!==n;){if(null!==(e=n.alternate)&&null===Mn(e)){t.child=n;break}e=n.sibling,n.sibling=s,s=n,n=e}oi(t,!0,s,null,l);break;case"together":oi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ui(e,t,s){if(null!==e&&(t.dependencies=e.dependencies),uo|=t.lanes,0===(s&t.childLanes)){if(null===e)return null;if(yi(e,t,s,!1),0===(s&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(s=Dc(e=t.child,e.pendingProps),t.child=s,s.return=t;null!==e.sibling;)e=e.sibling,(s=s.sibling=Dc(e,e.pendingProps)).return=t;s.sibling=null}return t.child}function mi(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ni(e))}function xi(e,t,s){if(null!==e)if(e.memoizedProps!==t.pendingProps)Vr=!0;else{if(!mi(e,s)&&0===(128&t.flags))return Vr=!1,function(e,t,s){switch(t.tag){case 3:Z(t,t.stateNode.containerInfo),fi(t,Fn,e.memoizedState.cache),an();break;case 27:case 5:te(t);break;case 4:Z(t,t.stateNode.containerInfo);break;case 10:fi(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(null!==a)return null!==a.dehydrated?(Ln(t),t.flags|=128,null):0!==(s&t.child.childLanes)?ni(e,t,s):(Ln(t),null!==(e=ui(e,t,s))?e.sibling:null);Ln(t);break;case 19:var n=0!==(128&e.flags);if((a=0!==(s&t.childLanes))||(yi(e,t,s,!1),a=0!==(s&t.childLanes)),n){if(a)return di(e,t,s);t.flags|=128}if(null!==(n=t.memoizedState)&&(n.rendering=null,n.tail=null,n.lastEffect=null),$(On,On.current),a)break;return null;case 22:case 23:return t.lanes=0,$r(e,t,s);case 24:fi(t,Fn,e.memoizedState.cache)}return ui(e,t,s)}(e,t,s);Vr=0!==(131072&e.flags)}else Vr=!1,Ka&&0!==(1048576&t.flags)&&Ha(t,Ra,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,n=a._init;if(a=n(a._payload),t.type=a,"function"!==typeof a){if(void 0!==a&&null!==a){if((n=a.$$typeof)===f){t.tag=11,t=Gr(null,t,a,e,s);break e}if(n===j){t.tag=14,t=Wr(null,t,a,e,s);break e}}throw t=C(a)||a,Error(r(306,t,""))}Mc(a)?(e=Pr(a,e),t.tag=1,t=Zr(null,t,a,e,s)):(t.tag=0,t=Yr(null,t,a,e,s))}return t;case 0:return Yr(e,t,t.type,t.pendingProps,s);case 1:return Zr(e,t,a=t.type,n=Pr(a,t.pendingProps),s);case 3:e:{if(Z(t,t.stateNode.containerInfo),null===e)throw Error(r(387));var l=t.pendingProps;a=(n=t.memoizedState).element,Ai(e,t),Di(t,l,null,s);var i=t.memoizedState;if(l=i.cache,fi(t,Fn,l),l!==n.cache&&ji(t,[Fn],s,!0),Mi(),l=i.element,n.isDehydrated){if(n={element:l,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=n,t.memoizedState=n,256&t.flags){t=ei(e,t,l,s);break e}if(l!==a){nn(a=Ta(Error(r(424)),t)),t=ei(e,t,l,s);break e}for($a=iu(t.stateNode.containerInfo.firstChild),Qa=t,Ka=!0,Xa=null,Ya=!0,s=Nn(t,null,l,s),t.child=s;s;)s.flags=-3&s.flags|4096,s=s.sibling}else{if(an(),l===a){t=ui(e,t,s);break e}Hr(e,t,l,s)}t=t.child}return t;case 26:return Xr(e,t),null===e?(s=gu(t.type,null,t.pendingProps,null))?t.memoizedState=s:Ka||(s=t.type,e=t.pendingProps,(a=Kd(Y.current).createElement(s))[Ie]=t,a[Fe]=e,Wd(a,s,e),Ye(a),t.stateNode=a):t.memoizedState=gu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&Ka&&(a=t.stateNode=ou(t.type,t.pendingProps,Y.current),Qa=t,Ya=!0,$a=iu(a.firstChild)),a=t.pendingProps.children,null!==e||Ka?Hr(e,t,a,s):t.child=yn(t,null,a,s),Xr(e,t),t.child;case 5:return null===e&&Ka&&((n=a=$a)&&(null!==(a=function(e,t,s,a){for(;1===e.nodeType;){var n=s;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(a){if(!e[Ge])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(l=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(l!==n.rel||e.getAttribute("href")!==(null==n.href?null:n.href)||e.getAttribute("crossorigin")!==(null==n.crossOrigin?null:n.crossOrigin)||e.getAttribute("title")!==(null==n.title?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((l=e.getAttribute("src"))!==(null==n.src?null:n.src)||e.getAttribute("type")!==(null==n.type?null:n.type)||e.getAttribute("crossorigin")!==(null==n.crossOrigin?null:n.crossOrigin))&&l&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var l=null==n.name?null:""+n.name;if("hidden"===n.type&&e.getAttribute("name")===l)return e}if(null===(e=iu(e.nextSibling)))break}return null}(a,t.type,t.pendingProps,Ya))?(t.stateNode=a,Qa=t,$a=iu(a.firstChild),Ya=!1,n=!0):n=!1),n||Za(t)),te(t),n=t.type,l=t.pendingProps,i=null!==e?e.memoizedProps:null,a=l.children,Jd(n,l)?a=null:null!==i&&Jd(n,i)&&(t.flags|=32),null!==t.memoizedState&&(n=ul(e,t,hl,null,null,s),Du._currentValue=n),Xr(e,t),Hr(e,t,a,s),t.child;case 6:return null===e&&Ka&&((e=s=$a)&&(null!==(s=function(e,t,s){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!s)return null;if(null===(e=iu(e.nextSibling)))return null}return e}(s,t.pendingProps,Ya))?(t.stateNode=s,Qa=t,$a=null,e=!0):e=!1),e||Za(t)),null;case 13:return ni(e,t,s);case 4:return Z(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=yn(t,null,a,s):Hr(e,t,a,s),t.child;case 11:return Gr(e,t,t.type,t.pendingProps,s);case 7:return Hr(e,t,t.pendingProps,s),t.child;case 8:case 12:return Hr(e,t,t.pendingProps.children,s),t.child;case 10:return a=t.pendingProps,fi(t,t.type,a.value),Hr(e,t,a.children,s),t.child;case 9:return n=t.type._context,a=t.pendingProps.children,wi(t),a=a(n=_i(n)),t.flags|=1,Hr(e,t,a,s),t.child;case 14:return Wr(e,t,t.type,t.pendingProps,s);case 15:return Qr(e,t,t.type,t.pendingProps,s);case 19:return di(e,t,s);case 22:return $r(e,t,s);case 24:return wi(t),a=_i(Fn),null===e?(null===(n=Kn())&&(n=eo,l=Bn(),n.pooledCache=l,l.refCount++,null!==l&&(n.pooledCacheLanes|=s),n=l),t.memoizedState={parent:a,cache:n},Ei(t),fi(t,Fn,n)):(0!==(e.lanes&s)&&(Ai(e,t),Di(t,null,null,s),Mi()),n=e.memoizedState,l=t.memoizedState,n.parent!==a?(n={parent:a,cache:a},t.memoizedState=n,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=n),fi(t,Fn,a)):(a=l.cache,fi(t,Fn,a),a!==n.cache&&ji(t,[Fn],s,!0))),Hr(e,t,t.pendingProps.children,s),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}var hi=W(null),pi=null,gi=null;function fi(e,t,s){$(hi,t._currentValue),t._currentValue=s}function vi(e){e._currentValue=hi.current,Q(hi)}function bi(e,t,s){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===s)break;e=e.return}}function ji(e,t,s,a){var n=e.child;for(null!==n&&(n.return=e);null!==n;){var l=n.dependencies;if(null!==l){var i=n.child;l=l.firstContext;e:for(;null!==l;){var c=l;l=n;for(var o=0;o<t.length;o++)if(c.context===t[o]){l.lanes|=s,null!==(c=l.alternate)&&(c.lanes|=s),bi(l.return,s,e),a||(i=null);break e}l=c.next}}else if(18===n.tag){if(null===(i=n.return))throw Error(r(341));i.lanes|=s,null!==(l=i.alternate)&&(l.lanes|=s),bi(i,s,e),i=null}else i=n.child;if(null!==i)i.return=n;else for(i=n;null!==i;){if(i===e){i=null;break}if(null!==(n=i.sibling)){n.return=i.return,i=n;break}i=i.return}n=i}}function yi(e,t,s,a){e=null;for(var n=t,l=!1;null!==n;){if(!l)if(0!==(524288&n.flags))l=!0;else if(0!==(262144&n.flags))break;if(10===n.tag){var i=n.alternate;if(null===i)throw Error(r(387));if(null!==(i=i.memoizedProps)){var c=n.type;Qs(n.pendingProps.value,i.value)||(null!==e?e.push(c):e=[c])}}else if(n===J.current){if(null===(i=n.alternate))throw Error(r(387));i.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(null!==e?e.push(Du):e=[Du])}n=n.return}null!==e&&ji(t,e,s,a),t.flags|=262144}function Ni(e){for(e=e.firstContext;null!==e;){if(!Qs(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wi(e){pi=e,gi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function _i(e){return Si(pi,e)}function ki(e,t){return null===pi&&wi(e),Si(e,t)}function Si(e,t){var s=t._currentValue;if(t={context:t,memoizedValue:s,next:null},null===gi){if(null===e)throw Error(r(308));gi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else gi=gi.next=t;return s}var Ci=!1;function Ei(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ai(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Li(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function zi(e,t,s){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&Zc)){var n=a.pending;return null===n?t.next=t:(t.next=n.next,n.next=t),a.pending=t,t=La(e),Aa(e,null,s),t}return Sa(e,a,t,s),La(e)}function Pi(e,t,s){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&s))){var a=t.lanes;s|=a&=e.pendingLanes,t.lanes=s,Oe(e,s)}}function Ti(e,t){var s=e.updateQueue,a=e.alternate;if(null!==a&&s===(a=a.updateQueue)){var n=null,l=null;if(null!==(s=s.firstBaseUpdate)){do{var r={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};null===l?n=l=r:l=l.next=r,s=s.next}while(null!==s);null===l?n=l=t:l=l.next=t}else n=l=t;return s={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:l,shared:a.shared,callbacks:a.callbacks},void(e.updateQueue=s)}null===(e=s.lastBaseUpdate)?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}var Oi=!1;function Mi(){if(Oi){if(null!==Gn)throw Gn}}function Di(e,t,s,a){Oi=!1;var n=e.updateQueue;Ci=!1;var l=n.firstBaseUpdate,r=n.lastBaseUpdate,i=n.shared.pending;if(null!==i){n.shared.pending=null;var c=i,o=c.next;c.next=null,null===r?l=o:r.next=o,r=c;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==r&&(null===i?d.firstBaseUpdate=o:i.next=o,d.lastBaseUpdate=c))}if(null!==l){var u=n.baseState;for(r=0,d=o=c=null,i=l;;){var m=-536870913&i.lane,x=m!==i.lane;if(x?(so&m)===m:(a&m)===m){0!==m&&m===Hn&&(Oi=!0),null!==d&&(d=d.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var h=e,p=i;m=t;var g=s;switch(p.tag){case 1:if("function"===typeof(h=p.payload)){u=h.call(g,u,m);break e}u=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(m="function"===typeof(h=p.payload)?h.call(g,u,m):h)||void 0===m)break e;u=z({},u,m);break e;case 2:Ci=!0}}null!==(m=i.callback)&&(e.flags|=64,x&&(e.flags|=8192),null===(x=n.callbacks)?n.callbacks=[m]:x.push(m))}else x={lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(o=d=x,c=u):d=d.next=x,r|=m;if(null===(i=i.next)){if(null===(i=n.shared.pending))break;i=(x=i).next,x.next=null,n.lastBaseUpdate=x,n.shared.pending=null}}null===d&&(c=u),n.baseState=c,n.firstBaseUpdate=o,n.lastBaseUpdate=d,null===l&&(n.shared.lanes=0),uo|=r,e.lanes=r,e.memoizedState=u}}function Ri(e,t){if("function"!==typeof e)throw Error(r(191,e));e.call(t)}function Ii(e,t){var s=e.callbacks;if(null!==s)for(e.callbacks=null,e=0;e<s.length;e++)Ri(s[e],t)}function Fi(e,t){try{var s=t.updateQueue,a=null!==s?s.lastEffect:null;if(null!==a){var n=a.next;s=n;do{if((s.tag&e)===e){a=void 0;var l=s.create,r=s.inst;a=l(),r.destroy=a}s=s.next}while(s!==n)}}catch(i){ad(t,t.return,i)}}function Bi(e,t,s){try{var a=t.updateQueue,n=null!==a?a.lastEffect:null;if(null!==n){var l=n.next;a=l;do{if((a.tag&e)===e){var r=a.inst,i=r.destroy;if(void 0!==i){r.destroy=void 0,n=t;var c=s;try{i()}catch(o){ad(n,c,o)}}}a=a.next}while(a!==l)}}catch(o){ad(t,t.return,o)}}function Ui(e){var t=e.updateQueue;if(null!==t){var s=e.stateNode;try{Ii(t,s)}catch(a){ad(e,e.return,a)}}}function qi(e,t,s){s.props=Pr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(a){ad(e,t,a)}}function Vi(e,t){try{var s=e.ref;if(null!==s){var a=e.stateNode;switch(e.tag){case 26:case 27:case 5:var n=a;break;default:n=a}"function"===typeof s?e.refCleanup=s(n):s.current=n}}catch(l){ad(e,t,l)}}function Hi(e,t){var s=e.ref,a=e.refCleanup;if(null!==s)if("function"===typeof a)try{a()}catch(n){ad(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof s)try{s(null)}catch(l){ad(e,t,l)}else s.current=null}function Gi(e){var t=e.type,s=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":s.autoFocus&&a.focus();break e;case"img":s.src?a.src=s.src:s.srcSet&&(a.srcset=s.srcSet)}}catch(n){ad(e,e.return,n)}}function Wi(e,t,s){try{var a=e.stateNode;!function(e,t,s,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,l=null,i=null,c=null,o=null,d=null,u=null;for(h in s){var m=s[h];if(s.hasOwnProperty(h)&&null!=m)switch(h){case"checked":case"value":break;case"defaultValue":o=m;default:a.hasOwnProperty(h)||Hd(e,t,h,null,a,m)}}for(var x in a){var h=a[x];if(m=s[x],a.hasOwnProperty(x)&&(null!=h||null!=m))switch(x){case"type":l=h;break;case"name":n=h;break;case"checked":d=h;break;case"defaultChecked":u=h;break;case"value":i=h;break;case"defaultValue":c=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(r(137,t));break;default:h!==m&&Hd(e,t,x,h,a,m)}}return void gt(e,i,c,o,d,u,l,n);case"select":for(l in h=i=c=x=null,s)if(o=s[l],s.hasOwnProperty(l)&&null!=o)switch(l){case"value":break;case"multiple":h=o;default:a.hasOwnProperty(l)||Hd(e,t,l,null,a,o)}for(n in a)if(l=a[n],o=s[n],a.hasOwnProperty(n)&&(null!=l||null!=o))switch(n){case"value":x=l;break;case"defaultValue":c=l;break;case"multiple":i=l;default:l!==o&&Hd(e,t,n,l,a,o)}return t=c,s=i,a=h,void(null!=x?bt(e,!!s,x,!1):!!a!==!!s&&(null!=t?bt(e,!!s,t,!0):bt(e,!!s,s?[]:"",!1)));case"textarea":for(c in h=x=null,s)if(n=s[c],s.hasOwnProperty(c)&&null!=n&&!a.hasOwnProperty(c))switch(c){case"value":case"children":break;default:Hd(e,t,c,null,a,n)}for(i in a)if(n=a[i],l=s[i],a.hasOwnProperty(i)&&(null!=n||null!=l))switch(i){case"value":x=n;break;case"defaultValue":h=n;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=n)throw Error(r(91));break;default:n!==l&&Hd(e,t,i,n,a,l)}return void jt(e,x,h);case"option":for(var p in s)if(x=s[p],s.hasOwnProperty(p)&&null!=x&&!a.hasOwnProperty(p))if("selected"===p)e.selected=!1;else Hd(e,t,p,null,a,x);for(o in a)if(x=a[o],h=s[o],a.hasOwnProperty(o)&&x!==h&&(null!=x||null!=h))if("selected"===o)e.selected=x&&"function"!==typeof x&&"symbol"!==typeof x;else Hd(e,t,o,x,a,h);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in s)x=s[g],s.hasOwnProperty(g)&&null!=x&&!a.hasOwnProperty(g)&&Hd(e,t,g,null,a,x);for(d in a)if(x=a[d],h=s[d],a.hasOwnProperty(d)&&x!==h&&(null!=x||null!=h))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=x)throw Error(r(137,t));break;default:Hd(e,t,d,x,a,h)}return;default:if(St(t)){for(var f in s)x=s[f],s.hasOwnProperty(f)&&void 0!==x&&!a.hasOwnProperty(f)&&Gd(e,t,f,void 0,a,x);for(u in a)x=a[u],h=s[u],!a.hasOwnProperty(u)||x===h||void 0===x&&void 0===h||Gd(e,t,u,x,a,h);return}}for(var v in s)x=s[v],s.hasOwnProperty(v)&&null!=x&&!a.hasOwnProperty(v)&&Hd(e,t,v,null,a,x);for(m in a)x=a[m],h=s[m],!a.hasOwnProperty(m)||x===h||null==x&&null==h||Hd(e,t,m,x,a,h)}(a,e.type,s,t),a[Fe]=t}catch(n){ad(e,e.return,n)}}function Qi(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function $i(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Qi(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ki(e,t,s){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===s.nodeType?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(8===s.nodeType?(t=s.parentNode).insertBefore(e,s):(t=s).appendChild(e),null!==(s=s._reactRootContainer)&&void 0!==s||null!==t.onclick||(t.onclick=Vd));else if(4!==a&&27!==a&&null!==(e=e.child))for(Ki(e,t,s),e=e.sibling;null!==e;)Ki(e,t,s),e=e.sibling}function Xi(e,t,s){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(4!==a&&27!==a&&null!==(e=e.child))for(Xi(e,t,s),e=e.sibling;null!==e;)Xi(e,t,s),e=e.sibling}var Yi=!1,Ji=!1,Zi=!1,ec="function"===typeof WeakSet?WeakSet:Set,tc=null,sc=!1;function ac(e,t,s){var a=s.flags;switch(s.tag){case 0:case 11:case 15:gc(e,s),4&a&&Fi(5,s);break;case 1:if(gc(e,s),4&a)if(e=s.stateNode,null===t)try{e.componentDidMount()}catch(i){ad(s,s.return,i)}else{var n=Pr(s.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(c){ad(s,s.return,c)}}64&a&&Ui(s),512&a&&Vi(s,s.return);break;case 3:if(gc(e,s),64&a&&null!==(a=s.updateQueue)){if(e=null,null!==s.child)switch(s.child.tag){case 27:case 5:case 1:e=s.child.stateNode}try{Ii(a,e)}catch(i){ad(s,s.return,i)}}break;case 26:gc(e,s),512&a&&Vi(s,s.return);break;case 27:case 5:gc(e,s),null===t&&4&a&&Gi(s),512&a&&Vi(s,s.return);break;case 12:default:gc(e,s);break;case 13:gc(e,s),4&a&&oc(e,s);break;case 22:if(!(n=null!==s.memoizedState||Yi)){t=null!==t&&null!==t.memoizedState||Ji;var l=Yi,r=Ji;Yi=n,(Ji=t)&&!r?vc(e,s,0!==(8772&s.subtreeFlags)):gc(e,s),Yi=l,Ji=r}512&a&&("manual"===s.memoizedProps.mode?Vi(s,s.return):Hi(s,s.return))}}function nc(e){var t=e.alternate;null!==t&&(e.alternate=null,nc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&We(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var lc=null,rc=!1;function ic(e,t,s){for(s=s.child;null!==s;)cc(e,t,s),s=s.sibling}function cc(e,t,s){if(ve&&"function"===typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(fe,s)}catch(r){}switch(s.tag){case 26:Ji||Hi(s,t),ic(e,t,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode).parentNode.removeChild(s);break;case 27:Ji||Hi(s,t);var a=lc,n=rc;for(lc=s.stateNode,ic(e,t,s),t=(s=s.stateNode).attributes;t.length;)s.removeAttributeNode(t[0]);We(s),lc=a,rc=n;break;case 5:Ji||Hi(s,t);case 6:n=lc;var l=rc;if(lc=null,ic(e,t,s),rc=l,null!==(lc=n))if(rc)try{e=lc,a=s.stateNode,8===e.nodeType?e.parentNode.removeChild(a):e.removeChild(a)}catch(i){ad(s,t,i)}else try{lc.removeChild(s.stateNode)}catch(i){ad(s,t,i)}break;case 18:null!==lc&&(rc?(t=lc,s=s.stateNode,8===t.nodeType?lu(t.parentNode,s):1===t.nodeType&&lu(t,s),pm(t)):lu(lc,s.stateNode));break;case 4:a=lc,n=rc,lc=s.stateNode.containerInfo,rc=!0,ic(e,t,s),lc=a,rc=n;break;case 0:case 11:case 14:case 15:Ji||Bi(2,s,t),Ji||Bi(4,s,t),ic(e,t,s);break;case 1:Ji||(Hi(s,t),"function"===typeof(a=s.stateNode).componentWillUnmount&&qi(s,t,a)),ic(e,t,s);break;case 21:ic(e,t,s);break;case 22:Ji||Hi(s,t),Ji=(a=Ji)||null!==s.memoizedState,ic(e,t,s),Ji=a;break;default:ic(e,t,s)}}function oc(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{pm(e)}catch(s){ad(t,t.return,s)}}function dc(e,t){var s=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new ec),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new ec),t;default:throw Error(r(435,e.tag))}}(e);t.forEach((function(t){var a=cd.bind(null,e,t);s.has(t)||(s.add(t),t.then(a,a))}))}function uc(e,t){var s=t.deletions;if(null!==s)for(var a=0;a<s.length;a++){var n=s[a],l=e,i=t,c=i;e:for(;null!==c;){switch(c.tag){case 27:case 5:lc=c.stateNode,rc=!1;break e;case 3:case 4:lc=c.stateNode.containerInfo,rc=!0;break e}c=c.return}if(null===lc)throw Error(r(160));cc(l,i,n),lc=null,rc=!1,null!==(l=n.alternate)&&(l.return=null),n.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)xc(t,e),t=t.sibling}var mc=null;function xc(e,t){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:uc(t,e),hc(e),4&a&&(Bi(3,e,e.return),Fi(3,e),Bi(5,e,e.return));break;case 1:uc(t,e),hc(e),512&a&&(Ji||null===s||Hi(s,s.return)),64&a&&Yi&&(null!==(e=e.updateQueue)&&(null!==(a=e.callbacks)&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===s?a:s.concat(a))));break;case 26:var n=mc;if(uc(t,e),hc(e),512&a&&(Ji||null===s||Hi(s,s.return)),4&a){var l=null!==s?s.memoizedState:null;if(a=e.memoizedState,null===s)if(null===a)if(null===e.stateNode){e:{a=e.type,s=e.memoizedProps,n=n.ownerDocument||n;t:switch(a){case"title":(!(l=n.getElementsByTagName("title")[0])||l[Ge]||l[Ie]||"http://www.w3.org/2000/svg"===l.namespaceURI||l.hasAttribute("itemprop"))&&(l=n.createElement(a),n.head.insertBefore(l,n.querySelector("head > title"))),Wd(l,a,s),l[Ie]=e,Ye(l),a=l;break e;case"link":var i=Cu("link","href",n).get(a+(s.href||""));if(i)for(var c=0;c<i.length;c++)if((l=i[c]).getAttribute("href")===(null==s.href?null:s.href)&&l.getAttribute("rel")===(null==s.rel?null:s.rel)&&l.getAttribute("title")===(null==s.title?null:s.title)&&l.getAttribute("crossorigin")===(null==s.crossOrigin?null:s.crossOrigin)){i.splice(c,1);break t}Wd(l=n.createElement(a),a,s),n.head.appendChild(l);break;case"meta":if(i=Cu("meta","content",n).get(a+(s.content||"")))for(c=0;c<i.length;c++)if((l=i[c]).getAttribute("content")===(null==s.content?null:""+s.content)&&l.getAttribute("name")===(null==s.name?null:s.name)&&l.getAttribute("property")===(null==s.property?null:s.property)&&l.getAttribute("http-equiv")===(null==s.httpEquiv?null:s.httpEquiv)&&l.getAttribute("charset")===(null==s.charSet?null:s.charSet)){i.splice(c,1);break t}Wd(l=n.createElement(a),a,s),n.head.appendChild(l);break;default:throw Error(r(468,a))}l[Ie]=e,Ye(l),a=l}e.stateNode=a}else Eu(n,e.type,e.stateNode);else e.stateNode=Nu(n,a,e.memoizedProps);else l!==a?(null===l?null!==s.stateNode&&(s=s.stateNode).parentNode.removeChild(s):l.count--,null===a?Eu(n,e.type,e.stateNode):Nu(n,a,e.memoizedProps)):null===a&&null!==e.stateNode&&Wi(e,e.memoizedProps,s.memoizedProps)}break;case 27:if(4&a&&null===e.alternate){n=e.stateNode,l=e.memoizedProps;try{for(var o=n.firstChild;o;){var d=o.nextSibling,u=o.nodeName;o[Ge]||"HEAD"===u||"BODY"===u||"SCRIPT"===u||"STYLE"===u||"LINK"===u&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=d}for(var m=e.type,x=n.attributes;x.length;)n.removeAttributeNode(x[0]);Wd(n,m,l),n[Ie]=e,n[Fe]=l}catch(p){ad(e,e.return,p)}}case 5:if(uc(t,e),hc(e),512&a&&(Ji||null===s||Hi(s,s.return)),32&e.flags){n=e.stateNode;try{Nt(n,"")}catch(p){ad(e,e.return,p)}}4&a&&null!=e.stateNode&&Wi(e,n=e.memoizedProps,null!==s?s.memoizedProps:n),1024&a&&(Zi=!0);break;case 6:if(uc(t,e),hc(e),4&a){if(null===e.stateNode)throw Error(r(162));a=e.memoizedProps,s=e.stateNode;try{s.nodeValue=a}catch(p){ad(e,e.return,p)}}break;case 3:if(Su=null,n=mc,mc=mu(t.containerInfo),uc(t,e),mc=n,hc(e),4&a&&null!==s&&s.memoizedState.isDehydrated)try{pm(t.containerInfo)}catch(p){ad(e,e.return,p)}Zi&&(Zi=!1,pc(e));break;case 4:a=mc,mc=mu(e.stateNode.containerInfo),uc(t,e),hc(e),mc=a;break;case 12:uc(t,e),hc(e);break;case 13:uc(t,e),hc(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==s&&null!==s.memoizedState)&&(bo=ce()),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,dc(e,a)));break;case 22:if(512&a&&(Ji||null===s||Hi(s,s.return)),o=null!==e.memoizedState,d=null!==s&&null!==s.memoizedState,Yi=(u=Yi)||o,Ji=(m=Ji)||d,uc(t,e),Ji=m,Yi=u,hc(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&a&&(t._visibility=o?-2&t._visibility:1|t._visibility,o&&(t=Yi||Ji,null===s||d||t||fc(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(s=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===s){d=s=t;try{if(n=d.stateNode,o)"function"===typeof(l=n.style).setProperty?l.setProperty("display","none","important"):l.display="none";else{i=d.stateNode;var h=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null;i.style.display=null==h||"boolean"===typeof h?"":(""+h).trim()}}catch(p){ad(d,d.return,p)}}}else if(6===t.tag){if(null===s){d=t;try{d.stateNode.nodeValue=o?"":d.memoizedProps}catch(p){ad(d,d.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;s===t&&(s=null),t=t.return}s===t&&(s=null),t.sibling.return=t.return,t=t.sibling}4&a&&(null!==(a=e.updateQueue)&&(null!==(s=a.retryQueue)&&(a.retryQueue=null,dc(e,s))));break;case 19:uc(t,e),hc(e),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,dc(e,a)));break;case 21:break;default:uc(t,e),hc(e)}}function hc(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var s=e.return;null!==s;){if(Qi(s)){var a=s;break e}s=s.return}throw Error(r(160))}switch(a.tag){case 27:var n=a.stateNode;Xi(e,$i(e),n);break;case 5:var l=a.stateNode;32&a.flags&&(Nt(l,""),a.flags&=-33),Xi(e,$i(e),l);break;case 3:case 4:var i=a.stateNode.containerInfo;Ki(e,$i(e),i);break;default:throw Error(r(161))}}}catch(c){ad(e,e.return,c)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function pc(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;pc(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function gc(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)ac(e,t.alternate,t),t=t.sibling}function fc(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Bi(4,t,t.return),fc(t);break;case 1:Hi(t,t.return);var s=t.stateNode;"function"===typeof s.componentWillUnmount&&qi(t,t.return,s),fc(t);break;case 26:case 27:case 5:Hi(t,t.return),fc(t);break;case 22:Hi(t,t.return),null===t.memoizedState&&fc(t);break;default:fc(t)}e=e.sibling}}function vc(e,t,s){for(s=s&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var a=t.alternate,n=e,l=t,r=l.flags;switch(l.tag){case 0:case 11:case 15:vc(n,l,s),Fi(4,l);break;case 1:if(vc(n,l,s),"function"===typeof(n=(a=l).stateNode).componentDidMount)try{n.componentDidMount()}catch(o){ad(a,a.return,o)}if(null!==(n=(a=l).updateQueue)){var i=a.stateNode;try{var c=n.shared.hiddenCallbacks;if(null!==c)for(n.shared.hiddenCallbacks=null,n=0;n<c.length;n++)Ri(c[n],i)}catch(o){ad(a,a.return,o)}}s&&64&r&&Ui(l),Vi(l,l.return);break;case 26:case 27:case 5:vc(n,l,s),s&&null===a&&4&r&&Gi(l),Vi(l,l.return);break;case 12:default:vc(n,l,s);break;case 13:vc(n,l,s),s&&4&r&&oc(n,l);break;case 22:null===l.memoizedState&&vc(n,l,s),Vi(l,l.return)}t=t.sibling}}function bc(e,t){var s=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(s=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==s&&(null!=e&&e.refCount++,null!=s&&Un(s))}function jc(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Un(e))}function yc(e,t,s,a){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Nc(e,t,s,a),t=t.sibling}function Nc(e,t,s,a){var n=t.flags;switch(t.tag){case 0:case 11:case 15:yc(e,t,s,a),2048&n&&Fi(9,t);break;case 3:yc(e,t,s,a),2048&n&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Un(e)));break;case 12:if(2048&n){yc(e,t,s,a),e=t.stateNode;try{var l=t.memoizedProps,r=l.id,i=l.onPostCommit;"function"===typeof i&&i(r,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(c){ad(t,t.return,c)}}else yc(e,t,s,a);break;case 23:break;case 22:l=t.stateNode,null!==t.memoizedState?4&l._visibility?yc(e,t,s,a):_c(e,t):4&l._visibility?yc(e,t,s,a):(l._visibility|=4,wc(e,t,s,a,0!==(10256&t.subtreeFlags))),2048&n&&bc(t.alternate,t);break;case 24:yc(e,t,s,a),2048&n&&jc(t.alternate,t);break;default:yc(e,t,s,a)}}function wc(e,t,s,a,n){for(n=n&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var l=e,r=t,i=s,c=a,o=r.flags;switch(r.tag){case 0:case 11:case 15:wc(l,r,i,c,n),Fi(8,r);break;case 23:break;case 22:var d=r.stateNode;null!==r.memoizedState?4&d._visibility?wc(l,r,i,c,n):_c(l,r):(d._visibility|=4,wc(l,r,i,c,n)),n&&2048&o&&bc(r.alternate,r);break;case 24:wc(l,r,i,c,n),n&&2048&o&&jc(r.alternate,r);break;default:wc(l,r,i,c,n)}t=t.sibling}}function _c(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var s=e,a=t,n=a.flags;switch(a.tag){case 22:_c(s,a),2048&n&&bc(a.alternate,a);break;case 24:_c(s,a),2048&n&&jc(a.alternate,a);break;default:_c(s,a)}t=t.sibling}}var kc=8192;function Sc(e){if(e.subtreeFlags&kc)for(e=e.child;null!==e;)Cc(e),e=e.sibling}function Cc(e){switch(e.tag){case 26:Sc(e),e.flags&kc&&null!==e.memoizedState&&function(e,t,s){if(null===Lu)throw Error(r(475));var a=Lu;if("stylesheet"===t.type&&("string"!==typeof s.media||!1!==matchMedia(s.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var n=fu(s.href),l=e.querySelector(vu(n));if(l)return null!==(e=l._p)&&"object"===typeof e&&"function"===typeof e.then&&(a.count++,a=Pu.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=l,void Ye(l);l=e.ownerDocument||e,s=bu(s),(n=du.get(n))&&_u(s,n),Ye(l=l.createElement("link"));var i=l;i._p=new Promise((function(e,t){i.onload=e,i.onerror=t})),Wd(l,"link",s),t.instance=l}null===a.stylesheets&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(a.count++,t=Pu.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}(mc,e.memoizedState,e.memoizedProps);break;case 5:default:Sc(e);break;case 3:case 4:var t=mc;mc=mu(e.stateNode.containerInfo),Sc(e),mc=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=kc,kc=16777216,Sc(e),kc=t):Sc(e))}}function Ec(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Ac(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var s=0;s<t.length;s++){var a=t[s];tc=a,Pc(a,e)}Ec(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Lc(e),e=e.sibling}function Lc(e){switch(e.tag){case 0:case 11:case 15:Ac(e),2048&e.flags&&Bi(9,e,e.return);break;case 3:case 12:default:Ac(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,zc(e)):Ac(e)}}function zc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var s=0;s<t.length;s++){var a=t[s];tc=a,Pc(a,e)}Ec(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:Bi(8,t,t.return),zc(t);break;case 22:4&(s=t.stateNode)._visibility&&(s._visibility&=-5,zc(t));break;default:zc(t)}e=e.sibling}}function Pc(e,t){for(;null!==tc;){var s=tc;switch(s.tag){case 0:case 11:case 15:Bi(8,s,t);break;case 23:case 22:if(null!==s.memoizedState&&null!==s.memoizedState.cachePool){var a=s.memoizedState.cachePool.pool;null!=a&&a.refCount++}break;case 24:Un(s.memoizedState.cache)}if(null!==(a=s.child))a.return=s,tc=a;else e:for(s=e;null!==tc;){var n=(a=tc).sibling,l=a.return;if(nc(a),a===s){tc=null;break e}if(null!==n){n.return=l,tc=n;break e}tc=l}}}function Tc(e,t,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,s,a){return new Tc(e,t,s,a)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var s=e.alternate;return null===s?((s=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=31457280&e.flags,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Rc(e,t){e.flags&=31457282;var s=e.alternate;return null===s?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,t=s.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ic(e,t,s,a,n,l){var i=0;if(a=e,"function"===typeof e)Mc(e)&&(i=1);else if("string"===typeof e)i=function(e,t,s){if(1===s||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,s,K.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case u:return Fc(s.children,n,l,t);case m:i=8,n|=24;break;case x:return(e=Oc(12,s,t,2|n)).elementType=x,e.lanes=l,e;case v:return(e=Oc(13,s,t,n)).elementType=v,e.lanes=l,e;case b:return(e=Oc(19,s,t,n)).elementType=b,e.lanes=l,e;case N:return Bc(s,n,l,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case h:case g:i=10;break e;case p:i=9;break e;case f:i=11;break e;case j:i=14;break e;case y:i=16,a=null;break e}i=29,s=Error(r(130,null===e?"null":typeof e,"")),a=null}return(t=Oc(i,s,t,n)).elementType=e,t.type=a,t.lanes=l,t}function Fc(e,t,s,a){return(e=Oc(7,e,a,t)).lanes=s,e}function Bc(e,t,s,a){(e=Oc(22,e,a,t)).elementType=N,e.lanes=s;var n={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=n._current;if(null===e)throw Error(r(456));if(0===(2&n._pendingVisibility)){var t=Ea(e,2);null!==t&&(n._pendingVisibility|=2,Po(t,e,2))}},attach:function(){var e=n._current;if(null===e)throw Error(r(456));if(0!==(2&n._pendingVisibility)){var t=Ea(e,2);null!==t&&(n._pendingVisibility&=-3,Po(t,e,2))}}};return e.stateNode=n,e}function Uc(e,t,s){return(e=Oc(6,e,null,t)).lanes=s,e}function qc(e,t,s){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e){e.flags|=4}function Hc(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Au(t)){if(null!==(t=En.current)&&((4194176&so)===so?null!==An:(62914560&so)!==so&&0===(536870912&so)||t!==An))throw mn=cn,rn;e.flags|=8192}}function Gc(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Le():536870912,e.lanes|=t,po|=t)}function Wc(e,t){if(!Ka)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;null!==t;)null!==t.alternate&&(s=t),t=t.sibling;null===s?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;null!==s;)null!==s.alternate&&(a=s),s=s.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Qc(e){var t=null!==e.alternate&&e.alternate.child===e.child,s=0,a=0;if(t)for(var n=e.child;null!==n;)s|=n.lanes|n.childLanes,a|=31457280&n.subtreeFlags,a|=31457280&n.flags,n.return=e,n=n.sibling;else for(n=e.child;null!==n;)s|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=s,t}function $c(e,t,s){var a=t.pendingProps;switch(Wa(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Qc(t),null;case 3:return s=t.stateNode,a=null,null!==e&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),vi(Fn),ee(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null!==e&&null!==e.child||(sn(t)?Vc(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Xa&&(Oo(Xa),Xa=null))),Qc(t),null;case 26:return s=t.memoizedState,null===e?(Vc(t),null!==s?(Qc(t),Hc(t,s)):(Qc(t),t.flags&=-16777217)):s?s!==e.memoizedState?(Vc(t),Qc(t),Hc(t,s)):(Qc(t),t.flags&=-16777217):(e.memoizedProps!==a&&Vc(t),Qc(t),t.flags&=-16777217),null;case 27:se(t),s=Y.current;var n=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==a&&Vc(t);else{if(!a){if(null===t.stateNode)throw Error(r(166));return Qc(t),null}e=K.current,sn(t)?en(t):(e=ou(n,a,s),t.stateNode=e,Vc(t))}return Qc(t),null;case 5:if(se(t),s=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&Vc(t);else{if(!a){if(null===t.stateNode)throw Error(r(166));return Qc(t),null}if(e=K.current,sn(t))en(t);else{switch(n=Kd(Y.current),e){case 1:e=n.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=n.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=n.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=n.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":(e=n.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof a.is?n.createElement("select",{is:a.is}):n.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e="string"===typeof a.is?n.createElement(s,{is:a.is}):n.createElement(s)}}e[Ie]=t,e[Fe]=a;e:for(n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&27!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;null===n.sibling;){if(null===n.return||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}t.stateNode=e;e:switch(Wd(e,s,a),s){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Vc(t)}}return Qc(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==a&&Vc(t);else{if("string"!==typeof a&&null===t.stateNode)throw Error(r(166));if(e=Y.current,sn(t)){if(e=t.stateNode,s=t.memoizedProps,a=null,null!==(n=Qa))switch(n.tag){case 27:case 5:a=n.memoizedProps}e[Ie]=t,(e=!!(e.nodeValue===s||null!==a&&!0===a.suppressHydrationWarning||qd(e.nodeValue,s)))||Za(t)}else(e=Kd(e).createTextNode(a))[Ie]=t,t.stateNode=e}return Qc(t),null;case 13:if(a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(n=sn(t),null!==a&&null!==a.dehydrated){if(null===e){if(!n)throw Error(r(318));if(!(n=null!==(n=t.memoizedState)?n.dehydrated:null))throw Error(r(317));n[Ie]=t}else an(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Qc(t),n=!1}else null!==Xa&&(Oo(Xa),Xa=null),n=!0;if(!n)return 256&t.flags?(Tn(t),t):(Tn(t),null)}if(Tn(t),0!==(128&t.flags))return t.lanes=s,t;if(s=null!==a,e=null!==e&&null!==e.memoizedState,s){n=null,null!==(a=t.child).alternate&&null!==a.alternate.memoizedState&&null!==a.alternate.memoizedState.cachePool&&(n=a.alternate.memoizedState.cachePool.pool);var l=null;null!==a.memoizedState&&null!==a.memoizedState.cachePool&&(l=a.memoizedState.cachePool.pool),l!==n&&(a.flags|=2048)}return s!==e&&s&&(t.child.flags|=8192),Gc(t,t.updateQueue),Qc(t),null;case 4:return ee(),null===e&&Pd(t.stateNode.containerInfo),Qc(t),null;case 10:return vi(t.type),Qc(t),null;case 19:if(Q(On),null===(n=t.memoizedState))return Qc(t),null;if(a=0!==(128&t.flags),null===(l=n.rendering))if(a)Wc(n,!1);else{if(0!==oo||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=Mn(e))){for(t.flags|=128,Wc(n,!1),e=l.updateQueue,t.updateQueue=e,Gc(t,e),t.subtreeFlags=0,e=s,s=t.child;null!==s;)Rc(s,e),s=s.sibling;return $(On,1&On.current|2),t.child}e=e.sibling}null!==n.tail&&ce()>jo&&(t.flags|=128,a=!0,Wc(n,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=Mn(l))){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Gc(t,e),Wc(n,!0),null===n.tail&&"hidden"===n.tailMode&&!l.alternate&&!Ka)return Qc(t),null}else 2*ce()-n.renderingStartTime>jo&&536870912!==s&&(t.flags|=128,a=!0,Wc(n,!1),t.lanes=4194304);n.isBackwards?(l.sibling=t.child,t.child=l):(null!==(e=n.last)?e.sibling=l:t.child=l,n.last=l)}return null!==n.tail?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=ce(),t.sibling=null,e=On.current,$(On,a?1&e|2:1&e),t):(Qc(t),null);case 22:case 23:return Tn(t),Cn(),a=null!==t.memoizedState,null!==e?null!==e.memoizedState!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?0!==(536870912&s)&&0===(128&t.flags)&&(Qc(t),6&t.subtreeFlags&&(t.flags|=8192)):Qc(t),null!==(s=t.updateQueue)&&Gc(t,s.retryQueue),s=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(s=e.memoizedState.cachePool.pool),a=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(a=t.memoizedState.cachePool.pool),a!==s&&(t.flags|=2048),null!==e&&Q($n),null;case 24:return s=null,null!==e&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),vi(Fn),Qc(t),null;case 25:return null}throw Error(r(156,t.tag))}function Kc(e,t){switch(Wa(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return vi(Fn),ee(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return se(t),null;case 13:if(Tn(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));an()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Q(On),null;case 4:return ee(),null;case 10:return vi(t.type),null;case 22:case 23:return Tn(t),Cn(),null!==e&&Q($n),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return vi(Fn),null;default:return null}}function Xc(e,t){switch(Wa(t),t.tag){case 3:vi(Fn),ee();break;case 26:case 27:case 5:se(t);break;case 4:ee();break;case 13:Tn(t);break;case 19:Q(On);break;case 10:vi(t.type);break;case 22:case 23:Tn(t),Cn(),null!==e&&Q($n);break;case 24:vi(Fn)}}var Yc={getCacheForType:function(e){var t=_i(Fn),s=t.data.get(e);return void 0===s&&(s=e(),t.data.set(e,s)),s}},Jc="function"===typeof WeakMap?WeakMap:Map,Zc=0,eo=null,to=null,so=0,ao=0,no=null,lo=!1,ro=!1,io=!1,co=0,oo=0,uo=0,mo=0,xo=0,ho=0,po=0,go=null,fo=null,vo=!1,bo=0,jo=1/0,yo=null,No=null,wo=!1,_o=null,ko=0,So=0,Co=null,Eo=0,Ao=null;function Lo(){if(0!==(2&Zc)&&0!==so)return so&-so;if(null!==L.T){return 0!==Hn?Hn:yd()}return De()}function zo(){0===ho&&(ho=0===(536870912&so)||Ka?Ae():536870912);var e=En.current;return null!==e&&(e.flags|=32),ho}function Po(e,t,s){(e===eo&&2===ao||null!==e.cancelPendingCommit)&&(Bo(e,0),Ro(e,so,ho,!1)),Pe(e,s),0!==(2&Zc)&&e===eo||(e===eo&&(0===(2&Zc)&&(mo|=s),4===oo&&Ro(e,so,ho,!1)),pd(e))}function To(e,t,s){if(0!==(6&Zc))throw Error(r(327));for(var a=!s&&0===(60&t)&&0===(t&e.expiredLanes)||Ce(e,t),n=a?function(e,t){var s=Zc;Zc|=2;var a=qo(),n=Vo();eo!==e||so!==t?(yo=null,jo=ce()+500,Bo(e,t)):ro=Ce(e,t);e:for(;;)try{if(0!==ao&&null!==to){t=to;var l=no;t:switch(ao){case 1:ao=0,no=null,Xo(e,t,l,1);break;case 2:if(on(l)){ao=0,no=null,Ko(t);break}t=function(){2===ao&&eo===e&&(ao=7),pd(e)},l.then(t,t);break e;case 3:ao=7;break e;case 4:ao=5;break e;case 7:on(l)?(ao=0,no=null,Ko(t)):(ao=0,no=null,Xo(e,t,l,7));break;case 5:var i=null;switch(to.tag){case 26:i=to.memoizedState;case 5:case 27:var c=to;if(!i||Au(i)){ao=0,no=null;var o=c.sibling;if(null!==o)to=o;else{var d=c.return;null!==d?(to=d,Yo(d)):to=null}break t}}ao=0,no=null,Xo(e,t,l,5);break;case 6:ao=0,no=null,Xo(e,t,l,6);break;case 8:Fo(),oo=6;break e;default:throw Error(r(462))}}Qo();break}catch(u){Uo(e,u)}return gi=pi=null,L.H=a,L.A=n,Zc=s,null!==to?0:(eo=null,so=0,ka(),oo)}(e,t):Go(e,t,!0),l=a;;){if(0===n){ro&&!a&&Ro(e,t,0,!1);break}if(6===n)Ro(e,t,0,!lo);else{if(s=e.current.alternate,l&&!Do(s)){n=Go(e,t,!1),l=!1;continue}if(2===n){if(l=t,e.errorRecoveryDisabledLanes&l)var i=0;else i=0!==(i=-536870913&e.pendingLanes)?i:536870912&i?536870912:0;if(0!==i){t=i;e:{var c=e;n=go;var o=c.current.memoizedState.isDehydrated;if(o&&(Bo(c,i).flags|=256),2!==(i=Go(c,i,!1))){if(io&&!o){c.errorRecoveryDisabledLanes|=l,mo|=l,n=4;break e}l=fo,fo=n,null!==l&&Oo(l)}n=i}if(l=!1,2!==n)continue}}if(1===n){Bo(e,0),Ro(e,t,0,!0);break}e:{switch(a=e,n){case 0:case 1:throw Error(r(345));case 4:if((4194176&t)===t){Ro(a,t,ho,!lo);break e}break;case 2:fo=null;break;case 3:case 5:break;default:throw Error(r(329))}if(a.finishedWork=s,a.finishedLanes=t,(62914560&t)===t&&10<(l=bo+300-ce())){if(Ro(a,t,ho,!lo),0!==Se(a,0))break e;a.timeoutHandle=eu(Mo.bind(null,a,s,fo,yo,vo,t,ho,mo,po,lo,2,-0,0),l)}else Mo(a,s,fo,yo,vo,t,ho,mo,po,lo,0,-0,0)}}break}pd(e)}function Oo(e){null===fo?fo=e:fo.push.apply(fo,e)}function Mo(e,t,s,a,n,l,i,c,o,d,u,m,x){var h=t.subtreeFlags;if((8192&h||16785408===(16785408&h))&&(Lu={stylesheets:null,count:0,unsuspend:zu},Cc(t),null!==(t=function(){if(null===Lu)throw Error(r(475));var e=Lu;return e.stylesheets&&0===e.count&&Ou(e,e.stylesheets),0<e.count?function(t){var s=setTimeout((function(){if(e.stylesheets&&Ou(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(s)}}:null}())))return e.cancelPendingCommit=t(Zo.bind(null,e,s,a,n,i,c,o,1,m,x)),void Ro(e,l,i,!d);Zo(e,s,a,n,i,c,o,u,m,x)}function Do(e){for(var t=e;;){var s=t.tag;if((0===s||11===s||15===s)&&16384&t.flags&&(null!==(s=t.updateQueue)&&null!==(s=s.stores)))for(var a=0;a<s.length;a++){var n=s[a],l=n.getSnapshot;n=n.value;try{if(!Qs(l(),n))return!1}catch(r){return!1}}if(s=t.child,16384&t.subtreeFlags&&null!==s)s.return=t,t=s;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ro(e,t,s,a){t&=~xo,t&=~mo,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var n=t;0<n;){var l=31-je(n),r=1<<l;a[l]=-1,n&=~r}0!==s&&Te(e,s,t)}function Io(){return 0!==(6&Zc)||(gd(0,!1),!1)}function Fo(){if(null!==to){if(0===ao)var e=to.return;else gi=pi=null,fl(e=to),hn=null,pn=0,e=to;for(;null!==e;)Xc(e.alternate,e),e=e.return;to=null}}function Bo(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;-1!==s&&(e.timeoutHandle=-1,tu(s)),null!==(s=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,s()),Fo(),eo=e,to=s=Dc(e.current,null),so=t,ao=0,no=null,lo=!1,ro=Ce(e,t),io=!1,po=ho=xo=mo=uo=oo=0,fo=go=null,vo=!1,0!==(8&t)&&(t|=32&t);var a=e.entangledLanes;if(0!==a)for(e=e.entanglements,a&=t;0<a;){var n=31-je(a),l=1<<n;t|=e[n],a&=~l}return co=t,ka(),s}function Uo(e,t){Zn=null,L.H=_r,t===ln?(t=xn(),ao=3):t===rn?(t=xn(),ao=4):ao=t===qr?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,no=t,null===to&&(oo=1,Rr(e,Ta(t,e.current)))}function qo(){var e=L.H;return L.H=_r,null===e?_r:e}function Vo(){var e=L.A;return L.A=Yc,e}function Ho(){oo=4,lo||(4194176&so)!==so&&null!==En.current||(ro=!0),0===(134217727&uo)&&0===(134217727&mo)||null===eo||Ro(eo,so,ho,!1)}function Go(e,t,s){var a=Zc;Zc|=2;var n=qo(),l=Vo();eo===e&&so===t||(yo=null,Bo(e,t)),t=!1;var r=oo;e:for(;;)try{if(0!==ao&&null!==to){var i=to,c=no;switch(ao){case 8:Fo(),r=6;break e;case 3:case 2:case 6:null===En.current&&(t=!0);var o=ao;if(ao=0,no=null,Xo(e,i,c,o),s&&ro){r=0;break e}break;default:o=ao,ao=0,no=null,Xo(e,i,c,o)}}Wo(),r=oo;break}catch(d){Uo(e,d)}return t&&e.shellSuspendCounter++,gi=pi=null,Zc=a,L.H=n,L.A=l,null===to&&(eo=null,so=0,ka()),r}function Wo(){for(;null!==to;)$o(to)}function Qo(){for(;null!==to&&!re();)$o(to)}function $o(e){var t=xi(e.alternate,e,co);e.memoizedProps=e.pendingProps,null===t?Yo(e):to=t}function Ko(e){var t=e,s=t.alternate;switch(t.tag){case 15:case 0:t=Jr(s,t,t.pendingProps,t.type,void 0,so);break;case 11:t=Jr(s,t,t.pendingProps,t.type.render,t.ref,so);break;case 5:fl(t);default:Xc(s,t),t=xi(s,t=to=Rc(t,co),co)}e.memoizedProps=e.pendingProps,null===t?Yo(e):to=t}function Xo(e,t,s,a){gi=pi=null,fl(t),hn=null,pn=0;var n=t.return;try{if(function(e,t,s,a,n){if(s.flags|=32768,null!==a&&"object"===typeof a&&"function"===typeof a.then){if(null!==(t=s.alternate)&&yi(t,s,n,!0),null!==(s=En.current)){switch(s.tag){case 13:return null===An?Ho():null===s.alternate&&0===oo&&(oo=3),s.flags&=-257,s.flags|=65536,s.lanes=n,a===cn?s.flags|=16384:(null===(t=s.updateQueue)?s.updateQueue=new Set([a]):t.add(a),nd(e,a,n)),!1;case 22:return s.flags|=65536,a===cn?s.flags|=16384:(null===(t=s.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},s.updateQueue=t):null===(s=t.retryQueue)?t.retryQueue=new Set([a]):s.add(a),nd(e,a,n)),!1}throw Error(r(435,s.tag))}return nd(e,a,n),Ho(),!1}if(Ka)return null!==(t=En.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=n,a!==Ja&&nn(Ta(e=Error(r(422),{cause:a}),s))):(a!==Ja&&nn(Ta(t=Error(r(423),{cause:a}),s)),(e=e.current.alternate).flags|=65536,n&=-n,e.lanes|=n,a=Ta(a,s),Ti(e,n=Fr(e.stateNode,a,n)),4!==oo&&(oo=2)),!1;var l=Error(r(520),{cause:a});if(l=Ta(l,s),null===go?go=[l]:go.push(l),4!==oo&&(oo=2),null===t)return!0;a=Ta(a,s),s=t;do{switch(s.tag){case 3:return s.flags|=65536,e=n&-n,s.lanes|=e,Ti(s,e=Fr(s.stateNode,a,e)),!1;case 1:if(t=s.type,l=s.stateNode,0===(128&s.flags)&&("function"===typeof t.getDerivedStateFromError||null!==l&&"function"===typeof l.componentDidCatch&&(null===No||!No.has(l))))return s.flags|=65536,n&=-n,s.lanes|=n,Ur(n=Br(n),e,s,a),Ti(s,n),!1}s=s.return}while(null!==s);return!1}(e,n,t,s,so))return oo=1,Rr(e,Ta(s,e.current)),void(to=null)}catch(l){if(null!==n)throw to=n,l;return oo=1,Rr(e,Ta(s,e.current)),void(to=null)}32768&t.flags?(Ka||1===a?e=!0:ro||0!==(536870912&so)?e=!1:(lo=e=!0,(2===a||3===a||6===a)&&(null!==(a=En.current)&&13===a.tag&&(a.flags|=16384))),Jo(t,e)):Yo(t)}function Yo(e){var t=e;do{if(0!==(32768&t.flags))return void Jo(t,lo);e=t.return;var s=$c(t.alternate,t,co);if(null!==s)return void(to=s);if(null!==(t=t.sibling))return void(to=t);to=t=e}while(null!==t);0===oo&&(oo=5)}function Jo(e,t){do{var s=Kc(e.alternate,e);if(null!==s)return s.flags&=32767,void(to=s);if(null!==(s=e.return)&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!t&&null!==(e=e.sibling))return void(to=e);to=e=s}while(null!==e);oo=6,to=null}function Zo(e,t,s,a,n,l,i,c,o,d){var u=L.T,m=q.p;try{q.p=2,L.T=null,function(e,t,s,a,n,l,i,c){do{td()}while(null!==_o);if(0!==(6&Zc))throw Error(r(327));var o=e.finishedWork;if(a=e.finishedLanes,null===o)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var d=o.lanes|o.childLanes;if(function(e,t,s,a,n,l){var r=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var i=e.entanglements,c=e.expirationTimes,o=e.hiddenUpdates;for(s=r&~s;0<s;){var d=31-je(s),u=1<<d;i[d]=0,c[d]=-1;var m=o[d];if(null!==m)for(o[d]=null,d=0;d<m.length;d++){var x=m[d];null!==x&&(x.lane&=-536870913)}s&=~u}0!==a&&Te(e,a,0),0!==l&&0===n&&0!==e.tag&&(e.suspendedLanes|=l&~(r&~t))}(e,a,d|=_a,l,i,c),e===eo&&(to=eo=null,so=0),0===(10256&o.subtreeFlags)&&0===(10256&o.flags)||wo||(wo=!0,So=d,Co=s,function(e,t){ne(e,t)}(me,(function(){return td(),null}))),s=0!==(15990&o.flags),0!==(15990&o.subtreeFlags)||s?(s=L.T,L.T=null,l=q.p,q.p=2,i=Zc,Zc|=4,function(e,t){if(e=e.containerInfo,Qd=Hu,Zs(e=Js(e))){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(s=(s=e.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(a&&0!==a.rangeCount){s=a.anchorNode;var n=a.anchorOffset,l=a.focusNode;a=a.focusOffset;try{s.nodeType,l.nodeType}catch(g){s=null;break e}var i=0,c=-1,o=-1,d=0,u=0,m=e,x=null;t:for(;;){for(var h;m!==s||0!==n&&3!==m.nodeType||(c=i+n),m!==l||0!==a&&3!==m.nodeType||(o=i+a),3===m.nodeType&&(i+=m.nodeValue.length),null!==(h=m.firstChild);)x=m,m=h;for(;;){if(m===e)break t;if(x===s&&++d===n&&(c=i),x===l&&++u===a&&(o=i),null!==(h=m.nextSibling))break;x=(m=x).parentNode}m=h}s=-1===c||-1===o?null:{start:c,end:o}}else s=null}s=s||{start:0,end:0}}else s=null;for($d={focusedElem:e,selectionRange:s},Hu=!1,tc=t;null!==tc;)if(e=(t=tc).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,tc=e;else for(;null!==tc;){switch(l=(t=tc).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==l){e=void 0,s=t,n=l.memoizedProps,l=l.memoizedState,a=s.stateNode;try{var p=Pr(s.type,n,(s.elementType,s.type));e=a.getSnapshotBeforeUpdate(p,l),a.__reactInternalSnapshotBeforeUpdate=e}catch(f){ad(s,s.return,f)}}break;case 3:if(0!==(1024&e))if(9===(s=(e=t.stateNode.containerInfo).nodeType))ru(e);else if(1===s)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ru(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(r(163))}if(null!==(e=t.sibling)){e.return=t.return,tc=e;break}tc=t.return}p=sc,sc=!1}(e,o),xc(o,e),ea($d,e.containerInfo),Hu=!!Qd,$d=Qd=null,e.current=o,ac(e,o.alternate,o),ie(),Zc=i,q.p=l,L.T=s):e.current=o,wo?(wo=!1,_o=e,ko=a):ed(e,d),d=e.pendingLanes,0===d&&(No=null),function(e){if(ve&&"function"===typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(fe,e,void 0,128===(128&e.current.flags))}catch(t){}}(o.stateNode),pd(e),null!==t)for(n=e.onRecoverableError,o=0;o<t.length;o++)d=t[o],n(d.value,{componentStack:d.stack});0!==(3&ko)&&td(),d=e.pendingLanes,0!==(4194218&a)&&0!==(42&d)?e===Ao?Eo++:(Eo=0,Ao=e):Eo=0,gd(0,!1)}(e,t,s,a,m,n,l,i)}finally{L.T=u,q.p=m}}function ed(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Un(t)))}function td(){if(null!==_o){var e=_o,t=So;So=0;var s=Me(ko),a=L.T,n=q.p;try{if(q.p=32>s?32:s,L.T=null,null===_o)var l=!1;else{s=Co,Co=null;var i=_o,c=ko;if(_o=null,ko=0,0!==(6&Zc))throw Error(r(331));var o=Zc;if(Zc|=4,Lc(i.current),Nc(i,i.current,c,s),Zc=o,gd(0,!1),ve&&"function"===typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(fe,i)}catch(d){}l=!0}return l}finally{q.p=n,L.T=a,ed(e,t)}}return!1}function sd(e,t,s){t=Ta(s,t),null!==(e=zi(e,t=Fr(e.stateNode,t,2),2))&&(Pe(e,2),pd(e))}function ad(e,t,s){if(3===e.tag)sd(e,e,s);else for(;null!==t;){if(3===t.tag){sd(t,e,s);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===No||!No.has(a))){e=Ta(s,e),null!==(a=zi(t,s=Br(2),2))&&(Ur(s,a,t,e),Pe(a,2),pd(a));break}}t=t.return}}function nd(e,t,s){var a=e.pingCache;if(null===a){a=e.pingCache=new Jc;var n=new Set;a.set(t,n)}else void 0===(n=a.get(t))&&(n=new Set,a.set(t,n));n.has(s)||(io=!0,n.add(s),e=ld.bind(null,e,t,s),t.then(e,e))}function ld(e,t,s){var a=e.pingCache;null!==a&&a.delete(t),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,eo===e&&(so&s)===s&&(4===oo||3===oo&&(62914560&so)===so&&300>ce()-bo?0===(2&Zc)&&Bo(e,0):xo|=s,po===so&&(po=0)),pd(e)}function rd(e,t){0===t&&(t=Le()),null!==(e=Ea(e,t))&&(Pe(e,t),pd(e))}function id(e){var t=e.memoizedState,s=0;null!==t&&(s=t.retryLane),rd(e,s)}function cd(e,t){var s=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;null!==n&&(s=n.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==a&&a.delete(t),rd(e,s)}var od=null,dd=null,ud=!1,md=!1,xd=!1,hd=0;function pd(e){var t;e!==dd&&null===e.next&&(null===dd?od=dd=e:dd=dd.next=e),md=!0,ud||(ud=!0,t=fd,au((function(){0!==(6&Zc)?ne(de,t):t()})))}function gd(e,t){if(!xd&&md){xd=!0;do{for(var s=!1,a=od;null!==a;){if(!t)if(0!==e){var n=a.pendingLanes;if(0===n)var l=0;else{var r=a.suspendedLanes,i=a.pingedLanes;l=(1<<31-je(42|e)+1)-1,l=201326677&(l&=n&~(r&~i))?201326677&l|1:l?2|l:0}0!==l&&(s=!0,jd(a,l))}else l=so,0===(3&(l=Se(a,a===eo?l:0)))||Ce(a,l)||(s=!0,jd(a,l));a=a.next}}while(s);xd=!1}}function fd(){md=ud=!1;var e=0;0!==hd&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Zd&&(Zd=e,!0);return Zd=null,!1}()&&(e=hd),hd=0);for(var t=ce(),s=null,a=od;null!==a;){var n=a.next,l=vd(a,t);0===l?(a.next=null,null===s?od=n:s.next=n,null===n&&(dd=s)):(s=a,(0!==e||0!==(3&l))&&(md=!0)),a=n}gd(e,!1)}function vd(e,t){for(var s=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,l=-62914561&e.pendingLanes;0<l;){var r=31-je(l),i=1<<r,c=n[r];-1===c?0!==(i&s)&&0===(i&a)||(n[r]=Ee(i,t)):c<=t&&(e.expiredLanes|=i),l&=~i}if(s=so,s=Se(e,e===(t=eo)?s:0),a=e.callbackNode,0===s||e===t&&2===ao||null!==e.cancelPendingCommit)return null!==a&&null!==a&&le(a),e.callbackNode=null,e.callbackPriority=0;if(0===(3&s)||Ce(e,s)){if((t=s&-s)===e.callbackPriority)return t;switch(null!==a&&le(a),Me(s)){case 2:case 8:s=ue;break;case 32:default:s=me;break;case 268435456:s=he}return a=bd.bind(null,e),s=ne(s,a),e.callbackPriority=t,e.callbackNode=s,t}return null!==a&&null!==a&&le(a),e.callbackPriority=2,e.callbackNode=null,2}function bd(e,t){var s=e.callbackNode;if(td()&&e.callbackNode!==s)return null;var a=so;return 0===(a=Se(e,e===eo?a:0))?null:(To(e,a,t),vd(e,ce()),null!=e.callbackNode&&e.callbackNode===s?bd.bind(null,e):null)}function jd(e,t){if(td())return null;To(e,t,!0)}function yd(){return 0===hd&&(hd=Ae()),hd}function Nd(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:At(""+e)}function wd(e,t){var s=t.ownerDocument.createElement("input");return s.name=t.name,s.value=t.value,e.id&&s.setAttribute("form",e.id),t.parentNode.insertBefore(s,t),e=new FormData(e),s.parentNode.removeChild(s),e}for(var _d=0;_d<ja.length;_d++){var kd=ja[_d];ya(kd.toLowerCase(),"on"+(kd[0].toUpperCase()+kd.slice(1)))}ya(ma,"onAnimationEnd"),ya(xa,"onAnimationIteration"),ya(ha,"onAnimationStart"),ya("dblclick","onDoubleClick"),ya("focusin","onFocus"),ya("focusout","onBlur"),ya(pa,"onTransitionRun"),ya(ga,"onTransitionStart"),ya(fa,"onTransitionCancel"),ya(va,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cd=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sd));function Ed(e,t){t=0!==(4&t);for(var s=0;s<e.length;s++){var a=e[s],n=a.event;a=a.listeners;e:{var l=void 0;if(t)for(var r=a.length-1;0<=r;r--){var i=a[r],c=i.instance,o=i.currentTarget;if(i=i.listener,c!==l&&n.isPropagationStopped())break e;l=i,n.currentTarget=o;try{l(n)}catch(d){Tr(d)}n.currentTarget=null,l=c}else for(r=0;r<a.length;r++){if(c=(i=a[r]).instance,o=i.currentTarget,i=i.listener,c!==l&&n.isPropagationStopped())break e;l=i,n.currentTarget=o;try{l(n)}catch(d){Tr(d)}n.currentTarget=null,l=c}}}}function Ad(e,t){var s=t[Ue];void 0===s&&(s=t[Ue]=new Set);var a=e+"__bubble";s.has(a)||(Td(t,e,2,!1),s.add(a))}function Ld(e,t,s){var a=0;t&&(a|=4),Td(s,e,a,t)}var zd="_reactListening"+Math.random().toString(36).slice(2);function Pd(e){if(!e[zd]){e[zd]=!0,Je.forEach((function(t){"selectionchange"!==t&&(Cd.has(t)||Ld(t,!1,e),Ld(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zd]||(t[zd]=!0,Ld("selectionchange",!1,t))}}function Td(e,t,s,a){switch(Yu(t)){case 2:var n=Gu;break;case 8:n=Wu;break;default:n=Qu}s=n.bind(null,t,s,e),n=void 0,!It||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(n=!0),a?void 0!==n?e.addEventListener(t,s,{capture:!0,passive:n}):e.addEventListener(t,s,!0):void 0!==n?e.addEventListener(t,s,{passive:n}):e.addEventListener(t,s,!1)}function Od(e,t,s,a,n){var l=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var r=a.tag;if(3===r||4===r){var i=a.stateNode.containerInfo;if(i===n||8===i.nodeType&&i.parentNode===n)break;if(4===r)for(r=a.return;null!==r;){var c=r.tag;if((3===c||4===c)&&((c=r.stateNode.containerInfo)===n||8===c.nodeType&&c.parentNode===n))return;r=r.return}for(;null!==i;){if(null===(r=Qe(i)))return;if(5===(c=r.tag)||6===c||26===c||27===c){a=l=r;continue e}i=i.parentNode}}a=a.return}Dt((function(){var a=l,n=zt(s),r=[];e:{var i=ba.get(e);if(void 0!==i){var c=Jt,o=e;switch(e){case"keypress":if(0===Ht(s))break e;case"keydown":case"keyup":c=xs;break;case"focusin":o="focus",c=ns;break;case"focusout":o="blur",c=ns;break;case"beforeblur":case"afterblur":c=ns;break;case"click":if(2===s.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=ss;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=as;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=ps;break;case ma:case xa:case ha:c=ls;break;case va:c=gs;break;case"scroll":case"scrollend":c=es;break;case"wheel":c=fs;break;case"copy":case"cut":case"paste":c=rs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=hs;break;case"toggle":case"beforetoggle":c=vs}var d=0!==(4&t),u=!d&&("scroll"===e||"scrollend"===e),m=d?null!==i?i+"Capture":null:i;d=[];for(var x,h=a;null!==h;){var p=h;if(x=p.stateNode,5!==(p=p.tag)&&26!==p&&27!==p||null===x||null===m||null!=(p=Rt(h,m))&&d.push(Md(h,p,x)),u)break;h=h.return}0<d.length&&(i=new c(i,o,null,s,n),r.push({event:i,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||s===Lt||!(o=s.relatedTarget||s.fromElement)||!Qe(o)&&!o[Be])&&(c||i)&&(i=n.window===n?n:(i=n.ownerDocument)?i.defaultView||i.parentWindow:window,c?(c=a,null!==(o=(o=s.relatedTarget||s.toElement)?Qe(o):null)&&(u=R(o),d=o.tag,o!==u||5!==d&&27!==d&&6!==d)&&(o=null)):(c=null,o=a),c!==o)){if(d=ss,p="onMouseLeave",m="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=hs,p="onPointerLeave",m="onPointerEnter",h="pointer"),u=null==c?i:Ke(c),x=null==o?i:Ke(o),(i=new d(p,h+"leave",c,s,n)).target=u,i.relatedTarget=x,p=null,Qe(n)===a&&((d=new d(m,h+"enter",o,s,n)).target=x,d.relatedTarget=u,p=d),u=p,c&&o)e:{for(m=o,h=0,x=d=c;x;x=Rd(x))h++;for(x=0,p=m;p;p=Rd(p))x++;for(;0<h-x;)d=Rd(d),h--;for(;0<x-h;)m=Rd(m),x--;for(;h--;){if(d===m||null!==m&&d===m.alternate)break e;d=Rd(d),m=Rd(m)}d=null}else d=null;null!==c&&Id(r,i,c,d,!1),null!==o&&null!==u&&Id(r,u,o,d,!0)}if("select"===(c=(i=a?Ke(a):window).nodeName&&i.nodeName.toLowerCase())||"input"===c&&"file"===i.type)var g=Ds;else if(Ls(i))if(Rs)g=Ws;else{g=Hs;var f=Vs}else!(c=i.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type?a&&St(a.elementType)&&(g=Ds):g=Gs;switch(g&&(g=g(e,a))?zs(r,g,s,n):(f&&f(e,i,a),"focusout"===e&&a&&"number"===i.type&&null!=a.memoizedProps.value&&vt(i,"number",i.value)),f=a?Ke(a):window,e){case"focusin":(Ls(f)||"true"===f.contentEditable)&&(sa=f,aa=a,na=null);break;case"focusout":na=aa=sa=null;break;case"mousedown":la=!0;break;case"contextmenu":case"mouseup":case"dragend":la=!1,ra(r,s,n);break;case"selectionchange":if(ta)break;case"keydown":case"keyup":ra(r,s,n)}var v;if(js)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Es?Ss(e,s)&&(b="onCompositionEnd"):"keydown"===e&&229===s.keyCode&&(b="onCompositionStart");b&&(ws&&"ko"!==s.locale&&(Es||"onCompositionStart"!==b?"onCompositionEnd"===b&&Es&&(v=Vt()):(Ut="value"in(Bt=n)?Bt.value:Bt.textContent,Es=!0)),0<(f=Dd(a,b)).length&&(b=new is(b,e,null,s,n),r.push({event:b,listeners:f}),v?b.data=v:null!==(v=Cs(s))&&(b.data=v))),(v=Ns?function(e,t){switch(e){case"compositionend":return Cs(t);case"keypress":return 32!==t.which?null:(ks=!0,_s);case"textInput":return(e=t.data)===_s&&ks?null:e;default:return null}}(e,s):function(e,t){if(Es)return"compositionend"===e||!js&&Ss(e,t)?(e=Vt(),qt=Ut=Bt=null,Es=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ws&&"ko"!==t.locale?null:t.data}}(e,s))&&(0<(b=Dd(a,"onBeforeInput")).length&&(f=new is("onBeforeInput","beforeinput",null,s,n),r.push({event:f,listeners:b}),f.data=v)),function(e,t,s,a,n){if("submit"===t&&s&&s.stateNode===n){var l=Nd((n[Fe]||null).action),r=a.submitter;r&&null!==(t=(t=r[Fe]||null)?Nd(t.formAction):r.getAttribute("formAction"))&&(l=t,r=null);var i=new Jt("action","action",null,a,n);e.push({event:i,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(0!==hd){var e=r?wd(n,r):new FormData(n);dr(s,{pending:!0,data:e,method:n.method,action:l},null,e)}}else"function"===typeof l&&(i.preventDefault(),e=r?wd(n,r):new FormData(n),dr(s,{pending:!0,data:e,method:n.method,action:l},l,e))},currentTarget:n}]})}}(r,e,a,s,n)}Ed(r,t)}))}function Md(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Dd(e,t){for(var s=t+"Capture",a=[];null!==e;){var n=e,l=n.stateNode;5!==(n=n.tag)&&26!==n&&27!==n||null===l||(null!=(n=Rt(e,s))&&a.unshift(Md(e,n,l)),null!=(n=Rt(e,t))&&a.push(Md(e,n,l))),e=e.return}return a}function Rd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Id(e,t,s,a,n){for(var l=t._reactName,r=[];null!==s&&s!==a;){var i=s,c=i.alternate,o=i.stateNode;if(i=i.tag,null!==c&&c===a)break;5!==i&&26!==i&&27!==i||null===o||(c=o,n?null!=(o=Rt(s,l))&&r.unshift(Md(s,o,c)):n||null!=(o=Rt(s,l))&&r.push(Md(s,o,c))),s=s.return}0!==r.length&&e.push({event:t,listeners:r})}var Fd=/\r\n?/g,Bd=/\u0000|\uFFFD/g;function Ud(e){return("string"===typeof e?e:""+e).replace(Fd,"\n").replace(Bd,"")}function qd(e,t){return t=Ud(t),Ud(e)===t}function Vd(){}function Hd(e,t,s,a,n,l){switch(s){case"children":"string"===typeof a?"body"===t||"textarea"===t&&""===a||Nt(e,a):("number"===typeof a||"bigint"===typeof a)&&"body"!==t&&Nt(e,""+a);break;case"className":it(e,"class",a);break;case"tabIndex":it(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":it(e,s,a);break;case"style":kt(e,a,l);break;case"data":if("object"!==t){it(e,"data",a);break}case"src":case"href":if(""===a&&("a"!==t||"href"!==s)){e.removeAttribute(s);break}if(null==a||"function"===typeof a||"symbol"===typeof a||"boolean"===typeof a){e.removeAttribute(s);break}a=At(""+a),e.setAttribute(s,a);break;case"action":case"formAction":if("function"===typeof a){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof l&&("formAction"===s?("input"!==t&&Hd(e,t,"name",n.name,n,null),Hd(e,t,"formEncType",n.formEncType,n,null),Hd(e,t,"formMethod",n.formMethod,n,null),Hd(e,t,"formTarget",n.formTarget,n,null)):(Hd(e,t,"encType",n.encType,n,null),Hd(e,t,"method",n.method,n,null),Hd(e,t,"target",n.target,n,null))),null==a||"symbol"===typeof a||"boolean"===typeof a){e.removeAttribute(s);break}a=At(""+a),e.setAttribute(s,a);break;case"onClick":null!=a&&(e.onclick=Vd);break;case"onScroll":null!=a&&Ad("scroll",e);break;case"onScrollEnd":null!=a&&Ad("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!==typeof a||!("__html"in a))throw Error(r(61));if(null!=(s=a.__html)){if(null!=n.children)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=a&&"function"!==typeof a&&"symbol"!==typeof a;break;case"muted":e.muted=a&&"function"!==typeof a&&"symbol"!==typeof a;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==a||"function"===typeof a||"boolean"===typeof a||"symbol"===typeof a){e.removeAttribute("xlink:href");break}s=At(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(s,""+a):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":!0===a?e.setAttribute(s,""):!1!==a&&null!=a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(s,a):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&!isNaN(a)&&1<=a?e.setAttribute(s,a):e.removeAttribute(s);break;case"rowSpan":case"start":null==a||"function"===typeof a||"symbol"===typeof a||isNaN(a)?e.removeAttribute(s):e.setAttribute(s,a);break;case"popover":Ad("beforetoggle",e),Ad("toggle",e),rt(e,"popover",a);break;case"xlinkActuate":ct(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":ct(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":ct(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":ct(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":ct(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":ct(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":ct(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":ct(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":ct(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":rt(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<s.length)||"o"!==s[0]&&"O"!==s[0]||"n"!==s[1]&&"N"!==s[1])&&rt(e,s=Ct.get(s)||s,a)}}function Gd(e,t,s,a,n,l){switch(s){case"style":kt(e,a,l);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!==typeof a||!("__html"in a))throw Error(r(61));if(null!=(s=a.__html)){if(null!=n.children)throw Error(r(60));e.innerHTML=s}}break;case"children":"string"===typeof a?Nt(e,a):("number"===typeof a||"bigint"===typeof a)&&Nt(e,""+a);break;case"onScroll":null!=a&&Ad("scroll",e);break;case"onScrollEnd":null!=a&&Ad("scrollend",e);break;case"onClick":null!=a&&(e.onclick=Vd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ze.hasOwnProperty(s)||("o"!==s[0]||"n"!==s[1]||(n=s.endsWith("Capture"),t=s.slice(2,n?s.length-7:void 0),"function"===typeof(l=null!=(l=e[Fe]||null)?l[s]:null)&&e.removeEventListener(t,l,n),"function"!==typeof a)?s in e?e[s]=a:!0===a?e.setAttribute(s,""):rt(e,s,a):("function"!==typeof l&&null!==l&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(t,a,n)))}}function Wd(e,t,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ad("error",e),Ad("load",e);var a,n=!1,l=!1;for(a in s)if(s.hasOwnProperty(a)){var i=s[a];if(null!=i)switch(a){case"src":n=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Hd(e,t,a,i,s,null)}}return l&&Hd(e,t,"srcSet",s.srcSet,s,null),void(n&&Hd(e,t,"src",s.src,s,null));case"input":Ad("invalid",e);var c=a=i=l=null,o=null,d=null;for(n in s)if(s.hasOwnProperty(n)){var u=s[n];if(null!=u)switch(n){case"name":l=u;break;case"type":i=u;break;case"checked":o=u;break;case"defaultChecked":d=u;break;case"value":a=u;break;case"defaultValue":c=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(r(137,t));break;default:Hd(e,t,n,u,s,null)}}return ft(e,a,c,o,d,i,l,!1),void ut(e);case"select":for(l in Ad("invalid",e),n=i=a=null,s)if(s.hasOwnProperty(l)&&null!=(c=s[l]))switch(l){case"value":a=c;break;case"defaultValue":i=c;break;case"multiple":n=c;default:Hd(e,t,l,c,s,null)}return t=a,s=i,e.multiple=!!n,void(null!=t?bt(e,!!n,t,!1):null!=s&&bt(e,!!n,s,!0));case"textarea":for(i in Ad("invalid",e),a=l=n=null,s)if(s.hasOwnProperty(i)&&null!=(c=s[i]))switch(i){case"value":n=c;break;case"defaultValue":l=c;break;case"children":a=c;break;case"dangerouslySetInnerHTML":if(null!=c)throw Error(r(91));break;default:Hd(e,t,i,c,s,null)}return yt(e,n,l,a),void ut(e);case"option":for(o in s)if(s.hasOwnProperty(o)&&null!=(n=s[o]))if("selected"===o)e.selected=n&&"function"!==typeof n&&"symbol"!==typeof n;else Hd(e,t,o,n,s,null);return;case"dialog":Ad("cancel",e),Ad("close",e);break;case"iframe":case"object":Ad("load",e);break;case"video":case"audio":for(n=0;n<Sd.length;n++)Ad(Sd[n],e);break;case"image":Ad("error",e),Ad("load",e);break;case"details":Ad("toggle",e);break;case"embed":case"source":case"link":Ad("error",e),Ad("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in s)if(s.hasOwnProperty(d)&&null!=(n=s[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Hd(e,t,d,n,s,null)}return;default:if(St(t)){for(u in s)s.hasOwnProperty(u)&&(void 0!==(n=s[u])&&Gd(e,t,u,n,s,void 0));return}}for(c in s)s.hasOwnProperty(c)&&(null!=(n=s[c])&&Hd(e,t,c,n,s,null))}var Qd=null,$d=null;function Kd(e){return 9===e.nodeType?e:e.ownerDocument}function Xd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Jd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Zd=null;var eu="function"===typeof setTimeout?setTimeout:void 0,tu="function"===typeof clearTimeout?clearTimeout:void 0,su="function"===typeof Promise?Promise:void 0,au="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof su?function(e){return su.resolve(null).then(e).catch(nu)}:eu;function nu(e){setTimeout((function(){throw e}))}function lu(e,t){var s=t,a=0;do{var n=s.nextSibling;if(e.removeChild(s),n&&8===n.nodeType)if("/$"===(s=n.data)){if(0===a)return e.removeChild(n),void pm(t);a--}else"$"!==s&&"$?"!==s&&"$!"!==s||a++;s=n}while(s);pm(t)}function ru(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var s=t;switch(t=t.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":ru(s),We(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===s.rel.toLowerCase())continue}e.removeChild(s)}}function iu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function cu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var s=e.data;if("$"===s||"$!"===s||"$?"===s){if(0===t)return e;t--}else"/$"===s&&t++}e=e.previousSibling}return null}function ou(e,t,s){switch(t=Kd(s),e){case"html":if(!(e=t.documentElement))throw Error(r(452));return e;case"head":if(!(e=t.head))throw Error(r(453));return e;case"body":if(!(e=t.body))throw Error(r(454));return e;default:throw Error(r(451))}}var du=new Map,uu=new Set;function mu(e){return"function"===typeof e.getRootNode?e.getRootNode():e.ownerDocument}var xu=q.d;q.d={f:function(){var e=xu.f(),t=Io();return e||t},r:function(e){var t=$e(e);null!==t&&5===t.tag&&"form"===t.type?mr(t):xu.r(e)},D:function(e){xu.D(e),pu("dns-prefetch",e,null)},C:function(e,t){xu.C(e,t),pu("preconnect",e,t)},L:function(e,t,s){xu.L(e,t,s);var a=hu;if(a&&e&&t){var n='link[rel="preload"][as="'+pt(t)+'"]';"image"===t&&s&&s.imageSrcSet?(n+='[imagesrcset="'+pt(s.imageSrcSet)+'"]',"string"===typeof s.imageSizes&&(n+='[imagesizes="'+pt(s.imageSizes)+'"]')):n+='[href="'+pt(e)+'"]';var l=n;switch(t){case"style":l=fu(e);break;case"script":l=ju(e)}du.has(l)||(e=z({rel:"preload",href:"image"===t&&s&&s.imageSrcSet?void 0:e,as:t},s),du.set(l,e),null!==a.querySelector(n)||"style"===t&&a.querySelector(vu(l))||"script"===t&&a.querySelector(yu(l))||(Wd(t=a.createElement("link"),"link",e),Ye(t),a.head.appendChild(t)))}},m:function(e,t){xu.m(e,t);var s=hu;if(s&&e){var a=t&&"string"===typeof t.as?t.as:"script",n='link[rel="modulepreload"][as="'+pt(a)+'"][href="'+pt(e)+'"]',l=n;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=ju(e)}if(!du.has(l)&&(e=z({rel:"modulepreload",href:e},t),du.set(l,e),null===s.querySelector(n))){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(yu(l)))return}Wd(a=s.createElement("link"),"link",e),Ye(a),s.head.appendChild(a)}}},X:function(e,t){xu.X(e,t);var s=hu;if(s&&e){var a=Xe(s).hoistableScripts,n=ju(e),l=a.get(n);l||((l=s.querySelector(yu(n)))||(e=z({src:e,async:!0},t),(t=du.get(n))&&ku(e,t),Ye(l=s.createElement("script")),Wd(l,"link",e),s.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},a.set(n,l))}},S:function(e,t,s){xu.S(e,t,s);var a=hu;if(a&&e){var n=Xe(a).hoistableStyles,l=fu(e);t=t||"default";var r=n.get(l);if(!r){var i={loading:0,preload:null};if(r=a.querySelector(vu(l)))i.loading=5;else{e=z({rel:"stylesheet",href:e,"data-precedence":t},s),(s=du.get(l))&&_u(e,s);var c=r=a.createElement("link");Ye(c),Wd(c,"link",e),c._p=new Promise((function(e,t){c.onload=e,c.onerror=t})),c.addEventListener("load",(function(){i.loading|=1})),c.addEventListener("error",(function(){i.loading|=2})),i.loading|=4,wu(r,t,a)}r={type:"stylesheet",instance:r,count:1,state:i},n.set(l,r)}}},M:function(e,t){xu.M(e,t);var s=hu;if(s&&e){var a=Xe(s).hoistableScripts,n=ju(e),l=a.get(n);l||((l=s.querySelector(yu(n)))||(e=z({src:e,async:!0,type:"module"},t),(t=du.get(n))&&ku(e,t),Ye(l=s.createElement("script")),Wd(l,"link",e),s.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},a.set(n,l))}}};var hu="undefined"===typeof document?null:document;function pu(e,t,s){var a=hu;if(a&&"string"===typeof t&&t){var n=pt(t);n='link[rel="'+e+'"][href="'+n+'"]',"string"===typeof s&&(n+='[crossorigin="'+s+'"]'),uu.has(n)||(uu.add(n),e={rel:e,crossOrigin:s,href:t},null===a.querySelector(n)&&(Wd(t=a.createElement("link"),"link",e),Ye(t),a.head.appendChild(t)))}}function gu(e,t,s,a){var n,l,i,c,o=(o=Y.current)?mu(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof s.precedence&&"string"===typeof s.href?(t=fu(s.href),(a=(s=Xe(o).hoistableStyles).get(t))||(a={type:"style",instance:null,count:0,state:null},s.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===s.rel&&"string"===typeof s.href&&"string"===typeof s.precedence){e=fu(s.href);var d=Xe(o).hoistableStyles,u=d.get(e);if(u||(o=o.ownerDocument||o,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=o.querySelector(vu(e)))&&!d._p&&(u.instance=d,u.state.loading=5),du.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},du.set(e,s),d||(n=o,l=e,i=s,c=u.state,n.querySelector('link[rel="preload"][as="style"]['+l+"]")?c.loading=1:(l=n.createElement("link"),c.preload=l,l.addEventListener("load",(function(){return c.loading|=1})),l.addEventListener("error",(function(){return c.loading|=2})),Wd(l,"link",i),Ye(l),n.head.appendChild(l))))),t&&null===a)throw Error(r(528,""));return u}if(t&&null!==a)throw Error(r(529,""));return null;case"script":return t=s.async,"string"===typeof(s=s.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=ju(s),(a=(s=Xe(o).hoistableScripts).get(t))||(a={type:"script",instance:null,count:0,state:null},s.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function fu(e){return'href="'+pt(e)+'"'}function vu(e){return'link[rel="stylesheet"]['+e+"]"}function bu(e){return z({},e,{"data-precedence":e.precedence,precedence:null})}function ju(e){return'[src="'+pt(e)+'"]'}function yu(e){return"script[async]"+e}function Nu(e,t,s){if(t.count++,null===t.instance)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+pt(s.href)+'"]');if(a)return t.instance=a,Ye(a),a;var n=z({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return Ye(a=(e.ownerDocument||e).createElement("style")),Wd(a,"style",n),wu(a,s.precedence,e),t.instance=a;case"stylesheet":n=fu(s.href);var l=e.querySelector(vu(n));if(l)return t.state.loading|=4,t.instance=l,Ye(l),l;a=bu(s),(n=du.get(n))&&_u(a,n),Ye(l=(e.ownerDocument||e).createElement("link"));var i=l;return i._p=new Promise((function(e,t){i.onload=e,i.onerror=t})),Wd(l,"link",a),t.state.loading|=4,wu(l,s.precedence,e),t.instance=l;case"script":return l=ju(s.src),(n=e.querySelector(yu(l)))?(t.instance=n,Ye(n),n):(a=s,(n=du.get(l))&&ku(a=z({},s),n),Ye(n=(e=e.ownerDocument||e).createElement("script")),Wd(n,"link",a),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(r(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(a=t.instance,t.state.loading|=4,wu(a,s.precedence,e));return t.instance}function wu(e,t,s){for(var a=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=a.length?a[a.length-1]:null,l=n,r=0;r<a.length;r++){var i=a[r];if(i.dataset.precedence===t)l=i;else if(l!==n)break}l?l.parentNode.insertBefore(e,l.nextSibling):(t=9===s.nodeType?s.head:s).insertBefore(e,t.firstChild)}function _u(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function ku(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Su=null;function Cu(e,t,s){if(null===Su){var a=new Map,n=Su=new Map;n.set(s,a)}else(a=(n=Su).get(s))||(a=new Map,n.set(s,a));if(a.has(e))return a;for(a.set(e,null),s=s.getElementsByTagName(e),n=0;n<s.length;n++){var l=s[n];if(!(l[Ge]||l[Ie]||"link"===e&&"stylesheet"===l.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==l.namespaceURI){var r=l.getAttribute(t)||"";r=e+r;var i=a.get(r);i?i.push(l):a.set(r,[l])}}return a}function Eu(e,t,s){(e=e.ownerDocument||e).head.insertBefore(s,"title"===t?e.querySelector("head > title"):null)}function Au(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Lu=null;function zu(){}function Pu(){if(this.count--,0===this.count)if(this.stylesheets)Ou(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Tu=null;function Ou(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Tu=new Map,t.forEach(Mu,e),Tu=null,Pu.call(e))}function Mu(e,t){if(!(4&t.state.loading)){var s=Tu.get(e);if(s)var a=s.get(null);else{s=new Map,Tu.set(e,s);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<n.length;l++){var r=n[l];"LINK"!==r.nodeName&&"not all"===r.getAttribute("media")||(s.set(r.dataset.precedence,r),a=r)}a&&s.set(null,a)}r=(n=t.instance).getAttribute("data-precedence"),(l=s.get(r)||a)===a&&s.set(null,n),s.set(r,n),this.count++,a=Pu.bind(this),n.addEventListener("load",a),n.addEventListener("error",a),l?l.parentNode.insertBefore(n,l.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(n,e.firstChild),t.state.loading|=4}}var Du={$$typeof:g,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function Ru(e,t,s,a,n,l,r,i){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ze(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ze(0),this.hiddenUpdates=ze(null),this.identifierPrefix=a,this.onUncaughtError=n,this.onCaughtError=l,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=i,this.incompleteTransitions=new Map}function Iu(e,t,s,a,n,l,r,i,c,o,d,u){return e=new Ru(e,t,s,r,i,c,o,u),t=1,!0===l&&(t|=24),l=Oc(3,null,null,t),e.current=l,l.stateNode=e,(t=Bn()).refCount++,e.pooledCache=t,t.refCount++,l.memoizedState={element:a,isDehydrated:s,cache:t},Ei(l),e}function Fu(e){return e?e=za:za}function Bu(e,t,s,a,n,l){n=Fu(n),null===a.context?a.context=n:a.pendingContext=n,(a=Li(t)).payload={element:s},null!==(l=void 0===l?null:l)&&(a.callback=l),null!==(s=zi(e,a,t))&&(Po(s,0,t),Pi(s,e,t))}function Uu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var s=e.retryLane;e.retryLane=0!==s&&s<t?s:t}}function qu(e,t){Uu(e,t),(e=e.alternate)&&Uu(e,t)}function Vu(e){if(13===e.tag){var t=Ea(e,67108864);null!==t&&Po(t,0,67108864),qu(e,67108864)}}var Hu=!0;function Gu(e,t,s,a){var n=L.T;L.T=null;var l=q.p;try{q.p=2,Qu(e,t,s,a)}finally{q.p=l,L.T=n}}function Wu(e,t,s,a){var n=L.T;L.T=null;var l=q.p;try{q.p=8,Qu(e,t,s,a)}finally{q.p=l,L.T=n}}function Qu(e,t,s,a){if(Hu){var n=$u(a);if(null===n)Od(e,t,a,Ku,s),rm(e,a);else if(function(e,t,s,a,n){switch(t){case"focusin":return Zu=im(Zu,e,t,s,a,n),!0;case"dragenter":return em=im(em,e,t,s,a,n),!0;case"mouseover":return tm=im(tm,e,t,s,a,n),!0;case"pointerover":var l=n.pointerId;return sm.set(l,im(sm.get(l)||null,e,t,s,a,n)),!0;case"gotpointercapture":return l=n.pointerId,am.set(l,im(am.get(l)||null,e,t,s,a,n)),!0}return!1}(n,e,t,s,a))a.stopPropagation();else if(rm(e,a),4&t&&-1<lm.indexOf(e)){for(;null!==n;){var l=$e(n);if(null!==l)switch(l.tag){case 3:if((l=l.stateNode).current.memoizedState.isDehydrated){var r=ke(l.pendingLanes);if(0!==r){var i=l;for(i.pendingLanes|=2,i.entangledLanes|=2;r;){var c=1<<31-je(r);i.entanglements[1]|=c,r&=~c}pd(l),0===(6&Zc)&&(jo=ce()+500,gd(0,!1))}}break;case 13:null!==(i=Ea(l,2))&&Po(i,0,2),Io(),qu(l,2)}if(null===(l=$u(a))&&Od(e,t,a,Ku,s),l===n)break;n=l}null!==n&&a.stopPropagation()}else Od(e,t,a,null,s)}}function $u(e){return Xu(e=zt(e))}var Ku=null;function Xu(e){if(Ku=null,null!==(e=Qe(e))){var t=R(e);if(null===t)e=null;else{var s=t.tag;if(13===s){if(null!==(e=I(t)))return e;e=null}else if(3===s){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ku=e,null}function Yu(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oe()){case de:return 2;case ue:return 8;case me:case xe:return 32;case he:return 268435456;default:return 32}default:return 32}}var Ju=!1,Zu=null,em=null,tm=null,sm=new Map,am=new Map,nm=[],lm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rm(e,t){switch(e){case"focusin":case"focusout":Zu=null;break;case"dragenter":case"dragleave":em=null;break;case"mouseover":case"mouseout":tm=null;break;case"pointerover":case"pointerout":sm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":am.delete(t.pointerId)}}function im(e,t,s,a,n,l){return null===e||e.nativeEvent!==l?(e={blockedOn:t,domEventName:s,eventSystemFlags:a,nativeEvent:l,targetContainers:[n]},null!==t&&(null!==(t=$e(t))&&Vu(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==n&&-1===t.indexOf(n)&&t.push(n),e)}function cm(e){var t=Qe(e.target);if(null!==t){var s=R(t);if(null!==s)if(13===(t=s.tag)){if(null!==(t=I(s)))return e.blockedOn=t,void function(e,t){var s=q.p;try{return q.p=e,t()}finally{q.p=s}}(e.priority,(function(){if(13===s.tag){var e=Lo(),t=Ea(s,e);null!==t&&Po(t,0,e),qu(s,e)}}))}else if(3===t&&s.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===s.tag?s.stateNode.containerInfo:null)}e.blockedOn=null}function om(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var s=$u(e.nativeEvent);if(null!==s)return null!==(t=$e(s))&&Vu(t),e.blockedOn=s,!1;var a=new(s=e.nativeEvent).constructor(s.type,s);Lt=a,s.target.dispatchEvent(a),Lt=null,t.shift()}return!0}function dm(e,t,s){om(e)&&s.delete(t)}function um(){Ju=!1,null!==Zu&&om(Zu)&&(Zu=null),null!==em&&om(em)&&(em=null),null!==tm&&om(tm)&&(tm=null),sm.forEach(dm),am.forEach(dm)}function mm(e,t){e.blockedOn===t&&(e.blockedOn=null,Ju||(Ju=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,um)))}var xm=null;function hm(e){xm!==e&&(xm=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,(function(){xm===e&&(xm=null);for(var t=0;t<e.length;t+=3){var s=e[t],a=e[t+1],n=e[t+2];if("function"!==typeof a){if(null===Xu(a||s))continue;break}var l=$e(s);null!==l&&(e.splice(t,3),t-=3,dr(l,{pending:!0,data:n,method:s.method,action:a},a,n))}})))}function pm(e){function t(t){return mm(t,e)}null!==Zu&&mm(Zu,e),null!==em&&mm(em,e),null!==tm&&mm(tm,e),sm.forEach(t),am.forEach(t);for(var s=0;s<nm.length;s++){var a=nm[s];a.blockedOn===e&&(a.blockedOn=null)}for(;0<nm.length&&null===(s=nm[0]).blockedOn;)cm(s),null===s.blockedOn&&nm.shift();if(null!=(s=(e.ownerDocument||e).$$reactFormReplay))for(a=0;a<s.length;a+=3){var n=s[a],l=s[a+1],r=n[Fe]||null;if("function"===typeof l)r||hm(s);else if(r){var i=null;if(l&&l.hasAttribute("formAction")){if(n=l,r=l[Fe]||null)i=r.formAction;else if(null!==Xu(n))continue}else i=r.action;"function"===typeof i?s[a+1]=i:(s.splice(a,3),a-=3),hm(s)}}}function gm(e){this._internalRoot=e}function fm(e){this._internalRoot=e}fm.prototype.render=gm.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));Bu(t.current,Lo(),e,t,null,null)},fm.prototype.unmount=gm.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&td(),Bu(e.current,2,null,e,null,null),Io(),t[Be]=null}},fm.prototype.unstable_scheduleHydration=function(e){if(e){var t=De();e={blockedOn:null,target:e,priority:t};for(var s=0;s<nm.length&&0!==t&&t<nm[s].priority;s++);nm.splice(s,0,e),0===s&&cm(e)}};var vm=n.version;if("19.0.0"!==vm)throw Error(r(527,vm,"19.0.0"));q.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=R(e)))throw Error(r(188));return t!==e?null:e}for(var s=e,a=t;;){var n=s.return;if(null===n)break;var l=n.alternate;if(null===l){if(null!==(a=n.return)){s=a;continue}break}if(n.child===l.child){for(l=n.child;l;){if(l===s)return F(n),e;if(l===a)return F(n),t;l=l.sibling}throw Error(r(188))}if(s.return!==a.return)s=n,a=l;else{for(var i=!1,c=n.child;c;){if(c===s){i=!0,s=n,a=l;break}if(c===a){i=!0,a=n,s=l;break}c=c.sibling}if(!i){for(c=l.child;c;){if(c===s){i=!0,s=l,a=n;break}if(c===a){i=!0,a=l,s=n;break}c=c.sibling}if(!i)throw Error(r(189))}}if(s.alternate!==a)throw Error(r(190))}if(3!==s.tag)throw Error(r(188));return s.stateNode.current===s?e:t}(t),e=null===(e=null!==e?B(e):null)?null:e.stateNode};var bm={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:L,findFiberByHostInstance:Qe,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var jm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jm.isDisabled&&jm.supportsFiber)try{fe=jm.inject(bm),ve=jm}catch(Nm){}}t.createRoot=function(e,t){if(!i(e))throw Error(r(299));var s=!1,a="",n=Or,l=Mr,c=Dr;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(s=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onUncaughtError&&(n=t.onUncaughtError),void 0!==t.onCaughtError&&(l=t.onCaughtError),void 0!==t.onRecoverableError&&(c=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Iu(e,1,!1,null,0,s,a,n,l,c,0,null),e[Be]=t.current,Pd(8===e.nodeType?e.parentNode:e),new gm(t)},t.hydrateRoot=function(e,t,s){if(!i(e))throw Error(r(299));var a=!1,n="",l=Or,c=Mr,o=Dr,d=null;return null!==s&&void 0!==s&&(!0===s.unstable_strictMode&&(a=!0),void 0!==s.identifierPrefix&&(n=s.identifierPrefix),void 0!==s.onUncaughtError&&(l=s.onUncaughtError),void 0!==s.onCaughtError&&(c=s.onCaughtError),void 0!==s.onRecoverableError&&(o=s.onRecoverableError),void 0!==s.unstable_transitionCallbacks&&s.unstable_transitionCallbacks,void 0!==s.formState&&(d=s.formState)),(t=Iu(e,1,!0,t,0,a,n,l,c,o,0,d)).context=Fu(null),s=t.current,(n=Li(a=Lo())).callback=null,zi(s,n,a),t.current.lanes=a,Pe(t,a),pd(t),e[Be]=t.current,Pd(e),new fm(t)},t.version="19.0.0"},672:(e,t,s)=>{var a=s(43);function n(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},i=Symbol.for("react.portal");var c=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,t.createPortal=function(e,t){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(n(299));return function(e,t,s){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:i,key:null==a?null:""+a,children:e,containerInfo:t,implementation:s}}(e,t,null,s)},t.flushSync=function(e){var t=c.T,s=r.p;try{if(c.T=null,r.p=2,e)return e()}finally{c.T=t,r.p=s,r.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,r.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&r.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var s=t.as,a=o(s,t.crossOrigin),n="string"===typeof t.integrity?t.integrity:void 0,l="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===s?r.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:a,integrity:n,fetchPriority:l}):"script"===s&&r.d.X(e,{crossOrigin:a,integrity:n,fetchPriority:l,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var s=o(t.as,t.crossOrigin);r.d.M(e,{crossOrigin:s,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&r.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var s=t.as,a=o(s,t.crossOrigin);r.d.L(e,s,{crossOrigin:a,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var s=o(t.as,t.crossOrigin);r.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:s,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else r.d.m(e)},t.requestFormReset=function(e){r.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,s){return c.H.useFormState(e,t,s)},t.useFormStatus=function(){return c.H.useHostTransitionStatus()},t.version="19.0.0"},391:(e,t,s)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=s(4)},950:(e,t,s)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=s(672)},799:(e,t)=>{var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function n(e,t,a){var n=null;if(void 0!==a&&(n=""+a),void 0!==t.key&&(n=""+t.key),"key"in t)for(var l in a={},t)"key"!==l&&(a[l]=t[l]);else a=t;return t=a.ref,{$$typeof:s,type:e,key:n,ref:void 0!==t?t:null,props:a}}t.Fragment=a,t.jsx=n,t.jsxs=n},288:(e,t)=>{var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),c=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),x=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function f(e,t,s){this.props=e,this.context=t,this.refs=g,this.updater=s||h}function v(){}function b(e,t,s){this.props=e,this.context=t,this.refs=g,this.updater=s||h}f.prototype.isReactComponent={},f.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},f.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=f.prototype;var j=b.prototype=new v;j.constructor=b,p(j,f.prototype),j.isPureReactComponent=!0;var y=Array.isArray,N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function _(e,t,a,n,l,r){return a=r.ref,{$$typeof:s,type:e,key:t,ref:void 0!==a?a:null,props:r}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===s}var S=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function E(){}function A(e,t,n,l,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var c,o,d=!1;if(null===e)d=!0;else switch(i){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case s:case a:d=!0;break;case m:return A((d=e._init)(e._payload),t,n,l,r)}}if(d)return r=r(e),d=""===l?"."+C(e,0):l,y(r)?(n="",null!=d&&(n=d.replace(S,"$&/")+"/"),A(r,t,n,"",(function(e){return e}))):null!=r&&(k(r)&&(c=r,o=n+(null==r.key||e&&e.key===r.key?"":(""+r.key).replace(S,"$&/")+"/")+d,r=_(c.type,o,void 0,0,0,c.props)),t.push(r)),1;d=0;var u,h=""===l?".":l+":";if(y(e))for(var p=0;p<e.length;p++)d+=A(l=e[p],t,n,i=h+C(l,p),r);else if("function"===typeof(p=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=x&&u[x]||u["@@iterator"])?u:null))for(e=p.call(e),p=0;!(l=e.next()).done;)d+=A(l=l.value,t,n,i=h+C(l,p++),r);else if("object"===i){if("function"===typeof e.then)return A(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(E,E):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,n,l,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function L(e,t,s){if(null==e)return e;var a=[],n=0;return A(e,a,"","",(function(e){return t.call(s,e,n++)})),a}function z(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function T(){}t.Children={map:L,forEach:function(e,t,s){L(e,(function(){t.apply(this,arguments)}),s)},count:function(e){var t=0;return L(e,(function(){t++})),t},toArray:function(e){return L(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=f,t.Fragment=n,t.Profiler=r,t.PureComponent=b,t.StrictMode=l,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,s){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var a=p({},e.props),n=e.key;if(null!=t)for(l in void 0!==t.ref&&void 0,void 0!==t.key&&(n=""+t.key),t)!w.call(t,l)||"key"===l||"__self"===l||"__source"===l||"ref"===l&&void 0===t.ref||(a[l]=t[l]);var l=arguments.length-2;if(1===l)a.children=s;else if(1<l){for(var r=Array(l),i=0;i<l;i++)r[i]=arguments[i+2];a.children=r}return _(e.type,n,void 0,0,0,a)},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:i,_context:e},e},t.createElement=function(e,t,s){var a,n={},l=null;if(null!=t)for(a in void 0!==t.key&&(l=""+t.key),t)w.call(t,a)&&"key"!==a&&"__self"!==a&&"__source"!==a&&(n[a]=t[a]);var r=arguments.length-2;if(1===r)n.children=s;else if(1<r){for(var i=Array(r),c=0;c<r;c++)i[c]=arguments[c+2];n.children=i}if(e&&e.defaultProps)for(a in r=e.defaultProps)void 0===n[a]&&(n[a]=r[a]);return _(e,l,void 0,0,0,n)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:o,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:z}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.T,s={};N.T=s;try{var a=e(),n=N.S;null!==n&&n(s,a),"object"===typeof a&&null!==a&&"function"===typeof a.then&&a.then(T,P)}catch(l){P(l)}finally{N.T=t}},t.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},t.use=function(e){return N.H.use(e)},t.useActionState=function(e,t,s){return N.H.useActionState(e,t,s)},t.useCallback=function(e,t){return N.H.useCallback(e,t)},t.useContext=function(e){return N.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return N.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return N.H.useEffect(e,t)},t.useId=function(){return N.H.useId()},t.useImperativeHandle=function(e,t,s){return N.H.useImperativeHandle(e,t,s)},t.useInsertionEffect=function(e,t){return N.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.H.useMemo(e,t)},t.useOptimistic=function(e,t){return N.H.useOptimistic(e,t)},t.useReducer=function(e,t,s){return N.H.useReducer(e,t,s)},t.useRef=function(e){return N.H.useRef(e)},t.useState=function(e){return N.H.useState(e)},t.useSyncExternalStore=function(e,t,s){return N.H.useSyncExternalStore(e,t,s)},t.useTransition=function(){return N.H.useTransition()},t.version="19.0.0"},43:(e,t,s)=>{e.exports=s(288)},579:(e,t,s)=>{e.exports=s(799)},896:(e,t)=>{function s(e,t){var s=e.length;e.push(t);e:for(;0<s;){var a=s-1>>>1,n=e[a];if(!(0<l(n,t)))break e;e[a]=t,e[s]=n,s=a}}function a(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],s=e.pop();if(s!==t){e[0]=s;e:for(var a=0,n=e.length,r=n>>>1;a<r;){var i=2*(a+1)-1,c=e[i],o=i+1,d=e[o];if(0>l(c,s))o<n&&0>l(d,c)?(e[a]=d,e[o]=s,a=o):(e[a]=c,e[i]=s,a=i);else{if(!(o<n&&0>l(d,s)))break e;e[a]=d,e[o]=s,a=o}}}return t}function l(e,t){var s=e.sortIndex-t.sortIndex;return 0!==s?s:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var r=performance;t.unstable_now=function(){return r.now()}}else{var i=Date,c=i.now();t.unstable_now=function(){return i.now()-c}}var o=[],d=[],u=1,m=null,x=3,h=!1,p=!1,g=!1,f="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function j(e){for(var t=a(d);null!==t;){if(null===t.callback)n(d);else{if(!(t.startTime<=e))break;n(d),t.sortIndex=t.expirationTime,s(o,t)}t=a(d)}}function y(e){if(g=!1,j(e),!p)if(null!==a(o))p=!0,z();else{var t=a(d);null!==t&&P(y,t.startTime-e)}}var N,w=!1,_=-1,k=5,S=-1;function C(){return!(t.unstable_now()-S<k)}function E(){if(w){var e=t.unstable_now();S=e;var s=!0;try{e:{p=!1,g&&(g=!1,v(_),_=-1),h=!0;var l=x;try{t:{for(j(e),m=a(o);null!==m&&!(m.expirationTime>e&&C());){var r=m.callback;if("function"===typeof r){m.callback=null,x=m.priorityLevel;var i=r(m.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof i){m.callback=i,j(e),s=!0;break t}m===a(o)&&n(o),j(e)}else n(o);m=a(o)}if(null!==m)s=!0;else{var c=a(d);null!==c&&P(y,c.startTime-e),s=!1}}break e}finally{m=null,x=l,h=!1}s=void 0}}finally{s?N():w=!1}}}if("function"===typeof b)N=function(){b(E)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,L=A.port2;A.port1.onmessage=E,N=function(){L.postMessage(null)}}else N=function(){f(E,0)};function z(){w||(w=!0,N())}function P(e,s){_=f((function(){e(t.unstable_now())}),s)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,z())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return a(o)},t.unstable_next=function(e){switch(x){case 1:case 2:case 3:var t=3;break;default:t=x}var s=x;x=t;try{return e()}finally{x=s}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var s=x;x=e;try{return t()}finally{x=s}},t.unstable_scheduleCallback=function(e,n,l){var r=t.unstable_now();switch("object"===typeof l&&null!==l?l="number"===typeof(l=l.delay)&&0<l?r+l:r:l=r,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:n,priorityLevel:e,startTime:l,expirationTime:i=l+i,sortIndex:-1},l>r?(e.sortIndex=l,s(d,e),null===a(o)&&e===a(d)&&(g?(v(_),_=-1):g=!0,P(y,l-r))):(e.sortIndex=i,s(o,e),p||h||(p=!0,z())),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=x;return function(){var s=x;x=t;try{return e.apply(this,arguments)}finally{x=s}}}},853:(e,t,s)=>{e.exports=s(896)}},t={};function s(a){var n=t[a];if(void 0!==n)return n.exports;var l=t[a]={exports:{}};return e[a](l,l.exports,s),l.exports}s.d=(e,t)=>{for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};s.r(a),s.d(a,{hasBrowserEnv:()=>xe,hasStandardBrowserEnv:()=>pe,hasStandardBrowserWebWorkerEnv:()=>ge,navigator:()=>he,origin:()=>fe});var n=s(43),l=s(391);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var a=s.call(e,t||"default");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function c(e,t,s){return(t=i(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(Object(s),!0).forEach((function(t){c(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function u(e,t){return function(){return e.apply(t,arguments)}}const{toString:m}=Object.prototype,{getPrototypeOf:x}=Object,h=(p=Object.create(null),e=>{const t=m.call(e);return p[t]||(p[t]=t.slice(8,-1).toLowerCase())});var p;const g=e=>(e=e.toLowerCase(),t=>h(t)===e),f=e=>t=>typeof t===e,{isArray:v}=Array,b=f("undefined");const j=g("ArrayBuffer");const y=f("string"),N=f("function"),w=f("number"),_=e=>null!==e&&"object"===typeof e,k=e=>{if("object"!==h(e))return!1;const t=x(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},S=g("Date"),C=g("File"),E=g("Blob"),A=g("FileList"),L=g("URLSearchParams"),[z,P,T,O]=["ReadableStream","Request","Response","Headers"].map(g);function M(e,t){let s,a,{allOwnKeys:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),v(e))for(s=0,a=e.length;s<a;s++)t.call(null,e[s],s,e);else{const a=n?Object.getOwnPropertyNames(e):Object.keys(e),l=a.length;let r;for(s=0;s<l;s++)r=a[s],t.call(null,e[r],r,e)}}function D(e,t){t=t.toLowerCase();const s=Object.keys(e);let a,n=s.length;for(;n-- >0;)if(a=s[n],t===a.toLowerCase())return a;return null}const R="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,I=e=>!b(e)&&e!==R;const F=(B="undefined"!==typeof Uint8Array&&x(Uint8Array),e=>B&&e instanceof B);var B;const U=g("HTMLFormElement"),q=(e=>{let{hasOwnProperty:t}=e;return(e,s)=>t.call(e,s)})(Object.prototype),V=g("RegExp"),H=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),a={};M(s,((s,n)=>{let l;!1!==(l=t(s,n,e))&&(a[n]=l||s)})),Object.defineProperties(e,a)};const G=g("AsyncFunction"),W=((e,t)=>{return e?setImmediate:t?(s="axios@".concat(Math.random()),a=[],R.addEventListener("message",(e=>{let{source:t,data:n}=e;t===R&&n===s&&a.length&&a.shift()()}),!1),e=>{a.push(e),R.postMessage(s,"*")}):e=>setTimeout(e);var s,a})("function"===typeof setImmediate,N(R.postMessage)),Q="undefined"!==typeof queueMicrotask?queueMicrotask.bind(R):"undefined"!==typeof process&&process.nextTick||W,$={isArray:v,isArrayBuffer:j,isBuffer:function(e){return null!==e&&!b(e)&&null!==e.constructor&&!b(e.constructor)&&N(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||N(e.append)&&("formdata"===(t=h(e))||"object"===t&&N(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&j(e.buffer),t},isString:y,isNumber:w,isBoolean:e=>!0===e||!1===e,isObject:_,isPlainObject:k,isReadableStream:z,isRequest:P,isResponse:T,isHeaders:O,isUndefined:b,isDate:S,isFile:C,isBlob:E,isRegExp:V,isFunction:N,isStream:e=>_(e)&&N(e.pipe),isURLSearchParams:L,isTypedArray:F,isFileList:A,forEach:M,merge:function e(){const{caseless:t}=I(this)&&this||{},s={},a=(a,n)=>{const l=t&&D(s,n)||n;k(s[l])&&k(a)?s[l]=e(s[l],a):k(a)?s[l]=e({},a):v(a)?s[l]=a.slice():s[l]=a};for(let n=0,l=arguments.length;n<l;n++)arguments[n]&&M(arguments[n],a);return s},extend:function(e,t,s){let{allOwnKeys:a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return M(t,((t,a)=>{s&&N(t)?e[a]=u(t,s):e[a]=t}),{allOwnKeys:a}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,s,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},toFlatObject:(e,t,s,a)=>{let n,l,r;const i={};if(t=t||{},null==e)return t;do{for(n=Object.getOwnPropertyNames(e),l=n.length;l-- >0;)r=n[l],a&&!a(r,e,t)||i[r]||(t[r]=e[r],i[r]=!0);e=!1!==s&&x(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},kindOf:h,kindOfTest:g,endsWith:(e,t,s)=>{e=String(e),(void 0===s||s>e.length)&&(s=e.length),s-=t.length;const a=e.indexOf(t,s);return-1!==a&&a===s},toArray:e=>{if(!e)return null;if(v(e))return e;let t=e.length;if(!w(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},forEachEntry:(e,t)=>{const s=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=s.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},matchAll:(e,t)=>{let s;const a=[];for(;null!==(s=e.exec(t));)a.push(s);return a},isHTMLForm:U,hasOwnProperty:q,hasOwnProp:q,reduceDescriptors:H,freezeMethods:e=>{H(e,((t,s)=>{if(N(e)&&-1!==["arguments","caller","callee"].indexOf(s))return!1;const a=e[s];N(a)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")}))}))},toObjectSet:(e,t)=>{const s={},a=e=>{e.forEach((e=>{s[e]=!0}))};return v(e)?a(e):a(String(e).split(t)),s},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,s){return t.toUpperCase()+s})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:D,global:R,isContextDefined:I,isSpecCompliantForm:function(e){return!!(e&&N(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),s=(e,a)=>{if(_(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[a]=e;const n=v(e)?[]:{};return M(e,((e,t)=>{const l=s(e,a+1);!b(l)&&(n[t]=l)})),t[a]=void 0,n}}return e};return s(e,0)},isAsyncFn:G,isThenable:e=>e&&(_(e)||N(e))&&N(e.then)&&N(e.catch),setImmediate:W,asap:Q};function K(e,t,s,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}$.inherits(K,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}});const X=K.prototype,Y={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Y[e]={value:e}})),Object.defineProperties(K,Y),Object.defineProperty(X,"isAxiosError",{value:!0}),K.from=(e,t,s,a,n,l)=>{const r=Object.create(X);return $.toFlatObject(e,r,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),K.call(r,e.message,t,s,a,n),r.cause=e,r.name=e.name,l&&Object.assign(r,l),r};const J=K;function Z(e){return $.isPlainObject(e)||$.isArray(e)}function ee(e){return $.endsWith(e,"[]")?e.slice(0,-2):e}function te(e,t,s){return e?e.concat(t).map((function(e,t){return e=ee(e),!s&&t?"["+e+"]":e})).join(s?".":""):t}const se=$.toFlatObject($,{},null,(function(e){return/^is[A-Z]/.test(e)}));const ae=function(e,t,s){if(!$.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const a=(s=$.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!$.isUndefined(t[e])}))).metaTokens,n=s.visitor||o,l=s.dots,r=s.indexes,i=(s.Blob||"undefined"!==typeof Blob&&Blob)&&$.isSpecCompliantForm(t);if(!$.isFunction(n))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if($.isDate(e))return e.toISOString();if(!i&&$.isBlob(e))throw new J("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(e)||$.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function o(e,s,n){let i=e;if(e&&!n&&"object"===typeof e)if($.endsWith(s,"{}"))s=a?s:s.slice(0,-2),e=JSON.stringify(e);else if($.isArray(e)&&function(e){return $.isArray(e)&&!e.some(Z)}(e)||($.isFileList(e)||$.endsWith(s,"[]"))&&(i=$.toArray(e)))return s=ee(s),i.forEach((function(e,a){!$.isUndefined(e)&&null!==e&&t.append(!0===r?te([s],a,l):null===r?s:s+"[]",c(e))})),!1;return!!Z(e)||(t.append(te(n,s,l),c(e)),!1)}const d=[],u=Object.assign(se,{defaultVisitor:o,convertValue:c,isVisitable:Z});if(!$.isObject(e))throw new TypeError("data must be an object");return function e(s,a){if(!$.isUndefined(s)){if(-1!==d.indexOf(s))throw Error("Circular reference detected in "+a.join("."));d.push(s),$.forEach(s,(function(s,l){!0===(!($.isUndefined(s)||null===s)&&n.call(t,s,$.isString(l)?l.trim():l,a,u))&&e(s,a?a.concat(l):[l])})),d.pop()}}(e),t};function ne(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function le(e,t){this._pairs=[],e&&ae(e,this,t)}const re=le.prototype;re.append=function(e,t){this._pairs.push([e,t])},re.toString=function(e){const t=e?function(t){return e.call(this,t,ne)}:ne;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const ie=le;function ce(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function oe(e,t,s){if(!t)return e;const a=s&&s.encode||ce;$.isFunction(s)&&(s={serialize:s});const n=s&&s.serialize;let l;if(l=n?n(t,s):$.isURLSearchParams(t)?t.toString():new ie(t,s).toString(a),l){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+l}return e}const de=class{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!s&&s.synchronous,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){$.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ue={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},me={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:ie,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},xe="undefined"!==typeof window&&"undefined"!==typeof document,he="object"===typeof navigator&&navigator||void 0,pe=xe&&(!he||["ReactNative","NativeScript","NS"].indexOf(he.product)<0),ge="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,fe=xe&&window.location.href||"http://localhost",ve=d(d({},a),me);const be=function(e){function t(e,s,a,n){let l=e[n++];if("__proto__"===l)return!0;const r=Number.isFinite(+l),i=n>=e.length;if(l=!l&&$.isArray(a)?a.length:l,i)return $.hasOwnProp(a,l)?a[l]=[a[l],s]:a[l]=s,!r;a[l]&&$.isObject(a[l])||(a[l]=[]);return t(e,s,a[l],n)&&$.isArray(a[l])&&(a[l]=function(e){const t={},s=Object.keys(e);let a;const n=s.length;let l;for(a=0;a<n;a++)l=s[a],t[l]=e[l];return t}(a[l])),!r}if($.isFormData(e)&&$.isFunction(e.entries)){const s={};return $.forEachEntry(e,((e,a)=>{t(function(e){return $.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),a,s,0)})),s}return null};const je={transitional:ue,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",a=s.indexOf("application/json")>-1,n=$.isObject(e);n&&$.isHTMLForm(e)&&(e=new FormData(e));if($.isFormData(e))return a?JSON.stringify(be(e)):e;if($.isArrayBuffer(e)||$.isBuffer(e)||$.isStream(e)||$.isFile(e)||$.isBlob(e)||$.isReadableStream(e))return e;if($.isArrayBufferView(e))return e.buffer;if($.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(n){if(s.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return ae(e,new ve.classes.URLSearchParams,Object.assign({visitor:function(e,t,s,a){return ve.isNode&&$.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((l=$.isFileList(e))||s.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return ae(l?{"files[]":e}:e,t&&new t,this.formSerializer)}}return n||a?(t.setContentType("application/json",!1),function(e,t,s){if($.isString(e))try{return(t||JSON.parse)(e),$.trim(e)}catch(a){if("SyntaxError"!==a.name)throw a}return(s||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||je.transitional,s=t&&t.forcedJSONParsing,a="json"===this.responseType;if($.isResponse(e)||$.isReadableStream(e))return e;if(e&&$.isString(e)&&(s&&!this.responseType||a)){const s=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(n){if(s){if("SyntaxError"===n.name)throw J.from(n,J.ERR_BAD_RESPONSE,this,null,this.response);throw n}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ve.classes.FormData,Blob:ve.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],(e=>{je.headers[e]={}}));const ye=je,Ne=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),we=Symbol("internals");function _e(e){return e&&String(e).trim().toLowerCase()}function ke(e){return!1===e||null==e?e:$.isArray(e)?e.map(ke):String(e)}function Se(e,t,s,a,n){return $.isFunction(a)?a.call(this,t,s):(n&&(t=s),$.isString(t)?$.isString(a)?-1!==t.indexOf(a):$.isRegExp(a)?a.test(t):void 0:void 0)}class Ce{constructor(e){e&&this.set(e)}set(e,t,s){const a=this;function n(e,t,s){const n=_e(t);if(!n)throw new Error("header name must be a non-empty string");const l=$.findKey(a,n);(!l||void 0===a[l]||!0===s||void 0===s&&!1!==a[l])&&(a[l||t]=ke(e))}const l=(e,t)=>$.forEach(e,((e,s)=>n(e,s,t)));if($.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if($.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))l((e=>{const t={};let s,a,n;return e&&e.split("\n").forEach((function(e){n=e.indexOf(":"),s=e.substring(0,n).trim().toLowerCase(),a=e.substring(n+1).trim(),!s||t[s]&&Ne[s]||("set-cookie"===s?t[s]?t[s].push(a):t[s]=[a]:t[s]=t[s]?t[s]+", "+a:a)})),t})(e),t);else if($.isHeaders(e))for(const[r,i]of e.entries())n(i,r,s);else null!=e&&n(t,e,s);return this}get(e,t){if(e=_e(e)){const s=$.findKey(this,e);if(s){const e=this[s];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(e);)t[a[1]]=a[2];return t}(e);if($.isFunction(t))return t.call(this,e,s);if($.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=_e(e)){const s=$.findKey(this,e);return!(!s||void 0===this[s]||t&&!Se(0,this[s],s,t))}return!1}delete(e,t){const s=this;let a=!1;function n(e){if(e=_e(e)){const n=$.findKey(s,e);!n||t&&!Se(0,s[n],n,t)||(delete s[n],a=!0)}}return $.isArray(e)?e.forEach(n):n(e),a}clear(e){const t=Object.keys(this);let s=t.length,a=!1;for(;s--;){const n=t[s];e&&!Se(0,this[n],n,e,!0)||(delete this[n],a=!0)}return a}normalize(e){const t=this,s={};return $.forEach(this,((a,n)=>{const l=$.findKey(s,n);if(l)return t[l]=ke(a),void delete t[n];const r=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,s)=>t.toUpperCase()+s))}(n):String(n).trim();r!==n&&delete t[n],t[r]=ke(a),s[r]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return $.forEach(this,((s,a)=>{null!=s&&!1!==s&&(t[a]=e&&$.isArray(s)?s.join(", "):s)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,s]=e;return t+": "+s})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var s=arguments.length,a=new Array(s>1?s-1:0),n=1;n<s;n++)a[n-1]=arguments[n];return a.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[we]=this[we]={accessors:{}}).accessors,s=this.prototype;function a(e){const a=_e(e);t[a]||(!function(e,t){const s=$.toCamelCase(" "+t);["get","set","has"].forEach((a=>{Object.defineProperty(e,a+s,{value:function(e,s,n){return this[a].call(this,t,e,s,n)},configurable:!0})}))}(s,e),t[a]=!0)}return $.isArray(e)?e.forEach(a):a(e),this}}Ce.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),$.reduceDescriptors(Ce.prototype,((e,t)=>{let{value:s}=e,a=t[0].toUpperCase()+t.slice(1);return{get:()=>s,set(e){this[a]=e}}})),$.freezeMethods(Ce);const Ee=Ce;function Ae(e,t){const s=this||ye,a=t||s,n=Ee.from(a.headers);let l=a.data;return $.forEach(e,(function(e){l=e.call(s,l,n.normalize(),t?t.status:void 0)})),n.normalize(),l}function Le(e){return!(!e||!e.__CANCEL__)}function ze(e,t,s){J.call(this,null==e?"canceled":e,J.ERR_CANCELED,t,s),this.name="CanceledError"}$.inherits(ze,J,{__CANCEL__:!0});const Pe=ze;function Te(e,t,s){const a=s.config.validateStatus;s.status&&a&&!a(s.status)?t(new J("Request failed with status code "+s.status,[J.ERR_BAD_REQUEST,J.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s)):e(s)}const Oe=function(e,t){e=e||10;const s=new Array(e),a=new Array(e);let n,l=0,r=0;return t=void 0!==t?t:1e3,function(i){const c=Date.now(),o=a[r];n||(n=c),s[l]=i,a[l]=c;let d=r,u=0;for(;d!==l;)u+=s[d++],d%=e;if(l=(l+1)%e,l===r&&(r=(r+1)%e),c-n<t)return;const m=o&&c-o;return m?Math.round(1e3*u/m):void 0}};const Me=function(e,t){let s,a,n=0,l=1e3/t;const r=function(t){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();n=l,s=null,a&&(clearTimeout(a),a=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-n;for(var i=arguments.length,c=new Array(i),o=0;o<i;o++)c[o]=arguments[o];t>=l?r(c,e):(s=c,a||(a=setTimeout((()=>{a=null,r(s)}),l-t)))},()=>s&&r(s)]},De=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=0;const n=Oe(50,250);return Me((s=>{const l=s.loaded,r=s.lengthComputable?s.total:void 0,i=l-a,c=n(i);a=l;e({loaded:l,total:r,progress:r?l/r:void 0,bytes:i,rate:c||void 0,estimated:c&&r&&l<=r?(r-l)/c:void 0,event:s,lengthComputable:null!=r,[t?"download":"upload"]:!0})}),s)},Re=(e,t)=>{const s=null!=e;return[a=>t[0]({lengthComputable:s,total:e,loaded:a}),t[1]]},Ie=e=>function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return $.asap((()=>e(...s)))},Fe=ve.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,ve.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(ve.origin),ve.navigator&&/(msie|trident)/i.test(ve.navigator.userAgent)):()=>!0,Be=ve.hasStandardBrowserEnv?{write(e,t,s,a,n,l){const r=[e+"="+encodeURIComponent(t)];$.isNumber(s)&&r.push("expires="+new Date(s).toGMTString()),$.isString(a)&&r.push("path="+a),$.isString(n)&&r.push("domain="+n),!0===l&&r.push("secure"),document.cookie=r.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Ue(e,t,s){let a=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(a||0==s)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const qe=e=>e instanceof Ee?d({},e):e;function Ve(e,t){t=t||{};const s={};function a(e,t,s,a){return $.isPlainObject(e)&&$.isPlainObject(t)?$.merge.call({caseless:a},e,t):$.isPlainObject(t)?$.merge({},t):$.isArray(t)?t.slice():t}function n(e,t,s,n){return $.isUndefined(t)?$.isUndefined(e)?void 0:a(void 0,e,0,n):a(e,t,0,n)}function l(e,t){if(!$.isUndefined(t))return a(void 0,t)}function r(e,t){return $.isUndefined(t)?$.isUndefined(e)?void 0:a(void 0,e):a(void 0,t)}function i(s,n,l){return l in t?a(s,n):l in e?a(void 0,s):void 0}const c={url:l,method:l,data:l,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:i,headers:(e,t,s)=>n(qe(e),qe(t),0,!0)};return $.forEach(Object.keys(Object.assign({},e,t)),(function(a){const l=c[a]||n,r=l(e[a],t[a],a);$.isUndefined(r)&&l!==i||(s[a]=r)})),s}const He=e=>{const t=Ve({},e);let s,{data:a,withXSRFToken:n,xsrfHeaderName:l,xsrfCookieName:r,headers:i,auth:c}=t;if(t.headers=i=Ee.from(i),t.url=oe(Ue(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&i.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),$.isFormData(a))if(ve.hasStandardBrowserEnv||ve.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(!1!==(s=i.getContentType())){const[e,...t]=s?s.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}if(ve.hasStandardBrowserEnv&&(n&&$.isFunction(n)&&(n=n(t)),n||!1!==n&&Fe(t.url))){const e=l&&r&&Be.read(r);e&&i.set(l,e)}return t},Ge="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,s){const a=He(e);let n=a.data;const l=Ee.from(a.headers).normalize();let r,i,c,o,d,{responseType:u,onUploadProgress:m,onDownloadProgress:x}=a;function h(){o&&o(),d&&d(),a.cancelToken&&a.cancelToken.unsubscribe(r),a.signal&&a.signal.removeEventListener("abort",r)}let p=new XMLHttpRequest;function g(){if(!p)return;const a=Ee.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());Te((function(e){t(e),h()}),(function(e){s(e),h()}),{data:u&&"text"!==u&&"json"!==u?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:a,config:e,request:p}),p=null}p.open(a.method.toUpperCase(),a.url,!0),p.timeout=a.timeout,"onloadend"in p?p.onloadend=g:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(g)},p.onabort=function(){p&&(s(new J("Request aborted",J.ECONNABORTED,e,p)),p=null)},p.onerror=function(){s(new J("Network Error",J.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let t=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const n=a.transitional||ue;a.timeoutErrorMessage&&(t=a.timeoutErrorMessage),s(new J(t,n.clarifyTimeoutError?J.ETIMEDOUT:J.ECONNABORTED,e,p)),p=null},void 0===n&&l.setContentType(null),"setRequestHeader"in p&&$.forEach(l.toJSON(),(function(e,t){p.setRequestHeader(t,e)})),$.isUndefined(a.withCredentials)||(p.withCredentials=!!a.withCredentials),u&&"json"!==u&&(p.responseType=a.responseType),x&&([c,d]=De(x,!0),p.addEventListener("progress",c)),m&&p.upload&&([i,o]=De(m),p.upload.addEventListener("progress",i),p.upload.addEventListener("loadend",o)),(a.cancelToken||a.signal)&&(r=t=>{p&&(s(!t||t.type?new Pe(null,e,p):t),p.abort(),p=null)},a.cancelToken&&a.cancelToken.subscribe(r),a.signal&&(a.signal.aborted?r():a.signal.addEventListener("abort",r)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(a.url);f&&-1===ve.protocols.indexOf(f)?s(new J("Unsupported protocol "+f+":",J.ERR_BAD_REQUEST,e)):p.send(n||null)}))},We=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let s,a=new AbortController;const n=function(e){if(!s){s=!0,r();const t=e instanceof Error?e:this.reason;a.abort(t instanceof J?t:new Pe(t instanceof Error?t.message:t))}};let l=t&&setTimeout((()=>{l=null,n(new J("timeout ".concat(t," of ms exceeded"),J.ETIMEDOUT))}),t);const r=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(n):e.removeEventListener("abort",n)})),e=null)};e.forEach((e=>e.addEventListener("abort",n)));const{signal:i}=a;return i.unsubscribe=()=>$.asap(r),i}};function Qe(e,t){this.v=e,this.k=t}function $e(e){return function(){return new Ke(e.apply(this,arguments))}}function Ke(e){var t,s;function a(t,s){try{var l=e[t](s),r=l.value,i=r instanceof Qe;Promise.resolve(i?r.v:r).then((function(s){if(i){var c="return"===t?"return":"next";if(!r.k||s.done)return a(c,s);s=e[c](s).value}n(l.done?"return":"normal",s)}),(function(e){a("throw",e)}))}catch(e){n("throw",e)}}function n(e,n){switch(e){case"return":t.resolve({value:n,done:!0});break;case"throw":t.reject(n);break;default:t.resolve({value:n,done:!1})}(t=t.next)?a(t.key,t.arg):s=null}this._invoke=function(e,n){return new Promise((function(l,r){var i={key:e,arg:n,resolve:l,reject:r,next:null};s?s=s.next=i:(t=s=i,a(e,n))}))},"function"!=typeof e.return&&(this.return=void 0)}function Xe(e){return new Qe(e,0)}function Ye(e){var t={},s=!1;function a(t,a){return s=!0,a=new Promise((function(s){s(e[t](a))})),{done:!1,value:new Qe(a,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return s?(s=!1,e):a("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(s)throw s=!1,e;return a("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return s?(s=!1,e):a("return",e)}),t}function Je(e){var t,s,a,n=2;for("undefined"!=typeof Symbol&&(s=Symbol.asyncIterator,a=Symbol.iterator);n--;){if(s&&null!=(t=e[s]))return t.call(e);if(a&&null!=(t=e[a]))return new Ze(t.call(e));s="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function Ze(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return Ze=function(e){this.s=e,this.n=e.next},Ze.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var s=this.s.return;return void 0===s?Promise.resolve({value:e,done:!0}):t(s.apply(this.s,arguments))},throw:function(e){var s=this.s.return;return void 0===s?Promise.reject(e):t(s.apply(this.s,arguments))}},new Ze(e)}Ke.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Ke.prototype.next=function(e){return this._invoke("next",e)},Ke.prototype.throw=function(e){return this._invoke("throw",e)},Ke.prototype.return=function(e){return this._invoke("return",e)};const et=function*(e,t){let s=e.byteLength;if(!t||s<t)return void(yield e);let a,n=0;for(;n<s;)a=n+t,yield e.slice(n,a),n=a},tt=function(){var e=$e((function*(e,t){var s,a=!1,n=!1;try{for(var l,r=Je(st(e));a=!(l=yield Xe(r.next())).done;a=!1){const e=l.value;yield*Ye(Je(et(e,t)))}}catch(i){n=!0,s=i}finally{try{a&&null!=r.return&&(yield Xe(r.return()))}finally{if(n)throw s}}}));return function(t,s){return e.apply(this,arguments)}}(),st=function(){var e=$e((function*(e){if(e[Symbol.asyncIterator])return void(yield*Ye(Je(e)));const t=e.getReader();try{for(;;){const{done:e,value:s}=yield Xe(t.read());if(e)break;yield s}}finally{yield Xe(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),at=(e,t,s,a)=>{const n=tt(e,t);let l,r=0,i=e=>{l||(l=!0,a&&a(e))};return new ReadableStream({async pull(e){try{const{done:t,value:a}=await n.next();if(t)return i(),void e.close();let l=a.byteLength;if(s){let e=r+=l;s(e)}e.enqueue(new Uint8Array(a))}catch(t){throw i(t),t}},cancel:e=>(i(e),n.return())},{highWaterMark:2})},nt="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,lt=nt&&"function"===typeof ReadableStream,rt=nt&&("function"===typeof TextEncoder?(it=new TextEncoder,e=>it.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var it;const ct=function(e){try{for(var t=arguments.length,s=new Array(t>1?t-1:0),a=1;a<t;a++)s[a-1]=arguments[a];return!!e(...s)}catch(n){return!1}},ot=lt&&ct((()=>{let e=!1;const t=new Request(ve.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),dt=lt&&ct((()=>$.isReadableStream(new Response("").body))),ut={stream:dt&&(e=>e.body)};var mt;nt&&(mt=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!ut[e]&&(ut[e]=$.isFunction(mt[e])?t=>t[e]():(t,s)=>{throw new J("Response type '".concat(e,"' is not supported"),J.ERR_NOT_SUPPORT,s)})})));const xt=async(e,t)=>{const s=$.toFiniteNumber(e.getContentLength());return null==s?(async e=>{if(null==e)return 0;if($.isBlob(e))return e.size;if($.isSpecCompliantForm(e)){const t=new Request(ve.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return $.isArrayBufferView(e)||$.isArrayBuffer(e)?e.byteLength:($.isURLSearchParams(e)&&(e+=""),$.isString(e)?(await rt(e)).byteLength:void 0)})(t):s},ht={http:null,xhr:Ge,fetch:nt&&(async e=>{let{url:t,method:s,data:a,signal:n,cancelToken:l,timeout:r,onDownloadProgress:i,onUploadProgress:c,responseType:o,headers:u,withCredentials:m="same-origin",fetchOptions:x}=He(e);o=o?(o+"").toLowerCase():"text";let h,p=We([n,l&&l.toAbortSignal()],r);const g=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let f;try{if(c&&ot&&"get"!==s&&"head"!==s&&0!==(f=await xt(u,a))){let e,s=new Request(t,{method:"POST",body:a,duplex:"half"});if($.isFormData(a)&&(e=s.headers.get("content-type"))&&u.setContentType(e),s.body){const[e,t]=Re(f,De(Ie(c)));a=at(s.body,65536,e,t)}}$.isString(m)||(m=m?"include":"omit");const n="credentials"in Request.prototype;h=new Request(t,d(d({},x),{},{signal:p,method:s.toUpperCase(),headers:u.normalize().toJSON(),body:a,duplex:"half",credentials:n?m:void 0}));let l=await fetch(h);const r=dt&&("stream"===o||"response"===o);if(dt&&(i||r&&g)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=l[t]}));const t=$.toFiniteNumber(l.headers.get("content-length")),[s,a]=i&&Re(t,De(Ie(i),!0))||[];l=new Response(at(l.body,65536,s,(()=>{a&&a(),g&&g()})),e)}o=o||"text";let v=await ut[$.findKey(ut,o)||"text"](l,e);return!r&&g&&g(),await new Promise(((t,s)=>{Te(t,s,{data:v,headers:Ee.from(l.headers),status:l.status,statusText:l.statusText,config:e,request:h})}))}catch(v){if(g&&g(),v&&"TypeError"===v.name&&/fetch/i.test(v.message))throw Object.assign(new J("Network Error",J.ERR_NETWORK,e,h),{cause:v.cause||v});throw J.from(v,v&&v.code,e,h)}})};$.forEach(ht,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(s){}Object.defineProperty(e,"adapterName",{value:t})}}));const pt=e=>"- ".concat(e),gt=e=>$.isFunction(e)||null===e||!1===e,ft=e=>{e=$.isArray(e)?e:[e];const{length:t}=e;let s,a;const n={};for(let l=0;l<t;l++){let t;if(s=e[l],a=s,!gt(s)&&(a=ht[(t=String(s)).toLowerCase()],void 0===a))throw new J("Unknown adapter '".concat(t,"'"));if(a)break;n[t||"#"+l]=a}if(!a){const e=Object.entries(n).map((e=>{let[t,s]=e;return"adapter ".concat(t," ")+(!1===s?"is not supported by the environment":"is not available in the build")}));let s=t?e.length>1?"since :\n"+e.map(pt).join("\n"):" "+pt(e[0]):"as no adapter specified";throw new J("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return a};function vt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Pe(null,e)}function bt(e){vt(e),e.headers=Ee.from(e.headers),e.data=Ae.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return ft(e.adapter||ye.adapter)(e).then((function(t){return vt(e),t.data=Ae.call(e,e.transformResponse,t),t.headers=Ee.from(t.headers),t}),(function(t){return Le(t)||(vt(e),t&&t.response&&(t.response.data=Ae.call(e,e.transformResponse,t.response),t.response.headers=Ee.from(t.response.headers))),Promise.reject(t)}))}const jt="1.8.4",yt={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{yt[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}}));const Nt={};yt.transitional=function(e,t,s){function a(e,t){return"[Axios v1.8.4] Transitional option '"+e+"'"+t+(s?". "+s:"")}return(s,n,l)=>{if(!1===e)throw new J(a(n," has been removed"+(t?" in "+t:"")),J.ERR_DEPRECATED);return t&&!Nt[n]&&(Nt[n]=!0,console.warn(a(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(s,n,l)}},yt.spelling=function(e){return(t,s)=>(console.warn("".concat(s," is likely a misspelling of ").concat(e)),!0)};const wt={assertOptions:function(e,t,s){if("object"!==typeof e)throw new J("options must be an object",J.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let n=a.length;for(;n-- >0;){const l=a[n],r=t[l];if(r){const t=e[l],s=void 0===t||r(t,l,e);if(!0!==s)throw new J("option "+l+" must be "+s,J.ERR_BAD_OPTION_VALUE)}else if(!0!==s)throw new J("Unknown option "+l,J.ERR_BAD_OPTION)}},validators:yt},_t=wt.validators;class kt{constructor(e){this.defaults=e,this.interceptors={request:new de,response:new de}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{s.stack?t&&!String(s.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(s.stack+="\n"+t):s.stack=t}catch(a){}}throw s}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Ve(this.defaults,t);const{transitional:s,paramsSerializer:a,headers:n}=t;void 0!==s&&wt.assertOptions(s,{silentJSONParsing:_t.transitional(_t.boolean),forcedJSONParsing:_t.transitional(_t.boolean),clarifyTimeoutError:_t.transitional(_t.boolean)},!1),null!=a&&($.isFunction(a)?t.paramsSerializer={serialize:a}:wt.assertOptions(a,{encode:_t.function,serialize:_t.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),wt.assertOptions(t,{baseUrl:_t.spelling("baseURL"),withXsrfToken:_t.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=n&&$.merge(n.common,n[t.method]);n&&$.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete n[e]})),t.headers=Ee.concat(l,n);const r=[];let i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));const c=[];let o;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let d,u=0;if(!i){const e=[bt.bind(this),void 0];for(e.unshift.apply(e,r),e.push.apply(e,c),d=e.length,o=Promise.resolve(t);u<d;)o=o.then(e[u++],e[u++]);return o}d=r.length;let m=t;for(u=0;u<d;){const e=r[u++],t=r[u++];try{m=e(m)}catch(x){t.call(this,x);break}}try{o=bt.call(this,m)}catch(x){return Promise.reject(x)}for(u=0,d=c.length;u<d;)o=o.then(c[u++],c[u++]);return o}getUri(e){return oe(Ue((e=Ve(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}$.forEach(["delete","get","head","options"],(function(e){kt.prototype[e]=function(t,s){return this.request(Ve(s||{},{method:e,url:t,data:(s||{}).data}))}})),$.forEach(["post","put","patch"],(function(e){function t(t){return function(s,a,n){return this.request(Ve(n||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}kt.prototype[e]=t(),kt.prototype[e+"Form"]=t(!0)}));const St=kt;class Ct{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const s=this;this.promise.then((e=>{if(!s._listeners)return;let t=s._listeners.length;for(;t-- >0;)s._listeners[t](e);s._listeners=null})),this.promise.then=e=>{let t;const a=new Promise((e=>{s.subscribe(e),t=e})).then(e);return a.cancel=function(){s.unsubscribe(t)},a},e((function(e,a,n){s.reason||(s.reason=new Pe(e,a,n),t(s.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Ct((function(t){e=t})),cancel:e}}}const Et=Ct;const At={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(At).forEach((e=>{let[t,s]=e;At[s]=t}));const Lt=At;const zt=function e(t){const s=new St(t),a=u(St.prototype.request,s);return $.extend(a,St.prototype,s,{allOwnKeys:!0}),$.extend(a,s,null,{allOwnKeys:!0}),a.create=function(s){return e(Ve(t,s))},a}(ye);zt.Axios=St,zt.CanceledError=Pe,zt.CancelToken=Et,zt.isCancel=Le,zt.VERSION=jt,zt.toFormData=ae,zt.AxiosError=J,zt.Cancel=zt.CanceledError,zt.all=function(e){return Promise.all(e)},zt.spread=function(e){return function(t){return e.apply(null,t)}},zt.isAxiosError=function(e){return $.isObject(e)&&!0===e.isAxiosError},zt.mergeConfig=Ve,zt.AxiosHeaders=Ee,zt.formToJSON=e=>be($.isHTMLForm(e)?new FormData(e):e),zt.getAdapter=ft,zt.HttpStatusCode=Lt,zt.default=zt;const Pt=zt;var Tt=s(579);const Ot=e=>{let{latitude:t,longitude:s,onLocationSelect:a,showCurrentLocation:l=!0,repLocation:r=null,showBothLocations:i=!1}=e;const c=(0,n.useRef)(null),[o,d]=(0,n.useState)(null),[u,m]=(0,n.useState)(null),[x,h]=(0,n.useState)(null),[p,g]=(0,n.useState)(null),[f,v]=(0,n.useState)(!1),[b,j]=(0,n.useState)(!1),y=()=>window.google&&window.google.maps&&window.google.maps.Map&&window.google.maps.Marker,N=()=>new Promise(((e,t)=>{if(!navigator.geolocation)return void t(new Error("Geolocation is not supported"));const s={enableHighAccuracy:!0,timeout:2e4,maximumAge:0};let a=0;const n=()=>{a++,navigator.geolocation.getCurrentPosition((t=>{const s=t.coords.accuracy;console.log("Location attempt ".concat(a,": accuracy ").concat(s,"m")),s<=50||a>=3?e({lat:t.coords.latitude,lng:t.coords.longitude,accuracy:s,timestamp:t.timestamp}):setTimeout(n,2e3)}),(e=>{console.error("Location attempt ".concat(a," failed:"),e),a>=3?t(e):setTimeout(n,2e3)}),s)};n()}));(0,n.useEffect)((()=>{navigator.geolocation&&!o&&(v(!0),N().then((e=>{d(e),v(!1),t||s||!a||(m(e),a(e))})).catch((e=>{console.error("Error getting high accuracy location:",e),v(!1),navigator.geolocation.getCurrentPosition((e=>{const n={lat:e.coords.latitude,lng:e.coords.longitude,accuracy:e.coords.accuracy,timestamp:e.timestamp};d(n),t||s||!a||(m(n),a(n))}),(e=>{console.error("Fallback location also failed:",e);const n={lat:30.0444,lng:31.2357,accuracy:1e4,timestamp:Date.now()};d(n),t||s||!a||(m(n),a(n))}),{enableHighAccuracy:!1,timeout:1e4,maximumAge:6e4})})))}),[t,s,a,o]),(0,n.useEffect)((()=>{let e=!0;return b||(async()=>{try{await new Promise(((e,t)=>{if(y())return void e();const s=document.querySelector('script[src*="maps.googleapis.com"]');if(s)return s.addEventListener("load",(()=>{y()?e():setTimeout((()=>{y()?e():t(new Error("Google Maps failed to load"))}),2e3)})),void s.addEventListener("error",t);const a=document.createElement("script");a.src="https://maps.googleapis.com/maps/api/js?key=".concat(window.GOOGLE_MAPS_API_KEY||"AIzaSyDzxZjDxPdcrnGKb66mT5BIvQzQWcnLp70","&libraries=places"),a.async=!0,a.defer=!0,a.addEventListener("load",(()=>{y()?e():setTimeout((()=>{y()?e():t(new Error("Google Maps API loaded but components not available"))}),1e3)})),a.addEventListener("error",t),document.head.appendChild(a)})),e&&j(!0)}catch(t){console.error("Failed to load Google Maps:",t),e&&setTimeout((()=>{y()&&e&&j(!0)}),3e3)}})(),()=>{e=!1}}),[b]),(0,n.useEffect)((()=>{if(b&&c.current&&!x&&(o||t))try{const e={lat:t||(null===o||void 0===o?void 0:o.lat)||30.0444,lng:s||(null===o||void 0===o?void 0:o.lng)||31.2357},n=new window.google.maps.Map(c.current,{zoom:18,center:e,mapTypeControl:!0,streetViewControl:!0,fullscreenControl:!0,zoomControl:!0,scaleControl:!0,rotateControl:!0,gestureHandling:"greedy",mapTypeId:"hybrid",styles:[{featureType:"poi.business",elementType:"labels",stylers:[{visibility:"on"}]}]});n.addListener("click",(e=>{const t={lat:e.latLng.lat(),lng:e.latLng.lng()};m(t),a&&a(t),w(n,t)})),h(n)}catch(e){console.error("Error initializing map:",e)}}),[b,o,t,s,x,a]);const w=(e,t)=>{if(p&&p.setMap(null),a){const s=new window.google.maps.Marker({position:t,map:e,title:"\u0627\u0633\u062d\u0628 \u0644\u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0645\u0648\u0642\u0639",draggable:!0,animation:window.google.maps.Animation.DROP,icon:{url:"data:image/svg+xml;base64,"+btoa('\n            <svg width="40" height="40" viewBox="0 0 24 24" fill="#ef4444" xmlns="http://www.w3.org/2000/svg">\n              <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>\n              <circle cx="12" cy="9" r="3" fill="white"/>\n            </svg>\n          '),scaledSize:new window.google.maps.Size(40,40),anchor:new window.google.maps.Point(20,40)}});s.addListener("dragend",(e=>{const t={lat:e.latLng.lat(),lng:e.latLng.lng()};m(t),a&&a(t)})),g(s)}};return(0,n.useEffect)((()=>{if(x&&window.google){if(x.markers&&x.markers.forEach((e=>e.setMap(null))),x.markers=[],o&&l){const e=new window.google.maps.Marker({position:o,map:x,title:"\u0645\u0648\u0642\u0639\u0643 \u0627\u0644\u062d\u0627\u0644\u064a",icon:{url:"data:image/svg+xml;base64,"+btoa('\n              <svg width="20" height="20" viewBox="0 0 24 24" fill="#007cff" xmlns="http://www.w3.org/2000/svg">\n                <circle cx="12" cy="12" r="8" fill="#007cff" fill-opacity="0.3"/>\n                <circle cx="12" cy="12" r="4" fill="#007cff"/>\n                <circle cx="12" cy="12" r="2" fill="white"/>\n              </svg>\n            '),scaledSize:new window.google.maps.Size(20,20),anchor:new window.google.maps.Point(10,10)}});x.markers.push(e)}if(r&&i){const e=new window.google.maps.Marker({position:{lat:r.latitude,lng:r.longitude},map:x,title:"\u0645\u0648\u0642\u0639 \u0627\u0644\u0645\u0646\u062f\u0648\u0628 \u0623\u062b\u0646\u0627\u0621 \u0627\u0644\u062a\u0633\u062c\u064a\u0644",icon:{url:"data:image/svg+xml;base64,"+btoa('\n              <svg width="32" height="32" viewBox="0 0 24 24" fill="#f59e0b" xmlns="http://www.w3.org/2000/svg">\n                <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>\n                <text x="12" y="8" text-anchor="middle" fill="white" font-size="8" font-weight="bold">\ud83d\udc64</text>\n              </svg>\n            '),scaledSize:new window.google.maps.Size(32,32),anchor:new window.google.maps.Point(16,32)}});x.markers.push(e)}if(t&&s&&!a){const e=new window.google.maps.Marker({position:{lat:t,lng:s},map:x,title:"\u0627\u0644\u0645\u0648\u0642\u0639 \u0627\u0644\u0645\u0633\u062c\u0644",icon:{url:"data:image/svg+xml;base64,"+btoa('\n              <svg width="32" height="32" viewBox="0 0 24 24" fill="#10b981" xmlns="http://www.w3.org/2000/svg">\n                <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>\n                <circle cx="12" cy="9" r="3" fill="white"/>\n              </svg>\n            '),scaledSize:new window.google.maps.Size(32,32),anchor:new window.google.maps.Point(16,32)}});x.markers.push(e)}if(a){const e=u||(t&&s?{lat:t,lng:s}:null)||o;e&&w(x,e)}}}),[x,o,u,t,s,r,i,l,a]),b&&window.google&&window.google.maps?f?(0,Tt.jsx)("div",{className:"h-80 glass-effect rounded-xl flex items-center justify-center",children:(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsx)("div",{className:"animate-pulse",children:(0,Tt.jsx)("div",{className:"w-12 h-12 bg-blue-500 rounded-full mx-auto mb-4 flex items-center justify-center",children:"\ud83d\udccd"})}),(0,Tt.jsx)("p",{className:"font-bold",children:"\u062c\u0627\u0631\u064a \u062a\u062d\u062f\u064a\u062f \u0645\u0648\u0642\u0639\u0643 \u0627\u0644\u062d\u0627\u0644\u064a..."}),(0,Tt.jsx)("p",{className:"text-sm opacity-75",children:"\u064a\u0631\u062c\u0649 \u0627\u0644\u0633\u0645\u0627\u062d \u0628\u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0645\u0648\u0642\u0639"})]})}):(0,Tt.jsxs)("div",{className:"w-full rounded-xl overflow-hidden relative",children:[(0,Tt.jsx)("div",{ref:c,style:{width:"100%",height:"400px"}}),a&&(0,Tt.jsxs)("div",{className:"absolute top-2 left-2 space-y-2",children:[(0,Tt.jsx)("button",{onClick:()=>{v(!0),N().then((e=>{d(e),m(e),a&&a(e),x&&(x.setCenter(e),x.setZoom(19),w(x,e)),v(!1)})).catch((e=>{console.error("Error getting high accuracy location:",e),v(!1),alert("\u0644\u0627 \u064a\u0645\u0643\u0646 \u062a\u062d\u062f\u064a\u062f \u0645\u0648\u0642\u0639\u0643 \u0628\u062f\u0642\u0629 \u0639\u0627\u0644\u064a\u0629. \u062a\u0623\u0643\u062f \u0645\u0646 \u062a\u0641\u0639\u064a\u0644 GPS \u0648\u0625\u0639\u0637\u0627\u0621 \u0627\u0644\u0625\u0630\u0646 \u0644\u0644\u0645\u062a\u0635\u0641\u062d.")}))},className:"bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-lg text-sm font-medium shadow-lg transition-colors flex items-center gap-2",disabled:f,children:f?(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,Tt.jsx)("span",{children:"\u062f\u0642\u0629 \u0639\u0627\u0644\u064a\u0629..."})]}):(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)("span",{children:"\ud83c\udfaf"}),(0,Tt.jsx)("span",{children:"\u062f\u0642\u0629 \u0639\u0627\u0644\u064a\u0629"})]})}),(0,Tt.jsx)("button",{onClick:()=>{navigator.geolocation&&(v(!0),navigator.geolocation.getCurrentPosition((e=>{const t={lat:e.coords.latitude,lng:e.coords.longitude,accuracy:e.coords.accuracy,timestamp:e.timestamp};d(t),m(t),a&&a(t),x&&(x.setCenter(t),w(x,t)),v(!1)}),(e=>{console.error("Error getting location:",e),v(!1),alert("\u0644\u0627 \u064a\u0645\u0643\u0646 \u062a\u062d\u062f\u064a\u062f \u0645\u0648\u0642\u0639\u0643 \u0627\u0644\u062d\u0627\u0644\u064a. \u064a\u0631\u062c\u0649 \u0627\u0644\u0633\u0645\u0627\u062d \u0644\u0644\u0645\u062a\u0635\u0641\u062d \u0628\u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0645\u0648\u0642\u0639.")}),{enableHighAccuracy:!0,timeout:15e3,maximumAge:0}))},className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg text-sm font-medium shadow-lg transition-colors flex items-center gap-2",disabled:f,children:f?(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,Tt.jsx)("span",{children:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u062f\u064a\u062f..."})]}):(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)("span",{children:"\ud83d\udccd"}),(0,Tt.jsx)("span",{children:"\u0645\u0648\u0642\u0639\u064a \u0627\u0644\u062d\u0627\u0644\u064a"})]})})]}),o&&o.accuracy&&(0,Tt.jsxs)("div",{className:"absolute top-2 right-2 bg-white bg-opacity-90 rounded-lg p-2 text-xs",children:[(0,Tt.jsx)("div",{className:"text-gray-600",children:"\u062f\u0642\u0629 \u0627\u0644\u0645\u0648\u0642\u0639:"}),(0,Tt.jsxs)("div",{className:"font-bold ".concat(o.accuracy<=10?"text-green-600":o.accuracy<=50?"text-yellow-600":"text-red-600"),children:[Math.round(o.accuracy),"\u0645"]}),o.accuracy>50&&(0,Tt.jsx)("div",{className:"text-red-500 text-xs mt-1",children:"\u26a0\ufe0f \u062f\u0642\u0629 \u0645\u0646\u062e\u0641\u0636\u0629"})]}),(0,Tt.jsxs)("div",{className:"absolute bottom-2 left-2 space-x-2 flex",children:[(0,Tt.jsx)("button",{onClick:()=>x&&x.setMapTypeId("roadmap"),className:"bg-white hover:bg-gray-100 px-2 py-1 rounded text-xs shadow",children:"\u062e\u0631\u064a\u0637\u0629"}),(0,Tt.jsx)("button",{onClick:()=>x&&x.setMapTypeId("satellite"),className:"bg-white hover:bg-gray-100 px-2 py-1 rounded text-xs shadow",children:"\u0642\u0645\u0631 \u0635\u0646\u0627\u0639\u064a"}),(0,Tt.jsx)("button",{onClick:()=>x&&x.setMapTypeId("hybrid"),className:"bg-white hover:bg-gray-100 px-2 py-1 rounded text-xs shadow",children:"\u0645\u062e\u062a\u0644\u0637"})]}),(l||i||a)&&(0,Tt.jsxs)("div",{className:"absolute top-2 right-2 bg-white/90 backdrop-blur-sm rounded-lg p-2 text-xs shadow-lg",children:[l&&o&&(0,Tt.jsxs)("div",{className:"flex items-center gap-1 mb-1",children:[(0,Tt.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),(0,Tt.jsx)("span",{children:"\u0645\u0648\u0642\u0639\u0643 \u0627\u0644\u062d\u0627\u0644\u064a"})]}),a&&(0,Tt.jsxs)("div",{className:"flex items-center gap-1 mb-1",children:[(0,Tt.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),(0,Tt.jsx)("span",{children:"\u0627\u0644\u0645\u0648\u0642\u0639 \u0627\u0644\u0645\u062d\u062f\u062f (\u0642\u0627\u0628\u0644 \u0644\u0644\u0633\u062d\u0628)"})]}),i&&r&&(0,Tt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Tt.jsx)("div",{className:"w-3 h-3 bg-amber-500 rounded-full"}),(0,Tt.jsx)("span",{children:"\u0645\u0648\u0642\u0639 \u0627\u0644\u0645\u0646\u062f\u0648\u0628"})]})]}),a&&(0,Tt.jsx)("div",{className:"absolute bottom-2 left-2 right-2",children:(0,Tt.jsx)("div",{className:"bg-blue-600/90 backdrop-blur-sm text-white rounded-lg p-2 text-xs text-center",children:"\ud83d\udca1 \u0627\u0636\u063a\u0637 \u0639\u0644\u0649 \u0627\u0644\u062e\u0631\u064a\u0637\u0629 \u0623\u0648 \u0627\u0633\u062d\u0628 \u0627\u0644\u062f\u0628\u0648\u0633 \u0644\u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0645\u0648\u0642\u0639"})})]}):(0,Tt.jsx)("div",{className:"h-80 glass-effect rounded-xl flex items-center justify-center",children:(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),(0,Tt.jsx)("p",{className:"font-bold",children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u062e\u0631\u064a\u0637\u0629..."}),(0,Tt.jsx)("p",{className:"text-sm opacity-75",children:"\u0627\u0646\u062a\u0638\u0627\u0631 Google Maps API"}),!window.google&&(0,Tt.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-3 px-4 py-2 bg-blue-500 text-white rounded-lg text-sm hover:bg-blue-600 transition-colors",children:"\u0625\u0639\u0627\u062f\u0629 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0635\u0641\u062d\u0629"})]})})},Mt="https://f2197ea7-eee2-46ef-a955-b20bd04f5bb1.preview.emergentagent.com",Dt="".concat(Mt,"/api");console.log("\ud83d\udd0d Environment Variables Debug:"),console.log("REACT_APP_BACKEND_URL:","https://f2197ea7-eee2-46ef-a955-b20bd04f5bb1.preview.emergentagent.com"),console.log("BACKEND_URL:",Mt),console.log("API:",Dt);const Rt=(0,n.createContext)(),It=()=>{const e=(0,n.useContext)(Rt);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e},Ft={ar:{systemName:"EP Group System",login:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644",username:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",password:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",rememberMe:"\u062a\u0630\u0643\u0631\u0646\u064a",forgotPassword:"\u0646\u0633\u064a\u062a \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631\u061f",loginButton:"\u062f\u062e\u0648\u0644",loginLoading:"\u062c\u0627\u0631\u064a \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644...",welcome:"\u0645\u0631\u062d\u0628\u0627\u064b \u0628\u0643 \u0641\u064a",enterCredentials:"\u0623\u062f\u062e\u0644 \u0628\u064a\u0627\u0646\u0627\u062a\u0643 \u0644\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644",dashboard:"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645",statistics:"\u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a",users:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",userManagement:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",warehouse:"\u0627\u0644\u0645\u062e\u0627\u0632\u0646",warehouseManagement:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u062e\u0627\u0632\u0646",visits:"\u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a",visitsLog:"\u0633\u062c\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a",reports:"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631",settings:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a",logout:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c",totalUsers:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",totalClinics:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a",totalDoctors:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0623\u0637\u0628\u0627\u0621",totalVisits:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a",totalWarehouses:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u062e\u0627\u0632\u0646",totalProducts:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a",totalOrders:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0637\u0644\u0628\u0627\u062a",recentActivity:"\u0627\u0644\u0646\u0634\u0627\u0637 \u0627\u0644\u0623\u062e\u064a\u0631",viewAll:"\u0639\u0631\u0636 \u0627\u0644\u0643\u0644",addUser:"\u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062a\u062e\u062f\u0645",fullName:"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644",email:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",phone:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641",role:"\u0627\u0644\u062f\u0648\u0631",status:"\u0627\u0644\u062d\u0627\u0644\u0629",active:"\u0646\u0634\u0637",inactive:"\u063a\u064a\u0631 \u0646\u0634\u0637",actions:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a",edit:"\u062a\u0639\u062f\u064a\u0644",delete:"\u062d\u0630\u0641",save:"\u062d\u0641\u0638",cancel:"\u0625\u0644\u063a\u0627\u0621",gm:"\u0645\u062f\u064a\u0631 \u0639\u0627\u0645",admin:"\u0645\u062f\u064a\u0631",lineManager:"\u0645\u062f\u064a\u0631 \u062e\u0637",areaManager:"\u0645\u062f\u064a\u0631 \u0645\u0646\u0637\u0642\u0629",districtManager:"\u0645\u062f\u064a\u0631 \u0645\u0642\u0627\u0637\u0639\u0629",keyAccount:"\u062d\u0633\u0627\u0628 \u0631\u0626\u064a\u0633\u064a",medicalRep:"\u0645\u0646\u062f\u0648\u0628 \u0637\u0628\u064a",manager:"\u0645\u062f\u064a\u0631 \u0641\u0631\u0639",salesRep:"\u0645\u0646\u062f\u0648\u0628 \u0645\u0628\u064a\u0639\u0627\u062a",warehouse:"\u0645\u062e\u0632\u0646",accounting:"\u0645\u062d\u0627\u0633\u0628",line1:"\u0627\u0644\u062e\u0637 \u0627\u0644\u0623\u0648\u0644",line2:"\u0627\u0644\u062e\u0637 \u0627\u0644\u062b\u0627\u0646\u064a",regions:"\u0627\u0644\u0645\u0646\u0627\u0637\u0642",districts:"\u0627\u0644\u0645\u0642\u0627\u0637\u0639\u0627\u062a",regionManagement:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0646\u0627\u0637\u0642",districtManagement:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0642\u0627\u0637\u0639\u0627\u062a",lineManagement:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u062e\u0637\u0648\u0637",areaManagement:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0646\u0627\u0637\u0642",comprehensiveSettings:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0634\u0627\u0645\u0644\u0629",roleHierarchy:"\u0647\u064a\u0643\u0644 \u0627\u0644\u0623\u062f\u0648\u0627\u0631",systemHealth:"\u0635\u062d\u0629 \u0627\u0644\u0646\u0638\u0627\u0645",lineStatistics:"\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a \u0627\u0644\u062e\u0637\u0648\u0637",initializeSystem:"\u062a\u0647\u064a\u0626\u0629 \u0627\u0644\u0646\u0638\u0627\u0645",miniProfile:"\u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a \u0627\u0644\u0645\u0635\u063a\u0631",maps:"\u0627\u0644\u062e\u0631\u0627\u0626\u0637",location:"\u0627\u0644\u0645\u0648\u0642\u0639",currentLocation:"\u0627\u0644\u0645\u0648\u0642\u0639\u0643 \u0627\u0644\u062d\u0627\u0644\u064a",selectLocation:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0645\u0648\u0642\u0639",selectedLocation:"\u0627\u0644\u0645\u0648\u0642\u0639 \u0627\u0644\u0645\u062d\u062f\u062f",registeredLocation:"\u0627\u0644\u0645\u0648\u0642\u0639 \u0627\u0644\u0645\u0633\u062c\u0644",mapInstructions:"\u0627\u0646\u0642\u0631 \u0639\u0644\u0649 \u0627\u0644\u062e\u0631\u064a\u0637\u0629 \u0644\u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0645\u0648\u0642\u0639",locationRequired:"\u0627\u0644\u0645\u0648\u0642\u0639 \u0645\u0637\u0644\u0648\u0628",getLocation:"\u0627\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u0627\u0644\u0645\u0648\u0642\u0639",locationPermission:"\u064a\u0631\u062c\u0649 \u0627\u0644\u0633\u0645\u0627\u062d \u0628\u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0645\u0648\u0642\u0639",salesActivity:"\u0646\u0634\u0627\u0637 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a",debtInfo:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0645\u062f\u064a\u0648\u0646\u064a\u0629",territoryInfo:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0645\u0646\u0637\u0642\u0629",teamInfo:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0641\u0631\u064a\u0642",summary:"\u0627\u0644\u0645\u0644\u062e\u0635",totalOrders:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0637\u0644\u0628\u0627\u062a",totalRevenue:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a",totalDebt:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u062f\u064a\u0648\u0646\u064a\u0629",directManager:"\u0627\u0644\u0645\u062f\u064a\u0631 \u0627\u0644\u0645\u0628\u0627\u0634\u0631",region:"\u0627\u0644\u0645\u0646\u0637\u0642\u0629",assignedClinics:"\u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a \u0627\u0644\u0645\u0633\u0624\u0648\u0644 \u0639\u0646\u0647\u0627",profilePhoto:"\u0627\u0644\u0635\u0648\u0631\u0629 \u0627\u0644\u0634\u062e\u0635\u064a\u0629",lastSeen:"\u0622\u062e\u0631 \u0638\u0647\u0648\u0631",productManagement:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a",addProduct:"\u0625\u0636\u0627\u0641\u0629 \u0645\u0646\u062a\u062c",editProduct:"\u062a\u0639\u062f\u064a\u0644 \u0645\u0646\u062a\u062c",deleteProduct:"\u062d\u0630\u0641 \u0645\u0646\u062a\u062c",category:"\u0627\u0644\u0641\u0626\u0629",unit:"\u0627\u0644\u0648\u062d\u062f\u0629",price:"\u0627\u0644\u0633\u0639\u0631",stock:"\u0627\u0644\u0645\u062e\u0632\u0648\u0646",priceTiers:"\u0627\u0644\u0623\u0633\u0639\u0627\u0631 \u0627\u0644\u0645\u062a\u062f\u0631\u062c\u0629",cashback:"\u0643\u0627\u0634 \u0628\u0627\u0643",invoiceManagement:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631",invoice:"\u0641\u0627\u062a\u0648\u0631\u0629",customer:"\u0627\u0644\u0639\u0645\u064a\u0644",amount:"\u0627\u0644\u0645\u0628\u0644\u063a",date:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e",paid:"\u0645\u062f\u0641\u0648\u0639",pending:"\u0645\u0639\u0644\u0642",cancelled:"\u0645\u0644\u063a\u064a",editHistory:"\u0633\u062c\u0644 \u0627\u0644\u062a\u0639\u062f\u064a\u0644\u0627\u062a",orderCreation:"\u0625\u0646\u0634\u0627\u0621 \u0637\u0644\u0628",order:"\u0637\u0644\u0628",createOrder:"\u0625\u0646\u0634\u0627\u0621 \u0637\u0644\u0628",quantity:"\u0627\u0644\u0643\u0645\u064a\u0629",total:"\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a",warehouseName:"\u0627\u0633\u0645 \u0627\u0644\u0645\u062e\u0632\u0646",location:"\u0627\u0644\u0645\u0648\u0642\u0639",capacity:"\u0627\u0644\u0633\u0639\u0629",currentStock:"\u0627\u0644\u0645\u062e\u0632\u0648\u0646 \u0627\u0644\u062d\u0627\u0644\u064a",products:"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a",orders:"\u0627\u0644\u0637\u0644\u0628\u0627\u062a",movement:"\u0627\u0644\u062d\u0631\u0643\u0629",inventory:"\u0627\u0644\u062c\u0631\u062f",add:"\u0625\u0636\u0627\u0641\u0629",edit:"\u062a\u0639\u062f\u064a\u0644",delete:"\u062d\u0630\u0641",view:"\u0639\u0631\u0636",create:"\u0625\u0646\u0634\u0627\u0621",update:"\u062a\u062d\u062f\u064a\u062b",preview:"\u0645\u0639\u0627\u064a\u0646\u0629",select:"\u0627\u062e\u062a\u064a\u0627\u0631",choose:"\u0627\u062e\u062a\u0631",filter:"\u062a\u0635\u0641\u064a\u0629",sort:"\u062a\u0631\u062a\u064a\u0628",export:"\u062a\u0635\u062f\u064a\u0631",import:"\u0627\u0633\u062a\u064a\u0631\u0627\u062f",download:"\u062a\u062d\u0645\u064a\u0644",upload:"\u0631\u0641\u0639",refresh:"\u062a\u062d\u062f\u064a\u062b",reset:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646",clear:"\u0645\u0633\u062d",apply:"\u062a\u0637\u0628\u064a\u0642",all:"\u0627\u0644\u0643\u0644",none:"\u0644\u0627 \u0634\u064a\u0621",selected:"\u0645\u064f\u062e\u062a\u0627\u0631",unselected:"\u063a\u064a\u0631 \u0645\u064f\u062e\u062a\u0627\u0631",enabled:"\u0645\u064f\u0641\u0639\u0644",disabled:"\u0645\u064f\u0639\u0637\u0644",required:"\u0645\u0637\u0644\u0648\u0628",optional:"\u0627\u062e\u062a\u064a\u0627\u0631\u064a",available:"\u0645\u062a\u0627\u062d",unavailable:"\u063a\u064a\u0631 \u0645\u062a\u0627\u062d",online:"\u0645\u062a\u0635\u0644",offline:"\u063a\u064a\u0631 \u0645\u062a\u0635\u0644",visible:"\u0645\u0631\u0626\u064a",hidden:"\u0645\u062e\u0641\u064a",details:"\u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644",description:"\u0627\u0644\u0648\u0635\u0641",name:"\u0627\u0644\u0627\u0633\u0645",title:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646",type:"\u0627\u0644\u0646\u0648\u0639",code:"\u0627\u0644\u0631\u0645\u0632",id:"\u0627\u0644\u0645\u0639\u0631\u0641",number:"\u0627\u0644\u0631\u0642\u0645",count:"\u0627\u0644\u0639\u062f\u062f",size:"\u0627\u0644\u062d\u062c\u0645",weight:"\u0627\u0644\u0648\u0632\u0646",height:"\u0627\u0644\u0627\u0631\u062a\u0641\u0627\u0639",width:"\u0627\u0644\u0639\u0631\u0636",length:"\u0627\u0644\u0637\u0648\u0644",time:"\u0627\u0644\u0648\u0642\u062a",today:"\u0627\u0644\u064a\u0648\u0645",yesterday:"\u0623\u0645\u0633",tomorrow:"\u063a\u062f\u0627\u064b",thisWeek:"\u0647\u0630\u0627 \u0627\u0644\u0623\u0633\u0628\u0648\u0639",thisMonth:"\u0647\u0630\u0627 \u0627\u0644\u0634\u0647\u0631",thisYear:"\u0647\u0630\u0627 \u0627\u0644\u0639\u0627\u0645",lastWeek:"\u0627\u0644\u0623\u0633\u0628\u0648\u0639 \u0627\u0644\u0645\u0627\u0636\u064a",lastMonth:"\u0627\u0644\u0634\u0647\u0631 \u0627\u0644\u0645\u0627\u0636\u064a",lastYear:"\u0627\u0644\u0639\u0627\u0645 \u0627\u0644\u0645\u0627\u0636\u064a",form:"\u0627\u0644\u0646\u0645\u0648\u0630\u062c",field:"\u0627\u0644\u062d\u0642\u0644",value:"\u0627\u0644\u0642\u064a\u0645\u0629",option:"\u0627\u0644\u062e\u064a\u0627\u0631",checkbox:"\u0645\u0631\u0628\u0639 \u0627\u0644\u0627\u062e\u062a\u064a\u0627\u0631",radio:"\u0632\u0631 \u0627\u0644\u0627\u062e\u062a\u064a\u0627\u0631",dropdown:"\u0627\u0644\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0646\u0633\u062f\u0644\u0629",textarea:"\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u0646\u0635",button:"\u0627\u0644\u0632\u0631",link:"\u0627\u0644\u0631\u0627\u0628\u0637",home:"\u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629",menu:"\u0627\u0644\u0642\u0627\u0626\u0645\u0629",navigation:"\u0627\u0644\u0645\u0644\u0627\u062d\u0629",breadcrumb:"\u0645\u0633\u0627\u0631 \u0627\u0644\u062a\u0646\u0642\u0644",tab:"\u062a\u0628\u0648\u064a\u0628",page:"\u0627\u0644\u0635\u0641\u062d\u0629",section:"\u0627\u0644\u0642\u0633\u0645",data:"\u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a",information:"\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a",content:"\u0627\u0644\u0645\u062d\u062a\u0648\u0649",text:"\u0627\u0644\u0646\u0635",image:"\u0627\u0644\u0635\u0648\u0631\u0629",file:"\u0627\u0644\u0645\u0644\u0641",document:"\u0627\u0644\u0645\u0633\u062a\u0646\u062f",folder:"\u0627\u0644\u0645\u062c\u0644\u062f",open:"\u0641\u062a\u062d",close:"\u0625\u063a\u0644\u0627\u0642",show:"\u0625\u0638\u0647\u0627\u0631",hide:"\u0625\u062e\u0641\u0627\u0621",expand:"\u062a\u0648\u0633\u064a\u0639",collapse:"\u0637\u064a",minimize:"\u062a\u0635\u063a\u064a\u0631",maximize:"\u062a\u0643\u0628\u064a\u0631",move:"\u0646\u0642\u0644",copy:"\u0646\u0633\u062e",paste:"\u0644\u0635\u0642",cut:"\u0642\u0635",undo:"\u062a\u0631\u0627\u062c\u0639",redo:"\u0625\u0639\u0627\u062f\u0629",message:"\u0627\u0644\u0631\u0633\u0627\u0644\u0629",notification:"\u0627\u0644\u0625\u0634\u0639\u0627\u0631",alert:"\u062a\u0646\u0628\u064a\u0647",banner:"\u0627\u0644\u0644\u0627\u0641\u062a\u0629",tooltip:"\u062a\u0644\u0645\u064a\u062d",popup:"\u0646\u0627\u0641\u0630\u0629 \u0645\u0646\u0628\u062b\u0642\u0629",modal:"\u0627\u0644\u0646\u0627\u0641\u0630\u0629 \u0627\u0644\u0645\u0648\u062f\u0627\u0644\u064a\u0629",system:"\u0627\u0644\u0646\u0638\u0627\u0645",application:"\u0627\u0644\u062a\u0637\u0628\u064a\u0642",software:"\u0627\u0644\u0628\u0631\u0646\u0627\u0645\u062c",hardware:"\u0627\u0644\u0623\u062c\u0647\u0632\u0629",network:"\u0627\u0644\u0634\u0628\u0643\u0629",server:"\u0627\u0644\u062e\u0627\u062f\u0645",database:"\u0642\u0627\u0639\u062f\u0629 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a",backup:"\u0627\u0644\u0646\u0633\u062e \u0627\u0644\u0627\u062d\u062a\u064a\u0627\u0637\u064a",restore:"\u0627\u0644\u0627\u0633\u062a\u0639\u0627\u062f\u0629",sync:"\u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629",cache:"\u0627\u0644\u062a\u062e\u0632\u064a\u0646 \u0627\u0644\u0645\u0624\u0642\u062a",cookie:"\u0627\u0644\u0643\u0648\u0643\u064a\u0632",session:"\u0627\u0644\u062c\u0644\u0633\u0629",token:"\u0627\u0644\u0631\u0645\u0632 \u0627\u0644\u0645\u0645\u064a\u0632",api:"\u0648\u0627\u062c\u0647\u0629 \u0628\u0631\u0645\u062c\u0629 \u0627\u0644\u062a\u0637\u0628\u064a\u0642\u0627\u062a",quality:"\u0627\u0644\u062c\u0648\u062f\u0629",performance:"\u0627\u0644\u0623\u062f\u0627\u0621",speed:"\u0627\u0644\u0633\u0631\u0639\u0629",efficiency:"\u0627\u0644\u0643\u0641\u0627\u0621\u0629",accuracy:"\u0627\u0644\u062f\u0642\u0629",reliability:"\u0627\u0644\u0645\u0648\u062b\u0648\u0642\u064a\u0629",stability:"\u0627\u0644\u0627\u0633\u062a\u0642\u0631\u0627\u0631",security:"\u0627\u0644\u0623\u0645\u0627\u0646",privacy:"\u0627\u0644\u062e\u0635\u0648\u0635\u064a\u0629",business:"\u0627\u0644\u0623\u0639\u0645\u0627\u0644",company:"\u0627\u0644\u0634\u0631\u0643\u0629",organization:"\u0627\u0644\u0645\u0646\u0638\u0645\u0629",department:"\u0627\u0644\u0642\u0633\u0645",team:"\u0627\u0644\u0641\u0631\u064a\u0642",employee:"\u0627\u0644\u0645\u0648\u0638\u0641",manager:"\u0627\u0644\u0645\u062f\u064a\u0631",supervisor:"\u0627\u0644\u0645\u0634\u0631\u0641",administrator:"\u0627\u0644\u0645\u062f\u064a\u0631",customer:"\u0627\u0644\u0639\u0645\u064a\u0644",client:"\u0627\u0644\u0639\u0645\u064a\u0644",supplier:"\u0627\u0644\u0645\u0648\u0631\u062f",vendor:"\u0627\u0644\u0628\u0627\u0626\u0639",partner:"\u0627\u0644\u0634\u0631\u064a\u0643",finance:"\u0627\u0644\u0645\u0627\u0644\u064a\u0629",accounting:"\u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629",budget:"\u0627\u0644\u0645\u064a\u0632\u0627\u0646\u064a\u0629",cost:"\u0627\u0644\u062a\u0643\u0644\u0641\u0629",expense:"\u0627\u0644\u0646\u0641\u0642\u0629",income:"\u0627\u0644\u062f\u062e\u0644",profit:"\u0627\u0644\u0631\u0628\u062d",loss:"\u0627\u0644\u062e\u0633\u0627\u0631\u0629",tax:"\u0627\u0644\u0636\u0631\u064a\u0628\u0629",discount:"\u0627\u0644\u062e\u0635\u0645",commission:"\u0627\u0644\u0639\u0645\u0648\u0644\u0629",salary:"\u0627\u0644\u0631\u0627\u062a\u0628",wage:"\u0627\u0644\u0623\u062c\u0631",bonus:"\u0627\u0644\u0645\u0643\u0627\u0641\u0623\u0629",allStatuses:"\u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0627\u0644\u0627\u062a",allTypes:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0623\u0646\u0648\u0627\u0639",paid:"\u0645\u062f\u0641\u0648\u0639",unpaid:"\u063a\u064a\u0631 \u0645\u062f\u0641\u0648\u0639",overdue:"\u0645\u062a\u0623\u062e\u0631",draft:"\u0645\u0633\u0648\u062f\u0629",sent:"\u0645\u0631\u0633\u0644",viewed:"\u062a\u0645 \u0639\u0631\u0636\u0647",processing:"\u0642\u064a\u062f \u0627\u0644\u0645\u0639\u0627\u0644\u062c\u0629",completed:"\u0645\u0643\u062a\u0645\u0644",failed:"\u0641\u0634\u0644",filterBy:"\u062a\u0635\u0641\u064a\u0629 \u0628\u062d\u0633\u0628",filterByStatus:"\u062a\u0635\u0641\u064a\u0629 \u0628\u0627\u0644\u062d\u0627\u0644\u0629",filterByType:"\u062a\u0635\u0641\u064a\u0629 \u0628\u0627\u0644\u0646\u0648\u0639",filterByDate:"\u062a\u0635\u0641\u064a\u0629 \u0628\u0627\u0644\u062a\u0627\u0631\u064a\u062e",filterByUser:"\u062a\u0635\u0641\u064a\u0629 \u0628\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",searchBy:"\u0627\u0644\u0628\u062d\u062b \u0628\u062d\u0633\u0628",approve:"\u0645\u0648\u0627\u0641\u0642\u0629",reject:"\u0631\u0641\u0636",approved:"\u0645\u0648\u0627\u0641\u0642 \u0639\u0644\u064a\u0647",rejected:"\u0645\u0631\u0641\u0648\u0636",pending:"\u0642\u064a\u062f \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631",noData:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a",noResults:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0646\u062a\u0627\u0626\u062c",selectAll:"\u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0643\u0644",deselectAll:"\u0625\u0644\u063a\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0643\u0644",general:"\u0639\u0627\u0645",specific:"\u0645\u062d\u062f\u062f",basic:"\u0623\u0633\u0627\u0633\u064a",advanced:"\u0645\u062a\u0642\u062f\u0645",simple:"\u0628\u0633\u064a\u0637",complex:"\u0645\u0639\u0642\u062f",automatic:"\u062a\u0644\u0642\u0627\u0626\u064a",manual:"\u064a\u062f\u0648\u064a",temporary:"\u0645\u0624\u0642\u062a",permanent:"\u062f\u0627\u0626\u0645",urgent:"\u0639\u0627\u062c\u0644",normal:"\u0639\u0627\u062f\u064a",high:"\u0639\u0627\u0644\u064a",low:"\u0645\u0646\u062e\u0641\u0636",medium:"\u0645\u062a\u0648\u0633\u0637",country:"\u0627\u0644\u0628\u0644\u062f",city:"\u0627\u0644\u0645\u062f\u064a\u0646\u0629",address:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646",street:"\u0627\u0644\u0634\u0627\u0631\u0639",building:"\u0627\u0644\u0645\u0628\u0646\u0649",floor:"\u0627\u0644\u0637\u0627\u0628\u0642",room:"\u0627\u0644\u063a\u0631\u0641\u0629",office:"\u0627\u0644\u0645\u0643\u062a\u0628",warehouse:"\u0627\u0644\u0645\u062e\u0632\u0646",factory:"\u0627\u0644\u0645\u0635\u0646\u0639",store:"\u0627\u0644\u0645\u062a\u062c\u0631",branch:"\u0627\u0644\u0641\u0631\u0639",communication:"\u0627\u0644\u062a\u0648\u0627\u0635\u0644",contact:"\u0627\u0644\u0627\u062a\u0635\u0627\u0644",call:"\u0627\u0644\u0645\u0643\u0627\u0644\u0645\u0629",email:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",sms:"\u0627\u0644\u0631\u0633\u0627\u0626\u0644 \u0627\u0644\u0646\u0635\u064a\u0629",chat:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",meeting:"\u0627\u0644\u0627\u062c\u062a\u0645\u0627\u0639",conference:"\u0627\u0644\u0645\u0624\u062a\u0645\u0631",presentation:"\u0627\u0644\u0639\u0631\u0636 \u0627\u0644\u062a\u0642\u062f\u064a\u0645\u064a",discussion:"\u0627\u0644\u0646\u0642\u0627\u0634",feedback:"\u0627\u0644\u062a\u063a\u0630\u064a\u0629 \u0627\u0644\u0631\u0627\u062c\u0639\u0629",review:"\u0627\u0644\u0645\u0631\u0627\u062c\u0639\u0629",comment:"\u0627\u0644\u062a\u0639\u0644\u064a\u0642",reply:"\u0627\u0644\u0631\u062f",education:"\u0627\u0644\u062a\u0639\u0644\u064a\u0645",training:"\u0627\u0644\u062a\u062f\u0631\u064a\u0628",course:"\u0627\u0644\u062f\u0648\u0631\u0629",lesson:"\u0627\u0644\u062f\u0631\u0633",tutorial:"\u0627\u0644\u0628\u0631\u0646\u0627\u0645\u062c \u0627\u0644\u062a\u0639\u0644\u064a\u0645\u064a",guide:"\u0627\u0644\u062f\u0644\u064a\u0644",manual:"\u0627\u0644\u062f\u0644\u064a\u0644",documentation:"\u0627\u0644\u062a\u0648\u062b\u064a\u0642",help:"\u0627\u0644\u0645\u0633\u0627\u0639\u062f\u0629",support:"\u0627\u0644\u062f\u0639\u0645",faq:"\u0627\u0644\u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0634\u0627\u0626\u0639\u0629",tips:"\u0627\u0644\u0646\u0635\u0627\u0626\u062d",tricks:"\u0627\u0644\u062d\u064a\u0644",best_practices:"\u0623\u0641\u0636\u0644 \u0627\u0644\u0645\u0645\u0627\u0631\u0633\u0627\u062a",orderNumber:"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628",orderDate:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0637\u0644\u0628",orderType:"\u0646\u0648\u0639 \u0627\u0644\u0637\u0644\u0628",quantity:"\u0627\u0644\u0643\u0645\u064a\u0629",unitPrice:"\u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0629",totalPrice:"\u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a",approvals:"\u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0627\u062a",myRequests:"\u0637\u0644\u0628\u0627\u062a\u064a",pendingApprovals:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0645\u0648\u0627\u0641\u0642\u062a\u064a",approvalHistory:"\u0633\u062c\u0644 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0627\u062a",requestType:"\u0646\u0648\u0639 \u0627\u0644\u0637\u0644\u0628",requestStatus:"\u062d\u0627\u0644\u0629 \u0627\u0644\u0637\u0644\u0628",requestDate:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0637\u0644\u0628",approvalProgress:"\u062a\u0642\u062f\u0645 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629",awaitingApproval:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629",approved:"\u062a\u0645\u062a \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629",rejected:"\u0645\u0631\u0641\u0648\u0636",cancelled:"\u0645\u0644\u063a\u064a",pending:"\u0645\u0639\u0644\u0642",viewDetails:"\u0639\u0631\u0636 \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644",approve:"\u0645\u0648\u0627\u0641\u0642\u0629",reject:"\u0631\u0641\u0636",requestDetails:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0637\u0644\u0628",approvedBy:"\u0648\u0627\u0641\u0642 \u0639\u0644\u064a\u0647",rejectedBy:"\u0631\u0641\u0636\u0647",approvalDate:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629",notes:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a",approved:"\u0645\u0639\u062a\u0645\u062f",pending:"\u0641\u064a \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631",rejected:"\u0645\u0631\u0641\u0648\u0636",visitDate:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0632\u064a\u0627\u0631\u0629",doctor:"\u0627\u0644\u0637\u0628\u064a\u0628",clinic:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629",salesRep:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628",notes:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a",gpsLocation:"\u0645\u0648\u0642\u0639 GPS",visitType:"\u0646\u0648\u0639 \u0627\u0644\u0632\u064a\u0627\u0631\u0629",search:"\u0628\u062d\u062b",searchPlaceholder:"\u0627\u0628\u062d\u062b \u0639\u0646 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646\u060c \u0627\u0644\u0623\u0637\u0628\u0627\u0621\u060c \u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a\u060c \u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631...",searchResults:"\u0646\u062a\u0627\u0626\u062c \u0627\u0644\u0628\u062d\u062b",noResults:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0646\u062a\u0627\u0626\u062c",systemSettings:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0646\u0638\u0627\u0645",companyInfo:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0634\u0631\u0643\u0629",companyName:"\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629",logo:"\u0627\u0644\u0634\u0639\u0627\u0631",primaryColor:"\u0627\u0644\u0644\u0648\u0646 \u0627\u0644\u0623\u0633\u0627\u0633\u064a",secondaryColor:"\u0627\u0644\u0644\u0648\u0646 \u0627\u0644\u062b\u0627\u0646\u0648\u064a",adminSettings:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0625\u062f\u0627\u0631\u0629",permissions:"\u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a",dashboardConfig:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645",systemHealth:"\u0635\u062d\u0629 \u0627\u0644\u0646\u0638\u0627\u0645",security:"\u0627\u0644\u0623\u0645\u0627\u0646",activityLogs:"\u0633\u062c\u0644\u0627\u062a \u0627\u0644\u0623\u0646\u0634\u0637\u0629",loading:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644...",error:"\u062e\u0637\u0623",success:"\u0646\u062c\u062d",warning:"\u062a\u062d\u0630\u064a\u0631",info:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a",confirm:"\u062a\u0623\u0643\u064a\u062f",yes:"\u0646\u0639\u0645",no:"\u0644\u0627",close:"\u0625\u063a\u0644\u0627\u0642",back:"\u0631\u062c\u0648\u0639",next:"\u0627\u0644\u062a\u0627\u0644\u064a",previous:"\u0627\u0644\u0633\u0627\u0628\u0642",submit:"\u0625\u0631\u0633\u0627\u0644",footerAbout:"\u0639\u0646 \u0627\u0644\u0634\u0631\u0643\u0629",footerServices:"\u062e\u062f\u0645\u0627\u062a\u0646\u0627",footerContact:"\u0627\u062a\u0635\u0644 \u0628\u0646\u0627",footerPrivacy:"\u0633\u064a\u0627\u0633\u0629 \u0627\u0644\u062e\u0635\u0648\u0635\u064a\u0629",footerTerms:"\u0627\u0644\u0634\u0631\u0648\u0637 \u0648\u0627\u0644\u0623\u062d\u0643\u0627\u0645",footerSupport:"\u0627\u0644\u062f\u0639\u0645 \u0627\u0644\u0641\u0646\u064a",footerQuickLinks:"\u0631\u0648\u0627\u0628\u0637 \u0633\u0631\u064a\u0639\u0629",footerLegal:"\u0642\u0627\u0646\u0648\u0646\u064a",footerContactUs:"\u062a\u0648\u0627\u0635\u0644 \u0645\u0639\u0646\u0627",footerCopyright:"\u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0642\u0648\u0642 \u0645\u062d\u0641\u0648\u0638\u0629",footerDescription:"\u0646\u0638\u0627\u0645 \u0625\u062f\u0627\u0631\u0629 \u0634\u0627\u0645\u0644 \u0644\u0644\u0645\u0624\u0633\u0633\u0627\u062a \u0648\u0627\u0644\u0634\u0631\u0643\u0627\u062a \u0645\u0639 \u0623\u062d\u062f\u062b \u0627\u0644\u062a\u0642\u0646\u064a\u0627\u062a",footerLocation:"\u0627\u0644\u0642\u0627\u0647\u0631\u0629\u060c \u0645\u0635\u0631",themeLight:"\u0641\u0627\u062a\u062d",themeDark:"\u063a\u0627\u0645\u0642",themeMinimal:"\u0628\u0633\u064a\u0637",themeModern:"\u062d\u062f\u064a\u062b",themeFancy:"\u0641\u0627\u062e\u0631",themeCyber:"\u0633\u0627\u064a\u0628\u0631",themeSunset:"\u063a\u0631\u0648\u0628",themeOcean:"\u0645\u062d\u064a\u0637",themeForest:"\u063a\u0627\u0628\u0629"},en:{systemName:"EP Group System",login:"Login",username:"Username",password:"Password",rememberMe:"Remember Me",forgotPassword:"Forgot Password?",loginButton:"Login",loginLoading:"Logging in...",welcome:"Welcome to",enterCredentials:"Enter your credentials to login",dashboard:"Dashboard",statistics:"Statistics",users:"Users",userManagement:"User Management",warehouse:"Warehouse",warehouseManagement:"Warehouse Management",visits:"Visits",visitsLog:"Visits Log",reports:"Reports",settings:"Settings",logout:"Logout",totalUsers:"Total Users",totalClinics:"Total Clinics",totalDoctors:"Total Doctors",totalVisits:"Total Visits",totalWarehouses:"Total Warehouses",totalProducts:"Total Products",totalOrders:"Total Orders",recentActivity:"Recent Activity",viewAll:"View All",addUser:"Add User",fullName:"Full Name",email:"Email",phone:"Phone",role:"Role",status:"Status",active:"Active",inactive:"Inactive",actions:"Actions",edit:"Edit",delete:"Delete",save:"Save",cancel:"Cancel",gm:"General Manager",admin:"Admin",lineManager:"Line Manager",areaManager:"Area Manager",districtManager:"District Manager",keyAccount:"Key Account",medicalRep:"Medical Rep",manager:"Manager",salesRep:"Sales Rep",warehouse:"Warehouse",accounting:"Accounting",line1:"Line 1",line2:"Line 2",regions:"Regions",districts:"Districts",regionManagement:"Region Management",districtManagement:"District Management",lineManagement:"Line Management",areaManagement:"Area Management",comprehensiveSettings:"Comprehensive Settings",roleHierarchy:"Role Hierarchy",systemHealth:"System Health",lineStatistics:"Line Statistics",initializeSystem:"Initialize System",miniProfile:"Mini Profile",maps:"Maps",location:"Location",currentLocation:"Your Current Location",selectLocation:"Select Location",selectedLocation:"Selected Location",registeredLocation:"Registered Location",mapInstructions:"Click on the map to select location",locationRequired:"Location is required",getLocation:"Get Location",locationPermission:"Please allow location access",warehouseName:"Warehouse Name",location:"Location",capacity:"Capacity",currentStock:"Current Stock",products:"Products",orders:"Orders",movement:"Movement",inventory:"Inventory",add:"Add",edit:"Edit",delete:"Delete",view:"View",create:"Create",update:"Update",preview:"Preview",select:"Select",choose:"Choose",filter:"Filter",sort:"Sort",export:"Export",import:"Import",download:"Download",upload:"Upload",refresh:"Refresh",reset:"Reset",clear:"Clear",apply:"Apply",all:"All",none:"None",selected:"Selected",unselected:"Unselected",enabled:"Enabled",disabled:"Disabled",required:"Required",optional:"Optional",available:"Available",unavailable:"Unavailable",online:"Online",offline:"Offline",visible:"Visible",hidden:"Hidden",details:"Details",description:"Description",name:"Name",title:"Title",type:"Type",code:"Code",id:"ID",number:"Number",count:"Count",size:"Size",weight:"Weight",height:"Height",width:"Width",length:"Length",time:"Time",today:"Today",yesterday:"Yesterday",tomorrow:"Tomorrow",thisWeek:"This Week",thisMonth:"This Month",thisYear:"This Year",lastWeek:"Last Week",lastMonth:"Last Month",lastYear:"Last Year",form:"Form",field:"Field",value:"Value",option:"Option",checkbox:"Checkbox",radio:"Radio",dropdown:"Dropdown",textarea:"Textarea",button:"Button",link:"Link",home:"Home",menu:"Menu",navigation:"Navigation",breadcrumb:"Breadcrumb",tab:"Tab",page:"Page",section:"Section",data:"Data",information:"Information",content:"Content",text:"Text",image:"Image",file:"File",document:"Document",folder:"Folder",open:"Open",close:"Close",show:"Show",hide:"Hide",expand:"Expand",collapse:"Collapse",minimize:"Minimize",maximize:"Maximize",move:"Move",copy:"Copy",paste:"Paste",cut:"Cut",undo:"Undo",redo:"Redo",message:"Message",notification:"Notification",alert:"Alert",banner:"Banner",tooltip:"Tooltip",popup:"Popup",modal:"Modal",system:"System",application:"Application",software:"Software",hardware:"Hardware",network:"Network",server:"Server",database:"Database",backup:"Backup",restore:"Restore",sync:"Sync",cache:"Cache",cookie:"Cookie",session:"Session",token:"Token",api:"API",quality:"Quality",performance:"Performance",speed:"Speed",efficiency:"Efficiency",accuracy:"Accuracy",reliability:"Reliability",stability:"Stability",security:"Security",privacy:"Privacy",business:"Business",company:"Company",organization:"Organization",department:"Department",team:"Team",employee:"Employee",manager:"Manager",supervisor:"Supervisor",administrator:"Administrator",customer:"Customer",client:"Client",supplier:"Supplier",vendor:"Vendor",partner:"Partner",finance:"Finance",accounting:"Accounting",budget:"Budget",cost:"Cost",expense:"Expense",income:"Income",profit:"Profit",loss:"Loss",tax:"Tax",discount:"Discount",commission:"Commission",salary:"Salary",wage:"Wage",bonus:"Bonus",allStatuses:"All Statuses",allTypes:"All Types",paid:"Paid",unpaid:"Unpaid",overdue:"Overdue",draft:"Draft",sent:"Sent",viewed:"Viewed",processing:"Processing",completed:"Completed",failed:"Failed",filterBy:"Filter By",filterByStatus:"Filter by Status",filterByType:"Filter by Type",filterByDate:"Filter by Date",filterByUser:"Filter by User",searchBy:"Search By",approve:"Approve",reject:"Reject",approved:"Approved",rejected:"Rejected",pending:"Pending",noData:"No Data",noResults:"No Results",selectAll:"Select All",deselectAll:"Deselect All",general:"General",specific:"Specific",basic:"Basic",advanced:"Advanced",simple:"Simple",complex:"Complex",automatic:"Automatic",manual:"Manual",temporary:"Temporary",permanent:"Permanent",urgent:"Urgent",normal:"Normal",high:"High",low:"Low",medium:"Medium",country:"Country",city:"City",address:"Address",street:"Street",building:"Building",floor:"Floor",room:"Room",office:"Office",warehouse:"Warehouse",factory:"Factory",store:"Store",branch:"Branch",communication:"Communication",contact:"Contact",call:"Call",email:"Email",sms:"SMS",chat:"Chat",meeting:"Meeting",conference:"Conference",presentation:"Presentation",discussion:"Discussion",feedback:"Feedback",review:"Review",comment:"Comment",reply:"Reply",education:"Education",training:"Training",course:"Course",lesson:"Lesson",tutorial:"Tutorial",guide:"Guide",manual:"Manual",documentation:"Documentation",help:"Help",support:"Support",faq:"FAQ",tips:"Tips",tricks:"Tricks",best_practices:"Best Practices",orderNumber:"Order Number",orderDate:"Order Date",orderType:"Order Type",quantity:"Quantity",unitPrice:"Unit Price",totalPrice:"Total Price",approved:"Approved",pending:"Pending",rejected:"Rejected",visitDate:"Visit Date",doctor:"Doctor",clinic:"Clinic",salesRep:"Sales Rep",notes:"Notes",gpsLocation:"GPS Location",visitType:"Visit Type",search:"Search",searchPlaceholder:"Search users, doctors, clinics, invoices...",searchResults:"Search Results",noResults:"No Results",systemSettings:"System Settings",companyInfo:"Company Information",companyName:"Company Name",logo:"Logo",primaryColor:"Primary Color",secondaryColor:"Secondary Color",adminSettings:"Admin Settings",permissions:"Permissions",dashboardConfig:"Dashboard Configuration",systemHealth:"System Health",security:"Security",activityLogs:"Activity Logs",loading:"Loading...",error:"Error",success:"Success",warning:"Warning",info:"Information",confirm:"Confirm",yes:"Yes",no:"No",close:"Close",back:"Back",next:"Next",previous:"Previous",submit:"Submit",footerAbout:"About Us",footerServices:"Our Services",footerContact:"Contact Us",footerPrivacy:"Privacy Policy",footerTerms:"Terms & Conditions",footerSupport:"Technical Support",footerQuickLinks:"Quick Links",footerLegal:"Legal",footerContactUs:"Contact",footerCopyright:"All rights reserved",footerDescription:"Comprehensive enterprise management system with latest technologies",footerLocation:"Cairo, Egypt",themeLight:"Light",themeDark:"Dark",themeMinimal:"Minimal",themeModern:"Modern",themeFancy:"Fancy",themeCyber:"Cyber",themeSunset:"Sunset",themeOcean:"Ocean",themeForest:"Forest"}},Bt=e=>{let{children:t}=e;const[s,a]=(0,n.useState)((()=>localStorage.getItem("language")||"en"));return(0,n.useEffect)((()=>{document.documentElement.dir="ar"===s?"rtl":"ltr",document.documentElement.lang=s,document.body.classList.add("ar"===s?"arabic":"english")}),[s]),(0,Tt.jsx)(Rt.Provider,{value:{language:s,changeLanguage:e=>{a(e),localStorage.setItem("language",e),document.documentElement.dir="ar"===e?"rtl":"ltr",document.documentElement.lang=e,document.body.className=document.body.className.replace(/\b(arabic|english)\b/g,""),document.body.classList.add("ar"===e?"arabic":"english")},t:e=>{var t;return(null===(t=Ft[s])||void 0===t?void 0:t[e])||e},isRTL:"ar"===s},children:t})},Ut=e=>{let{className:t="",position:s="header"}=e;const{language:a,changeLanguage:n,t:l}=It(),r=()=>{n("ar"===a?"en":"ar")};return"login"===s?(0,Tt.jsx)("div",{className:"language-toggle ".concat(t," ").concat("ar"===a?"rtl":""),children:(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("button",{onClick:r,className:"language-option ".concat("ar"===a?"active":""),children:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629"}),(0,Tt.jsx)("button",{onClick:r,className:"language-option ".concat("en"===a?"active":""),children:"English"})]})}):(0,Tt.jsx)("div",{className:"language-toggle",children:(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("button",{onClick:r,className:"language-option ".concat("ar"===a?"active":""),children:"\u0639"}),(0,Tt.jsx)("button",{onClick:r,className:"language-option ".concat("en"===a?"active":""),children:"EN"})]})})},qt=(0,n.createContext)(),Vt=()=>{const e=(0,n.useContext)(qt);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},Ht=e=>{let{children:t}=e;const[s,a]=(0,n.useState)("dark"),l=["light","dark","minimal","modern","fancy","cyber","sunset","ocean","forest"];(0,n.useEffect)((()=>{const e=localStorage.getItem("theme")||"dark";a(e),document.documentElement.setAttribute("data-theme",e),document.body.setAttribute("data-theme",e),r(e)}),[]);const r=e=>{const t=document.documentElement,s={light:{"--primary-bg":"#ffffff","--secondary-bg":"#f8fafc","--accent-bg":"#e2e8f0","--card-bg":"rgba(255, 255, 255, 0.95)","--glass-bg":"rgba(248, 250, 252, 0.8)","--text-primary":"#1e293b","--text-secondary":"#475569","--text-muted":"#64748b","--gradient-dark":"linear-gradient(135deg, #ffffff 0%, #f8fafc 50%, #e2e8f0 100%)","--border-color":"#e2e8f0","--hover-bg":"rgba(0, 0, 0, 0.05)","--shadow":"0 4px 6px -1px rgba(0, 0, 0, 0.1)","--primary-color":"#3b82f6","--success-color":"#10b981","--warning-color":"#f59e0b","--error-color":"#ef4444","--glow-primary":"none","--glow-secondary":"none"},dark:{"--primary-bg":"#0f172a","--secondary-bg":"#1e293b","--accent-bg":"#334155","--card-bg":"rgba(30, 41, 59, 0.95)","--glass-bg":"rgba(15, 23, 42, 0.8)","--text-primary":"#f1f5f9","--text-secondary":"#cbd5e1","--text-muted":"#94a3b8","--gradient-dark":"linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%)","--border-color":"#334155","--hover-bg":"rgba(255, 255, 255, 0.05)","--shadow":"0 4px 6px -1px rgba(0, 0, 0, 0.3)","--primary-color":"#60a5fa","--success-color":"#34d399","--warning-color":"#fbbf24","--error-color":"#f87171","--glow-primary":"none","--glow-secondary":"none"},minimal:{"--primary-bg":"#fefefe","--secondary-bg":"#f9f9f9","--accent-bg":"#f0f0f0","--card-bg":"rgba(255, 255, 255, 0.98)","--glass-bg":"rgba(249, 249, 249, 0.95)","--text-primary":"#2d3748","--text-secondary":"#4a5568","--text-muted":"#718096","--gradient-dark":"linear-gradient(135deg, #fefefe 0%, #f9f9f9 100%)","--border-color":"#e2e8f0","--hover-bg":"rgba(0, 0, 0, 0.03)","--shadow":"0 1px 3px rgba(0, 0, 0, 0.1)","--primary-color":"#4a5568","--success-color":"#48bb78","--warning-color":"#ed8936","--error-color":"#e53e3e","--glow-primary":"none","--glow-secondary":"none"},modern:{"--primary-bg":"#0a0a0a","--secondary-bg":"#1a1a1a","--accent-bg":"#2d2d2d","--card-bg":"rgba(26, 26, 26, 0.95)","--glass-bg":"rgba(10, 10, 10, 0.8)","--text-primary":"#ffffff","--text-secondary":"#e5e7eb","--text-muted":"#9ca3af","--gradient-dark":"linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #2d2d2d 100%)","--border-color":"#404040","--hover-bg":"rgba(255, 255, 255, 0.08)","--shadow":"0 8px 32px rgba(0, 0, 0, 0.4)","--primary-color":"#00d4ff","--success-color":"#00ff88","--warning-color":"#ffaa00","--error-color":"#ff4757","--glow-primary":"0 0 20px rgba(0, 212, 255, 0.3)","--glow-secondary":"0 0 10px rgba(0, 255, 136, 0.2)"},fancy:{"--primary-bg":"#1a1a2e","--secondary-bg":"#16213e","--accent-bg":"#0f3460","--card-bg":"rgba(22, 33, 62, 0.95)","--glass-bg":"rgba(26, 26, 46, 0.8)","--text-primary":"#eee6ff","--text-secondary":"#b8b5ff","--text-muted":"#8a87ff","--gradient-dark":"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)","--border-color":"#533483","--hover-bg":"rgba(238, 230, 255, 0.1)","--shadow":"0 8px 32px rgba(83, 52, 131, 0.3)","--primary-color":"#bb86fc","--success-color":"#4ade80","--warning-color":"#fbbf24","--error-color":"#f87171","--glow-primary":"0 0 20px rgba(187, 134, 252, 0.5)","--glow-secondary":"0 0 10px rgba(184, 181, 255, 0.3)"},cyber:{"--primary-bg":"#0d1117","--secondary-bg":"#161b22","--accent-bg":"#21262d","--card-bg":"rgba(22, 27, 34, 0.95)","--glass-bg":"rgba(13, 17, 23, 0.8)","--text-primary":"#00ff41","--text-secondary":"#58a6ff","--text-muted":"#7d8590","--gradient-dark":"linear-gradient(135deg, #0d1117 0%, #161b22 50%, #21262d 100%)","--border-color":"#30363d","--hover-bg":"rgba(0, 255, 65, 0.1)","--shadow":"0 8px 32px rgba(0, 255, 65, 0.2)","--primary-color":"#00ff41","--success-color":"#00ff41","--warning-color":"#ffab00","--error-color":"#ff4757","--glow-primary":"0 0 20px rgba(0, 255, 65, 0.4)","--glow-secondary":"0 0 10px rgba(88, 166, 255, 0.3)"},sunset:{"--primary-bg":"#2d1b3d","--secondary-bg":"#3d2858","--accent-bg":"#4a3566","--card-bg":"rgba(61, 40, 88, 0.95)","--glass-bg":"rgba(45, 27, 61, 0.8)","--text-primary":"#fff4e6","--text-secondary":"#ffd6a5","--text-muted":"#ffab76","--gradient-dark":"linear-gradient(135deg, #2d1b3d 0%, #3d2858 50%, #ff6b6b 100%)","--border-color":"#ff8a80","--hover-bg":"rgba(255, 116, 116, 0.1)","--shadow":"0 8px 32px rgba(255, 107, 107, 0.3)","--primary-color":"#ff6b6b","--success-color":"#51cf66","--warning-color":"#ffd43b","--error-color":"#ff6b6b","--glow-primary":"0 0 20px rgba(255, 107, 107, 0.4)","--glow-secondary":"0 0 10px rgba(255, 214, 165, 0.3)"},ocean:{"--primary-bg":"#0f2027","--secondary-bg":"#203a43","--accent-bg":"#2c5364","--card-bg":"rgba(32, 58, 67, 0.95)","--glass-bg":"rgba(15, 32, 39, 0.8)","--text-primary":"#e6fffa","--text-secondary":"#9decf9","--text-muted":"#4dd0e1","--gradient-dark":"linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%)","--border-color":"#26a69a","--hover-bg":"rgba(38, 166, 154, 0.1)","--shadow":"0 8px 32px rgba(0, 188, 212, 0.3)","--primary-color":"#00bcd4","--success-color":"#26a69a","--warning-color":"#ffa726","--error-color":"#ef5350","--glow-primary":"0 0 20px rgba(0, 188, 212, 0.4)","--glow-secondary":"0 0 10px rgba(157, 236, 249, 0.3)"},forest:{"--primary-bg":"#1b2f1e","--secondary-bg":"#2d4a32","--accent-bg":"#3e5c42","--card-bg":"rgba(45, 74, 50, 0.95)","--glass-bg":"rgba(27, 47, 30, 0.8)","--text-primary":"#f1f8e9","--text-secondary":"#c8e6c9","--text-muted":"#a5d6a7","--gradient-dark":"linear-gradient(135deg, #1b2f1e 0%, #2d4a32 50%, #3e5c42 100%)","--border-color":"#4caf50","--hover-bg":"rgba(76, 175, 80, 0.1)","--shadow":"0 8px 32px rgba(76, 175, 80, 0.3)","--primary-color":"#4caf50","--success-color":"#66bb6a","--warning-color":"#ffb74d","--error-color":"#ef5350","--glow-primary":"0 0 20px rgba(76, 175, 80, 0.4)","--glow-secondary":"0 0 10px rgba(200, 230, 201, 0.3)"}},a=s[e]||s.dark;Object.entries(a).forEach((e=>{let[s,a]=e;t.style.setProperty(s,a)}))},i=e=>{l.includes(e)&&(a(e),localStorage.setItem("theme",e),document.documentElement.setAttribute("data-theme",e),document.body.setAttribute("data-theme",e),r(e))};return(0,Tt.jsx)(qt.Provider,{value:{theme:s,toggleTheme:()=>{i("dark"===s?"light":"dark")},cycleTheme:()=>{const e=(l.indexOf(s)+1)%l.length,t=l[e];a(t),localStorage.setItem("theme",t),document.documentElement.setAttribute("data-theme",t),document.body.setAttribute("data-theme",t),r(t)},setSpecificTheme:i,availableThemes:l},children:(0,Tt.jsx)("div",{"data-theme":s,style:{minHeight:"100vh",background:"var(--gradient-dark)",color:"var(--text-primary)"},children:t})})},Gt={dashboard:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z" fill="currentColor"/>\n  </svg>',users:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" fill="currentColor"/>\n  </svg>',user:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" stroke="currentColor" stroke-width="2" fill="none"/>\n    <circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="2" fill="none"/>\n  </svg>',settings:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M12 15a3 3 0 100-6 3 3 0 000 6z" fill="currentColor"/>\n    <path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z" fill="currentColor"/>\n  </svg>',organization:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" stroke="currentColor" stroke-width="2" fill="none"/>\n  </svg>',regions:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z" stroke="currentColor" stroke-width="2" fill="none"/>\n    <circle cx="12" cy="10" r="3" stroke="currentColor" stroke-width="2" fill="none"/>\n  </svg>',analytics:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M3 3v18h18M9 9l4 4 4-4" stroke="currentColor" stroke-width="2" fill="none"/>\n    <path d="M19 9v6M15 13v6M11 17v6M7 21v6" stroke="currentColor" stroke-width="2" fill="none"/>\n  </svg>',maps:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M14.5 2a5.5 5.5 0 105.5 5.5c0-1.61-.59-3.09-1.56-4.24L14.5 2z" fill="currentColor"/>\n    <path d="M14.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3z" fill="white"/>\n    <path d="M5 12h14l-1 9H6l-1-9z" stroke="currentColor" stroke-width="2" fill="none"/>\n  </svg>',gps:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M12 8a3 3 0 100 6 3 3 0 000-6z" fill="currentColor"/>\n    <path d="M12 1v6M12 17v6M4.93 4.93l4.24 4.24M14.83 14.83l4.24 4.24M1 12h6M17 12h6M4.93 19.07l4.24-4.24M14.83 9.17l4.24-4.24" stroke="currentColor" stroke-width="2"/>\n  </svg>',security:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" stroke="currentColor" stroke-width="2" fill="none"/>\n  </svg>',theme:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M12 3a6.364 6.364 0 004.5 1.5c1.454 0 2.765-.46 3.75-1.238A9.001 9.001 0 0112 21c-4.97 0-9-4.03-9-9s4.03-9 9-9z" fill="currentColor"/>\n  </svg>',language:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none"/>\n    <path d="M2 12h20M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z" stroke="currentColor" stroke-width="2" fill="none"/>\n  </svg>',phone:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z" stroke="currentColor" stroke-width="2" fill="none"/>\n  </svg>',notifications:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9M13.73 21a2 2 0 01-3.46 0" stroke="currentColor" stroke-width="2" fill="none"/>\n  </svg>',accounting:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2" stroke="currentColor" stroke-width="2" fill="none"/>\n    <rect x="8" y="2" width="8" height="4" rx="1" ry="1" stroke="currentColor" stroke-width="2" fill="none"/>\n    <path d="M9 12h6M9 16h6" stroke="currentColor" stroke-width="2"/>\n  </svg>',reports:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z" stroke="currentColor" stroke-width="2" fill="none"/>\n    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2" fill="none"/>\n    <line x1="16" y1="13" x2="8" y2="13" stroke="currentColor" stroke-width="2"/>\n    <line x1="16" y1="17" x2="8" y2="17" stroke="currentColor" stroke-width="2"/>\n  </svg>',gamification:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" fill="currentColor"/>\n  </svg>',scanner:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M3 7V5a2 2 0 012-2h2M17 3h2a2 2 0 012 2v2M21 17v2a2 2 0 01-2 2h-2M7 21H5a2 2 0 01-2-2v-2" stroke="currentColor" stroke-width="2" fill="none"/>\n    <rect x="7" y="7" width="10" height="10" rx="1" stroke="currentColor" stroke-width="2" fill="none"/>\n  </svg>',visits:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0016.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 002 8.5c0 2.29 1.51 4.04 3 5.5l7 7 7-7z" fill="currentColor"/>\n  </svg>',products:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83 0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z" stroke="currentColor" stroke-width="2" fill="none"/>\n    <line x1="7" y1="7" x2="7.01" y2="7" stroke="currentColor" stroke-width="2"/>\n  </svg>',warehouse:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M3 21h18M5 21V7l8-4v18M19 21V7l-6-4" stroke="currentColor" stroke-width="2" fill="none"/>\n    <path d="M9 9v4M15 9v4" stroke="currentColor" stroke-width="2"/>\n  </svg>',features:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2" fill="none"/>\n    <path d="M12 1v6M12 17v6M4.22 4.22l4.24 4.24M15.54 15.54l4.24 4.24M1 12h6M17 12h6M4.22 19.78l4.24-4.24M15.54 8.46l4.24-4.24" stroke="currentColor" stroke-width="2"/>\n  </svg>',performance:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M3 18v-6a9 9 0 0118 0v6M3 18a2 2 0 002 2h14a2 2 0 002-2" stroke="currentColor" stroke-width="2" fill="none"/>\n    <path d="M12 8v4l2 2" stroke="currentColor" stroke-width="2" fill="none"/>\n  </svg>',success:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M22 11.08V12a10 10 0 11-5.93-9.14" stroke="currentColor" stroke-width="2" fill="none"/>\n    <polyline points="22,4 12,14.01 9,11.01" stroke="currentColor" stroke-width="2" fill="none"/>\n  </svg>',warning:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z" stroke="currentColor" stroke-width="2" fill="none"/>\n    <line x1="12" y1="9" x2="12" y2="13" stroke="currentColor" stroke-width="2"/>\n    <line x1="12" y1="17" x2="12.01" y2="17" stroke="currentColor" stroke-width="2"/>\n  </svg>',error:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none"/>\n    <line x1="15" y1="9" x2="9" y2="15" stroke="currentColor" stroke-width="2"/>\n    <line x1="9" y1="9" x2="15" y2="15" stroke="currentColor" stroke-width="2"/>\n  </svg>'},Wt=e=>{let{name:t,size:s=24,className:a="",color:n="currentColor",style:l={}}=e;const r=Gt[t];return r?(0,Tt.jsx)("span",{className:"inline-flex items-center justify-center icon-svg ".concat(a),style:d({width:s,height:s,color:n,filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.1))",transition:"all 0.3s ease"},l),dangerouslySetInnerHTML:{__html:r.replace(/currentColor/g,n||"var(--icon-color, currentColor)")}}):(console.warn('Icon "'.concat(t,'" not found in IconLibrary')),(0,Tt.jsx)("span",{className:"inline-block ".concat(a),style:d({width:s,height:s},l),children:"\u2753"}))},Qt=e=>{let{isOpen:t,onClose:s}=e;const[a,l]=(0,n.useState)(""),[r,i]=(0,n.useState)("all"),[c,o]=(0,n.useState)({}),[d,u]=(0,n.useState)(!1),[m,x]=(0,n.useState)(!1),[h,p]=(0,n.useState)(null),g=async()=>{if(a.trim()){u(!0);try{const e=localStorage.getItem("access_token"),t=/^\d+$/.test(a.trim()),s=await Pt.get("".concat(Dt,"/search/comprehensive"),{params:{q:a,search_type:t?"invoice":r},headers:{Authorization:"Bearer ".concat(e)}});if(o(s.data.results),t&&s.data.results.invoices&&s.data.results.invoices.length>0){const e=s.data.results.invoices[0];p(e),x(!0)}}catch(e){console.error("Search error:",e)}finally{u(!1)}}};return t?(0,Tt.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-start justify-center pt-10",children:[(0,Tt.jsxs)("div",{className:"glass-effect w-full max-w-5xl max-h-[90vh] overflow-hidden rounded-2xl shadow-2xl",children:[(0,Tt.jsxs)("div",{className:"p-6 border-b border-white border-opacity-20",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Tt.jsx)("h2",{className:"text-2xl font-bold text-gradient",children:"\u0627\u0644\u0628\u062d\u062b \u0627\u0644\u0634\u0627\u0645\u0644"}),(0,Tt.jsx)("button",{onClick:s,className:"p-2 hover:bg-gray-100 hover:bg-opacity-10 rounded-full transition-colors",children:(0,Tt.jsx)(Wt,{name:"close",size:24})})]}),(0,Tt.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,Tt.jsxs)("div",{className:"flex-1 relative",children:[(0,Tt.jsx)("input",{type:"text",value:a,onChange:e=>l(e.target.value),onKeyPress:e=>{"Enter"===e.key&&g()},placeholder:"\u0627\u0628\u062d\u062b \u0639\u0646 \u0645\u0646\u062f\u0648\u0628\u060c \u0637\u0628\u064a\u0628\u060c \u0639\u064a\u0627\u062f\u0629\u060c \u0631\u0642\u0645 \u0641\u0627\u062a\u0648\u0631\u0629\u060c \u0623\u0648 \u0645\u0646\u062a\u062c...",className:"w-full p-4 pr-12 rounded-xl border-2 focus:outline-none focus:ring-2 focus:ring-blue-500 glass-effect",style:{borderColor:"var(--border-color)",color:"var(--text-primary)"}}),(0,Tt.jsx)("div",{className:"absolute right-4 top-4",children:(0,Tt.jsx)(Wt,{name:"search",size:20})})]}),(0,Tt.jsxs)("button",{onClick:g,className:"btn-modern px-8 py-4 flex items-center gap-2",disabled:d,children:[(0,Tt.jsx)(Wt,{name:"search",size:18}),"\u0628\u062d\u062b"]})]}),(0,Tt.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[{value:"all",label:"\u0627\u0644\u0628\u062d\u062b \u0627\u0644\u0634\u0627\u0645\u0644",icon:"search"},{value:"representative",label:"\u0627\u0644\u0645\u0646\u0627\u062f\u064a\u0628",icon:"user"},{value:"doctor",label:"\u0627\u0644\u0623\u0637\u0628\u0627\u0621",icon:"user"},{value:"clinic",label:"\u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a",icon:"warehouse"},{value:"invoice",label:"\u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631",icon:"reports"},{value:"product",label:"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a",icon:"warehouse"}].map((e=>(0,Tt.jsxs)("button",{onClick:()=>i(e.value),className:"px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 whitespace-nowrap flex items-center gap-2 ".concat(r===e.value?"bg-blue-500 text-white shadow-lg":"glass-effect hover:bg-gray-100 hover:bg-opacity-10"),children:[(0,Tt.jsx)(Wt,{name:e.icon,size:16}),e.label]},e.value)))})]}),(0,Tt.jsx)("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:d?(0,Tt.jsxs)("div",{className:"text-center py-12",children:[(0,Tt.jsx)("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,Tt.jsx)("p",{style:{color:"var(--text-secondary)"},children:"\u062c\u0627\u0631\u064a \u0627\u0644\u0628\u062d\u062b..."})]}):c&&0!==Object.keys(c).length?(0,Tt.jsxs)("div",{className:"space-y-8",children:[c.representatives&&c.representatives.length>0&&(0,Tt.jsxs)("div",{className:"search-section",children:[(0,Tt.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-3",children:[(0,Tt.jsx)(Wt,{name:"user",size:24}),(0,Tt.jsxs)("span",{children:["\u0627\u0644\u0645\u0646\u0627\u062f\u064a\u0628 (",c.representatives.length,")"]})]}),(0,Tt.jsx)("div",{className:"grid gap-4",children:c.representatives.map((e=>{var t,s,a,n,l,r;return(0,Tt.jsx)("div",{className:"glass-effect p-4 hover:shadow-lg transition-all duration-300",children:(0,Tt.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Tt.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:e.photo?(0,Tt.jsx)("img",{src:e.photo,alt:e.name,className:"w-full h-full rounded-full object-cover"}):e.name.charAt(0)}),(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Tt.jsx)("h4",{className:"font-bold text-lg",children:e.name}),(0,Tt.jsx)("span",{className:"text-sm px-3 py-1 bg-blue-100 bg-opacity-20 rounded-full",children:"\u0645\u0646\u062f\u0648\u0628"})]}),(0,Tt.jsxs)("p",{className:"text-sm mb-3",style:{color:"var(--text-secondary)"},children:[e.username," \u2022 ",e.email]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,Tt.jsxs)("span",{children:["\u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a: ",(null===(t=e.statistics)||void 0===t||null===(s=t.visits)||void 0===s?void 0:s.total)||0]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,Tt.jsxs)("span",{children:["\u0627\u0644\u0637\u0644\u0628\u0627\u062a: ",(null===(a=e.statistics)||void 0===a||null===(n=a.orders)||void 0===n?void 0:n.total)||0]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),(0,Tt.jsxs)("span",{children:["\u0627\u0644\u062a\u0627\u0631\u062c\u064a\u062a: ",(null===(l=e.statistics)||void 0===l?void 0:l.target)||0," \u062c.\u0645"]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,Tt.jsxs)("span",{children:["\u0627\u0644\u0645\u062f\u064a\u0648\u0646\u064a\u0629: ",(null===(r=e.statistics)||void 0===r?void 0:r.pending_debt)||0," \u062c.\u0645"]})]})]})]})]})},e.id)}))})]}),c.doctors&&c.doctors.length>0&&(0,Tt.jsxs)("div",{className:"search-section",children:[(0,Tt.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-3",children:[(0,Tt.jsx)(Wt,{name:"user",size:24}),(0,Tt.jsxs)("span",{children:["\u0627\u0644\u0623\u0637\u0628\u0627\u0621 (",c.doctors.length,")"]})]}),(0,Tt.jsx)("div",{className:"grid gap-4",children:c.doctors.map((e=>{var t;return(0,Tt.jsx)("div",{className:"glass-effect p-4 hover:shadow-lg transition-all duration-300",children:(0,Tt.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Tt.jsxs)("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-teal-600 rounded-full flex items-center justify-center text-white font-bold",children:["\u062f.",e.name.charAt(0)]}),(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Tt.jsxs)("h4",{className:"font-bold text-lg",children:["\u062f. ",e.name]}),(0,Tt.jsx)("span",{className:"text-sm px-3 py-1 bg-green-100 bg-opacity-20 rounded-full",children:"\u0637\u0628\u064a\u0628"})]}),(0,Tt.jsxs)("p",{className:"text-sm mb-3",style:{color:"var(--text-secondary)"},children:[e.specialty," \u2022 ",e.phone]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),(0,Tt.jsxs)("span",{children:["\u0627\u0644\u0639\u064a\u0627\u062f\u0629: ",(null===(t=e.clinic)||void 0===t?void 0:t.name)||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,Tt.jsxs)("span",{children:["\u0627\u0644\u0637\u0644\u0628\u0627\u062a: ",e.total_orders||0]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,Tt.jsxs)("span",{children:["\u0627\u0644\u0645\u062f\u064a\u0648\u0646\u064a\u0629: ",e.pending_debt||0," \u062c.\u0645"]})]})]})]})]})},e.id)}))})]}),c.clinics&&c.clinics.length>0&&(0,Tt.jsxs)("div",{className:"search-section",children:[(0,Tt.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-3",children:[(0,Tt.jsx)(Wt,{name:"warehouse",size:24}),(0,Tt.jsxs)("span",{children:["\u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a (",c.clinics.length,")"]})]}),(0,Tt.jsx)("div",{className:"grid gap-4",children:c.clinics.map((e=>{var t;return(0,Tt.jsx)("div",{className:"glass-effect p-4 hover:shadow-lg transition-all duration-300",children:(0,Tt.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Tt.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center text-white font-bold",children:e.name.charAt(0)}),(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Tt.jsx)("h4",{className:"font-bold text-lg",children:e.name}),(0,Tt.jsx)("span",{className:"text-sm px-3 py-1 bg-purple-100 bg-opacity-20 rounded-full",children:"\u0639\u064a\u0627\u062f\u0629"})]}),(0,Tt.jsxs)("p",{className:"text-sm mb-3",style:{color:"var(--text-secondary)"},children:[e.address," \u2022 ",e.phone]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"w-2 h-2 bg-indigo-500 rounded-full"}),(0,Tt.jsxs)("span",{children:["\u0627\u0644\u0645\u062f\u064a\u0631: ",e.manager_name||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,Tt.jsxs)("span",{children:["\u0627\u0644\u0623\u0637\u0628\u0627\u0621: ",(null===(t=e.doctors)||void 0===t?void 0:t.length)||0]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,Tt.jsxs)("span",{children:["\u0627\u0644\u0637\u0644\u0628\u0627\u062a: ",e.total_orders||0]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,Tt.jsxs)("span",{children:["\u0627\u0644\u0645\u062f\u064a\u0648\u0646\u064a\u0629: ",e.pending_debt||0," \u062c.\u0645"]})]})]})]})]})},e.id)}))})]}),c.invoices&&c.invoices.length>0&&(0,Tt.jsxs)("div",{className:"search-section",children:[(0,Tt.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-3",children:[(0,Tt.jsx)(Wt,{name:"reports",size:24}),(0,Tt.jsxs)("span",{children:["\u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631 (",c.invoices.length,")"]})]}),(0,Tt.jsx)("div",{className:"grid gap-4",children:c.invoices.map((e=>(0,Tt.jsx)("div",{className:"glass-effect p-4 hover:shadow-lg transition-all duration-300 cursor-pointer",onClick:()=>(e=>{p(e),x(!0)})(e),children:(0,Tt.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Tt.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-red-600 rounded-full flex items-center justify-center text-white font-bold",children:"#"}),(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Tt.jsxs)("h4",{className:"font-bold text-lg",children:["\u0641\u0627\u062a\u0648\u0631\u0629 #",e.id.slice(-8)]}),(0,Tt.jsx)("span",{className:"text-sm px-3 py-1 rounded-full ".concat("APPROVED"===e.status?"bg-green-100 bg-opacity-20 text-green-300":"PENDING"===e.status?"bg-yellow-100 bg-opacity-20 text-yellow-300":"bg-gray-100 bg-opacity-20 text-gray-300"),children:e.status})]}),(0,Tt.jsxs)("p",{className:"text-sm mb-3",style:{color:"var(--text-secondary)"},children:[e.sales_rep_name," \u2022 ",e.doctor_name," \u2022 ",e.clinic_name]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,Tt.jsxs)("span",{children:["\u0627\u0644\u062a\u0627\u0631\u064a\u062e: ",new Date(e.created_at).toLocaleDateString("ar-EG")]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,Tt.jsxs)("span",{children:["\u0627\u0644\u0642\u064a\u0645\u0629: ",e.total_amount," \u062c.\u0645"]})]})]})]})]})},e.id)))})]}),c.products&&c.products.length>0&&(0,Tt.jsxs)("div",{className:"search-section",children:[(0,Tt.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-3",children:[(0,Tt.jsx)(Wt,{name:"warehouse",size:24}),(0,Tt.jsxs)("span",{children:["\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a (",c.products.length,")"]})]}),(0,Tt.jsx)("div",{className:"grid gap-4",children:c.products.map((e=>(0,Tt.jsx)("div",{className:"glass-effect p-4 hover:shadow-lg transition-all duration-300",children:(0,Tt.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Tt.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-blue-600 rounded-full flex items-center justify-center text-white font-bold",children:e.image?(0,Tt.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-full rounded-full object-cover"}):e.name.charAt(0)}),(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Tt.jsx)("h4",{className:"font-bold text-lg",children:e.name}),(0,Tt.jsx)("span",{className:"text-sm px-3 py-1 bg-indigo-100 bg-opacity-20 rounded-full",children:"\u0645\u0646\u062a\u062c"})]}),(0,Tt.jsxs)("p",{className:"text-sm mb-3",style:{color:"var(--text-secondary)"},children:[e.description," \u2022 ",e.category]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,Tt.jsxs)("span",{children:["\u0627\u0644\u0633\u0639\u0631: ",e.price," \u062c.\u0645"]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,Tt.jsxs)("span",{children:["\u0627\u0644\u0648\u062d\u062f\u0629: ",e.unit]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),(0,Tt.jsxs)("span",{children:["\u062a\u0645 \u0637\u0644\u0628\u0647: ",e.total_ordered||0," \u0645\u0631\u0629"]})]})]})]})]})},e.id)))})]}),a&&0===Object.keys(c).length&&(0,Tt.jsxs)("div",{className:"text-center py-12",children:[(0,Tt.jsx)(Wt,{name:"search",size:64,className:"mx-auto mb-4 text-gray-400"}),(0,Tt.jsxs)("p",{className:"text-lg mb-2",style:{color:"var(--text-secondary)"},children:['\u0644\u0627 \u062a\u0648\u062c\u062f \u0646\u062a\u0627\u0626\u062c \u0644\u0640 "',a,'"']}),(0,Tt.jsx)("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:"\u062c\u0631\u0628 \u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0643\u0644\u0645\u0627\u062a \u0623\u062e\u0631\u0649 \u0623\u0648 \u0623\u0631\u0642\u0627\u0645 \u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631"})]})]}):(0,Tt.jsxs)("div",{className:"text-center py-12",children:[(0,Tt.jsx)(Wt,{name:"search",size:64,className:"mx-auto mb-4 text-gray-400"}),(0,Tt.jsx)("p",{style:{color:"var(--text-secondary)"},children:"\u0627\u0628\u062f\u0623 \u0627\u0644\u0628\u062d\u062b \u0644\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u0627\u0644\u0646\u062a\u0627\u0626\u062c"}),(0,Tt.jsx)("p",{className:"text-xs mt-2",style:{color:"var(--text-muted)"},children:"\u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0628\u062d\u062b \u0628\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0623\u0633\u0645\u0627\u0621 \u0623\u0648 \u0623\u0631\u0642\u0627\u0645 \u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631"})]})})]}),m&&h&&(0,Tt.jsx)($t,{invoice:h,onClose:()=>x(!1)})]}):null},$t=e=>{let{invoice:t,onClose:s}=e;return(0,Tt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-60 flex items-center justify-center p-4",children:(0,Tt.jsxs)("div",{className:"glass-effect w-full max-w-4xl max-h-[95vh] overflow-hidden rounded-2xl shadow-2xl",children:[(0,Tt.jsxs)("div",{className:"p-6 border-b border-white border-opacity-20 flex items-center justify-between",children:[(0,Tt.jsxs)("h3",{className:"text-2xl font-bold text-gradient",children:["\u0641\u0627\u062a\u0648\u0631\u0629 \u0631\u0642\u0645 #",t.id.slice(-8)]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsxs)("button",{onClick:()=>{document.getElementById("enhanced-invoice-content"),"\u0641\u0627\u062a\u0648\u0631\u0629-".concat(t.id.slice(-8),".pdf");alert("\u0633\u064a\u062a\u0645 \u062a\u0646\u0632\u064a\u0644 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629 \u0642\u0631\u064a\u0628\u0627\u064b")},className:"btn-modern px-4 py-2 flex items-center gap-2",children:[(0,Tt.jsx)(Wt,{name:"download",size:16}),"\u062a\u0646\u0632\u064a\u0644 PDF"]}),(0,Tt.jsxs)("button",{onClick:()=>{const e=document.getElementById("enhanced-invoice-content"),t=document.body.innerHTML;document.body.innerHTML=e.outerHTML,window.print(),document.body.innerHTML=t,window.location.reload()},className:"btn-modern px-4 py-2 flex items-center gap-2",children:[(0,Tt.jsx)(Wt,{name:"print",size:16}),"\u0637\u0628\u0627\u0639\u0629"]}),(0,Tt.jsx)("button",{onClick:s,className:"p-2 hover:bg-gray-100 hover:bg-opacity-10 rounded-full transition-colors",children:(0,Tt.jsx)(Wt,{name:"close",size:20})})]})]}),(0,Tt.jsx)("div",{className:"p-6 overflow-y-auto max-h-[80vh]",id:"enhanced-invoice-content",children:(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"text-center mb-8",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-center gap-4 mb-4",children:[(0,Tt.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,Tt.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"white",children:(0,Tt.jsx)("path",{d:"M12 2L2 7v10c0 5.55 3.84 9.74 9 11 5.16-1.26 9-5.45 9-11V7l-10-5z"})})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h1",{className:"text-3xl font-bold",children:"\u0646\u0638\u0627\u0645 \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a"}),(0,Tt.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Sales Management System"})]})]}),(0,Tt.jsx)("div",{className:"w-full h-1 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full"})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(Wt,{name:"reports",size:20}),"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629"]}),(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"font-semibold",children:"\u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629:"}),(0,Tt.jsxs)("span",{className:"font-mono",children:["#",t.id.slice(-8)]})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"font-semibold",children:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0646\u0634\u0627\u0621:"}),(0,Tt.jsx)("span",{children:new Date(t.created_at).toLocaleDateString("ar-EG")})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"font-semibold",children:"\u0627\u0644\u0648\u0642\u062a:"}),(0,Tt.jsx)("span",{children:new Date(t.created_at).toLocaleTimeString("ar-EG")})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"font-semibold",children:"\u0627\u0644\u062d\u0627\u0644\u0629:"}),(0,Tt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat("APPROVED"===t.status?"bg-green-100 bg-opacity-20 text-green-300":"PENDING"===t.status?"bg-yellow-100 bg-opacity-20 text-yellow-300":"bg-gray-100 bg-opacity-20 text-gray-300"),children:t.status})]}),(0,Tt.jsxs)("div",{className:"flex justify-between border-t pt-3 mt-3",children:[(0,Tt.jsx)("span",{className:"font-bold text-lg",children:"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a:"}),(0,Tt.jsxs)("span",{className:"font-bold text-lg text-green-500",children:[t.total_amount," \u062c.\u0645"]})]})]})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(Wt,{name:"user",size:20}),"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0639\u0645\u064a\u0644"]}),(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"font-semibold",children:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628:"}),(0,Tt.jsx)("span",{children:t.sales_rep_name})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"font-semibold",children:"\u0627\u0644\u0637\u0628\u064a\u0628:"}),(0,Tt.jsxs)("span",{children:["\u062f. ",t.doctor_name]})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"font-semibold",children:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629:"}),(0,Tt.jsx)("span",{children:t.clinic_name})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"font-semibold",children:"\u0627\u0644\u0645\u062e\u0632\u0646:"}),(0,Tt.jsx)("span",{children:t.warehouse_name})]})]})]})]}),t.items&&t.items.length>0&&(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(Wt,{name:"warehouse",size:20}),"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a (",t.items.length,")"]}),(0,Tt.jsx)("div",{className:"overflow-x-auto",children:(0,Tt.jsxs)("table",{className:"w-full",children:[(0,Tt.jsx)("thead",{children:(0,Tt.jsxs)("tr",{className:"border-b",style:{borderColor:"var(--border-color)"},children:[(0,Tt.jsx)("th",{className:"text-right py-3 px-4 font-bold",children:"#"}),(0,Tt.jsx)("th",{className:"text-right py-3 px-4 font-bold",children:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c"}),(0,Tt.jsx)("th",{className:"text-right py-3 px-4 font-bold",children:"\u0627\u0644\u0643\u0645\u064a\u0629"}),(0,Tt.jsx)("th",{className:"text-right py-3 px-4 font-bold",children:"\u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0629"}),(0,Tt.jsx)("th",{className:"text-right py-3 px-4 font-bold",children:"\u0627\u0644\u062e\u0635\u0645"}),(0,Tt.jsx)("th",{className:"text-right py-3 px-4 font-bold",children:"\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a"})]})}),(0,Tt.jsx)("tbody",{children:t.items.map(((e,t)=>(0,Tt.jsxs)("tr",{className:"border-b border-opacity-20",style:{borderColor:"var(--border-color)"},children:[(0,Tt.jsx)("td",{className:"py-3 px-4 text-center",children:t+1}),(0,Tt.jsxs)("td",{className:"py-3 px-4",children:[(0,Tt.jsx)("div",{className:"font-medium",children:e.product_name}),e.product_description&&(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:e.product_description})]}),(0,Tt.jsx)("td",{className:"py-3 px-4 text-center",children:e.quantity}),(0,Tt.jsxs)("td",{className:"py-3 px-4 text-center",children:[e.unit_price," \u062c.\u0645"]}),(0,Tt.jsx)("td",{className:"py-3 px-4 text-center",children:e.discount_amount?"".concat(e.discount_amount," \u062c.\u0645"):"-"}),(0,Tt.jsxs)("td",{className:"py-3 px-4 text-center font-bold",children:[(e.quantity*e.unit_price-(e.discount_amount||0)).toFixed(2)," \u062c.\u0645"]})]},t)))}),(0,Tt.jsx)("tfoot",{children:(0,Tt.jsxs)("tr",{className:"border-t-2 border-blue-500",children:[(0,Tt.jsx)("td",{colSpan:"5",className:"py-3 px-4 text-right font-bold text-lg",children:"\u0627\u0644\u0645\u062c\u0645\u0648\u0639 \u0627\u0644\u0643\u0644\u064a:"}),(0,Tt.jsxs)("td",{className:"py-3 px-4 text-center font-bold text-lg text-green-500",children:[t.total_amount," \u062c.\u0645"]})]})})]})})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.notes&&(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(Wt,{name:"chat",size:20}),"\u0645\u0644\u0627\u062d\u0638\u0627\u062a"]}),(0,Tt.jsx)("p",{className:"text-sm leading-relaxed",children:t.notes})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(Wt,{name:"reports",size:20}),"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062f\u0641\u0639"]}),(0,Tt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{children:"\u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u062f\u0641\u0639:"}),(0,Tt.jsx)("span",{children:t.payment_method||"\u0622\u062c\u0644"})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{children:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0633\u062a\u062d\u0642\u0627\u0642:"}),(0,Tt.jsx)("span",{children:t.due_date?new Date(t.due_date).toLocaleDateString("ar-EG"):"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{children:"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0645\u062f\u0641\u0648\u0639:"}),(0,Tt.jsxs)("span",{className:"text-green-500",children:[t.paid_amount||0," \u062c.\u0645"]})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{children:"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0645\u062a\u0628\u0642\u064a:"}),(0,Tt.jsxs)("span",{className:"text-red-500",children:[(t.total_amount-(t.paid_amount||0)).toFixed(2)," \u062c.\u0645"]})]})]})]})]}),(0,Tt.jsxs)("div",{className:"text-center mt-8 pt-6 border-t border-white border-opacity-20",children:[(0,Tt.jsx)("p",{className:"text-sm mb-2",style:{color:"var(--text-secondary)"},children:"\u0634\u0643\u0631\u0627\u064b \u0644\u0643 \u0639\u0644\u0649 \u062b\u0642\u062a\u0643 \u0641\u064a \u0646\u0638\u0627\u0645 \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a"}),(0,Tt.jsxs)("p",{className:"text-xs",style:{color:"var(--text-muted)"},children:["\u062a\u0645 \u0625\u0646\u0634\u0627\u0621 \u0647\u0630\u0647 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629 \u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a\u0627\u064b \u0641\u064a ",(new Date).toLocaleString("ar-EG")]}),(0,Tt.jsxs)("div",{className:"mt-4 flex items-center justify-center gap-4",children:[(0,Tt.jsx)("div",{className:"w-16 h-1 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full"}),(0,Tt.jsx)("span",{className:"text-xs font-bold",children:"Sales Management System"}),(0,Tt.jsx)("div",{className:"w-16 h-1 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full"})]})]})]})})]})})},Kt=e=>{let{mode:t="add",user:s=null,regions:a,managers:l,onClose:r,onSave:i}=e;const[c,o]=(0,n.useState)({username:(null===s||void 0===s?void 0:s.username)||"",full_name:(null===s||void 0===s?void 0:s.full_name)||"",email:(null===s||void 0===s?void 0:s.email)||"",phone:(null===s||void 0===s?void 0:s.phone)||"",role:(null===s||void 0===s?void 0:s.role)||"medical_rep",region_id:(null===s||void 0===s?void 0:s.region_id)||"",line_id:(null===s||void 0===s?void 0:s.line_id)||"",direct_manager_id:(null===s||void 0===s?void 0:s.direct_manager_id)||"",address:(null===s||void 0===s?void 0:s.address)||"",national_id:(null===s||void 0===s?void 0:s.national_id)||"",hire_date:(null===s||void 0===s?void 0:s.hire_date)||(new Date).toISOString().split("T")[0],is_active:void 0===(null===s||void 0===s?void 0:s.is_active)||s.is_active,profile_photo:(null===s||void 0===s?void 0:s.profile_photo)||null,password:""}),[u,m]=(0,n.useState)((null===s||void 0===s?void 0:s.profile_photo)||null),[x,h]=(0,n.useState)([]),[p,g]=(0,n.useState)(!1);n.useEffect((()=>{(async()=>{g(!0);try{const e=await fetch("".concat("https://f2197ea7-eee2-46ef-a955-b20bd04f5bb1.preview.emergentagent.com","/api/lines"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token")),"Content-Type":"application/json"}});if(e.ok){const t=await e.json();h(t)}else console.error("Failed to load lines:",e.statusText)}catch(e){console.error("Error loading lines:",e)}finally{g(!1)}})()}),[]);const f=l.filter((e=>!c.region_id||e.region_id===c.region_id||!e.region_id));return(0,Tt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Tt.jsxs)("div",{className:"modal-modern p-8 w-full max-w-4xl max-h-[95vh] overflow-y-auto",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Tt.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"add"===t?"\u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062a\u062e\u062f\u0645 \u062c\u062f\u064a\u062f":"\u062a\u0639\u062f\u064a\u0644: ".concat(null===s||void 0===s?void 0:s.full_name)}),(0,Tt.jsx)("button",{onClick:r,className:"p-2 rounded-lg hover:bg-red-500 hover:bg-opacity-20 text-red-400 hover:text-red-300 transition-all duration-200",title:"\u0625\u063a\u0644\u0627\u0642",children:(0,Tt.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Tt.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,Tt.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),(0,Tt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i(c)},className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0634\u062e\u0635\u064a\u0629"}),(0,Tt.jsxs)("div",{className:"flex items-center gap-6 mb-6",children:[(0,Tt.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Tt.jsx)("div",{className:"w-24 h-24 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-2xl mb-2",children:u?(0,Tt.jsx)("img",{src:u,alt:"Profile",className:"w-24 h-24 rounded-full object-cover"}):c.full_name.charAt(0).toUpperCase()||"\ud83d\udc64"}),(0,Tt.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=()=>{const t=e.result;m(t),o(d(d({},c),{},{profile_photo:t}))},e.readAsDataURL(t)}},className:"hidden",id:"photo-upload"}),(0,Tt.jsx)("label",{htmlFor:"photo-upload",className:"btn-secondary text-xs px-3 py-1 cursor-pointer",children:"\u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0635\u0648\u0631\u0629"}),(0,Tt.jsx)("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0635\u0648\u0631\u0629 \u0627\u0644\u0634\u062e\u0635\u064a\u0629 \u0627\u062e\u062a\u064a\u0627\u0631\u064a\u0629"})]}),(0,Tt.jsxs)("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644 *:"}),(0,Tt.jsx)("input",{type:"text",value:c.full_name,onChange:e=>o(d(d({},c),{},{full_name:e.target.value})),className:"form-modern w-full",required:!0})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 *:"}),(0,Tt.jsx)("input",{type:"text",value:c.username,onChange:e=>o(d(d({},c),{},{username:e.target.value})),className:"form-modern w-full",required:!0})]})]})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a:"}),(0,Tt.jsx)("input",{type:"email",value:c.email,onChange:e=>o(d(d({},c),{},{email:e.target.value})),className:"form-modern w-full"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641:"}),(0,Tt.jsx)("input",{type:"tel",value:c.phone,onChange:e=>o(d(d({},c),{},{phone:e.target.value})),className:"form-modern w-full"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0642\u0648\u0645\u064a:"}),(0,Tt.jsx)("input",{type:"text",value:c.national_id,onChange:e=>o(d(d({},c),{},{national_id:e.target.value})),className:"form-modern w-full",maxLength:"14"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u0648\u0638\u064a\u0641:"}),(0,Tt.jsx)("input",{type:"date",value:c.hire_date,onChange:e=>o(d(d({},c),{},{hire_date:e.target.value})),className:"form-modern w-full"})]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646:"}),(0,Tt.jsx)("textarea",{value:c.address,onChange:e=>o(d(d({},c),{},{address:e.target.value})),className:"form-modern w-full h-20",placeholder:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0628\u0627\u0644\u062a\u0641\u0635\u064a\u0644..."})]})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsx)("h4",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:"\ud83d\udcbc \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0639\u0645\u0644"}),(0,Tt.jsxs)("div",{className:"mb-6",children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-4",children:"\u0627\u0644\u0645\u0633\u0645\u0649 \u0627\u0644\u0648\u0638\u064a\u0641\u064a *:"}),(0,Tt.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:[{value:"admin",label:"\u0645\u062f\u064a\u0631 \u0627\u0644\u0646\u0638\u0627\u0645",icon:"\ud83d\udc51",color:"from-purple-500 to-pink-600"},{value:"gm",label:"\u0627\u0644\u0645\u062f\u064a\u0631 \u0627\u0644\u0639\u0627\u0645",icon:"\ud83c\udfe2",color:"from-blue-500 to-indigo-600"},{value:"line_manager",label:"\u0645\u062f\u064a\u0631 \u0627\u0644\u062e\u0637",icon:"\ud83d\udcca",color:"from-green-500 to-teal-600"},{value:"area_manager",label:"\u0645\u062f\u064a\u0631 \u0627\u0644\u0645\u0646\u0637\u0642\u0629",icon:"\ud83d\uddfa\ufe0f",color:"from-yellow-500 to-orange-600"},{value:"district_manager",label:"\u0645\u062f\u064a\u0631 \u0627\u0644\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u0645\u062d\u0644\u064a\u0629",icon:"\ud83d\udccd",color:"from-red-500 to-pink-600"},{value:"key_account",label:"\u062d\u0633\u0627\u0628\u0627\u062a \u0631\u0626\u064a\u0633\u064a\u0629",icon:"\ud83d\udd11",color:"from-indigo-500 to-purple-600"},{value:"medical_rep",label:"\u0645\u0646\u062f\u0648\u0628 \u0637\u0628\u064a",icon:"\ud83d\udc68\u200d\u2695\ufe0f",color:"from-cyan-500 to-blue-600"},{value:"warehouse_keeper",label:"\u0623\u0645\u064a\u0646 \u0627\u0644\u0645\u062e\u0632\u0646",icon:"\ud83d\udce6",color:"from-gray-500 to-slate-600"},{value:"accounting",label:"\u0645\u062d\u0627\u0633\u0628",icon:"\ud83e\uddee",color:"from-emerald-500 to-green-600"}].map((e=>(0,Tt.jsxs)("div",{className:"role-card ".concat(c.role===e.value?"selected":""),onClick:()=>o(d(d({},c),{},{role:e.value})),children:[(0,Tt.jsx)("div",{className:"role-icon bg-gradient-to-br ".concat(e.color),children:e.icon}),(0,Tt.jsx)("div",{className:"role-label",children:e.label})]},e.value)))})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Tt.jsxs)("div",{className:"work-field",children:[(0,Tt.jsxs)("label",{className:"work-field-label",children:[(0,Tt.jsx)("span",{className:"work-field-icon",children:"\ud83c\udff7\ufe0f"}),"\u0627\u0644\u062e\u0637:"]}),(0,Tt.jsxs)("select",{value:c.line_id,onChange:e=>o(d(d({},c),{},{line_id:e.target.value})),className:"form-modern w-full",disabled:p,children:[(0,Tt.jsx)("option",{value:"",children:p?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644...":"\u0627\u062e\u062a\u0631 \u0627\u0644\u062e\u0637"}),x.map((e=>(0,Tt.jsxs)("option",{value:e.id,children:[e.name," (",e.code,")"]},e.id)))]})]}),(0,Tt.jsxs)("div",{className:"work-field",children:[(0,Tt.jsxs)("label",{className:"work-field-label",children:[(0,Tt.jsx)("span",{className:"work-field-icon",children:"\ud83c\udf0d"}),"\u0627\u0644\u0645\u0646\u0637\u0642\u0629:"]}),(0,Tt.jsxs)("select",{value:c.region_id,onChange:e=>o(d(d({},c),{},{region_id:e.target.value})),className:"form-modern w-full",children:[(0,Tt.jsx)("option",{value:"",children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0645\u0646\u0637\u0642\u0629"}),a.map((e=>(0,Tt.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,Tt.jsxs)("div",{className:"work-field",children:[(0,Tt.jsxs)("label",{className:"work-field-label",children:[(0,Tt.jsx)("span",{className:"work-field-icon",children:"\ud83d\udc64"}),"\u0627\u0644\u0645\u062f\u064a\u0631 \u0627\u0644\u0645\u0628\u0627\u0634\u0631:"]}),(0,Tt.jsxs)("select",{value:c.direct_manager_id,onChange:e=>o(d(d({},c),{},{direct_manager_id:e.target.value})),className:"form-modern w-full",children:[(0,Tt.jsx)("option",{value:"",children:"\u0644\u0627 \u064a\u0648\u062c\u062f \u0645\u062f\u064a\u0631 \u0645\u0628\u0627\u0634\u0631"}),f.map((e=>(0,Tt.jsxs)("option",{value:e.id,children:[e.name," (",e.role,")"]},e.id)))]})]})]})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0623\u0645\u0627\u0646"}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["add"===t&&(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 *:"}),(0,Tt.jsx)("input",{type:"password",value:c.password,onChange:e=>o(d(d({},c),{},{password:e.target.value})),className:"form-modern w-full",required:"add"===t,minLength:"6"})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("input",{type:"checkbox",id:"is_active",checked:c.is_active,onChange:e=>o(d(d({},c),{},{is_active:e.target.checked})),className:"w-4 h-4"}),(0,Tt.jsx)("label",{htmlFor:"is_active",className:"text-sm font-bold",children:"\u062d\u0633\u0627\u0628 \u0646\u0634\u0637"})]})]})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-4 rounded-xl bg-blue-500 bg-opacity-10 border border-blue-500",children:[(0,Tt.jsx)("h4",{className:"text-lg font-bold mb-2 text-blue-400",children:"\u0645\u062a\u0637\u0644\u0628\u0627\u062a \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645:"}),(0,Tt.jsxs)("ul",{className:"text-sm space-y-1",style:{color:"var(--text-secondary)"},children:[(0,Tt.jsx)("li",{children:"\u2705 \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u062e\u0627\u0635\u0629 \u0628\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),(0,Tt.jsx)("li",{children:"\u2705 \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0645\u062f\u064a\u0631 \u0627\u0644\u0645\u0628\u0627\u0634\u0631"}),(0,Tt.jsx)("li",{children:"\u2705 \u0625\u0636\u0627\u0641\u0629 \u0635\u0648\u0631\u0629 \u0634\u062e\u0635\u064a\u0629"}),(0,Tt.jsx)("li",{children:"\u2705 \u0628\u064a\u0627\u0646\u0627\u062a \u0643\u0627\u0645\u0644\u0629 \u0648\u0635\u062d\u064a\u062d\u0629"})]})]}),(0,Tt.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,Tt.jsx)("button",{type:"submit",className:"btn-primary flex-1",children:"add"===t?"\u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645":"\u062d\u0641\u0638 \u0627\u0644\u062a\u063a\u064a\u064a\u0631\u0627\u062a"}),(0,Tt.jsx)("button",{type:"button",onClick:r,className:"btn-secondary flex-1",children:"\u0625\u0644\u063a\u0627\u0621"})]})]})]})})},Xt=(0,n.createContext)(),Yt=()=>{const e=(0,n.useContext)(Xt);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Jt=e=>{let{children:t}=e;const[s,a]=(0,n.useState)(null),[l,r]=(0,n.useState)(!0);(0,n.useEffect)((()=>{const e=localStorage.getItem("access_token");e?i(e):r(!1)}),[]);const i=async e=>{try{const t=await Pt.get("".concat(Dt,"/auth/me"),{headers:{Authorization:"Bearer ".concat(e)}});if(!t.data.success||!t.data.user)throw new Error("Invalid response format");a(t.data.user)}catch(t){console.error("Token verification failed:",t),localStorage.removeItem("access_token")}finally{r(!1)}},c={user:s,login:async(e,t)=>{try{console.log("\ud83d\udd11 login function called with:",e,null===t||void 0===t?void 0:t.length,"chars"),console.log("\ud83d\udd11 API URL:","".concat(Dt,"/auth/login"));const s=await Pt.post("".concat(Dt,"/auth/login"),{username:e,password:t});console.log("\u2705 Login response received:",s.status,s.data);const{access_token:n,user:l}=s.data;return console.log("\ud83d\udd11 Extracted data:",{access_token:(null===n||void 0===n?void 0:n.substring(0,20))+"...",userData:l}),localStorage.setItem("access_token",n),console.log("\ud83d\udd11 Token stored in localStorage"),console.log("\ud83d\udd11 About to call setUser with:",l),a(l),console.log("\ud83d\udd11 setUser called - user state should update now"),{success:!0}}catch(r){var s,n,l;return console.error("\u274c Login error:",r),console.error("\u274c Error response:",null===(s=r.response)||void 0===s?void 0:s.data),{success:!1,error:(null===(n=r.response)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.detail)||"\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644"}}},logout:()=>{localStorage.removeItem("access_token"),a(null)},loading:l};return(0,Tt.jsx)(Xt.Provider,{value:c,children:t})},Zt=()=>{var e;const[t,s]=(0,n.useState)(""),[a,l]=(0,n.useState)(""),[r,i]=(0,n.useState)(!1),[c,o]=(0,n.useState)(!1),[u,m]=(0,n.useState)(""),[x,h]=(0,n.useState)(!1),[p,g]=(0,n.useState)(null),[f,v]=(0,n.useState)(!1),[b,j]=(0,n.useState)("login"),[y,N]=(0,n.useState)({sender_name:"",sender_position:"",sender_whatsapp:"",sender_email:"",problem_description:"",priority:"medium",category:"general"}),[w,_]=(0,n.useState)(!1),[k,S]=(0,n.useState)(!1),{login:C}=Yt(),{language:E,changeLanguage:A,t:L,isRTL:z}=It(),{theme:P,setSpecificTheme:T,availableThemes:O}=Vt(),M=[{id:"light",name:L("themeLight"),icon:"\u2600\ufe0f"},{id:"dark",name:L("themeDark"),icon:"\ud83c\udf19"},{id:"minimal",name:L("themeMinimal"),icon:"\u26aa"},{id:"modern",name:L("themeModern"),icon:"\ud83d\udd2e"},{id:"fancy",name:L("themeFancy"),icon:"\u2728"},{id:"cyber",name:L("themeCyber"),icon:"\ud83d\udc9a"},{id:"sunset",name:L("themeSunset"),icon:"\ud83c\udf05"},{id:"ocean",name:L("themeOcean"),icon:"\ud83c\udf0a"},{id:"forest",name:L("themeForest"),icon:"\ud83c\udf32"}];(0,n.useEffect)((()=>{D(),R()}),[]);const D=async()=>{try{const e=await Pt.get("".concat(Dt,"/settings"));g(e.data)}catch(u){console.error("Error fetching settings:",u)}},R=()=>{const e=localStorage.getItem("rememberedUser"),t=localStorage.getItem("rememberedPass");e&&t&&(s(e),l(t),o(!0))};return(0,Tt.jsxs)("div",{className:"login-container ".concat(z?"rtl":"ltr"),style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh",position:"relative",overflow:"hidden"},children:[(0,Tt.jsx)("div",{className:"login-bg-animation",children:(0,Tt.jsxs)("div",{className:"floating-shapes",children:[(0,Tt.jsx)("div",{className:"shape shape-1"}),(0,Tt.jsx)("div",{className:"shape shape-2"}),(0,Tt.jsx)("div",{className:"shape shape-3"}),(0,Tt.jsx)("div",{className:"shape shape-4"}),(0,Tt.jsx)("div",{className:"shape shape-5"})]})}),(0,Tt.jsx)("div",{className:"login-controls ".concat(z?"rtl":""),children:(0,Tt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Tt.jsx)(Ut,{position:"login"}),(0,Tt.jsxs)("div",{className:"relative",children:[(0,Tt.jsx)("button",{onClick:()=>v(!f),className:"control-btn glass-effect",title:"ar"===E?"\u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u062b\u064a\u0645":"Change Theme",children:(0,Tt.jsx)(Wt,{name:"theme",size:20,className:"svg-icon-animated"})}),f&&(0,Tt.jsxs)("div",{className:"theme-menu glass-effect",children:[(0,Tt.jsx)("div",{className:"theme-grid",children:M.map((e=>(0,Tt.jsx)("button",{onClick:()=>{T(e.id),v(!1)},className:"theme-option ".concat(e.id," ").concat(P===e.id?"active":""),title:e.name,children:(0,Tt.jsx)("span",{className:"theme-icon",children:e.icon})},e.id)))}),(0,Tt.jsx)("div",{className:"theme-current",children:(0,Tt.jsxs)("div",{className:"text-xs text-center",style:{color:"var(--text-secondary)"},children:["ar"===E?"\u0627\u0644\u062b\u064a\u0645 \u0627\u0644\u062d\u0627\u0644\u064a:":"Current:"," ",(0,Tt.jsx)("strong",{children:null===(e=M.find((e=>e.id===P)))||void 0===e?void 0:e.name})]})})]})]})]})}),(0,Tt.jsx)("div",{className:"login-content",children:(0,Tt.jsxs)("div",{className:"login-card glass-effect-enhanced",children:[(0,Tt.jsxs)("div",{className:"login-header",children:[(0,Tt.jsx)("div",{className:"login-logo",children:null!==p&&void 0!==p&&p.logo_image?(0,Tt.jsx)("img",{src:p.logo_image,alt:L("logo"),className:"logo-image"}):(0,Tt.jsx)("div",{className:"logo-placeholder",children:(0,Tt.jsx)("span",{className:"logo-emoji",children:"\ud83c\udfe5"})})}),(0,Tt.jsx)("h1",{className:"login-title ".concat(z?"arabic":"english"),children:L("systemName")}),(0,Tt.jsx)("p",{className:"login-subtitle",children:L("footerDescription")})]}),(0,Tt.jsxs)("div",{className:"form-toggle",children:[(0,Tt.jsxs)("button",{onClick:()=>j("login"),className:"toggle-btn ".concat("login"===b?"active":""),children:[(0,Tt.jsx)(Wt,{name:"user",size:18}),(0,Tt.jsx)("span",{children:"ar"===E?"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644":"Login"})]}),(0,Tt.jsxs)("button",{onClick:()=>j("support"),className:"toggle-btn ".concat("support"===b?"active":""),children:[(0,Tt.jsx)(Wt,{name:"phone",size:18}),(0,Tt.jsx)("span",{children:"ar"===E?"\u0627\u0644\u062f\u0639\u0645 \u0627\u0644\u0641\u0646\u064a":"Technical Support"})]})]}),"login"===b&&(0,Tt.jsxs)("form",{onSubmit:e=>{console.log("\ud83d\udd11 Form submitted!"),(async e=>{console.log("\ud83d\udd11 handleLoginSubmit called"),e.preventDefault(),h(!0),m(""),console.log("\ud83d\udd11 Username:",t,"Password length:",null===a||void 0===a?void 0:a.length),c?(localStorage.setItem("rememberedUser",t),localStorage.setItem("rememberedPass",a)):(localStorage.removeItem("rememberedUser"),localStorage.removeItem("rememberedPass")),console.log("\ud83d\udd11 Calling login function...");const s=await C(t,a);console.log("\ud83d\udd11 Login result:",s),s.success?console.log("\u2705 Login successful"):(m(s.error),console.log("\u274c Login failed:",s.error)),h(!1)})(e)},className:"login-form",children:[(0,Tt.jsxs)("div",{className:"form-group",children:[(0,Tt.jsxs)("label",{className:"form-label",children:[(0,Tt.jsx)(Wt,{name:"user",size:16}),(0,Tt.jsx)("span",{children:L("username")})]}),(0,Tt.jsx)("input",{type:"text",value:t,onChange:e=>s(e.target.value),className:"form-input glass-input",placeholder:L("username"),style:{textAlign:z?"right":"left"},required:!0})]}),(0,Tt.jsxs)("div",{className:"form-group",children:[(0,Tt.jsxs)("label",{className:"form-label",children:[(0,Tt.jsx)(Wt,{name:"security",size:16}),(0,Tt.jsx)("span",{children:L("password")})]}),(0,Tt.jsxs)("div",{className:"password-input-container",children:[(0,Tt.jsx)("input",{type:r?"text":"password",value:a,onChange:e=>l(e.target.value),className:"form-input glass-input",placeholder:L("password"),style:{textAlign:z?"right":"left"},required:!0}),(0,Tt.jsx)("button",{type:"button",onClick:()=>i(!r),className:"password-toggle",children:r?"\ud83d\udc41\ufe0f":"\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f"})]})]}),(0,Tt.jsxs)("div",{className:"form-options",children:[(0,Tt.jsxs)("label",{className:"checkbox-label",children:[(0,Tt.jsx)("input",{type:"checkbox",checked:c,onChange:e=>o(e.target.checked),className:"checkbox-input"}),(0,Tt.jsx)("span",{className:"checkbox-custom"}),(0,Tt.jsx)("span",{children:"ar"===E?"\u062a\u0630\u0643\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631":"Remember Password"})]}),(0,Tt.jsx)("button",{type:"button",onClick:()=>{s("admin"),l("admin123")},className:"demo-btn",children:"ar"===E?"\u0628\u064a\u0627\u0646\u0627\u062a \u062a\u062c\u0631\u064a\u0628\u064a\u0629":"Demo Credentials"})]}),u&&(0,Tt.jsxs)("div",{className:"error-message",children:[(0,Tt.jsx)(Wt,{name:"warning",size:16}),(0,Tt.jsx)("span",{children:u})]}),(0,Tt.jsx)("button",{type:"submit",disabled:x,className:"submit-btn login-btn",children:x?(0,Tt.jsxs)("div",{className:"loading-content",children:[(0,Tt.jsx)("div",{className:"loading-spinner"}),(0,Tt.jsx)("span",{children:"ar"===E?"\u062c\u0627\u0631\u064a \u0627\u0644\u062f\u062e\u0648\u0644...":"Logging in..."})]}):(0,Tt.jsxs)("div",{className:"btn-content",children:[(0,Tt.jsx)(Wt,{name:"success",size:18}),(0,Tt.jsx)("span",{children:"ar"===E?"\u062f\u062e\u0648\u0644":"Login"})]})})]}),"support"===b&&(0,Tt.jsx)("form",{onSubmit:async e=>{e.preventDefault(),_(!0);try{(await Pt.post("".concat(Dt,"/support/tickets"),y)).data.success&&(S(!0),N({sender_name:"",sender_position:"",sender_whatsapp:"",sender_email:"",problem_description:"",priority:"medium",category:"general"}),setTimeout((()=>{S(!1),j("login")}),3e3))}catch(u){console.error("Error submitting support ticket:",u),m("\u062e\u0637\u0623 \u0641\u064a \u0625\u0631\u0633\u0627\u0644 \u0637\u0644\u0628 \u0627\u0644\u062f\u0639\u0645 \u0627\u0644\u0641\u0646\u064a")}finally{_(!1)}},className:"support-form",children:k?(0,Tt.jsxs)("div",{className:"success-message",children:[(0,Tt.jsx)(Wt,{name:"success",size:48,className:"success-icon"}),(0,Tt.jsx)("h3",{children:"ar"===E?"\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u0637\u0644\u0628\u0643 \u0628\u0646\u062c\u0627\u062d!":"Request sent successfully!"}),(0,Tt.jsx)("p",{children:"ar"===E?"\u0633\u064a\u062a\u0645 \u0627\u0644\u062a\u0648\u0627\u0635\u0644 \u0645\u0639\u0643 \u0642\u0631\u064a\u0628\u0627\u064b":"We will contact you soon"})]}):(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsxs)("div",{className:"form-group",children:[(0,Tt.jsxs)("label",{className:"form-label",children:[(0,Tt.jsx)(Wt,{name:"user",size:16}),(0,Tt.jsx)("span",{children:"ar"===E?"\u0627\u0644\u0627\u0633\u0645":"Name"})]}),(0,Tt.jsx)("input",{type:"text",value:y.sender_name,onChange:e=>N(d(d({},y),{},{sender_name:e.target.value})),className:"form-input glass-input",placeholder:"ar"===E?"\u0627\u0633\u0645\u0643 \u0627\u0644\u0643\u0627\u0645\u0644":"Your full name",required:!0})]}),(0,Tt.jsxs)("div",{className:"form-group",children:[(0,Tt.jsxs)("label",{className:"form-label",children:[(0,Tt.jsx)(Wt,{name:"organization",size:16}),(0,Tt.jsx)("span",{children:"ar"===E?"\u0627\u0644\u0645\u0633\u0645\u0649 \u0627\u0644\u0648\u0638\u064a\u0641\u064a":"Job Title"})]}),(0,Tt.jsx)("input",{type:"text",value:y.sender_position,onChange:e=>N(d(d({},y),{},{sender_position:e.target.value})),className:"form-input glass-input",placeholder:"ar"===E?"\u0645\u062f\u064a\u0631\u060c \u0645\u0646\u062f\u0648\u0628\u060c \u0645\u062d\u0627\u0633\u0628...":"Manager, Rep, Accountant...",required:!0})]}),(0,Tt.jsxs)("div",{className:"form-group",children:[(0,Tt.jsxs)("label",{className:"form-label",children:[(0,Tt.jsx)(Wt,{name:"phone",size:16}),(0,Tt.jsx)("span",{children:"ar"===E?"\u0631\u0642\u0645 \u0627\u0644\u0648\u0627\u062a\u0633 \u0627\u0628":"WhatsApp Number"})]}),(0,Tt.jsx)("input",{type:"tel",value:y.sender_whatsapp,onChange:e=>N(d(d({},y),{},{sender_whatsapp:e.target.value})),className:"form-input glass-input",placeholder:"01xxxxxxxxx",required:!0})]}),(0,Tt.jsxs)("div",{className:"form-group",children:[(0,Tt.jsxs)("label",{className:"form-label",children:[(0,Tt.jsx)(Wt,{name:"warning",size:16}),(0,Tt.jsx)("span",{children:"ar"===E?"\u0627\u0644\u0645\u0634\u0643\u0644\u0629":"Problem Description"})]}),(0,Tt.jsx)("textarea",{value:y.problem_description,onChange:e=>N(d(d({},y),{},{problem_description:e.target.value})),className:"form-textarea glass-input",placeholder:"ar"===E?"\u0627\u0634\u0631\u062d \u0627\u0644\u0645\u0634\u0643\u0644\u0629 \u0628\u0627\u0644\u062a\u0641\u0635\u064a\u0644":"Describe the problem in detail",rows:"4",required:!0})]}),(0,Tt.jsx)("button",{type:"submit",disabled:w,className:"submit-btn support-btn",children:w?(0,Tt.jsxs)("div",{className:"loading-content",children:[(0,Tt.jsx)("div",{className:"loading-spinner"}),(0,Tt.jsx)("span",{children:"ar"===E?"\u062c\u0627\u0631\u064a \u0627\u0644\u0625\u0631\u0633\u0627\u0644...":"Sending..."})]}):(0,Tt.jsxs)("div",{className:"btn-content",children:[(0,Tt.jsx)(Wt,{name:"phone",size:18}),(0,Tt.jsx)("span",{children:"ar"===E?"\u0625\u0631\u0633\u0627\u0644 \u0637\u0644\u0628 \u0627\u0644\u062f\u0639\u0645":"Send Support Request"})]})})]})}),(0,Tt.jsx)("div",{className:"login-footer",children:(0,Tt.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," ",L("systemName")," - ",L("footerCopyright")]})})]})})]})},es=()=>{const[e,t]=(0,n.useState)("permissions"),[s,a]=(0,n.useState)(null),[l,r]=(0,n.useState)(null),[i,c]=(0,n.useState)(null),[o,d]=(0,n.useState)([]),[u,m]=(0,n.useState)(!1);(0,n.useEffect)((()=>{x()}),[]);const x=async()=>{m(!0);try{const e=localStorage.getItem("access_token"),t={Authorization:"Bearer ".concat(e)},s=await Pt.get("".concat(Dt,"/admin/permissions"),{headers:t});a(s.data);const n=await Pt.get("".concat(Dt,"/admin/dashboard-config"),{headers:t});r(n.data);const l=await Pt.get("".concat(Dt,"/admin/system-health"),{headers:t});c(l.data);const i=await Pt.get("".concat(Dt,"/admin/activity-logs"),{headers:t});d(i.data)}catch(e){console.error("Error loading admin data:",e)}finally{m(!1)}},h=async e=>{m(!0);try{const t=localStorage.getItem("access_token");await Pt.post("".concat(Dt,"/admin/dashboard-config"),e,{headers:{Authorization:"Bearer ".concat(t)}}),r(e),alert("\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0628\u0646\u062c\u0627\u062d")}catch(t){console.error("Error updating dashboard config:",t),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u062f\u064a\u062b \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645")}finally{m(!1)}};return u&&!s?(0,Tt.jsxs)("div",{className:"glass-effect p-8 text-center",children:[(0,Tt.jsx)("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,Tt.jsx)("p",{style:{color:"var(--text-secondary)"},children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0625\u062f\u0627\u0631\u0629..."})]}):(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"glass-effect p-6",children:[(0,Tt.jsx)("h2",{className:"text-3xl font-bold mb-4 text-gradient",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0634\u0627\u0645\u0644\u0629"}),(0,Tt.jsx)("p",{style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u062a\u062d\u0643\u0645 \u0627\u0644\u0643\u0627\u0645\u0644 \u0641\u064a \u0627\u0644\u0646\u0638\u0627\u0645\u060c \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a\u060c \u0648\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645"})]}),(0,Tt.jsx)("div",{className:"glass-effect p-2",children:(0,Tt.jsx)("div",{className:"flex space-x-2 overflow-x-auto",children:[{id:"permissions",label:"\u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a",icon:"user"},{id:"dashboard",label:"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645",icon:"dashboard"},{id:"system",label:"\u0627\u0644\u0646\u0638\u0627\u0645",icon:"settings"},{id:"security",label:"\u0627\u0644\u0623\u0645\u0627\u0646",icon:"settings"},{id:"logs",label:"\u0627\u0644\u0633\u062c\u0644\u0627\u062a",icon:"reports"},{id:"support",label:"\u0627\u0644\u062f\u0639\u0645 \u0627\u0644\u0641\u0646\u064a",icon:"phone"}].map((s=>(0,Tt.jsxs)("button",{onClick:()=>t(s.id),className:"flex items-center gap-2 px-6 py-3 rounded-lg transition-all duration-300 whitespace-nowrap ".concat(e===s.id?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"hover:bg-white hover:bg-opacity-10"),children:[(0,Tt.jsx)(Wt,{name:s.icon,size:20}),(0,Tt.jsx)("span",{children:s.label})]},s.id)))})}),(0,Tt.jsxs)("div",{className:"glass-effect p-8",children:["permissions"===e&&(0,Tt.jsx)(ss,{permissions:s,onUpdate:async e=>{m(!0);try{const t=localStorage.getItem("access_token");await Pt.post("".concat(Dt,"/admin/permissions"),e,{headers:{Authorization:"Bearer ".concat(t)}}),a(e),alert("\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a \u0628\u0646\u062c\u0627\u062d")}catch(t){console.error("Error updating permissions:",t),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a")}finally{m(!1)}},loading:u}),"dashboard"===e&&(0,Tt.jsx)(as,{config:l,onUpdate:h,loading:u}),"system"===e&&(0,Tt.jsx)(ns,{health:i,onRefresh:x,loading:u}),"security"===e&&(0,Tt.jsx)(ls,{config:l,onUpdate:h,loading:u}),"logs"===e&&(0,Tt.jsx)(rs,{logs:o,onRefresh:x,loading:u}),"support"===e&&(0,Tt.jsx)(ts,{loading:u})]})]})},ts=e=>{var t,s,a;let{loading:l}=e;const[r,i]=(0,n.useState)([]),[c,o]=(0,n.useState)({}),[u,m]=(0,n.useState)(null),[x,h]=(0,n.useState)({status:"",priority:"",category:""}),[p,g]=(0,n.useState)(!1),[f,v]=(0,n.useState)(""),[b,j]=(0,n.useState)(!1);(0,n.useEffect)((()=>{y(),N()}),[x]);const y=async()=>{g(!0);try{const e=localStorage.getItem("access_token"),t=new URLSearchParams(x).toString(),s=await Pt.get("".concat(Dt,"/support/tickets?").concat(t),{headers:{Authorization:"Bearer ".concat(e)}});i(s.data.tickets||[])}catch(e){console.error("Error fetching support tickets:",e)}finally{g(!1)}},N=async()=>{try{const e=localStorage.getItem("access_token"),t=await Pt.get("".concat(Dt,"/support/stats"),{headers:{Authorization:"Bearer ".concat(e)}});o(t.data)}catch(e){console.error("Error fetching support stats:",e)}},w=e=>{switch(e){case"urgent":return"text-red-600 bg-red-100";case"high":return"text-orange-600 bg-orange-100";case"medium":return"text-yellow-600 bg-yellow-100";case"low":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},_=e=>{switch(e){case"open":return"text-blue-600 bg-blue-100";case"in_progress":return"text-yellow-600 bg-yellow-100";case"resolved":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}};return(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u062f\u0639\u0645 \u0627\u0644\u0641\u0646\u064a"}),(0,Tt.jsx)("button",{onClick:y,disabled:p,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-300 disabled:opacity-50",children:p?"\u062a\u062d\u062f\u064a\u062b...":"\u062a\u062d\u062f\u064a\u062b"})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Tt.jsxs)("div",{className:"glass-effect p-6 text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:c.total_tickets||0}),(0,Tt.jsx)("div",{className:"text-sm text-gray-400",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u062a\u0630\u0627\u0643\u0631"})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl font-bold text-yellow-600",children:(null===(t=c.by_status)||void 0===t?void 0:t.open)||0}),(0,Tt.jsx)("div",{className:"text-sm text-gray-400",children:"\u062a\u0630\u0627\u0643\u0631 \u0645\u0641\u062a\u0648\u062d\u0629"})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl font-bold text-orange-600",children:(null===(s=c.by_status)||void 0===s?void 0:s.in_progress)||0}),(0,Tt.jsx)("div",{className:"text-sm text-gray-400",children:"\u0642\u064a\u062f \u0627\u0644\u0645\u0639\u0627\u0644\u062c\u0629"})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl font-bold text-red-600",children:(null===(a=c.by_priority)||void 0===a?void 0:a.total_critical)||0}),(0,Tt.jsx)("div",{className:"text-sm text-gray-400",children:"\u0639\u0627\u062c\u0644\u0629 \u0648\u0645\u0647\u0645\u0629"})]})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6",children:[(0,Tt.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0641\u0644\u062a\u0631\u0629 \u0627\u0644\u062a\u0630\u0627\u0643\u0631"}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Tt.jsxs)("select",{value:x.status,onChange:e=>h(d(d({},x),{},{status:e.target.value})),className:"p-3 glass-effect border border-white border-opacity-20 rounded-lg text-white",children:[(0,Tt.jsx)("option",{value:"",children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0627\u0644\u0627\u062a"}),(0,Tt.jsx)("option",{value:"open",children:"\u0645\u0641\u062a\u0648\u062d"}),(0,Tt.jsx)("option",{value:"in_progress",children:"\u0642\u064a\u062f \u0627\u0644\u0645\u0639\u0627\u0644\u062c\u0629"}),(0,Tt.jsx)("option",{value:"resolved",children:"\u0645\u062d\u0644\u0648\u0644"}),(0,Tt.jsx)("option",{value:"closed",children:"\u0645\u063a\u0644\u0642"})]}),(0,Tt.jsxs)("select",{value:x.priority,onChange:e=>h(d(d({},x),{},{priority:e.target.value})),className:"p-3 glass-effect border border-white border-opacity-20 rounded-lg text-white",children:[(0,Tt.jsx)("option",{value:"",children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0623\u0648\u0644\u0648\u064a\u0627\u062a"}),(0,Tt.jsx)("option",{value:"low",children:"\u0645\u0646\u062e\u0641\u0636\u0629"}),(0,Tt.jsx)("option",{value:"medium",children:"\u0645\u062a\u0648\u0633\u0637\u0629"}),(0,Tt.jsx)("option",{value:"high",children:"\u0639\u0627\u0644\u064a\u0629"}),(0,Tt.jsx)("option",{value:"urgent",children:"\u0639\u0627\u062c\u0644\u0629"})]}),(0,Tt.jsxs)("select",{value:x.category,onChange:e=>h(d(d({},x),{},{category:e.target.value})),className:"p-3 glass-effect border border-white border-opacity-20 rounded-lg text-white",children:[(0,Tt.jsx)("option",{value:"",children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0641\u0626\u0627\u062a"}),(0,Tt.jsx)("option",{value:"general",children:"\u0639\u0627\u0645"}),(0,Tt.jsx)("option",{value:"technical",children:"\u0641\u0646\u064a"}),(0,Tt.jsx)("option",{value:"account",children:"\u062d\u0633\u0627\u0628"}),(0,Tt.jsx)("option",{value:"billing",children:"\u0641\u0648\u062a\u0631\u0629"}),(0,Tt.jsx)("option",{value:"feature_request",children:"\u0637\u0644\u0628 \u0645\u064a\u0632\u0629"})]})]})]}),(0,Tt.jsx)("div",{className:"glass-effect p-6",children:(0,Tt.jsxs)("div",{className:"overflow-x-auto",children:[(0,Tt.jsxs)("table",{className:"w-full",children:[(0,Tt.jsx)("thead",{children:(0,Tt.jsxs)("tr",{className:"border-b border-white border-opacity-20",children:[(0,Tt.jsx)("th",{className:"text-right p-4",children:"\u0631\u0642\u0645 \u0627\u0644\u062a\u0630\u0643\u0631\u0629"}),(0,Tt.jsx)("th",{className:"text-right p-4",children:"\u0627\u0644\u0645\u0631\u0633\u0644"}),(0,Tt.jsx)("th",{className:"text-right p-4",children:"\u0627\u0644\u0645\u0634\u0643\u0644\u0629"}),(0,Tt.jsx)("th",{className:"text-center p-4",children:"\u0627\u0644\u0623\u0648\u0644\u0648\u064a\u0629"}),(0,Tt.jsx)("th",{className:"text-center p-4",children:"\u0627\u0644\u062d\u0627\u0644\u0629"}),(0,Tt.jsx)("th",{className:"text-center p-4",children:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e"}),(0,Tt.jsx)("th",{className:"text-center p-4",children:"\u0625\u062c\u0631\u0627\u0621\u0627\u062a"})]})}),(0,Tt.jsx)("tbody",{children:r.map((e=>(0,Tt.jsxs)("tr",{className:"border-b border-white border-opacity-10 hover:bg-white hover:bg-opacity-5",children:[(0,Tt.jsx)("td",{className:"p-4 font-mono text-sm",children:e.ticket_number}),(0,Tt.jsxs)("td",{className:"p-4",children:[(0,Tt.jsx)("div",{className:"font-medium",children:e.sender_name}),(0,Tt.jsx)("div",{className:"text-sm text-gray-400",children:e.sender_position}),(0,Tt.jsx)("div",{className:"text-sm text-gray-400",children:e.sender_whatsapp})]}),(0,Tt.jsx)("td",{className:"p-4 max-w-xs",children:(0,Tt.jsx)("div",{className:"truncate",title:e.problem_description,children:e.problem_description})}),(0,Tt.jsx)("td",{className:"p-4 text-center",children:(0,Tt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(w(e.priority)),children:"urgent"===e.priority?"\u0639\u0627\u062c\u0644":"high"===e.priority?"\u0639\u0627\u0644\u064a":"medium"===e.priority?"\u0645\u062a\u0648\u0633\u0637":"\u0645\u0646\u062e\u0641\u0636"})}),(0,Tt.jsx)("td",{className:"p-4 text-center",children:(0,Tt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(_(e.status)),children:"open"===e.status?"\u0645\u0641\u062a\u0648\u062d":"in_progress"===e.status?"\u0642\u064a\u062f \u0627\u0644\u0645\u0639\u0627\u0644\u062c\u0629":"resolved"===e.status?"\u0645\u062d\u0644\u0648\u0644":"\u0645\u063a\u0644\u0642"})}),(0,Tt.jsx)("td",{className:"p-4 text-center text-sm",children:new Date(e.created_at).toLocaleDateString("ar-EG")}),(0,Tt.jsx)("td",{className:"p-4 text-center",children:(0,Tt.jsxs)("div",{className:"flex gap-2 justify-center",children:[(0,Tt.jsx)("button",{onClick:()=>m(e),className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-xs rounded",title:"\u0639\u0631\u0636 \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644",children:"\u0639\u0631\u0636"}),(0,Tt.jsx)("button",{onClick:()=>{m(e),j(!0)},className:"px-3 py-1 bg-green-600 hover:bg-green-700 text-white text-xs rounded",title:"\u0625\u0636\u0627\u0641\u0629 \u0631\u062f",children:"\u0631\u062f"}),"resolved"!==e.status&&(0,Tt.jsx)("button",{onClick:()=>(async(e,t)=>{try{const s=localStorage.getItem("access_token");await Pt.patch("".concat(Dt,"/support/tickets/").concat(e),{status:t},{headers:{Authorization:"Bearer ".concat(s)}}),y(),N()}catch(s){console.error("Error updating ticket status:",s)}})(e.id,"resolved"),className:"px-3 py-1 bg-purple-600 hover:bg-purple-700 text-white text-xs rounded",title:"\u062d\u0644 \u0627\u0644\u0645\u0634\u0643\u0644\u0629",children:"\u062d\u0644"})]})})]},e.id)))})]}),0===r.length&&!p&&(0,Tt.jsx)("div",{className:"text-center py-8 text-gray-400",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u062a\u0630\u0627\u0643\u0631 \u062f\u0639\u0645 \u0641\u0646\u064a"})]})}),u&&!b&&(0,Tt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Tt.jsxs)("div",{className:"bg-white bg-opacity-10 backdrop-filter backdrop-blur-lg border border-white border-opacity-20 rounded-xl p-6 max-w-2xl w-full mx-4 max-h-96 overflow-y-auto",children:[(0,Tt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Tt.jsx)("h3",{className:"text-xl font-bold",children:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u062a\u0630\u0643\u0631\u0629"}),(0,Tt.jsx)("button",{onClick:()=>m(null),className:"text-white hover:text-gray-300",children:"\u2715"})]}),(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u0631\u0642\u0645 \u0627\u0644\u062a\u0630\u0643\u0631\u0629:"})," ",u.ticket_number]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u0627\u0644\u0645\u0631\u0633\u0644:"})," ",u.sender_name," (",u.sender_position,")"]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u0631\u0642\u0645 \u0627\u0644\u0648\u0627\u062a\u0633 \u0627\u0628:"})," ",u.sender_whatsapp]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u0627\u0644\u0645\u0634\u0643\u0644\u0629:"}),(0,Tt.jsx)("p",{className:"mt-2 p-3 bg-white bg-opacity-5 rounded",children:u.problem_description})]}),u.responses&&u.responses.length>0&&(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u0627\u0644\u0631\u062f\u0648\u062f:"}),(0,Tt.jsx)("div",{className:"mt-2 space-y-2",children:u.responses.map(((e,t)=>(0,Tt.jsxs)("div",{className:"p-3 bg-white bg-opacity-5 rounded",children:[(0,Tt.jsxs)("div",{className:"text-sm text-gray-400 mb-1",children:[e.responder_name," - ",new Date(e.created_at).toLocaleString("ar-EG")]}),(0,Tt.jsx)("p",{children:e.response_text})]},t)))})]})]})]})}),b&&u&&(0,Tt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Tt.jsxs)("div",{className:"bg-white bg-opacity-10 backdrop-filter backdrop-blur-lg border border-white border-opacity-20 rounded-xl p-6 max-w-lg w-full mx-4",children:[(0,Tt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Tt.jsx)("h3",{className:"text-xl font-bold",children:"\u0625\u0636\u0627\u0641\u0629 \u0631\u062f"}),(0,Tt.jsx)("button",{onClick:()=>j(!1),className:"text-white hover:text-gray-300",children:"\u2715"})]}),(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u0644\u0644\u062a\u0630\u0643\u0631\u0629:"})," ",u.ticket_number]}),(0,Tt.jsx)("div",{children:(0,Tt.jsx)("textarea",{value:f,onChange:e=>v(e.target.value),placeholder:"\u0627\u0643\u062a\u0628 \u0631\u062f\u0643 \u0647\u0646\u0627...",className:"w-full h-32 p-3 glass-effect border border-white border-opacity-20 rounded-lg text-white resize-none"})}),(0,Tt.jsxs)("div",{className:"flex gap-3",children:[(0,Tt.jsx)("button",{onClick:async()=>{if(f.trim()&&u)try{const e=localStorage.getItem("access_token");await Pt.post("".concat(Dt,"/support/tickets/").concat(u.id,"/responses?response_text=").concat(encodeURIComponent(f)),{},{headers:{Authorization:"Bearer ".concat(e)}}),v(""),j(!1),y();const t=await Pt.get("".concat(Dt,"/support/tickets/").concat(u.id),{headers:{Authorization:"Bearer ".concat(e)}});m(t.data.ticket)}catch(e){console.error("Error adding reply:",e)}},disabled:!f.trim(),className:"flex-1 py-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white rounded-lg transition-colors",children:"\u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0631\u062f"}),(0,Tt.jsx)("button",{onClick:()=>j(!1),className:"px-6 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"\u0625\u0644\u063a\u0627\u0621"})]})]})]})})]})},ss=e=>{let{permissions:t,onUpdate:s,loading:a}=e;const[l,r]=(0,n.useState)(t);(0,n.useEffect)((()=>{r(t)}),[t]);if(!l)return null;const i=Object.keys(l.roles_config);return(0,Tt.jsxs)("div",{className:"space-y-8",children:[(0,Tt.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a"}),(0,Tt.jsxs)("div",{className:"glass-effect p-6",children:[(0,Tt.jsx)("h4",{className:"text-xl font-bold mb-6",children:"\u0635\u0644\u0627\u062d\u064a\u0627\u062a \u0627\u0644\u0623\u062f\u0648\u0627\u0631"}),(0,Tt.jsx)("div",{className:"overflow-x-auto",children:(0,Tt.jsxs)("table",{className:"w-full",children:[(0,Tt.jsx)("thead",{children:(0,Tt.jsxs)("tr",{className:"border-b border-white border-opacity-20",children:[(0,Tt.jsx)("th",{className:"text-right p-4",children:"\u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0629"}),i.map((e=>(0,Tt.jsx)("th",{className:"text-center p-4 min-w-20",children:"admin"===e?"\u0645\u062f\u064a\u0631":"manager"===e?"\u0645\u062f\u064a\u0631 \u0641\u0631\u0639":"sales_rep"===e?"\u0645\u0646\u062f\u0648\u0628":"warehouse_manager"===e?"\u0645\u062f\u064a\u0631 \u0645\u062e\u0632\u0646":"warehouse_keeper"===e?"\u0623\u0645\u064a\u0646 \u0627\u0644\u0645\u062e\u0632\u0646":"warehouse"===e?"\u0645\u062e\u0632\u0646":"\u0645\u062d\u0627\u0633\u0628"},e)))]})}),(0,Tt.jsx)("tbody",{children:Object.entries({dashboard_access:"\u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645",user_management:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",warehouse_management:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u062e\u0627\u0632\u0646",visits_management:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a",reports_access:"\u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u062a\u0642\u0627\u0631\u064a\u0631",settings_access:"\u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a",financial_reports:"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631 \u0627\u0644\u0645\u0627\u0644\u064a\u0629",system_logs:"\u0633\u062c\u0644\u0627\u062a \u0627\u0644\u0646\u0638\u0627\u0645"}).map((e=>{let[t,s]=e;return(0,Tt.jsxs)("tr",{className:"border-b border-white border-opacity-10",children:[(0,Tt.jsx)("td",{className:"p-4 font-medium",children:s}),i.map((e=>{var s,a,n;return(0,Tt.jsx)("td",{className:"p-4 text-center",children:(0,Tt.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,Tt.jsx)("input",{type:"checkbox",checked:(null===(s=l.roles_config[e])||void 0===s?void 0:s[t])||!1,onChange:s=>((e,t,s)=>{const a=d(d({},l),{},{roles_config:d(d({},l.roles_config),{},{[e]:d(d({},l.roles_config[e]),{},{[t]:s})})});r(a)})(e,t,s.target.checked),className:"sr-only"}),(0,Tt.jsx)("div",{className:"relative w-6 h-6 rounded border-2 transition-colors ".concat(null!==(a=l.roles_config[e])&&void 0!==a&&a[t]?"bg-blue-600 border-blue-600":"border-gray-400"),children:(null===(n=l.roles_config[e])||void 0===n?void 0:n[t])&&(0,Tt.jsx)("div",{className:"absolute inset-1 bg-white rounded-sm"})})]})},e)}))]},t)}))})]})})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6",children:[(0,Tt.jsx)("h4",{className:"text-xl font-bold mb-6",children:"\u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0627\u0644\u0648\u0627\u062c\u0647\u0629"}),(0,Tt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(l.ui_controls||{}).map((e=>{let[t,s]=e;return(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,Tt.jsx)("span",{className:"text-sm",children:"show_statistics_cards"===t?"\u0639\u0631\u0636 \u0628\u0637\u0627\u0642\u0627\u062a \u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a":"show_charts"===t?"\u0639\u0631\u0636 \u0627\u0644\u0645\u062e\u0637\u0637\u0627\u062a":"show_recent_activities"===t?"\u0639\u0631\u0636 \u0627\u0644\u0623\u0646\u0634\u0637\u0629 \u0627\u0644\u0623\u062e\u064a\u0631\u0629":"show_user_photos"===t?"\u0639\u0631\u0636 \u0635\u0648\u0631 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646":"show_themes_selector"===t?"\u0639\u0631\u0636 \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u062b\u064a\u0645":"show_language_selector"===t?"\u0639\u0631\u0636 \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0644\u063a\u0629":"enable_dark_mode"===t?"\u062a\u0645\u0643\u064a\u0646 \u0627\u0644\u0648\u0636\u0639 \u0627\u0644\u0644\u064a\u0644\u064a":"enable_notifications"===t?"\u062a\u0645\u0643\u064a\u0646 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a":"enable_search"===t?"\u062a\u0645\u0643\u064a\u0646 \u0627\u0644\u0628\u062d\u062b":t}),(0,Tt.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Tt.jsx)("input",{type:"checkbox",checked:s,onChange:e=>((e,t)=>{const s=d(d({},l),{},{ui_controls:d(d({},l.ui_controls),{},{[e]:t})});r(s)})(t,e.target.checked),className:"sr-only peer"}),(0,Tt.jsx)("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},t)}))})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6",children:[(0,Tt.jsx)("h4",{className:"text-xl font-bold mb-6",children:"\u0645\u0641\u0627\u062a\u064a\u062d \u0627\u0644\u0645\u0645\u064a\u0632\u0627\u062a"}),(0,Tt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(l.feature_toggles||{}).map((e=>{let[t,s]=e;return(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,Tt.jsx)("span",{className:"text-sm",children:"gamification_enabled"===t?"\u0627\u0644\u062a\u062d\u0641\u064a\u0632 \u0648\u0627\u0644\u0623\u0644\u0639\u0627\u0628":"gps_tracking_enabled"===t?"\u062a\u062a\u0628\u0639 GPS":"voice_notes_enabled"===t?"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0627\u0644\u0635\u0648\u062a\u064a\u0629":"file_uploads_enabled"===t?"\u0631\u0641\u0639 \u0627\u0644\u0645\u0644\u0641\u0627\u062a":"print_reports_enabled"===t?"\u0637\u0628\u0627\u0639\u0629 \u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631":"export_data_enabled"===t?"\u062a\u0635\u062f\u064a\u0631 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a":"email_notifications_enabled"===t?"\u0625\u0634\u0639\u0627\u0631\u0627\u062a \u0627\u0644\u0628\u0631\u064a\u062f":"sms_notifications_enabled"===t?"\u0625\u0634\u0639\u0627\u0631\u0627\u062a SMS":t}),(0,Tt.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Tt.jsx)("input",{type:"checkbox",checked:s,onChange:e=>((e,t)=>{const s=d(d({},l),{},{feature_toggles:d(d({},l.feature_toggles),{},{[e]:t})});r(s)})(t,e.target.checked),className:"sr-only peer"}),(0,Tt.jsx)("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},t)}))})]}),(0,Tt.jsx)("button",{onClick:()=>s(l),disabled:a,className:"w-full py-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold rounded-lg transition-all duration-300 disabled:opacity-50",children:a?"\u062c\u0627\u0631\u064a \u0627\u0644\u062d\u0641\u0638...":"\u062d\u0641\u0638 \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a"})]})},as=e=>{var t,s,a,l;let{config:r,onUpdate:i,loading:c}=e;const[o,u]=(0,n.useState)(r);(0,n.useEffect)((()=>{u(r)}),[r]);if(!o)return null;const m=["admin","manager","sales_rep","warehouse","accounting"];return(0,Tt.jsxs)("div",{className:"space-y-8",children:[(0,Tt.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645"}),(0,Tt.jsxs)("div",{className:"glass-effect p-6",children:[(0,Tt.jsx)("h4",{className:"text-xl font-bold mb-6",children:"\u062a\u0628\u0648\u064a\u0628\u0627\u062a \u0627\u0644\u062a\u0646\u0642\u0644"}),(0,Tt.jsx)("div",{className:"overflow-x-auto",children:(0,Tt.jsxs)("table",{className:"w-full",children:[(0,Tt.jsx)("thead",{children:(0,Tt.jsxs)("tr",{className:"border-b border-white border-opacity-20",children:[(0,Tt.jsx)("th",{className:"text-right p-4",children:"\u0627\u0644\u062a\u0628\u0648\u064a\u0628"}),m.map((e=>(0,Tt.jsx)("th",{className:"text-center p-4 min-w-20",children:"admin"===e?"\u0645\u062f\u064a\u0631":"manager"===e?"\u0645\u062f\u064a\u0631 \u0641\u0631\u0639":"sales_rep"===e?"\u0645\u0646\u062f\u0648\u0628":"warehouse_manager"===e?"\u0645\u062f\u064a\u0631 \u0645\u062e\u0632\u0646":"warehouse_keeper"===e?"\u0623\u0645\u064a\u0646 \u0627\u0644\u0645\u062e\u0632\u0646":"warehouse"===e?"\u0645\u062e\u0632\u0646":"\u0645\u062d\u0627\u0633\u0628"},e)))]})}),(0,Tt.jsx)("tbody",{children:Object.entries({statistics_tab:"\u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a",users_tab:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",warehouse_tab:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u062e\u0627\u0632\u0646",visits_tab:"\u0633\u062c\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a",reports_tab:"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631",settings_tab:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a"}).map((e=>{let[t,s]=e;return(0,Tt.jsxs)("tr",{className:"border-b border-white border-opacity-10",children:[(0,Tt.jsx)("td",{className:"p-4 font-medium",children:s}),m.map((e=>{var s,a,n,l,r,i,c,m,x;return(0,Tt.jsx)("td",{className:"p-4 text-center",children:(0,Tt.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,Tt.jsx)("input",{type:"checkbox",checked:((null===(s=o.dashboard_sections)||void 0===s||null===(a=s.navigation_tabs)||void 0===a||null===(n=a[t])||void 0===n?void 0:n.roles)||[]).includes(e),onChange:s=>((e,t,s)=>{const a=d(d({},o),{},{dashboard_sections:d(d({},o.dashboard_sections),{},{navigation_tabs:d(d({},o.dashboard_sections.navigation_tabs),{},{[e]:d(d({},o.dashboard_sections.navigation_tabs[e]),{},{roles:s?[...o.dashboard_sections.navigation_tabs[e].roles||[],t]:(o.dashboard_sections.navigation_tabs[e].roles||[]).filter((e=>e!==t))})})})});u(a)})(t,e,s.target.checked),className:"sr-only"}),(0,Tt.jsx)("div",{className:"relative w-6 h-6 rounded border-2 transition-colors ".concat(((null===(l=o.dashboard_sections)||void 0===l||null===(r=l.navigation_tabs)||void 0===r||null===(i=r[t])||void 0===i?void 0:i.roles)||[]).includes(e)?"bg-blue-600 border-blue-600":"border-gray-400"),children:((null===(c=o.dashboard_sections)||void 0===c||null===(m=c.navigation_tabs)||void 0===m||null===(x=m[t])||void 0===x?void 0:x.roles)||[]).includes(e)&&(0,Tt.jsx)("div",{className:"absolute inset-1 bg-white rounded-sm"})})]})},e)}))]},t)}))})]})})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6",children:[(0,Tt.jsx)("h4",{className:"text-xl font-bold mb-6",children:"\u062a\u062e\u0635\u064a\u0635 \u0627\u0644\u0648\u0627\u062c\u0647\u0629"}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-3",children:"\u0627\u0644\u0644\u0648\u0646 \u0627\u0644\u0623\u0633\u0627\u0633\u064a"}),(0,Tt.jsx)("input",{type:"color",value:(null===(t=o.ui_customization)||void 0===t||null===(s=t.company_branding)||void 0===s?void 0:s.primary_color)||"#3b82f6",onChange:e=>{var t;return u(d(d({},o),{},{ui_customization:d(d({},o.ui_customization),{},{company_branding:d(d({},null===(t=o.ui_customization)||void 0===t?void 0:t.company_branding),{},{primary_color:e.target.value})})}))},className:"w-full h-12 glass-effect border border-white border-opacity-20 rounded-lg"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-3",children:"\u0627\u0644\u0644\u0648\u0646 \u0627\u0644\u062b\u0627\u0646\u0648\u064a"}),(0,Tt.jsx)("input",{type:"color",value:(null===(a=o.ui_customization)||void 0===a||null===(l=a.company_branding)||void 0===l?void 0:l.secondary_color)||"#1e293b",onChange:e=>{var t;return u(d(d({},o),{},{ui_customization:d(d({},o.ui_customization),{},{company_branding:d(d({},null===(t=o.ui_customization)||void 0===t?void 0:t.company_branding),{},{secondary_color:e.target.value})})}))},className:"w-full h-12 glass-effect border border-white border-opacity-20 rounded-lg"})]})]})]}),(0,Tt.jsx)("button",{onClick:()=>i(o),disabled:c,className:"w-full py-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold rounded-lg transition-all duration-300 disabled:opacity-50",children:c?"\u062c\u0627\u0631\u064a \u0627\u0644\u062d\u0641\u0638...":"\u062d\u0641\u0638 \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a"})]})},ns=e=>{var t,s,a,n;let{health:l,onRefresh:r,loading:i}=e;return l?(0,Tt.jsxs)("div",{className:"space-y-8",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u0635\u062d\u0629 \u0627\u0644\u0646\u0638\u0627\u0645"}),(0,Tt.jsx)("button",{onClick:r,disabled:i,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-300 disabled:opacity-50",children:i?"\u062a\u062d\u062f\u064a\u062b...":"\u062a\u062d\u062f\u064a\u062b"})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Tt.jsxs)("div",{className:"glass-effect p-6 text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:(null===(t=l.users)||void 0===t?void 0:t.total)||0}),(0,Tt.jsx)("div",{className:"text-sm text-gray-400",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl font-bold text-green-400 mb-2",children:(null===(s=l.users)||void 0===s?void 0:s.active)||0}),(0,Tt.jsx)("div",{className:"text-sm text-gray-400",children:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0627\u0644\u0646\u0634\u0637\u064a\u0646"})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:(null===(a=l.system_metrics)||void 0===a?void 0:a.total_visits)||0}),(0,Tt.jsx)("div",{className:"text-sm text-gray-400",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a"})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl font-bold text-orange-400 mb-2",children:(null===(n=l.system_metrics)||void 0===n?void 0:n.total_orders)||0}),(0,Tt.jsx)("div",{className:"text-sm text-gray-400",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0637\u0644\u0628\u0627\u062a"})]})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6",children:[(0,Tt.jsx)("h4",{className:"text-xl font-bold mb-6",children:"\u062d\u0627\u0644\u0629 \u0642\u0648\u0627\u0639\u062f \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a"}),(0,Tt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(l.collections_health||{}).map((e=>{let[t,s]=e;return(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,Tt.jsx)("span",{className:"font-medium capitalize",children:t}),(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("span",{className:"text-sm text-gray-400",children:s.count||0}),(0,Tt.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("healthy"===s.status?"bg-green-400":"bg-red-400")})]})]},t)}))})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6",children:[(0,Tt.jsx)("h4",{className:"text-xl font-bold mb-6",children:"\u062d\u0627\u0644\u0629 \u0642\u0627\u0639\u062f\u0629 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a"}),(0,Tt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Tt.jsx)("div",{className:"w-4 h-4 rounded-full ".concat("connected"===l.database_status?"bg-green-400":"bg-red-400")}),(0,Tt.jsx)("span",{className:"font-medium",children:"connected"===l.database_status?"\u0645\u062a\u0635\u0644":"\u063a\u064a\u0631 \u0645\u062a\u0635\u0644"}),(0,Tt.jsxs)("span",{className:"text-sm text-gray-400 mr-auto",children:["\u0622\u062e\u0631 \u0641\u062d\u0635: ",new Date(l.checked_at).toLocaleString("ar-EG")]})]})]})]}):null},ls=e=>{var t,s,a,l,r;let{config:i,onUpdate:c,loading:o}=e;const[u,m]=(0,n.useState)(i);if((0,n.useEffect)((()=>{m(i)}),[i]),!u)return null;const x=(e,t)=>{const s=d(d({},u),{},{security_settings:d(d({},u.security_settings),{},{[e]:t})});m(s)};return(0,Tt.jsxs)("div",{className:"space-y-8",children:[(0,Tt.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0623\u0645\u0627\u0646"}),(0,Tt.jsxs)("div",{className:"glass-effect p-6",children:[(0,Tt.jsx)("h4",{className:"text-xl font-bold mb-6",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-3",children:"\u0641\u062a\u0631\u0629 \u0627\u0646\u062a\u0647\u0627\u0621 \u0635\u0644\u0627\u062d\u064a\u0629 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 (\u0623\u064a\u0627\u0645)"}),(0,Tt.jsx)("input",{type:"number",value:(null===(t=u.security_settings)||void 0===t?void 0:t.password_expiry_days)||90,onChange:e=>x("password_expiry_days",parseInt(e.target.value)),className:"w-full p-4 glass-effect border border-white border-opacity-20 rounded-lg text-white",min:"1",max:"365"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-3",children:"\u0639\u062f\u062f \u0645\u062d\u0627\u0648\u0644\u0627\u062a \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0627\u0644\u0645\u0633\u0645\u0648\u062d"}),(0,Tt.jsx)("input",{type:"number",value:(null===(s=u.security_settings)||void 0===s?void 0:s.max_login_attempts)||5,onChange:e=>x("max_login_attempts",parseInt(e.target.value)),className:"w-full p-4 glass-effect border border-white border-opacity-20 rounded-lg text-white",min:"1",max:"10"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-3",children:"\u0645\u0647\u0644\u0629 \u0627\u0646\u062a\u0647\u0627\u0621 \u0627\u0644\u062c\u0644\u0633\u0629 (\u062f\u0642\u064a\u0642\u0629)"}),(0,Tt.jsx)("input",{type:"number",value:(null===(a=u.security_settings)||void 0===a?void 0:a.session_timeout_minutes)||480,onChange:e=>x("session_timeout_minutes",parseInt(e.target.value)),className:"w-full p-4 glass-effect border border-white border-opacity-20 rounded-lg text-white",min:"30",max:"1440"})]})]}),(0,Tt.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"font-medium",children:"\u0625\u062c\u0628\u0627\u0631 \u062a\u063a\u064a\u064a\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"}),(0,Tt.jsx)("div",{className:"text-sm text-gray-400",children:"\u0625\u062c\u0628\u0627\u0631 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0639\u0644\u0649 \u062a\u063a\u064a\u064a\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0639\u0646\u062f \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0627\u0644\u062a\u0627\u0644\u064a"})]}),(0,Tt.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Tt.jsx)("input",{type:"checkbox",checked:(null===(l=u.security_settings)||void 0===l?void 0:l.force_password_change)||!1,onChange:e=>x("force_password_change",e.target.checked),className:"sr-only peer"}),(0,Tt.jsx)("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"font-medium",children:"\u0627\u0644\u062a\u062d\u0642\u0642 \u0628\u062e\u0637\u0648\u062a\u064a\u0646 (2FA)"}),(0,Tt.jsx)("div",{className:"text-sm text-gray-400",children:"\u062a\u0645\u0643\u064a\u0646 \u0627\u0644\u062a\u062d\u0642\u0642 \u0628\u062e\u0637\u0648\u062a\u064a\u0646 \u0644\u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"})]}),(0,Tt.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Tt.jsx)("input",{type:"checkbox",checked:(null===(r=u.security_settings)||void 0===r?void 0:r.require_2fa)||!1,onChange:e=>x("require_2fa",e.target.checked),className:"sr-only peer"}),(0,Tt.jsx)("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),(0,Tt.jsx)("button",{onClick:()=>c(u),disabled:o,className:"w-full py-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold rounded-lg transition-all duration-300 disabled:opacity-50",children:o?"\u062c\u0627\u0631\u064a \u0627\u0644\u062d\u0641\u0638...":"\u062d\u0641\u0638 \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0623\u0645\u0627\u0646"})]})},rs=e=>{let{logs:t,onRefresh:s,loading:a}=e;return(0,Tt.jsxs)("div",{className:"space-y-8",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u0633\u062c\u0644\u0627\u062a \u0627\u0644\u0623\u0646\u0634\u0637\u0629"}),(0,Tt.jsx)("button",{onClick:s,disabled:a,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-300 disabled:opacity-50",children:a?"\u062a\u062d\u062f\u064a\u062b...":"\u062a\u062d\u062f\u064a\u062b"})]}),(0,Tt.jsx)("div",{className:"glass-effect p-6",children:(0,Tt.jsx)("div",{className:"space-y-4",children:t&&t.length>0?t.map((e=>(0,Tt.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,Tt.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("user_management"===e.category?"bg-blue-400":"visits"===e.category?"bg-green-400":"orders"===e.category?"bg-orange-400":"bg-gray-400")}),(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsx)("div",{className:"font-medium",children:e.description}),(0,Tt.jsxs)("div",{className:"text-sm text-gray-400",children:[e.user_name," \u2022 ",new Date(e.timestamp).toLocaleString("ar-EG")]})]}),(0,Tt.jsx)("div",{className:"text-xs px-2 py-1 bg-white bg-opacity-10 rounded-full",children:"user_management"===e.category?"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646":"visits"===e.category?"\u0632\u064a\u0627\u0631\u0627\u062a":"orders"===e.category?"\u0637\u0644\u0628\u0627\u062a":e.category})]},e.id))):(0,Tt.jsxs)("div",{className:"text-center py-12",children:[(0,Tt.jsx)(Wt,{name:"reports",size:64,className:"mx-auto mb-4 text-gray-400"}),(0,Tt.jsx)("p",{style:{color:"var(--text-secondary)"},children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0633\u062c\u0644\u0627\u062a \u0644\u0644\u0623\u0646\u0634\u0637\u0629"})]})})})]})},is=()=>{const[e,t]=(0,n.useState)(!0),[s,a]=(0,n.useState)(""),[l,r]=(0,n.useState)("performance"),[i,c]=(0,n.useState)("week"),[o,u]=(0,n.useState)(""),[m,x]=(0,n.useState)("sales_performance"),[h,p]=(0,n.useState)(null),[g,f]=(0,n.useState)(null),{language:v}=It();(0,n.useEffect)((()=>{"performance"===l?b():j()}),[l,i,o,m]);const b=async()=>{t(!0),a("");try{const e=localStorage.getItem("access_token"),t=new URLSearchParams(d({time_range:i},o&&{user_filter:o})),s=await Pt.get("".concat(Dt,"/analytics/performance-dashboard?").concat(t),{headers:{Authorization:"Bearer ".concat(e)}});p(s.data)}catch(s){a("\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0623\u062f\u0627\u0621"),console.error("Performance dashboard error:",s)}finally{t(!1)}},j=async()=>{t(!0),a("");try{const e=localStorage.getItem("access_token"),t=new URLSearchParams({kpi_type:m,period:i}),s=await Pt.get("".concat(Dt,"/analytics/kpi-metrics?").concat(t),{headers:{Authorization:"Bearer ".concat(e)}});f(s.data)}catch(s){a("\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0645\u0624\u0634\u0631\u0627\u062a \u0627\u0644\u0623\u062f\u0627\u0621"),console.error("KPI metrics error:",s)}finally{t(!1)}},y=e=>e>0?"text-green-400":e<0?"text-red-400":"text-gray-400",N=e=>e>0?"\ud83d\udcc8":e<0?"\ud83d\udcc9":"\ud83d\udcca",w=e=>{const t={excellent:"bg-green-500 bg-opacity-20 text-green-400 border-green-500",good:"bg-blue-500 bg-opacity-20 text-blue-400 border-blue-500",average:"bg-yellow-500 bg-opacity-20 text-yellow-400 border-yellow-500",needs_improvement:"bg-red-500 bg-opacity-20 text-red-400 border-red-500",no_data:"bg-gray-500 bg-opacity-20 text-gray-400 border-gray-500"};return t[e]||t.no_data},_=e=>{const t={excellent:"\u0645\u0645\u062a\u0627\u0632",good:"\u062c\u064a\u062f",average:"\u0645\u062a\u0648\u0633\u0637",needs_improvement:"\u064a\u062d\u062a\u0627\u062c \u062a\u062d\u0633\u064a\u0646",no_data:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"};return t[e]||t.no_data},k=e=>{let{title:t,value:s,unit:a,growth:n,icon:l,description:r}=e;return(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl hover:bg-white hover:bg-opacity-10 transition-all duration-300",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tt.jsx)("div",{className:"text-2xl",children:l}),(0,Tt.jsxs)("div",{className:"text-sm font-medium ".concat(y(n)),children:[N(n)," ",n>0?"+":"",n.toFixed(1),"%"]})]}),(0,Tt.jsxs)("div",{className:"mb-2",children:[(0,Tt.jsxs)("div",{className:"text-3xl font-bold mb-1",style:{color:"var(--text-primary)"},children:[s.toLocaleString(),a]}),(0,Tt.jsx)("div",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:t})]}),r&&(0,Tt.jsx)("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:r})]})},S=e=>{let{title:t,data:s}=e;return(0,Tt.jsxs)("div",{className:"p-6 rounded-xl border-2 ".concat(w(s.status)),children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tt.jsx)("h3",{className:"text-lg font-bold",children:t}),(0,Tt.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(w(s.status)),children:_(s.status)})]}),(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("div",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:[s.value,s.unit]}),(0,Tt.jsxs)("div",{className:"text-sm",style:{color:"var(--text-muted)"},children:["\u0627\u0644\u0647\u062f\u0641: ",s.target,s.unit]})]}),(0,Tt.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,Tt.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat("excellent"===s.status?"bg-green-500":"good"===s.status?"bg-blue-500":"average"===s.status?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(Math.min(100,s.achievement),"%")}})}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Tt.jsxs)("span",{style:{color:"var(--text-secondary)"},children:["\u0627\u0644\u062a\u062d\u0642\u064a\u0642: ",s.achievement,"%"]}),(0,Tt.jsxs)("span",{className:"font-medium ".concat("up"===s.trend?"text-green-400":"down"===s.trend?"text-red-400":"text-gray-400"),children:["up"===s.trend?"\u2197\ufe0f":"down"===s.trend?"\u2198\ufe0f":"\u27a1\ufe0f"," ",s.trend]})]}),(0,Tt.jsx)("p",{className:"text-xs",style:{color:"var(--text-muted)"},children:s.description})]})]})};return(0,Tt.jsxs)("div",{className:"space-y-8",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsx)("h2",{className:"text-3xl font-bold text-gradient",children:"\ud83d\udcca \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0644\u064a\u0644\u0627\u062a \u0627\u0644\u0645\u062a\u0642\u062f\u0645\u0629"}),(0,Tt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Tt.jsxs)("select",{value:i,onChange:e=>c(e.target.value),className:"px-4 py-2 glass-effect border border-white border-opacity-20 rounded-lg text-white",children:[(0,Tt.jsx)("option",{value:"today",children:"\u0627\u0644\u064a\u0648\u0645"}),(0,Tt.jsx)("option",{value:"week",children:"\u0647\u0630\u0627 \u0627\u0644\u0623\u0633\u0628\u0648\u0639"}),(0,Tt.jsx)("option",{value:"month",children:"\u0647\u0630\u0627 \u0627\u0644\u0634\u0647\u0631"}),(0,Tt.jsx)("option",{value:"quarter",children:"\u0647\u0630\u0627 \u0627\u0644\u0631\u0628\u0639"}),(0,Tt.jsx)("option",{value:"year",children:"\u0647\u0630\u0627 \u0627\u0644\u0639\u0627\u0645"})]}),"performance"===l&&(0,Tt.jsxs)("select",{value:o,onChange:e=>u(e.target.value),className:"px-4 py-2 glass-effect border border-white border-opacity-20 rounded-lg text-white",children:[(0,Tt.jsx)("option",{value:"",children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"}),(0,Tt.jsx)("option",{value:"sales_rep",children:"\u0645\u0646\u0627\u062f\u064a\u0628 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a"}),(0,Tt.jsx)("option",{value:"manager",children:"\u0627\u0644\u0645\u062f\u0631\u0627\u0621"}),(0,Tt.jsx)("option",{value:"warehouse_manager",children:"\u0645\u062f\u0631\u0627\u0621 \u0627\u0644\u0645\u062e\u0627\u0632\u0646"})]}),"kpis"===l&&(0,Tt.jsxs)("select",{value:m,onChange:e=>x(e.target.value),className:"px-4 py-2 glass-effect border border-white border-opacity-20 rounded-lg text-white",children:[(0,Tt.jsx)("option",{value:"sales_performance",children:"\u0623\u062f\u0627\u0621 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a"}),(0,Tt.jsx)("option",{value:"team_efficiency",children:"\u0643\u0641\u0627\u0621\u0629 \u0627\u0644\u0641\u0631\u064a\u0642"}),(0,Tt.jsx)("option",{value:"customer_satisfaction",children:"\u0631\u0636\u0627 \u0627\u0644\u0639\u0645\u0644\u0627\u0621"})]})]})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-2 rounded-xl inline-flex",children:[(0,Tt.jsx)("button",{onClick:()=>r("performance"),className:"px-6 py-3 rounded-lg transition-all duration-300 ".concat("performance"===l?"bg-blue-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white hover:bg-opacity-10"),children:"\ud83d\udcc8 \u0644\u0648\u062d\u0629 \u0627\u0644\u0623\u062f\u0627\u0621"}),(0,Tt.jsx)("button",{onClick:()=>r("kpis"),className:"px-6 py-3 rounded-lg transition-all duration-300 ".concat("kpis"===l?"bg-purple-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white hover:bg-opacity-10"),children:"\ud83c\udfaf \u0645\u0624\u0634\u0631\u0627\u062a \u0627\u0644\u0623\u062f\u0627\u0621"})]}),s&&(0,Tt.jsx)("div",{className:"p-4 bg-red-500 bg-opacity-20 border border-red-500 rounded-lg text-red-400",children:s}),e?(0,Tt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map((e=>(0,Tt.jsx)("div",{className:"glass-effect p-6 rounded-xl animate-pulse",children:(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsx)("div",{className:"w-8 h-8 bg-gray-600 rounded"}),(0,Tt.jsx)("div",{className:"w-16 h-4 bg-gray-600 rounded"})]}),(0,Tt.jsx)("div",{className:"w-24 h-8 bg-gray-600 rounded"}),(0,Tt.jsx)("div",{className:"w-32 h-4 bg-gray-700 rounded"})]})},e)))}):(0,Tt.jsxs)(Tt.Fragment,{children:["performance"===l&&h&&(0,Tt.jsxs)("div",{className:"space-y-8",children:[(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Tt.jsx)(k,{title:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a",value:h.core_metrics.visits.current,unit:"",growth:h.core_metrics.visits.growth,icon:"\ud83d\ude97",description:"\u0645\u0642\u0627\u0631\u0646\u0629 \u0628\u0627\u0644\u0641\u062a\u0631\u0629 \u0627\u0644\u0633\u0627\u0628\u0642\u0629"}),(0,Tt.jsx)(k,{title:"\u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u0641\u0639\u0627\u0644\u0629",value:h.core_metrics.effective_visits.current,unit:"",growth:h.core_metrics.effective_visits.growth,icon:"\u2705",description:"\u0632\u064a\u0627\u0631\u0627\u062a \u062d\u0642\u0642\u062a \u0646\u062a\u0627\u0626\u062c \u0625\u064a\u062c\u0627\u0628\u064a\u0629"}),(0,Tt.jsx)(k,{title:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0637\u0644\u0628\u0627\u062a",value:h.core_metrics.orders.current,unit:"",growth:h.core_metrics.orders.growth,icon:"\ud83d\udce6",description:"\u0637\u0644\u0628\u0627\u062a \u062a\u0645 \u0625\u0646\u0634\u0627\u0624\u0647\u0627"}),(0,Tt.jsx)(k,{title:"\u0645\u0639\u062f\u0644 \u0627\u0644\u062a\u062d\u0648\u064a\u0644",value:h.core_metrics.conversion_rate.current,unit:"%",growth:h.core_metrics.conversion_rate.growth,icon:"\ud83c\udfaf",description:"\u0645\u0639\u062f\u0644 \u0646\u062c\u0627\u062d \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a"})]}),h.top_performers.length>0&&(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\ud83c\udfc6"}),(0,Tt.jsx)("span",{children:"\u0623\u0641\u0636\u0644 \u0627\u0644\u0645\u0624\u062f\u064a\u0646"})]}),(0,Tt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.top_performers.map(((e,t)=>(0,Tt.jsxs)("div",{className:"p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,Tt.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white font-bold ".concat(0===t?"bg-yellow-500":1===t?"bg-gray-400":2===t?"bg-amber-600":"bg-blue-500"),children:t+1}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:e.user_info.full_name}),(0,Tt.jsxs)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["@",e.user_info.username]})]})]}),(0,Tt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a:"}),(0,Tt.jsx)("span",{className:"font-medium text-blue-400",children:e.total_visits})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u0641\u0639\u0627\u0644\u0629:"}),(0,Tt.jsx)("span",{className:"font-medium text-green-400",children:e.effective_visits})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0645\u0639\u062f\u0644 \u0627\u0644\u0641\u0639\u0627\u0644\u064a\u0629:"}),(0,Tt.jsxs)("span",{className:"font-medium text-purple-400",children:[e.effectiveness_rate.toFixed(1),"%"]})]})]})]},t)))})]}),h.daily_trends.length>0&&(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\ud83d\udcc8"}),(0,Tt.jsx)("span",{children:"\u0627\u062a\u062c\u0627\u0647\u0627\u062a \u0627\u0644\u0623\u062f\u0627\u0621 \u0627\u0644\u064a\u0648\u0645\u064a\u0629"})]}),(0,Tt.jsx)("div",{className:"space-y-4",children:h.daily_trends.slice(-7).map(((e,t)=>(0,Tt.jsxs)("div",{className:"flex items-center gap-4 p-3 bg-white bg-opacity-5 rounded-lg",children:[(0,Tt.jsx)("div",{className:"w-24 text-sm",style:{color:"var(--text-secondary)"},children:new Date(e.date).toLocaleDateString("ar-EG",{weekday:"short",day:"numeric",month:"short"})}),(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,Tt.jsxs)("span",{className:"text-blue-400",children:["\ud83d\ude97 ",e.visits]}),(0,Tt.jsxs)("span",{className:"text-green-400",children:["\u2705 ",e.effective_visits]}),(0,Tt.jsxs)("span",{className:"text-purple-400",children:["\ud83d\udce6 ",e.orders]}),(0,Tt.jsxs)("span",{className:"text-yellow-400",children:["\ud83c\udfaf ",e.effectiveness_rate.toFixed(1),"%"]})]}),(0,Tt.jsx)("div",{className:"mt-2",children:(0,Tt.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,Tt.jsx)("div",{className:"h-2 bg-gradient-to-r from-blue-500 to-green-500 rounded-full transition-all duration-300",style:{width:"".concat(Math.min(100,e.effectiveness_rate),"%")}})})})]})]},t)))})]}),h.team_summary.length>0&&(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\ud83d\udc65"}),(0,Tt.jsx)("span",{children:"\u0645\u0644\u062e\u0635 \u0627\u0644\u0641\u0631\u0642"})]}),(0,Tt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.team_summary.map(((e,t)=>(0,Tt.jsxs)("div",{className:"p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,Tt.jsx)("div",{className:"font-medium mb-3",style:{color:"var(--text-primary)"},children:e.manager_name}),(0,Tt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u062d\u062c\u0645 \u0627\u0644\u0641\u0631\u064a\u0642:"}),(0,Tt.jsx)("span",{className:"font-medium",children:e.team_size})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a:"}),(0,Tt.jsx)("span",{className:"font-medium text-blue-400",children:e.total_visits})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u0641\u0639\u0627\u0644\u0629:"}),(0,Tt.jsx)("span",{className:"font-medium text-green-400",children:e.effective_visits})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0645\u0639\u062f\u0644 \u0627\u0644\u0641\u0639\u0627\u0644\u064a\u0629:"}),(0,Tt.jsxs)("span",{className:"font-medium text-purple-400",children:[e.effectiveness_rate.toFixed(1),"%"]})]})]})]},t)))})]}),h.insights&&(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\ud83d\udca1"}),(0,Tt.jsx)("span",{children:"\u0631\u0624\u0649 \u0630\u0643\u064a\u0629"})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Tt.jsxs)("div",{className:"text-center p-4 bg-blue-500 bg-opacity-20 rounded-lg",children:[(0,Tt.jsx)("div",{className:"text-2xl mb-2",children:"\ud83c\udf1f"}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0623\u0641\u0636\u0644 \u064a\u0648\u0645 \u0623\u062f\u0627\u0621"}),(0,Tt.jsx)("div",{className:"font-bold",style:{color:"var(--text-primary)"},children:h.insights.best_performing_day?new Date(h.insights.best_performing_day).toLocaleDateString("ar-EG"):"\u063a\u064a\u0631 \u0645\u062a\u0627\u062d"})]}),(0,Tt.jsxs)("div",{className:"text-center p-4 bg-green-500 bg-opacity-20 rounded-lg",children:[(0,Tt.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udc65"}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0639\u062f\u062f \u0627\u0644\u0645\u0624\u062f\u064a\u0646 \u0627\u0644\u0641\u0631\u064a\u062f\u064a\u0646"}),(0,Tt.jsx)("div",{className:"font-bold",style:{color:"var(--text-primary)"},children:h.insights.total_unique_performers})]}),(0,Tt.jsxs)("div",{className:"text-center p-4 bg-purple-500 bg-opacity-20 rounded-lg",children:[(0,Tt.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udcca"}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u062a\u0648\u0633\u0637 \u0627\u0644\u0641\u0639\u0627\u0644\u064a\u0629"}),(0,Tt.jsxs)("div",{className:"font-bold",style:{color:"var(--text-primary)"},children:[h.insights.average_effectiveness,"%"]})]})]})]})]}),"kpis"===l&&g&&(0,Tt.jsxs)("div",{className:"space-y-8",children:[(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Tt.jsx)("h3",{className:"text-xl font-bold",children:"\u0645\u0644\u062e\u0635 \u0645\u0624\u0634\u0631\u0627\u062a \u0627\u0644\u0623\u062f\u0627\u0621"}),(0,Tt.jsx)("div",{className:"flex items-center gap-4",children:(0,Tt.jsxs)("div",{className:"px-4 py-2 rounded-full text-sm font-medium ".concat("excellent"===g.summary.overall_performance?"bg-green-500 bg-opacity-20 text-green-400":"bg-blue-500 bg-opacity-20 text-blue-400"),children:["\u0627\u0644\u0623\u062f\u0627\u0621 \u0627\u0644\u0639\u0627\u0645: ","excellent"===g.summary.overall_performance?"\u0645\u0645\u062a\u0627\u0632":"\u062c\u064a\u062f"]})})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Tt.jsxs)("div",{className:"text-center p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:g.summary.total_kpis}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0624\u0634\u0631\u0627\u062a"})]}),(0,Tt.jsxs)("div",{className:"text-center p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-green-400",children:g.summary.excellent_kpis}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u0624\u0634\u0631\u0627\u062a \u0645\u0645\u062a\u0627\u0632\u0629"})]}),(0,Tt.jsxs)("div",{className:"text-center p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-red-400",children:g.summary.needs_improvement}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u062a\u062d\u062a\u0627\u062c \u062a\u062d\u0633\u064a\u0646"})]}),(0,Tt.jsxs)("div",{className:"text-center p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:new Date(g.generated_at).toLocaleDateString("ar-EG")}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0622\u062e\u0631 \u062a\u062d\u062f\u064a\u062b"})]})]})]}),(0,Tt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(g.metrics).map((e=>{let[t,s]=e;return(0,Tt.jsx)(S,{title:s.description,data:s},t)}))})]})]})]})},cs=e=>{let{user:t}=e;const[s,a]=(0,n.useState)([]),[l,r]=(0,n.useState)([]),[i,c]=(0,n.useState)([]),[o,d]=(0,n.useState)(!0),[u,m]=(0,n.useState)(""),[x,h]=(0,n.useState)("my_requests"),[p,g]=(0,n.useState)(null),[f,v]=(0,n.useState)(!1),[b,j]=(0,n.useState)(!1);(0,n.useEffect)((()=>{y()}),[]);const y=async()=>{try{const e=localStorage.getItem("access_token"),s={Authorization:"Bearer ".concat(e)},n=await Pt.get("".concat(Dt,"/approvals/my-requests"),{headers:s});if(a(n.data||[]),["district_manager","area_manager","line_manager","key_account","accounting","warehouse_keeper","admin","gm"].includes(t.role)){const e=await Pt.get("".concat(Dt,"/approvals/pending"),{headers:s});r(e.data||[])}if(["admin","gm","line_manager","area_manager","district_manager","key_account"].includes(t.role)){const e=await Pt.get("".concat(Dt,"/approvals/history"),{headers:s});c(e.data||[])}}catch(u){console.error("Error fetching approval data:",u),m("\u0641\u0634\u0644 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0627\u062a")}finally{d(!1)}},N=async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";j(!0);try{const a=localStorage.getItem("access_token");await Pt.post("".concat(Dt,"/approvals/").concat(e,"/action"),{action:t,notes:s},{headers:{Authorization:"Bearer ".concat(a)}}),y(),v(!1)}catch(u){console.error("Error processing approval:",u),m("\u0641\u0634\u0644 \u0641\u064a \u0645\u0639\u0627\u0644\u062c\u0629 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629")}finally{j(!1)}},w=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},_=e=>{switch(e){case"pending":return"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629";case"approved":return"\u062a\u0645\u062a \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629";case"rejected":return"\u0645\u0631\u0641\u0648\u0636";case"cancelled":return"\u0645\u0644\u063a\u064a";default:return"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"}},k=e=>{switch(e){case"order":return"\u0637\u0644\u0628 \u0634\u0631\u0627\u0621";case"clinic":return"\u062a\u0633\u062c\u064a\u0644 \u0639\u064a\u0627\u062f\u0629";case"doctor":return"\u062a\u0633\u062c\u064a\u0644 \u0637\u0628\u064a\u0628";case"visit":return"\u0632\u064a\u0627\u0631\u0629";case"expense":return"\u0645\u0635\u0631\u0648\u0641";default:return e}},S=e=>{if("pending"!==e.status)return null;return{district_manager:"\u0645\u062f\u064a\u0631 \u0627\u0644\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u0645\u062d\u0644\u064a\u0629",area_manager:"\u0645\u062f\u064a\u0631 \u0627\u0644\u0645\u0646\u0637\u0642\u0629",accounting:"\u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629",warehouse_keeper:"\u0623\u0645\u064a\u0646 \u0627\u0644\u0645\u062e\u0632\u0646",admin:"\u0627\u0644\u0625\u062f\u0627\u0631\u0629",gm:"\u0627\u0644\u0645\u062f\u064a\u0631 \u0627\u0644\u0639\u0627\u0645"}[e.current_approver_role]||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"},C=e=>{if(!e.required_levels||0===e.required_levels.length)return 0;const t=e.approvals?e.approvals.filter((e=>"approve"===e.action)).length:0;return Math.round(t/e.required_levels.length*100)};return o?(0,Tt.jsx)("div",{className:"flex justify-center items-center min-h-96",children:(0,Tt.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500"})}):(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h1",{className:"text-2xl font-bold text-gradient",children:"\u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0627\u062a"}),(0,Tt.jsx)("p",{className:"text-sm text-gray-600",children:"\u0625\u062f\u0627\u0631\u0629 \u0634\u0627\u0645\u0644\u0629 \u0644\u0644\u0645\u0648\u0627\u0641\u0642\u0627\u062a \u0648\u0627\u0644\u0637\u0644\u0628\u0627\u062a"})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsx)("div",{className:"text-xl font-bold text-blue-600",children:s.length}),(0,Tt.jsx)("div",{className:"text-xs text-gray-500",children:"\u0637\u0644\u0628\u0627\u062a\u064a"})]}),(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsx)("div",{className:"text-xl font-bold text-yellow-600",children:l.length}),(0,Tt.jsx)("div",{className:"text-xs text-gray-500",children:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0645\u0648\u0627\u0641\u0642\u062a\u064a"})]})]})]}),u&&(0,Tt.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-3 py-2 rounded text-sm",children:u}),(0,Tt.jsxs)("div",{className:"flex space-x-3 border-b border-gray-200",children:[(0,Tt.jsxs)("button",{onClick:()=>h("my_requests"),className:"pb-2 px-3 text-sm ".concat("my_requests"===x?"border-b-2 border-blue-500 text-blue-600":"text-gray-500"),children:["\u0637\u0644\u0628\u0627\u062a\u064a (",s.length,")"]}),["district_manager","area_manager","line_manager","key_account","accounting","warehouse_keeper","admin","gm"].includes(t.role)&&(0,Tt.jsxs)("button",{onClick:()=>h("pending_approvals"),className:"pb-2 px-3 text-sm ".concat("pending_approvals"===x?"border-b-2 border-blue-500 text-blue-600":"text-gray-500"),children:["\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0645\u0648\u0627\u0641\u0642\u062a\u064a (",l.length,")"]}),["admin","gm","line_manager","area_manager","district_manager","key_account"].includes(t.role)&&(0,Tt.jsxs)("button",{onClick:()=>h("approval_history"),className:"pb-2 px-3 text-sm ".concat("approval_history"===x?"border-b-2 border-blue-500 text-blue-600":"text-gray-500"),children:["\u0633\u062c\u0644 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0627\u062a (",i.length,")"]})]}),"my_requests"===x&&(0,Tt.jsx)("div",{className:"space-y-3",children:0===s.length?(0,Tt.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Tt.jsx)("div",{className:"text-4xl mb-3",children:"\ud83d\udccb"}),(0,Tt.jsx)("p",{className:"text-sm",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0637\u0644\u0628\u0627\u062a"})]}):(0,Tt.jsx)("div",{className:"grid gap-3",children:s.map((e=>(0,Tt.jsxs)("div",{className:"glass-effect p-4 rounded-lg",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"text-xl",children:"order"===e.type?"\ud83d\uded2":"clinic"===e.type?"\ud83c\udfe5":"doctor"===e.type?"\ud83d\udc68\u200d\u2695\ufe0f":"\ud83d\udccb"}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h3",{className:"font-bold text-base",children:k(e.type)}),(0,Tt.jsxs)("p",{className:"text-xs text-gray-600",children:["\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0637\u0644\u0628: ",new Date(e.created_at).toLocaleDateString("ar-EG")]})]})]}),(0,Tt.jsx)("div",{className:"text-right",children:(0,Tt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(w(e.status)),children:_(e.status)})})]}),(0,Tt.jsxs)("div",{className:"mb-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Tt.jsx)("span",{className:"text-xs text-gray-600",children:"\u062a\u0642\u062f\u0645 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629"}),(0,Tt.jsxs)("span",{className:"text-xs font-medium",children:[C(e),"%"]})]}),(0,Tt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:(0,Tt.jsx)("div",{className:"bg-blue-500 h-1.5 rounded-full transition-all duration-300",style:{width:"".concat(C(e),"%")}})})]}),"pending"===e.status&&(0,Tt.jsx)("div",{className:"mb-3",children:(0,Tt.jsxs)("p",{className:"text-xs text-gray-600",children:[(0,Tt.jsx)("span",{className:"font-medium",children:"\u0645\u0646\u062a\u0638\u0631 \u0645\u0648\u0627\u0641\u0642\u0629:"})," ",S(e)]})}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("div",{className:"text-xs text-gray-600",children:["ID: ",e.id.slice(0,8),"..."]}),(0,Tt.jsx)("button",{onClick:()=>{g(e),v(!0)},className:"btn-secondary text-xs px-3 py-1",children:"\u0639\u0631\u0636 \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644"})]})]},e.id)))})}),"pending_approvals"===x&&(0,Tt.jsx)("div",{className:"space-y-3",children:0===l.length?(0,Tt.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Tt.jsx)("div",{className:"text-4xl mb-3",children:"\u2705"}),(0,Tt.jsx)("p",{className:"text-sm",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0648\u0627\u0641\u0642\u0627\u062a \u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631\u0643"})]}):(0,Tt.jsx)("div",{className:"grid gap-3",children:l.map((e=>(0,Tt.jsxs)("div",{className:"glass-effect p-4 rounded-lg border-l-4 border-yellow-500",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"text-xl",children:"order"===e.type?"\ud83d\uded2":"clinic"===e.type?"\ud83c\udfe5":"doctor"===e.type?"\ud83d\udc68\u200d\u2695\ufe0f":"\ud83d\udccb"}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h3",{className:"font-bold text-base",children:k(e.type)}),(0,Tt.jsxs)("p",{className:"text-xs text-gray-600",children:["\u0628\u0648\u0627\u0633\u0637\u0629: ",e.requester_name||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"]}),(0,Tt.jsxs)("p",{className:"text-xs text-gray-600",children:["\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0637\u0644\u0628: ",new Date(e.created_at).toLocaleDateString("ar-EG")]})]})]}),(0,Tt.jsx)("div",{className:"text-right",children:(0,Tt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0645\u0648\u0627\u0641\u0642\u062a\u0643"})})]}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("div",{className:"text-xs text-gray-600",children:["ID: ",e.id.slice(0,8),"..."]}),(0,Tt.jsxs)("div",{className:"flex gap-2",children:[(0,Tt.jsx)("button",{onClick:()=>N(e.id,"approve"),disabled:b,className:"btn-primary text-xs px-3 py-1",children:b?"\u062c\u0627\u0631\u064a \u0627\u0644\u0645\u0639\u0627\u0644\u062c\u0629...":"\u0645\u0648\u0627\u0641\u0642"}),(0,Tt.jsx)("button",{onClick:()=>N(e.id,"reject"),disabled:b,className:"btn-danger text-xs px-3 py-1",children:"\u0631\u0641\u0636"}),(0,Tt.jsx)("button",{onClick:()=>{g(e),v(!0)},className:"btn-secondary text-xs px-3 py-1",children:"\u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644"})]})]})]},e.id)))})}),"approval_history"===x&&["admin","gm","line_manager","area_manager","district_manager","key_account"].includes(t.role)&&(0,Tt.jsx)("div",{className:"space-y-3",children:0===i.length?(0,Tt.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Tt.jsx)("div",{className:"text-4xl mb-3",children:"\ud83d\udcdc"}),(0,Tt.jsx)("p",{className:"text-sm",children:"\u0644\u0627 \u064a\u0648\u062c\u062f \u0633\u062c\u0644 \u0645\u0648\u0627\u0641\u0642\u0627\u062a \u0644\u0644\u0641\u0631\u064a\u0642 \u0627\u0644\u062e\u0627\u0635 \u0628\u0643"}),(0,Tt.jsx)("p",{className:"text-xs mt-2",children:"\u0633\u064a\u0638\u0647\u0631 \u0647\u0646\u0627 \u0633\u062c\u0644 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0627\u062a \u0644\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0627\u0644\u062a\u0627\u0628\u0639\u064a\u0646 \u0644\u0643 \u0641\u0642\u0637"})]}):(0,Tt.jsx)("div",{className:"grid gap-3",children:i.map((e=>(0,Tt.jsxs)("div",{className:"glass-effect p-4 rounded-lg",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"text-xl",children:"order"===e.type?"\ud83d\uded2":"clinic"===e.type?"\ud83c\udfe5":"doctor"===e.type?"\ud83d\udc68\u200d\u2695\ufe0f":"\ud83d\udccb"}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h3",{className:"font-bold text-base",children:k(e.type)}),(0,Tt.jsxs)("p",{className:"text-xs text-gray-600",children:["\u0628\u0648\u0627\u0633\u0637\u0629: ",e.requester_name]})]})]}),(0,Tt.jsx)("div",{className:"text-right",children:(0,Tt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(w(e.status)),children:_(e.status)})})]}),e.approvals&&e.approvals.length>0&&(0,Tt.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,Tt.jsx)("h4",{className:"text-xs font-medium text-gray-700",children:"\u0633\u062c\u0644 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0627\u062a:"}),e.approvals.map(((e,t)=>(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded text-xs",children:[(0,Tt.jsx)("span",{children:e.approver_name}),(0,Tt.jsx)("span",{className:"px-2 py-1 rounded ".concat("approve"===e.action?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:"approve"===e.action?"\u0648\u0627\u0641\u0642":"\u0631\u0641\u0636"}),(0,Tt.jsx)("span",{className:"text-gray-500",children:new Date(e.timestamp).toLocaleDateString("ar-EG")})]},t)))]})]},e.id)))})}),f&&p&&(0,Tt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Tt.jsx)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-96 overflow-y-auto",children:(0,Tt.jsxs)("div",{className:"p-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Tt.jsx)("h3",{className:"text-lg font-bold",children:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0637\u0644\u0628"}),(0,Tt.jsx)("button",{onClick:()=>v(!1),className:"text-gray-500 hover:text-gray-700 text-lg",children:"\u2715"})]}),(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\u0646\u0648\u0639 \u0627\u0644\u0637\u0644\u0628"}),(0,Tt.jsx)("p",{className:"text-sm text-gray-900",children:k(p.type)})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\u0627\u0644\u062d\u0627\u0644\u0629"}),(0,Tt.jsx)("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium ".concat(w(p.status)),children:_(p.status)})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0637\u0644\u0628"}),(0,Tt.jsx)("p",{className:"text-sm text-gray-900",children:new Date(p.created_at).toLocaleString("ar-EG")})]}),p.notes&&(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a"}),(0,Tt.jsx)("p",{className:"text-sm text-gray-900",children:p.notes})]}),p.entity_data&&(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0637\u0644\u0628"}),(0,Tt.jsx)("pre",{className:"text-xs bg-gray-100 p-2 rounded mt-1 max-h-32 overflow-y-auto",children:JSON.stringify(p.entity_data,null,2)})]})]})]})})})]})},os=()=>{const{t:e}=It(),[t,s]=(0,n.useState)([]),[a,l]=(0,n.useState)(!0),[r,i]=(0,n.useState)(""),[c,o]=(0,n.useState)(null),[u,m]=(0,n.useState)(!1),[x,h]=(0,n.useState)({method:"all",role:"all",region:"all",date:""});(0,n.useEffect)((()=>{p()}),[]);const p=async()=>{try{l(!0);const e=localStorage.getItem("access_token"),t=await Pt.get("".concat(Dt,"/admin/daily-login-records"),{headers:{Authorization:"Bearer ".concat(e)}});s(t.data.records||[])}catch(r){console.error("Error fetching login records:",r),i("\u0641\u0634\u0644 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0633\u062c\u0644\u0627\u062a \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644")}finally{l(!1)}},g=e=>{switch(e){case"fingerprint":return"\ud83d\udc46";case"selfie":return"\ud83d\udcf7";default:return"\u2753"}},f=e=>{switch(e){case"fingerprint":return"\u0628\u0635\u0645\u0629 \u0627\u0644\u0625\u0635\u0628\u0639";case"selfie":return"\u0633\u064a\u0644\u0641\u064a";default:return"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"}},v=e=>new Date(e).toLocaleString("ar-EG",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),b=t.filter((e=>{const t="all"===x.method||e.authentication_method===x.method,s="all"===x.role||e.user_role===x.role,a="all"===x.region||e.user_region===x.region,n=!x.date||e.timestamp.startsWith(x.date);return t&&s&&a&&n}));return a?(0,Tt.jsxs)("div",{className:"flex items-center justify-center h-64",children:[(0,Tt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"}),(0,Tt.jsx)("span",{className:"mr-3",children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0633\u062c\u0644\u0627\u062a \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644..."})]}):(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-lg",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("h2",{className:"text-2xl font-bold flex items-center gap-3",children:[(0,Tt.jsx)("span",{className:"text-3xl",children:"\ud83d\uddc2\ufe0f"}),"\u0633\u062c\u0644 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0627\u0644\u064a\u0648\u0645\u064a"]}),(0,Tt.jsx)("p",{className:"text-sm mt-2",style:{color:"var(--text-secondary)"},children:"\u0645\u0631\u0627\u0642\u0628\u0629 \u062a\u0633\u062c\u064a\u0644 \u062f\u062e\u0648\u0644 \u0627\u0644\u0645\u0646\u0627\u062f\u064a\u0628 \u0645\u0639 \u0627\u0644\u0645\u0648\u0627\u0642\u0639 \u0648\u0627\u0644\u0637\u0631\u0642 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u0629"})]}),(0,Tt.jsxs)("div",{className:"text-right",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold",children:t.length}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0633\u062c\u0644\u0627\u062a"})]})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u0645\u0635\u0627\u062f\u0642\u0629"}),(0,Tt.jsxs)("select",{value:x.method,onChange:e=>h(d(d({},x),{},{method:e.target.value})),className:"w-full p-2 rounded border",children:[(0,Tt.jsx)("option",{value:"all",children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0637\u0631\u0642"}),(0,Tt.jsx)("option",{value:"fingerprint",children:"\u0628\u0635\u0645\u0629 \u0627\u0644\u0625\u0635\u0628\u0639"}),(0,Tt.jsx)("option",{value:"selfie",children:"\u0633\u064a\u0644\u0641\u064a"})]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u062f\u0648\u0631"}),(0,Tt.jsxs)("select",{value:x.role,onChange:e=>h(d(d({},x),{},{role:e.target.value})),className:"w-full p-2 rounded border",children:[(0,Tt.jsx)("option",{value:"all",children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0623\u062f\u0648\u0627\u0631"}),(0,Tt.jsx)("option",{value:"medical_rep",children:"\u0645\u0646\u062f\u0648\u0628"}),(0,Tt.jsx)("option",{value:"manager",children:"\u0645\u062f\u064a\u0631"}),(0,Tt.jsx)("option",{value:"warehouse_manager",children:"\u0645\u062f\u064a\u0631 \u0645\u062e\u0632\u0646"})]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0645\u0646\u0637\u0642\u0629"}),(0,Tt.jsxs)("select",{value:x.region,onChange:e=>h(d(d({},x),{},{region:e.target.value})),className:"w-full p-2 rounded border",children:[(0,Tt.jsx)("option",{value:"all",children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u0646\u0627\u0637\u0642"}),(0,Tt.jsx)("option",{value:"\u0627\u0644\u0642\u0627\u0647\u0631\u0629",children:"\u0627\u0644\u0642\u0627\u0647\u0631\u0629"}),(0,Tt.jsx)("option",{value:"\u0627\u0644\u062c\u064a\u0632\u0629",children:"\u0627\u0644\u062c\u064a\u0632\u0629"}),(0,Tt.jsx)("option",{value:"\u0627\u0644\u0625\u0633\u0643\u0646\u062f\u0631\u064a\u0629",children:"\u0627\u0644\u0625\u0633\u0643\u0646\u062f\u0631\u064a\u0629"}),(0,Tt.jsx)("option",{value:"\u0627\u0644\u063a\u0631\u0628\u064a\u0629",children:"\u0627\u0644\u063a\u0631\u0628\u064a\u0629"}),(0,Tt.jsx)("option",{value:"\u0627\u0644\u062f\u0642\u0647\u0644\u064a\u0629",children:"\u0627\u0644\u062f\u0642\u0647\u0644\u064a\u0629"}),(0,Tt.jsx)("option",{value:"\u0633\u0648\u0647\u0627\u062c",children:"\u0633\u0648\u0647\u0627\u062c"})]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e"}),(0,Tt.jsx)("input",{type:"date",value:x.date,onChange:e=>h(d(d({},x),{},{date:e.target.value})),className:"w-full p-2 rounded border"})]})]}),(0,Tt.jsxs)("div",{className:"mt-4 flex justify-between items-center",children:[(0,Tt.jsxs)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["\u0639\u0631\u0636 ",b.length," \u0645\u0646 ",t.length," \u0633\u062c\u0644"]}),(0,Tt.jsx)("button",{onClick:p,className:"btn-secondary text-sm px-4 py-2",children:"\ud83d\udd04 \u062a\u062d\u062f\u064a\u062b"})]})]}),(0,Tt.jsx)("div",{className:"glass-effect rounded-lg p-6",children:r?(0,Tt.jsxs)("div",{className:"text-center py-8 text-red-500",children:[(0,Tt.jsx)("p",{children:r}),(0,Tt.jsx)("button",{onClick:p,className:"btn-primary mt-4",children:"\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629"})]}):0===b.length?(0,Tt.jsx)("div",{className:"text-center py-8",style:{color:"var(--text-secondary)"},children:(0,Tt.jsx)("p",{children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0633\u062c\u0644\u0627\u062a \u062a\u0637\u0627\u0628\u0642 \u0627\u0644\u0645\u0631\u0634\u062d\u0627\u062a \u0627\u0644\u0645\u062d\u062f\u062f\u0629"})}):(0,Tt.jsx)("div",{className:"overflow-x-auto",children:(0,Tt.jsxs)("table",{className:"w-full",children:[(0,Tt.jsx)("thead",{children:(0,Tt.jsxs)("tr",{className:"border-b border-gray-300 border-opacity-30",children:[(0,Tt.jsx)("th",{className:"py-3 px-4 text-right",children:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),(0,Tt.jsx)("th",{className:"py-3 px-4 text-right",children:"\u0627\u0644\u0637\u0631\u064a\u0642\u0629"}),(0,Tt.jsx)("th",{className:"py-3 px-4 text-right",children:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e \u0648\u0627\u0644\u0648\u0642\u062a"}),(0,Tt.jsx)("th",{className:"py-3 px-4 text-right",children:"\u0627\u0644\u0645\u0648\u0642\u0639"}),(0,Tt.jsx)("th",{className:"py-3 px-4 text-right",children:"\u0627\u0644\u0645\u0646\u0637\u0642\u0629"}),(0,Tt.jsx)("th",{className:"py-3 px-4 text-right",children:"\u0625\u062c\u0631\u0627\u0621\u0627\u062a"})]})}),(0,Tt.jsx)("tbody",{children:b.map(((e,t)=>{return(0,Tt.jsxs)("tr",{className:"border-b border-gray-300 border-opacity-20 hover:bg-gray-100 hover:bg-opacity-10",children:[(0,Tt.jsx)("td",{className:"py-3 px-4",children:(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"font-bold",children:e.user_name}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:e.user_role})]})}),(0,Tt.jsx)("td",{className:"py-3 px-4",children:(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"text-xl",children:g(e.authentication_method)}),(0,Tt.jsx)("span",{className:"text-sm",children:f(e.authentication_method)})]})}),(0,Tt.jsx)("td",{className:"py-3 px-4",children:(0,Tt.jsx)("div",{className:"text-sm",children:v(e.timestamp)})}),(0,Tt.jsx)("td",{className:"py-3 px-4",children:(0,Tt.jsx)("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:(s=e.location,s&&s.latitude&&s.longitude?"".concat(s.latitude.toFixed(6),", ").concat(s.longitude.toFixed(6)):"\u063a\u064a\u0631 \u0645\u062a\u0648\u0641\u0631")})}),(0,Tt.jsx)("td",{className:"py-3 px-4",children:(0,Tt.jsx)("span",{className:"inline-block px-2 py-1 bg-blue-100 bg-opacity-30 text-blue-600 rounded text-xs",children:e.user_region||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})}),(0,Tt.jsx)("td",{className:"py-3 px-4",children:(0,Tt.jsx)("button",{onClick:()=>(e=>{o(e),m(!0)})(e),className:"btn-primary text-xs px-3 py-1",children:"\u0639\u0631\u0636 \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644"})})]},e.record_id);var s}))})]})})}),u&&c&&(0,Tt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Tt.jsxs)("div",{className:"modal-modern p-6 w-full max-w-lg max-h-96 overflow-y-auto",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tt.jsx)("h3",{className:"text-xl font-bold",children:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0633\u062c\u0644 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644"}),(0,Tt.jsx)("button",{onClick:()=>m(!1),className:"text-2xl hover:text-red-500",children:"\xd7"})]}),(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h4",{className:"font-bold mb-2",children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),(0,Tt.jsx)("div",{className:"bg-gray-100 bg-opacity-20 p-3 rounded",children:(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u0627\u0644\u0627\u0633\u0645:"})," ",c.user_name]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u0627\u0644\u062f\u0648\u0631:"})," ",c.user_role]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u0627\u0644\u0645\u0646\u0637\u0642\u0629:"})," ",c.user_region||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"]})]})})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h4",{className:"font-bold mb-2",children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0645\u0635\u0627\u062f\u0642\u0629"}),(0,Tt.jsx)("div",{className:"bg-gray-100 bg-opacity-20 p-3 rounded",children:(0,Tt.jsxs)("div",{className:"text-sm space-y-2",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("strong",{children:"\u0627\u0644\u0637\u0631\u064a\u0642\u0629:"}),(0,Tt.jsx)("span",{className:"text-xl",children:g(c.authentication_method)}),(0,Tt.jsx)("span",{children:f(c.authentication_method)})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u0627\u0644\u062a\u0648\u0642\u064a\u062a:"})," ",v(c.timestamp)]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u064a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 \u0633\u064a\u0644\u0641\u064a:"})," ",c.has_selfie?"\u0646\u0639\u0645 \u2705":"\u0644\u0627 \u274c"]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u064a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 \u0628\u0635\u0645\u0629:"})," ",c.has_fingerprint?"\u0646\u0639\u0645 \u2705":"\u0644\u0627 \u274c"]})]})})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h4",{className:"font-bold mb-2",children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0645\u0648\u0642\u0639"}),(0,Tt.jsx)("div",{className:"bg-gray-100 bg-opacity-20 p-3 rounded",children:(0,Tt.jsx)("div",{className:"text-sm space-y-2",children:c.location&&c.location.latitude?(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u062e\u0637 \u0627\u0644\u0639\u0631\u0636:"})," ",c.location.latitude]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u062e\u0637 \u0627\u0644\u0637\u0648\u0644:"})," ",c.location.longitude]}),(0,Tt.jsx)("div",{className:"mt-2",children:(0,Tt.jsx)("a",{href:"https://www.google.com/maps?q=".concat(c.location.latitude,",").concat(c.location.longitude),target:"_blank",rel:"noopener noreferrer",className:"btn-primary text-xs px-3 py-1",children:"\ud83d\uddfa\ufe0f \u0639\u0631\u0636 \u0639\u0644\u0649 \u0627\u0644\u062e\u0631\u064a\u0637\u0629"})})]}):(0,Tt.jsx)("div",{className:"text-gray-500",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0645\u0648\u0642\u0639 \u0645\u062a\u0648\u0641\u0631\u0629"})})})]}),c.device_info&&(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h4",{className:"font-bold mb-2",children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062c\u0647\u0627\u0632"}),(0,Tt.jsx)("div",{className:"bg-gray-100 bg-opacity-20 p-3 rounded",children:(0,Tt.jsxs)("div",{className:"text-xs space-y-1",style:{color:"var(--text-secondary)"},children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u0627\u0644\u0645\u062a\u0635\u0641\u062d:"})," ",c.device_info.user_agent||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"IP:"})," ",c.device_info.ip_address||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"]})]})})]})]}),(0,Tt.jsx)("div",{className:"mt-6 flex justify-end",children:(0,Tt.jsx)("button",{onClick:()=>m(!1),className:"btn-secondary px-4 py-2",children:"\u0625\u063a\u0644\u0627\u0642"})})]})})]})},ds=()=>{const[e,t]=(0,n.useState)({}),[s,a]=(0,n.useState)(!0);(0,n.useEffect)((()=>{l()}),[]);const l=async()=>{try{const e=localStorage.getItem("access_token"),s=await Pt.get("".concat(Dt,"/admin/features/status"),{headers:{Authorization:"Bearer ".concat(e)}});t(s.data)}catch(e){console.error("Error fetching features:",e)}finally{a(!1)}},r={gps_tracking:"\u062a\u062a\u0628\u0639 GPS",gamification:"\u0646\u0638\u0627\u0645 \u0627\u0644\u0623\u0644\u0639\u0627\u0628",chat_system:"\u0646\u0638\u0627\u0645 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",document_scanner:"\u0645\u0627\u0633\u062d \u0627\u0644\u0645\u0633\u062a\u0646\u062f\u0627\u062a",notifications:"\u0646\u0638\u0627\u0645 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a",advanced_reports:"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631 \u0627\u0644\u0645\u062a\u0642\u062f\u0645\u0629",voice_notes:"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0627\u0644\u0635\u0648\u062a\u064a\u0629",offline_sync:"\u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629 \u063a\u064a\u0631 \u0627\u0644\u0645\u062a\u0635\u0644\u0629",qr_codes:"\u0623\u0643\u0648\u0627\u062f QR",multi_language:"\u0645\u062a\u0639\u062f\u062f \u0627\u0644\u0644\u063a\u0627\u062a",accounting_system:"\u0646\u0638\u0627\u0645 \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629"};return s?(0,Tt.jsxs)("div",{className:"p-8 text-center",children:[(0,Tt.jsx)("div",{className:"loading-spinner-enhanced mx-auto mb-4"}),(0,Tt.jsx)("p",{children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0645\u0645\u064a\u0632\u0627\u062a..."})]}):(0,Tt.jsx)("div",{className:"space-y-6",children:(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\ud83c\udf9b\ufe0f"}),(0,Tt.jsx)("span",{children:"\u062a\u062d\u0643\u0645 \u0627\u0644\u0645\u0645\u064a\u0632\u0627\u062a"})]}),(0,Tt.jsx)("p",{className:"text-sm mb-6",style:{color:"var(--text-secondary)"},children:"\u062a\u062d\u0643\u0645 \u0641\u064a \u062c\u0645\u064a\u0639 \u0645\u0645\u064a\u0632\u0627\u062a \u0627\u0644\u0646\u0638\u0627\u0645 \u0648\u0642\u0645 \u0628\u062a\u0645\u0643\u064a\u0646 \u0623\u0648 \u0625\u0644\u063a\u0627\u0621 \u062a\u0645\u0643\u064a\u0646 \u0623\u064a \u0645\u064a\u0632\u0629"}),(0,Tt.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:Object.entries(e).map((e=>{let[s,a]=e;return(0,Tt.jsxs)("div",{className:"p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Tt.jsx)("span",{className:"font-medium",children:r[s]||s}),(0,Tt.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Tt.jsx)("input",{type:"checkbox",checked:a,onChange:e=>(async(e,s)=>{try{const a=localStorage.getItem("access_token");await Pt.post("".concat(Dt,"/admin/features/toggle"),{feature_name:e,enabled:s},{headers:{Authorization:"Bearer ".concat(a)}}),t((t=>d(d({},t),{},{[e]:s})))}catch(a){console.error("Error toggling feature:",a)}})(s,e.target.checked),className:"sr-only"}),(0,Tt.jsx)("div",{className:"w-11 h-6 rounded-full transition-colors ".concat(a?"bg-blue-600":"bg-gray-300"," relative"),children:(0,Tt.jsx)("div",{className:"w-5 h-5 bg-white rounded-full shadow transform transition-transform ".concat(a?"translate-x-5":"translate-x-0"," absolute top-0.5 left-0.5")})})]})]}),(0,Tt.jsx)("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:a?"\u2705 \u0645\u0641\u0639\u0644":"\u274c \u063a\u064a\u0631 \u0645\u0641\u0639\u0644"})]},s)}))})]})})},us=()=>{const[e,t]=(0,n.useState)(null),[s,a]=(0,n.useState)([]),[l,r]=(0,n.useState)(!0);(0,n.useEffect)((()=>{i(),c()}),[]);const i=async()=>{try{const e=localStorage.getItem("access_token"),s=await Pt.get("".concat(Dt,"/admin/system-health"),{headers:{Authorization:"Bearer ".concat(e)}});t(s.data)}catch(e){console.error("Error checking system health:",e)}},c=()=>{const e=document.querySelectorAll("button"),t=Array.from(e).map(((e,t)=>{var s;return{id:t,text:(null===(s=e.textContent)||void 0===s?void 0:s.trim())||"No text",isConnected:null!==e.onclick||"true"===e.getAttribute("data-connected"),element:e}}));a(t),r(!1)};return l?(0,Tt.jsxs)("div",{className:"p-8 text-center",children:[(0,Tt.jsx)("div",{className:"loading-spinner-enhanced mx-auto mb-4"}),(0,Tt.jsx)("p",{children:"\u062c\u0627\u0631\u064a \u0641\u062d\u0635 \u0627\u0644\u0646\u0638\u0627\u0645..."})]}):(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\ud83d\udd27"}),(0,Tt.jsx)("span",{children:"\u0635\u062d\u0629 \u0627\u0644\u0646\u0638\u0627\u0645"})]}),(0,Tt.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,Tt.jsxs)("div",{className:"p-4 bg-green-600 bg-opacity-20 rounded-lg text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl mb-2",children:"\ud83d\udcbe"}),(0,Tt.jsx)("div",{className:"text-sm text-green-400",children:"\u0642\u0627\u0639\u062f\u0629 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a"}),(0,Tt.jsx)("div",{className:"font-bold text-green-300",children:"\u0645\u062a\u0635\u0644\u0629"})]}),(0,Tt.jsxs)("div",{className:"p-4 bg-blue-600 bg-opacity-20 rounded-lg text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl mb-2",children:"\ud83c\udf10"}),(0,Tt.jsx)("div",{className:"text-sm text-blue-400",children:"\u0627\u0644\u0634\u0628\u0643\u0629"}),(0,Tt.jsx)("div",{className:"font-bold text-blue-300",children:"\u0645\u0633\u062a\u0642\u0631\u0629"})]}),(0,Tt.jsxs)("div",{className:"p-4 bg-purple-600 bg-opacity-20 rounded-lg text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl mb-2",children:"\ud83d\udd10"}),(0,Tt.jsx)("div",{className:"text-sm text-purple-400",children:"\u0627\u0644\u0623\u0645\u0627\u0646"}),(0,Tt.jsx)("div",{className:"font-bold text-purple-300",children:"\u0645\u062d\u0645\u064a"})]}),(0,Tt.jsxs)("div",{className:"p-4 bg-yellow-600 bg-opacity-20 rounded-lg text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl mb-2",children:"\u26a1"}),(0,Tt.jsx)("div",{className:"text-sm text-yellow-400",children:"\u0627\u0644\u0623\u062f\u0627\u0621"}),(0,Tt.jsx)("div",{className:"font-bold text-yellow-300",children:"\u062c\u064a\u062f"})]})]})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\ud83d\udd18"}),(0,Tt.jsx)("span",{children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0623\u0632\u0631\u0627\u0631"})]}),(0,Tt.jsx)("div",{className:"mb-4",children:(0,Tt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Tt.jsxs)("div",{className:"px-4 py-2 bg-green-600 bg-opacity-20 text-green-400 rounded-lg",children:["\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0623\u0632\u0631\u0627\u0631: ",s.length]}),(0,Tt.jsxs)("div",{className:"px-4 py-2 bg-blue-600 bg-opacity-20 text-blue-400 rounded-lg",children:["\u0645\u062a\u0635\u0644\u0629: ",s.filter((e=>e.isConnected)).length]}),(0,Tt.jsxs)("div",{className:"px-4 py-2 bg-red-600 bg-opacity-20 text-red-400 rounded-lg",children:["\u063a\u064a\u0631 \u0645\u062a\u0635\u0644\u0629: ",s.filter((e=>!e.isConnected)).length]})]})}),(0,Tt.jsx)("div",{className:"max-h-96 overflow-y-auto",children:(0,Tt.jsx)("div",{className:"grid gap-2",children:s.map((e=>(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white bg-opacity-5 rounded-lg",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e.isConnected?"bg-green-500":"bg-red-500")}),(0,Tt.jsx)("span",{className:"text-sm",children:e.text})]}),(0,Tt.jsx)("button",{onClick:()=>(e=>{const t=s.find((t=>t.id===e));t&&(t.element.click(),alert("\u062a\u0645 \u0627\u062e\u062a\u0628\u0627\u0631 \u0627\u0644\u0632\u0631: ".concat(t.text)))})(e.id),className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded text-xs",children:"\u0627\u062e\u062a\u0628\u0627\u0631"})]},e.id)))})})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\u26a1"}),(0,Tt.jsx)("span",{children:"\u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0633\u0631\u064a\u0639\u0629"})]}),(0,Tt.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[(0,Tt.jsxs)("button",{onClick:()=>window.location.reload(),className:"p-4 bg-blue-600 bg-opacity-20 rounded-lg hover:bg-opacity-30 transition-colors text-center",children:[(0,Tt.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udd04"}),(0,Tt.jsx)("div",{className:"font-bold",children:"\u0625\u0639\u0627\u062f\u0629 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0646\u0638\u0627\u0645"})]}),(0,Tt.jsxs)("button",{onClick:()=>c(),className:"p-4 bg-green-600 bg-opacity-20 rounded-lg hover:bg-opacity-30 transition-colors text-center",children:[(0,Tt.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udd0d"}),(0,Tt.jsx)("div",{className:"font-bold",children:"\u0641\u062d\u0635 \u0627\u0644\u0623\u0632\u0631\u0627\u0631"})]}),(0,Tt.jsxs)("button",{onClick:()=>i(),className:"p-4 bg-purple-600 bg-opacity-20 rounded-lg hover:bg-opacity-30 transition-colors text-center",children:[(0,Tt.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udd27"}),(0,Tt.jsx)("div",{className:"font-bold",children:"\u0641\u062d\u0635 \u0627\u0644\u0646\u0638\u0627\u0645"})]})]})]})]})},ms=()=>{const{t:e}=It(),{user:t}=Yt(),[s,a]=(0,n.useState)([]),[l,r]=(0,n.useState)(!0),[i,c]=(0,n.useState)(!1),[o,u]=(0,n.useState)(null),[m,x]=(0,n.useState)([]),[h,p]=(0,n.useState)("all"),[g,f]=(0,n.useState)("");(0,n.useEffect)((()=>{v()}),[]);const v=async()=>{try{const e=localStorage.getItem("access_token"),t=await Pt.get("".concat(Dt,"/invoices/list"),{headers:{Authorization:"Bearer ".concat(e)}});a(t.data)}catch(e){console.error("Error fetching invoices:",e),a([{id:"INV-001",order_id:"ORD-001",customer_name:"\u062f. \u0623\u062d\u0645\u062f \u0645\u062d\u0645\u062f",total_amount:1500,status:"paid",created_at:"2024-01-15T10:30:00Z",created_by:"user123",created_by_name:"\u0645\u062d\u0645\u062f \u0627\u0644\u0633\u064a\u062f",line:"line_1",items:[{name:"\u062f\u0648\u0627\u0621 \u0623",quantity:2,price:500,total:1e3},{name:"\u062f\u0648\u0627\u0621 \u0628",quantity:1,price:500,total:500}],edit_history:[]}])}finally{r(!1)}},b=e=>"admin"===t.role||(!!["gm","line_manager","area_manager","district_manager"].includes(t.role)||e.created_by===t.id),j=s.filter((e=>{const s=e.customer_name.toLowerCase().includes(g.toLowerCase())||e.id.toLowerCase().includes(g.toLowerCase()),a="all"===h||e.status===h;return"medical_rep"===t.role||"sales_rep"===t.role?s&&a&&e.created_by===t.id:s&&a}));return l?(0,Tt.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Tt.jsx)("div",{className:"loading-spinner-enhanced"})}):(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsx)("div",{className:"flex items-center justify-between",children:(0,Tt.jsx)("h2",{className:"text-2xl font-bold text-gradient",children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631"})}),(0,Tt.jsx)("div",{className:"glass-effect p-4 rounded-xl",children:(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0627\u0644\u0628\u062d\u062b"}),(0,Tt.jsx)("input",{type:"text",value:g,onChange:e=>f(e.target.value),className:"form-modern w-full",placeholder:"\u0627\u0644\u0628\u062d\u062b \u0628\u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629 \u0623\u0648 \u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064a\u0644..."})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0627\u0644\u062d\u0627\u0644\u0629"}),(0,Tt.jsxs)("select",{value:h,onChange:e=>p(e.target.value),className:"form-modern w-full",children:[(0,Tt.jsx)("option",{value:"all",children:e("allStatuses")}),(0,Tt.jsx)("option",{value:"pending",children:e("pending")}),(0,Tt.jsx)("option",{value:"paid",children:e("paid")}),(0,Tt.jsx)("option",{value:"cancelled",children:e("cancelled")})]})]}),(0,Tt.jsx)("div",{className:"flex items-end",children:(0,Tt.jsx)("button",{onClick:v,className:"btn-primary w-full",children:"\ud83d\udd04 \u062a\u062d\u062f\u064a\u062b"})})]})}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Tt.jsxs)("div",{className:"glass-effect p-4 rounded-xl text-center",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:j.length}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631"})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-4 rounded-xl text-center",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-green-400",children:j.filter((e=>"paid"===e.status)).length}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u062f\u0641\u0648\u0639\u0629"})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-4 rounded-xl text-center",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:j.filter((e=>"pending"===e.status)).length}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u0639\u0644\u0642\u0629"})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-4 rounded-xl text-center",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:j.reduce(((e,t)=>e+t.total_amount),0).toFixed(2)}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0628\u0644\u063a"})]})]}),(0,Tt.jsx)("div",{className:"glass-effect rounded-xl overflow-hidden",children:(0,Tt.jsx)("div",{className:"overflow-x-auto",children:(0,Tt.jsxs)("table",{className:"w-full",children:[(0,Tt.jsx)("thead",{children:(0,Tt.jsxs)("tr",{className:"border-b border-white border-opacity-10",children:[(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"\u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629"}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"\u0627\u0644\u0639\u0645\u064a\u0644"}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"\u0627\u0644\u0645\u0628\u0644\u063a"}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"\u0627\u0644\u062d\u0627\u0644\u0629"}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"\u0627\u0644\u0645\u064f\u0646\u0634\u0626"}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e"}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a"})]})}),(0,Tt.jsx)("tbody",{children:j.map((e=>(0,Tt.jsxs)("tr",{className:"border-b border-white border-opacity-5 hover:bg-white hover:bg-opacity-5",children:[(0,Tt.jsx)("td",{className:"px-4 py-3 text-sm font-medium",children:e.id}),(0,Tt.jsx)("td",{className:"px-4 py-3 text-sm",children:e.customer_name}),(0,Tt.jsxs)("td",{className:"px-4 py-3 text-sm",children:[e.total_amount," \u062c\u0646\u064a\u0647"]}),(0,Tt.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,Tt.jsx)("span",{className:"inline-block px-2 py-1 rounded text-xs ".concat("paid"===e.status?"bg-green-500 bg-opacity-20 text-green-400":"pending"===e.status?"bg-yellow-500 bg-opacity-20 text-yellow-400":"bg-red-500 bg-opacity-20 text-red-400"),children:"paid"===e.status?"\u0645\u062f\u0641\u0648\u0639\u0629":"pending"===e.status?"\u0645\u0639\u0644\u0642\u0629":"\u0645\u0644\u063a\u0627\u0629"})}),(0,Tt.jsx)("td",{className:"px-4 py-3 text-sm",children:e.created_by_name}),(0,Tt.jsx)("td",{className:"px-4 py-3 text-sm",children:new Date(e.created_at).toLocaleDateString("ar-EG")}),(0,Tt.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,Tt.jsxs)("div",{className:"flex gap-2",children:[(0,Tt.jsx)("button",{onClick:()=>{u(e),c(!0)},className:"text-blue-400 hover:text-blue-300",title:"\u0639\u0631\u0636",children:"\ud83d\udc41\ufe0f"}),b(e)&&(0,Tt.jsx)("button",{onClick:()=>{u(e),c(!0)},className:"text-green-400 hover:text-green-300",title:"\u062a\u0639\u062f\u064a\u0644",children:"\u270f\ufe0f"}),"admin"===t.role&&(0,Tt.jsx)("button",{onClick:()=>{(async e=>{try{const t=localStorage.getItem("access_token"),s=await Pt.get("".concat(Dt,"/invoices/").concat(e,"/history"),{headers:{Authorization:"Bearer ".concat(t)}});x(s.data)}catch(t){console.error("Error fetching edit history:",t),x([])}})(e.id)},className:"text-purple-400 hover:text-purple-300",title:"\u0633\u062c\u0644 \u0627\u0644\u062a\u0639\u062f\u064a\u0644\u0627\u062a",children:"\ud83d\udccb"})]})})]},e.id)))})]})})}),i&&o&&(0,Tt.jsx)(xs,{invoice:o,canEdit:b(o),onClose:()=>c(!1),onSave:async(e,s)=>{try{const a=localStorage.getItem("access_token");await Pt.put("".concat(Dt,"/invoices/").concat(e),d(d({},s),{},{edited_by:t.id,edited_at:(new Date).toISOString()}),{headers:{Authorization:"Bearer ".concat(a)}}),v(),c(!1)}catch(a){console.error("Error editing invoice:",a)}}}),m.length>0&&(0,Tt.jsx)(hs,{history:m,onClose:()=>x([])})]})},xs=e=>{let{invoice:t,canEdit:s,onClose:a,onSave:l}=e;const[r,i]=(0,n.useState)(!1),[c,o]=(0,n.useState)({customer_name:t.customer_name,total_amount:t.total_amount,status:t.status,items:t.items||[]});return(0,Tt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Tt.jsxs)("div",{className:"modal-modern p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Tt.jsxs)("h3",{className:"text-xl font-bold text-gradient",children:["\u0641\u0627\u062a\u0648\u0631\u0629 \u0631\u0642\u0645: ",t.id]}),(0,Tt.jsx)("button",{onClick:a,className:"p-2 rounded-lg hover:bg-red-500 hover:bg-opacity-20 text-red-400 hover:text-red-300 transition-all duration-200",children:(0,Tt.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Tt.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,Tt.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsx)("div",{className:"glass-effect p-4 rounded-xl",children:(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064a\u0644"}),r?(0,Tt.jsx)("input",{type:"text",value:c.customer_name,onChange:e=>o(d(d({},c),{},{customer_name:e.target.value})),className:"form-modern w-full"}):(0,Tt.jsx)("div",{className:"p-2 bg-white bg-opacity-5 rounded",children:t.customer_name})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0627\u0644\u062d\u0627\u0644\u0629"}),r?(0,Tt.jsxs)("select",{value:c.status,onChange:e=>o(d(d({},c),{},{status:e.target.value})),className:"form-modern w-full",children:[(0,Tt.jsx)("option",{value:"pending",children:"\u0645\u0639\u0644\u0642\u0629"}),(0,Tt.jsx)("option",{value:"paid",children:"\u0645\u062f\u0641\u0648\u0639\u0629"}),(0,Tt.jsx)("option",{value:"cancelled",children:"\u0645\u0644\u063a\u0627\u0629"})]}):(0,Tt.jsx)("div",{className:"p-2 bg-white bg-opacity-5 rounded",children:"paid"===t.status?"\u0645\u062f\u0641\u0648\u0639\u0629":"pending"===t.status?"\u0645\u0639\u0644\u0642\u0629":"\u0645\u0644\u063a\u0627\u0629"})]})]})}),(0,Tt.jsxs)("div",{className:"glass-effect p-4 rounded-xl",children:[(0,Tt.jsx)("h4",{className:"font-bold mb-4",children:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629"}),(0,Tt.jsx)("div",{className:"overflow-x-auto",children:(0,Tt.jsxs)("table",{className:"w-full",children:[(0,Tt.jsx)("thead",{children:(0,Tt.jsxs)("tr",{className:"border-b border-white border-opacity-10",children:[(0,Tt.jsx)("th",{className:"px-2 py-2 text-right text-sm",children:"\u0627\u0644\u0645\u0646\u062a\u062c"}),(0,Tt.jsx)("th",{className:"px-2 py-2 text-right text-sm",children:"\u0627\u0644\u0643\u0645\u064a\u0629"}),(0,Tt.jsx)("th",{className:"px-2 py-2 text-right text-sm",children:"\u0627\u0644\u0633\u0639\u0631"}),(0,Tt.jsx)("th",{className:"px-2 py-2 text-right text-sm",children:"\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a"})]})}),(0,Tt.jsx)("tbody",{children:t.items.map(((e,t)=>(0,Tt.jsxs)("tr",{className:"border-b border-white border-opacity-5",children:[(0,Tt.jsx)("td",{className:"px-2 py-2 text-sm",children:e.name}),(0,Tt.jsx)("td",{className:"px-2 py-2 text-sm",children:e.quantity}),(0,Tt.jsxs)("td",{className:"px-2 py-2 text-sm",children:[e.price," \u062c\u0646\u064a\u0647"]}),(0,Tt.jsxs)("td",{className:"px-2 py-2 text-sm",children:[e.total," \u062c\u0646\u064a\u0647"]})]},t)))})]})}),(0,Tt.jsx)("div",{className:"mt-4 text-left",children:(0,Tt.jsxs)("div",{className:"text-lg font-bold",children:["\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a: ",t.total_amount," \u062c\u0646\u064a\u0647"]})})]}),(0,Tt.jsx)("div",{className:"glass-effect p-4 rounded-xl",children:(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0646\u0634\u0627\u0621:"})," ",new Date(t.created_at).toLocaleString("ar-EG")]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u0627\u0644\u0645\u064f\u0646\u0634\u0626:"})," ",t.created_by_name]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u0627\u0644\u062e\u0637:"})," ","line_1"===t.line?"\u0627\u0644\u062e\u0637 \u0627\u0644\u0623\u0648\u0644":"\u0627\u0644\u062e\u0637 \u0627\u0644\u062b\u0627\u0646\u064a"]})]})}),(0,Tt.jsxs)("div",{className:"flex gap-4",children:[s&&(0,Tt.jsx)(Tt.Fragment,{children:r?(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)("button",{onClick:()=>{l(t.id,c)},className:"btn-primary flex-1",children:"\u062d\u0641\u0638 \u0627\u0644\u062a\u063a\u064a\u064a\u0631\u0627\u062a"}),(0,Tt.jsx)("button",{onClick:()=>i(!1),className:"btn-secondary flex-1",children:"\u0625\u0644\u063a\u0627\u0621"})]}):(0,Tt.jsx)("button",{onClick:()=>i(!0),className:"btn-primary flex-1",children:"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629"})}),(0,Tt.jsx)("button",{onClick:a,className:"btn-secondary flex-1",children:"\u0625\u063a\u0644\u0627\u0642"})]})]})]})})},hs=e=>{let{history:t,onClose:s}=e;return(0,Tt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Tt.jsxs)("div",{className:"modal-modern p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Tt.jsx)("h3",{className:"text-xl font-bold text-gradient",children:"\u0633\u062c\u0644 \u0627\u0644\u062a\u0639\u062f\u064a\u0644\u0627\u062a"}),(0,Tt.jsx)("button",{onClick:s,className:"p-2 rounded-lg hover:bg-red-500 hover:bg-opacity-20 text-red-400 hover:text-red-300 transition-all duration-200",children:(0,Tt.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Tt.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,Tt.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),(0,Tt.jsx)("div",{className:"space-y-4",children:t.map(((e,t)=>(0,Tt.jsxs)("div",{className:"glass-effect p-4 rounded-xl",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Tt.jsx)("div",{className:"font-medium",children:e.edited_by_name}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:new Date(e.edited_at).toLocaleString("ar-EG")})]}),(0,Tt.jsxs)("div",{className:"text-sm",children:[(0,Tt.jsx)("div",{className:"mb-2",children:(0,Tt.jsx)("strong",{children:"\u0627\u0644\u062a\u063a\u064a\u064a\u0631\u0627\u062a:"})}),(0,Tt.jsx)("div",{className:"space-y-1",children:e.changes.map(((e,t)=>(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"text-red-400",children:"-"}),(0,Tt.jsxs)("span",{children:[e.field,": ",e.old_value]}),(0,Tt.jsx)("span",{className:"text-green-400",children:"\u2192"}),(0,Tt.jsx)("span",{children:e.new_value})]},t)))})]})]},t)))})]})})},ps=e=>{let{user:t}=e;const[s,a]=(0,n.useState)([]),[l,r]=(0,n.useState)([]),[i,c]=(0,n.useState)({name:"",phone:"",address:"",clinic_name:""}),[o,u]=(0,n.useState)(!1),[m,x]=(0,n.useState)("line_1");(0,n.useEffect)((()=>{h(),t.region_id&&x(t.region_id.includes("line_2")?"line_2":"line_1")}),[t]);const h=async()=>{try{const e=localStorage.getItem("access_token"),t=await Pt.get("".concat(Dt,"/products/by-line/").concat(m),{headers:{Authorization:"Bearer ".concat(e)}});a(t.data)}catch(e){console.error("Error fetching products:",e)}},p=(e,t)=>{r(t<=0?l.filter((t=>t.id!==e)):l.map((s=>s.id===e?d(d({},s),{},{quantity:t}):s)))},g=e=>(e["price_".concat(e.selected_price_tier)]||e.price)*e.quantity,f=()=>l.reduce(((e,t)=>e+g(t)),0);return(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsx)("h2",{className:"text-2xl font-bold text-gradient",children:"\u0625\u0646\u0634\u0627\u0621 \u0637\u0644\u0628 \u062c\u062f\u064a\u062f"}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsx)("h3",{className:"text-lg font-bold mb-4",children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0639\u0645\u064a\u0644"}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064a\u0644 *"}),(0,Tt.jsx)("input",{type:"text",value:i.name,onChange:e=>c(d(d({},i),{},{name:e.target.value})),className:"form-modern w-full",required:!0})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641"}),(0,Tt.jsx)("input",{type:"tel",value:i.phone,onChange:e=>c(d(d({},i),{},{phone:e.target.value})),className:"form-modern w-full"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0627\u0633\u0645 \u0627\u0644\u0639\u064a\u0627\u062f\u0629"}),(0,Tt.jsx)("input",{type:"text",value:i.clinic_name,onChange:e=>c(d(d({},i),{},{clinic_name:e.target.value})),className:"form-modern w-full"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646"}),(0,Tt.jsx)("input",{type:"text",value:i.address,onChange:e=>c(d(d({},i),{},{address:e.target.value})),className:"form-modern w-full"})]})]})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h3",{className:"text-lg font-bold mb-4",children:["\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u0645\u062a\u0627\u062d\u0629 - ","line_1"===m?"\u0627\u0644\u062e\u0637 \u0627\u0644\u0623\u0648\u0644":"\u0627\u0644\u062e\u0637 \u0627\u0644\u062b\u0627\u0646\u064a"]}),(0,Tt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map((e=>(0,Tt.jsxs)("div",{className:"bg-white bg-opacity-5 p-4 rounded-lg",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Tt.jsx)("h4",{className:"font-medium",children:e.name}),(0,Tt.jsx)("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:e.category})]}),(0,Tt.jsxs)("div",{className:"text-sm mb-3",style:{color:"var(--text-secondary)"},children:[(0,Tt.jsxs)("div",{children:["\u0627\u0644\u0645\u062e\u0632\u0648\u0646: ",e.current_stock]}),(0,Tt.jsxs)("div",{children:["\u0627\u0644\u0648\u062d\u062f\u0629: ",e.unit]})]}),(0,Tt.jsx)("div",{className:"text-xs mb-3",children:(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-1",children:[(0,Tt.jsxs)("div",{children:["1 \u0642\u0637\u0639\u0629: ",e.price_1,"\u062c"]}),(0,Tt.jsxs)("div",{children:["10 \u0642\u0637\u0639: ",e.price_10,"\u062c"]}),(0,Tt.jsxs)("div",{children:["25 \u0642\u0637\u0639\u0629: ",e.price_25,"\u062c"]}),(0,Tt.jsxs)("div",{children:["50 \u0642\u0637\u0639\u0629: ",e.price_50,"\u062c"]}),(0,Tt.jsxs)("div",{children:["100 \u0642\u0637\u0639\u0629: ",e.price_100,"\u062c"]})]})}),(0,Tt.jsx)("button",{onClick:()=>(e=>{const t=l.find((t=>t.id===e.id));r(t?l.map((t=>t.id===e.id?d(d({},t),{},{quantity:t.quantity+1}):t)):[...l,d(d({},e),{},{quantity:1,selected_price_tier:"1"})])})(e),className:"btn-primary w-full text-sm",disabled:e.current_stock<=0,children:e.current_stock<=0?"\u063a\u064a\u0631 \u0645\u062a\u0648\u0641\u0631":"\u0625\u0636\u0627\u0641\u0629 \u0644\u0644\u0637\u0644\u0628"})]},e.id)))})]}),l.length>0&&(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsx)("h3",{className:"text-lg font-bold mb-4",children:"\u0627\u0644\u0637\u0644\u0628 \u0627\u0644\u062d\u0627\u0644\u064a"}),(0,Tt.jsx)("div",{className:"space-y-3",children:l.map((e=>(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white bg-opacity-5 rounded-lg",children:[(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsx)("div",{className:"font-medium",children:e.name}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:e.category})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-xs mb-1",children:"\u0627\u0644\u0643\u0645\u064a\u0629"}),(0,Tt.jsxs)("select",{value:e.selected_price_tier,onChange:t=>{return s=e.id,a=t.target.value,void r(l.map((e=>e.id===s?d(d({},e),{},{selected_price_tier:a}):e)));var s,a},className:"form-modern text-xs",children:[(0,Tt.jsxs)("option",{value:"1",children:["1 \u0642\u0637\u0639\u0629 (",e.price_1,"\u062c)"]}),(0,Tt.jsxs)("option",{value:"10",children:["10 \u0642\u0637\u0639 (",e.price_10,"\u062c)"]}),(0,Tt.jsxs)("option",{value:"25",children:["25 \u0642\u0637\u0639\u0629 (",e.price_25,"\u062c)"]}),(0,Tt.jsxs)("option",{value:"50",children:["50 \u0642\u0637\u0639\u0629 (",e.price_50,"\u062c)"]}),(0,Tt.jsxs)("option",{value:"100",children:["100 \u0642\u0637\u0639\u0629 (",e.price_100,"\u062c)"]})]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("button",{onClick:()=>p(e.id,e.quantity-1),className:"btn-secondary text-xs px-2 py-1",children:"-"}),(0,Tt.jsx)("span",{className:"text-sm font-medium",children:e.quantity}),(0,Tt.jsx)("button",{onClick:()=>p(e.id,e.quantity+1),className:"btn-secondary text-xs px-2 py-1",children:"+"})]}),(0,Tt.jsxs)("div",{className:"text-sm font-medium",children:[g(e),"\u062c"]}),(0,Tt.jsx)("button",{onClick:()=>p(e.id,0),className:"text-red-400 hover:text-red-300",children:"\ud83d\uddd1\ufe0f"})]})]},e.id)))}),(0,Tt.jsx)("div",{className:"mt-4 pt-4 border-t border-white border-opacity-10",children:(0,Tt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Tt.jsx)("span",{className:"text-lg font-bold",children:"\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a:"}),(0,Tt.jsxs)("span",{className:"text-xl font-bold text-green-400",children:[f(),"\u062c"]})]})}),(0,Tt.jsxs)("div",{className:"mt-4 flex gap-4",children:[(0,Tt.jsx)("button",{onClick:async()=>{if(0!==l.length){u(!0);try{const e=localStorage.getItem("access_token"),t={customer_info:i,items:l.map((e=>({product_id:e.id,quantity:e.quantity,price_tier:e.selected_price_tier,unit_price:e["price_".concat(e.selected_price_tier)]||e.price,total:g(e)}))),total_amount:f(),line:m};await Pt.post("".concat(Dt,"/orders/create"),t,{headers:{Authorization:"Bearer ".concat(e)}}),alert("\u062a\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0637\u0644\u0628 \u0648\u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629 \u0628\u0646\u062c\u0627\u062d"),r([]),c({name:"",phone:"",address:"",clinic_name:""})}catch(e){console.error("Error creating order:",e),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0637\u0644\u0628")}finally{u(!1)}}else alert("\u064a\u0631\u062c\u0649 \u0625\u0636\u0627\u0641\u0629 \u0645\u0646\u062a\u062c\u0627\u062a \u0644\u0644\u0637\u0644\u0628")},disabled:o,className:"btn-primary flex-1",children:o?"\u062c\u0627\u0631\u064a \u0627\u0644\u0625\u0646\u0634\u0627\u0621...":"\u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0637\u0644\u0628 \u0648\u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629"}),(0,Tt.jsx)("button",{onClick:()=>r([]),className:"btn-secondary",children:"\u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u0637\u0644\u0628"})]})]})]})},gs=()=>{const[e,t]=(0,n.useState)([]),[s,a]=(0,n.useState)([]),[l,r]=(0,n.useState)(!0),[i,c]=(0,n.useState)(!1),[o,d]=(0,n.useState)(null),{user:u}=Yt(),m=u&&["admin","gm","accounting","\u0645\u062d\u0627\u0633\u0628\u0629"].includes(u.role);(0,n.useEffect)((()=>{h(),x()}),[]);const x=async()=>{try{const e=localStorage.getItem("access_token"),t=await Pt.get("".concat(Dt,"/lines"),{headers:{Authorization:"Bearer ".concat(e)}});a(t.data)}catch(e){console.error("Error fetching lines:",e),a([])}},h=async()=>{try{const e=localStorage.getItem("access_token"),s=await Pt.get("".concat(Dt,"/products"),{headers:{Authorization:"Bearer ".concat(e)}});t(s.data)}catch(e){console.error("Error fetching products:",e),t([{id:"prod-001",name:"\u062f\u0648\u0627\u0621 \u0623",description:"\u062f\u0648\u0627\u0621 \u0641\u0639\u0627\u0644 \u0644\u0644\u0639\u0644\u0627\u062c",category:"\u0623\u062f\u0648\u064a\u0629",unit:"\u06a4\u0627\u064a\u0644",line_id:"line-001",line_name:"\u062e\u0637 \u0627\u0644\u0642\u0627\u0647\u0631\u0629 \u0627\u0644\u0643\u0628\u0631\u0649",price:25.5,price_type:"per_vial",current_stock:150,is_active:!0,created_at:"2024-01-01T10:00:00Z"},{id:"prod-002",name:"\u062f\u0648\u0627\u0621 \u0628",description:"\u0645\u0643\u0645\u0644 \u063a\u0630\u0627\u0626\u064a",category:"\u0645\u0643\u0645\u0644\u0627\u062a",unit:"\u0639\u0644\u0628\u0629",line_id:"line-002",line_name:"\u062e\u0637 \u0627\u0644\u0625\u0633\u0643\u0646\u062f\u0631\u064a\u0629",price:120,price_type:"per_box",current_stock:80,is_active:!0,created_at:"2024-01-02T10:00:00Z"}])}finally{r(!1)}};return l?(0,Tt.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Tt.jsx)("div",{className:"loading-spinner-enhanced"})}):(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsx)("h2",{className:"text-2xl font-bold text-gradient",children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"}),(0,Tt.jsx)("button",{onClick:()=>{d(null),c(!0)},className:"btn-primary",children:"\u2795 \u0625\u0636\u0627\u0641\u0629 \u0645\u0646\u062a\u062c \u062c\u062f\u064a\u062f"})]}),(0,Tt.jsx)("div",{className:"glass-effect rounded-xl overflow-hidden",children:(0,Tt.jsx)("div",{className:"overflow-x-auto",children:(0,Tt.jsxs)("table",{className:"w-full",children:[(0,Tt.jsx)("thead",{children:(0,Tt.jsxs)("tr",{className:"border-b border-white border-opacity-10",children:[(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"\u0627\u0644\u0645\u0646\u062a\u062c"}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"\u0627\u0644\u0641\u0626\u0629"}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"\u0627\u0644\u062e\u0637"}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"\u0627\u0644\u0648\u062d\u062f\u0629"}),m&&(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"\u0627\u0644\u0633\u0639\u0631"}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"\u0627\u0644\u0645\u062e\u0632\u0648\u0646"}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"\u0627\u0644\u062d\u0627\u0644\u0629"}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a"})]})}),(0,Tt.jsx)("tbody",{children:e.map((e=>(0,Tt.jsxs)("tr",{className:"border-b border-white border-opacity-5 hover:bg-white hover:bg-opacity-5",children:[(0,Tt.jsxs)("td",{className:"px-4 py-3",children:[(0,Tt.jsx)("div",{className:"font-medium",children:e.name}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:e.description})]}),(0,Tt.jsx)("td",{className:"px-4 py-3 text-sm",children:e.category||"-"}),(0,Tt.jsx)("td",{className:"px-4 py-3 text-sm",children:e.line_name||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"}),(0,Tt.jsx)("td",{className:"px-4 py-3 text-sm",children:e.unit}),m&&(0,Tt.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,Tt.jsxs)("div",{className:"flex flex-col",children:[(0,Tt.jsxs)("span",{className:"font-medium",children:[e.price," \u062c.\u0645"]}),(0,Tt.jsx)("span",{className:"text-xs text-gray-500",children:"per_vial"===e.price_type?"\u0633\u0639\u0631 \u0627\u0644\u06a4\u0627\u064a\u0644":"\u0633\u0639\u0631 \u0627\u0644\u0639\u0644\u0628\u0629"})]})}),(0,Tt.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,Tt.jsxs)("span",{className:"inline-block px-2 py-1 rounded text-xs ".concat(e.current_stock<10?"bg-red-500 bg-opacity-20 text-red-400":e.current_stock<50?"bg-yellow-500 bg-opacity-20 text-yellow-400":"bg-green-500 bg-opacity-20 text-green-400"),children:[e.current_stock," ",e.unit]})}),(0,Tt.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,Tt.jsx)("span",{className:"inline-block px-2 py-1 rounded text-xs ".concat(e.is_active?"bg-green-500 bg-opacity-20 text-green-400":"bg-red-500 bg-opacity-20 text-red-400"),children:e.is_active?"\u0646\u0634\u0637":"\u063a\u064a\u0631 \u0646\u0634\u0637"})}),(0,Tt.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,Tt.jsxs)("div",{className:"flex gap-2",children:[(0,Tt.jsx)("button",{onClick:()=>{d(e),c(!0)},className:"text-blue-400 hover:text-blue-300",title:"\u062a\u0639\u062f\u064a\u0644",children:"\u270f\ufe0f"}),(0,Tt.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0645\u0646\u062a\u062c\u061f"))try{const t=localStorage.getItem("access_token");await Pt.delete("".concat(Dt,"/products/").concat(e,"/admin"),{headers:{Authorization:"Bearer ".concat(t)}}),h(),alert("\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0645\u0646\u062a\u062c \u0628\u0646\u062c\u0627\u062d")}catch(t){console.error("Error deleting product:",t),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062d\u0630\u0641 \u0627\u0644\u0645\u0646\u062a\u062c")}})(e.id),className:"text-red-400 hover:text-red-300",title:"\u062d\u0630\u0641",children:"\ud83d\uddd1\ufe0f"})]})})]},e.id)))})]})})}),i&&(0,Tt.jsx)(fs,{product:o,lines:s,onClose:()=>c(!1),onSave:o?async(e,t)=>{try{const s=localStorage.getItem("access_token");await Pt.put("".concat(Dt,"/products/").concat(e,"/admin"),t,{headers:{Authorization:"Bearer ".concat(s)}}),h(),c(!1),alert("\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0645\u0646\u062a\u062c \u0628\u0646\u062c\u0627\u062d")}catch(s){console.error("Error updating product:",s),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0645\u0646\u062a\u062c")}}:async e=>{try{const t=localStorage.getItem("access_token");await Pt.post("".concat(Dt,"/products/admin/create"),e,{headers:{Authorization:"Bearer ".concat(t)}}),h(),c(!1),alert("\u062a\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0645\u0646\u062a\u062c \u0628\u0646\u062c\u0627\u062d")}catch(t){console.error("Error creating product:",t),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0645\u0646\u062a\u062c")}}})]})},fs=e=>{let{product:t,onClose:s,onSave:a,lines:l}=e;const[r,i]=(0,n.useState)({name:(null===t||void 0===t?void 0:t.name)||"",description:(null===t||void 0===t?void 0:t.description)||"",category:(null===t||void 0===t?void 0:t.category)||"",unit:(null===t||void 0===t?void 0:t.unit)||"\u06a4\u0627\u064a\u0644",line_id:(null===t||void 0===t?void 0:t.line_id)||"",price:(null===t||void 0===t?void 0:t.price)||0,price_type:(null===t||void 0===t?void 0:t.price_type)||"per_vial",current_stock:(null===t||void 0===t?void 0:t.current_stock)||0,is_active:void 0===(null===t||void 0===t?void 0:t.is_active)||t.is_active});return(0,Tt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Tt.jsxs)("div",{className:"modal-modern p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Tt.jsx)("h3",{className:"text-xl font-bold text-gradient",children:t?"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u0646\u062a\u062c":"\u0625\u0636\u0627\u0641\u0629 \u0645\u0646\u062a\u062c \u062c\u062f\u064a\u062f"}),(0,Tt.jsx)("button",{onClick:s,className:"p-2 rounded-lg hover:bg-red-500 hover:bg-opacity-20 text-red-400 hover:text-red-300 transition-all duration-200",children:(0,Tt.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Tt.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,Tt.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),(0,Tt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t?a(t.id,r):a(r),s()},className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"glass-effect p-4 rounded-xl",children:[(0,Tt.jsx)("h4",{className:"font-bold mb-4",children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0623\u0633\u0627\u0633\u064a\u0629"}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c *"}),(0,Tt.jsx)("input",{type:"text",value:r.name,onChange:e=>i(d(d({},r),{},{name:e.target.value})),className:"form-modern w-full",placeholder:"\u0645\u062b\u0627\u0644: \u062f\u0648\u0627\u0621 \u0627\u0644\u0636\u063a\u0637 10 \u0645\u0644\u062c\u0645",required:!0})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0627\u0644\u0648\u0635\u0641"}),(0,Tt.jsx)("textarea",{value:r.description,onChange:e=>i(d(d({},r),{},{description:e.target.value})),className:"form-modern w-full h-20",placeholder:"\u0648\u0635\u0641 \u0627\u0644\u0645\u0646\u062a\u062c \u0648\u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u0627\u0633\u062a\u062e\u062f\u0627\u0645..."})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0627\u0644\u0641\u0626\u0629 (\u0627\u062e\u062a\u064a\u0627\u0631\u064a\u0629)"}),(0,Tt.jsx)("input",{type:"text",value:r.category,onChange:e=>i(d(d({},r),{},{category:e.target.value})),className:"form-modern w-full",placeholder:"\u0645\u062b\u0627\u0644: \u0623\u062f\u0648\u064a\u0629 \u0627\u0644\u0642\u0644\u0628 \u0648\u0627\u0644\u0623\u0648\u0639\u064a\u0629 \u0627\u0644\u062f\u0645\u0648\u064a\u0629"})]})]})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-4 rounded-xl",children:[(0,Tt.jsx)("h4",{className:"font-bold mb-4",children:"\u0627\u0644\u0648\u062d\u062f\u0629 \u0648\u0627\u0644\u062e\u0637"}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0627\u0644\u0648\u062d\u062f\u0629 *"}),(0,Tt.jsxs)("select",{value:r.unit,onChange:e=>i(d(d({},r),{},{unit:e.target.value})),className:"form-modern w-full",required:!0,children:[(0,Tt.jsx)("option",{value:"\u06a4\u0627\u064a\u0644",children:"\u06a4\u0627\u064a\u0644"}),(0,Tt.jsx)("option",{value:"\u0639\u0644\u0628\u0629",children:"\u0639\u0644\u0628\u0629"})]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0627\u0644\u062e\u0637 *"}),(0,Tt.jsxs)("select",{value:r.line_id,onChange:e=>i(d(d({},r),{},{line_id:e.target.value})),className:"form-modern w-full",required:!0,children:[(0,Tt.jsx)("option",{value:"",children:"\u0627\u062e\u062a\u0627\u0631 \u0627\u0644\u062e\u0637"}),(l||[]).map((e=>(0,Tt.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})]})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-4 rounded-xl",children:[(0,Tt.jsx)("h4",{className:"font-bold mb-4",children:"\u0627\u0644\u0633\u0639\u0631"}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0627\u0644\u0633\u0639\u0631 (\u062c.\u0645) *"}),(0,Tt.jsx)("input",{type:"number",step:"0.01",min:"0",value:r.price,onChange:e=>i(d(d({},r),{},{price:parseFloat(e.target.value)||0})),className:"form-modern w-full",placeholder:"0.00",required:!0})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0646\u0648\u0639 \u0627\u0644\u0633\u0639\u0631 *"}),(0,Tt.jsxs)("select",{value:r.price_type,onChange:e=>i(d(d({},r),{},{price_type:e.target.value})),className:"form-modern w-full",required:!0,children:[(0,Tt.jsx)("option",{value:"per_vial",children:"\u0633\u0639\u0631 \u0627\u0644\u06a4\u0627\u064a\u0644 \u0627\u0644\u0648\u0627\u062d\u062f"}),(0,Tt.jsx)("option",{value:"per_box",children:"\u0633\u0639\u0631 \u0627\u0644\u0639\u0644\u0628\u0629 \u0643\u0627\u0645\u0644\u0629"})]})]})]})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-4 rounded-xl",children:[(0,Tt.jsx)("h4",{className:"font-bold mb-4",children:"\u0627\u0644\u0645\u062e\u0632\u0648\u0646 \u0648\u0627\u0644\u062d\u0627\u0644\u0629"}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0627\u0644\u0645\u062e\u0632\u0648\u0646 \u0627\u0644\u062d\u0627\u0644\u064a"}),(0,Tt.jsx)("input",{type:"number",min:"0",value:r.current_stock,onChange:e=>i(d(d({},r),{},{current_stock:parseInt(e.target.value)||0})),className:"form-modern w-full",placeholder:"0"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0627\u0644\u062d\u0627\u0644\u0629"}),(0,Tt.jsxs)("select",{value:r.is_active,onChange:e=>i(d(d({},r),{},{is_active:"true"===e.target.value})),className:"form-modern w-full",children:[(0,Tt.jsx)("option",{value:!0,children:"\u0646\u0634\u0637"}),(0,Tt.jsx)("option",{value:!1,children:"\u063a\u064a\u0631 \u0646\u0634\u0637"})]})]})]})]}),(0,Tt.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Tt.jsx)("button",{type:"submit",className:"btn-primary flex-1",children:t?"\u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0645\u0646\u062a\u062c":"\u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0646\u062a\u062c"}),(0,Tt.jsx)("button",{type:"button",onClick:s,className:"btn-secondary px-6",children:"\u0625\u0644\u063a\u0627\u0621"})]})]})]})})},vs=e=>{var t,s;let{user:a,onClose:l}=e;const{t:r,language:i}=It(),[c,o]=(0,n.useState)(null),[d,u]=(0,n.useState)(!0),[m,x]=(0,n.useState)("summary"),[h,p]=(0,n.useState)([]),[g,f]=(0,n.useState)(a.id),[v,b]=(0,n.useState)(a),j=["admin","gm","manager","line_manager","area_manager","district_manager","warehouse_manager"].includes(a.role);(0,n.useEffect)((()=>{j&&y(),N()}),[g]);const y=async()=>{try{const e=localStorage.getItem("access_token"),t=await Pt.get("".concat(Dt,"/users/team"),{headers:{Authorization:"Bearer ".concat(e)}});p(t.data||[])}catch(e){console.error("Error fetching team members:",e),p([])}},N=async()=>{try{const e=localStorage.getItem("access_token"),t=await Pt.get("".concat(Dt,"/users/").concat(g,"/profile"),{headers:{Authorization:"Bearer ".concat(e)}});if(o(t.data),g!==a.id){const e=h.find((e=>e.id===g));e&&b(e)}else b(a)}catch(e){console.error("Error fetching profile:",e),o({user:{id:v.id,username:v.username,full_name:v.full_name,email:v.email,phone:v.phone,role:v.role,region:v.region,direct_manager:v.direct_manager,hire_date:v.hire_date,profile_photo:v.profile_photo,is_active:v.is_active,last_seen:v.last_seen},sales_activity:{total_orders:45,total_revenue:125e3,this_month_orders:12,this_month_revenue:35e3,avg_order_value:2800,conversion_rate:78.5,top_products:[{name:"\u062f\u0648\u0627\u0621 \u0623",quantity:120,revenue:25e3},{name:"\u062f\u0648\u0627\u0621 \u0628",quantity:85,revenue:18e3},{name:"\u062f\u0648\u0627\u0621 \u062c",quantity:60,revenue:12e3}],monthly_performance:[{month:"\u064a\u0646\u0627\u064a\u0631",orders:15,revenue:42e3},{month:"\u0641\u0628\u0631\u0627\u064a\u0631",orders:18,revenue:48e3},{month:"\u0645\u0627\u0631\u0633",orders:12,revenue:35e3}]},debt_info:{total_debt:15e3,overdue_amount:3e3,current_month_debt:5e3,payment_history:[{date:"2024-01-15",amount:8e3,status:"paid"},{date:"2024-02-10",amount:12e3,status:"paid"},{date:"2024-03-05",amount:5e3,status:"pending"}]},territory_info:{region_name:"\u0627\u0644\u0642\u0627\u0647\u0631\u0629 \u0627\u0644\u0643\u0628\u0631\u0649",district_name:"\u0648\u0633\u0637 \u0627\u0644\u0628\u0644\u062f",assigned_clinics:25,active_clinics:18,coverage_percentage:72},team_info:{direct_manager:{name:"\u0623\u062d\u0645\u062f \u0645\u062d\u0645\u062f",role:"\u0645\u062f\u064a\u0631 \u0645\u0646\u0637\u0642\u0629",phone:"01234567890"},team_members:a.role.includes("manager")?[{name:"\u0645\u062d\u0645\u062f \u0623\u062d\u0645\u062f",role:"\u0645\u0646\u062f\u0648\u0628 \u0637\u0628\u064a",performance:85},{name:"\u0641\u0627\u0637\u0645\u0629 \u0639\u0644\u064a",role:"\u0645\u0646\u062f\u0648\u0628 \u0637\u0628\u064a",performance:92}]:[]}})}finally{u(!1)}};return d?(0,Tt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Tt.jsx)("div",{className:"modal-modern p-8 w-full max-w-4xl",children:(0,Tt.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Tt.jsx)("div",{className:"loading-spinner-enhanced"})})})}):(0,Tt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Tt.jsxs)("div",{className:"modal-modern p-6 w-full max-w-6xl max-h-[95vh] overflow-y-auto",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsxs)("h2",{className:"text-2xl font-bold text-gradient mb-3",children:[r("miniProfile")," - ",c.user.full_name]}),j&&h.length>0&&(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("label",{className:"text-sm font-medium opacity-75",children:"ar"===i?"\u0627\u062e\u062a\u0631 \u0627\u0644\u0645\u0646\u062f\u0648\u0628:":"Select Rep:"}),(0,Tt.jsxs)("select",{value:g,onChange:e=>{f(e.target.value),u(!0)},className:"form-modern text-sm min-w-48",children:[(0,Tt.jsxs)("option",{value:a.id,children:["ar"===i?"\u0645\u0644\u0641\u064a \u0627\u0644\u0634\u062e\u0635\u064a":"My Profile"," - ",a.full_name]}),h.map((e=>(0,Tt.jsxs)("option",{value:e.id,children:[e.full_name," (",e.role,")"]},e.id)))]})]})]}),(0,Tt.jsx)("button",{onClick:l,className:"p-2 rounded-lg hover:bg-red-500 hover:bg-opacity-20 text-red-400 hover:text-red-300 transition-all duration-200",children:(0,Tt.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Tt.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,Tt.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),(0,Tt.jsx)("div",{className:"glass-effect p-6 rounded-xl mb-6",children:(0,Tt.jsxs)("div",{className:"flex items-center gap-6",children:[(0,Tt.jsx)("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-2xl",children:c.user.profile_photo?(0,Tt.jsx)("img",{src:c.user.profile_photo,alt:c.user.full_name,className:"w-full h-full rounded-full object-cover"}):(null===(t=c.user.full_name)||void 0===t?void 0:t.charAt(0))||"U"}),(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Tt.jsx)("h3",{className:"text-xl font-bold",children:c.user.full_name}),(0,Tt.jsx)("span",{className:"px-3 py-1 rounded-full text-sm ".concat(c.user.is_active?"bg-green-500 bg-opacity-20 text-green-400":"bg-red-500 bg-opacity-20 text-red-400"),children:c.user.is_active?"\u0646\u0634\u0637":"\u063a\u064a\u0631 \u0646\u0634\u0637"})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"text-blue-400",children:"\ud83d\udc64"}),(0,Tt.jsx)("span",{children:c.user.username})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"text-green-400",children:"\ud83d\udce7"}),(0,Tt.jsx)("span",{children:c.user.email||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"text-purple-400",children:"\ud83d\udcf1"}),(0,Tt.jsx)("span",{children:c.user.phone||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"text-orange-400",children:"\ud83d\udcbc"}),(0,Tt.jsx)("span",{children:r(c.user.role)||c.user.role})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"text-red-400",children:"\ud83d\uddfa\ufe0f"}),(0,Tt.jsx)("span",{children:c.territory_info.region_name})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"text-yellow-400",children:"\ud83d\udc65"}),(0,Tt.jsx)("span",{children:(null===(s=c.team_info.direct_manager)||void 0===s?void 0:s.name)||"\u0644\u0627 \u064a\u0648\u062c\u062f"})]})]})]})]})}),(0,Tt.jsx)("div",{className:"flex gap-2 mb-6 overflow-x-auto",children:[{id:"summary",label:r("summary"),icon:"\ud83d\udcca"},{id:"sales",label:r("salesActivity"),icon:"\ud83d\udcb0"},{id:"debt",label:r("debtInfo"),icon:"\ud83d\udcb3"},{id:"territory",label:r("territoryInfo"),icon:"\ud83d\uddfa\ufe0f"},{id:"team",label:r("teamInfo"),icon:"\ud83d\udc65"}].map((e=>(0,Tt.jsxs)("button",{onClick:()=>x(e.id),className:"flex items-center gap-2 px-4 py-2 rounded-lg whitespace-nowrap transition-all ".concat(m===e.id?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg":"glass-effect hover:bg-white hover:bg-opacity-10"),children:[(0,Tt.jsx)("span",{children:e.icon}),(0,Tt.jsx)("span",{children:e.label})]},e.id)))}),(0,Tt.jsxs)("div",{className:"space-y-6",children:["summary"===m&&(0,Tt.jsx)(bs,{data:c}),"sales"===m&&(0,Tt.jsx)(js,{data:c.sales_activity}),"debt"===m&&(0,Tt.jsx)(ys,{data:c.debt_info}),"territory"===m&&(0,Tt.jsx)(Ns,{data:c.territory_info}),"team"===m&&(0,Tt.jsx)(ws,{data:c.team_info})]})]})})},bs=e=>{let{data:t}=e;return(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Tt.jsxs)("div",{className:"glass-effect p-4 rounded-xl text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl font-bold text-blue-400",children:t.sales_activity.total_orders}),(0,Tt.jsx)("div",{className:"text-sm mt-2",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0637\u0644\u0628\u0627\u062a"})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-4 rounded-xl text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl font-bold text-green-400",children:t.sales_activity.total_revenue.toLocaleString()}),(0,Tt.jsx)("div",{className:"text-sm mt-2",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a (\u062c\u0646\u064a\u0647)"})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-4 rounded-xl text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl font-bold text-red-400",children:t.debt_info.total_debt.toLocaleString()}),(0,Tt.jsx)("div",{className:"text-sm mt-2",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u062f\u064a\u0648\u0646\u064a\u0629 (\u062c\u0646\u064a\u0647)"})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-4 rounded-xl text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl font-bold text-purple-400",children:t.territory_info.assigned_clinics}),(0,Tt.jsx)("div",{className:"text-sm mt-2",style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a \u0627\u0644\u0645\u0633\u0624\u0648\u0644 \u0639\u0646\u0647\u0627"})]})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h4",{className:"font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\ud83d\udcb0"}),(0,Tt.jsx)("span",{children:"\u0623\u062f\u0627\u0621 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a"})]}),(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{children:"\u0637\u0644\u0628\u0627\u062a \u0647\u0630\u0627 \u0627\u0644\u0634\u0647\u0631:"}),(0,Tt.jsx)("span",{className:"font-bold text-blue-400",children:t.sales_activity.this_month_orders})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{children:"\u0645\u0628\u064a\u0639\u0627\u062a \u0647\u0630\u0627 \u0627\u0644\u0634\u0647\u0631:"}),(0,Tt.jsxs)("span",{className:"font-bold text-green-400",children:[t.sales_activity.this_month_revenue.toLocaleString()," \u062c\u0646\u064a\u0647"]})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{children:"\u0645\u062a\u0648\u0633\u0637 \u0642\u064a\u0645\u0629 \u0627\u0644\u0637\u0644\u0628:"}),(0,Tt.jsxs)("span",{className:"font-bold text-purple-400",children:[t.sales_activity.avg_order_value.toLocaleString()," \u062c\u0646\u064a\u0647"]})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{children:"\u0645\u0639\u062f\u0644 \u0627\u0644\u062a\u062d\u0648\u064a\u0644:"}),(0,Tt.jsxs)("span",{className:"font-bold text-yellow-400",children:[t.sales_activity.conversion_rate,"%"]})]})]})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h4",{className:"font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\ud83d\udccd"}),(0,Tt.jsx)("span",{children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0645\u0646\u0637\u0642\u0629"})]}),(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{children:"\u0627\u0644\u0645\u0646\u0637\u0642\u0629:"}),(0,Tt.jsx)("span",{className:"font-bold text-blue-400",children:t.territory_info.region_name})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{children:"\u0627\u0644\u0645\u0642\u0627\u0637\u0639\u0629:"}),(0,Tt.jsx)("span",{className:"font-bold text-green-400",children:t.territory_info.district_name})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{children:"\u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a \u0627\u0644\u0646\u0634\u0637\u0629:"}),(0,Tt.jsxs)("span",{className:"font-bold text-purple-400",children:[t.territory_info.active_clinics,"/",t.territory_info.assigned_clinics]})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{children:"\u0646\u0633\u0628\u0629 \u0627\u0644\u062a\u063a\u0637\u064a\u0629:"}),(0,Tt.jsxs)("span",{className:"font-bold text-orange-400",children:[t.territory_info.coverage_percentage,"%"]})]})]})]})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h4",{className:"font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\ud83d\udc64"}),(0,Tt.jsx)("span",{children:"\u0627\u0644\u0645\u062f\u064a\u0631 \u0627\u0644\u0645\u0628\u0627\u0634\u0631"})]}),t.team_info.direct_manager?(0,Tt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Tt.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-green-500 to-blue-600 flex items-center justify-center text-white font-bold",children:t.team_info.direct_manager.name.charAt(0)}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"font-bold",children:t.team_info.direct_manager.name}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:t.team_info.direct_manager.role}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:t.team_info.direct_manager.phone})]})]}):(0,Tt.jsx)("p",{style:{color:"var(--text-secondary)"},children:"\u0644\u0627 \u064a\u0648\u062c\u062f \u0645\u062f\u064a\u0631 \u0645\u0628\u0627\u0634\u0631"})]})]})},js=e=>{let{data:t}=e;return(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h4",{className:"font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\ud83d\udcc8"}),(0,Tt.jsx)("span",{children:"\u0627\u0644\u0623\u062f\u0627\u0621 \u0627\u0644\u0634\u0647\u0631\u064a"})]}),(0,Tt.jsx)("div",{className:"space-y-4",children:t.monthly_performance.map(((e,t)=>(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white bg-opacity-5 rounded-lg",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-sm font-bold",children:t+1}),(0,Tt.jsx)("span",{className:"font-medium",children:e.month})]}),(0,Tt.jsxs)("div",{className:"text-right",children:[(0,Tt.jsxs)("div",{className:"text-sm text-blue-400",children:[e.orders," \u0637\u0644\u0628"]}),(0,Tt.jsxs)("div",{className:"text-sm text-green-400",children:[e.revenue.toLocaleString()," \u062c\u0646\u064a\u0647"]})]})]},t)))})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h4",{className:"font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\ud83c\udfc6"}),(0,Tt.jsx)("span",{children:"\u0623\u0641\u0636\u0644 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"})]}),(0,Tt.jsx)("div",{className:"space-y-3",children:t.top_products.map(((e,t)=>(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white bg-opacity-5 rounded-lg",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-bold ".concat(0===t?"bg-yellow-500":1===t?"bg-gray-400":"bg-orange-500"),children:t+1}),(0,Tt.jsx)("span",{className:"font-medium",children:e.name})]}),(0,Tt.jsxs)("div",{className:"text-right",children:[(0,Tt.jsxs)("div",{className:"text-sm text-blue-400",children:[e.quantity," \u0642\u0637\u0639\u0629"]}),(0,Tt.jsxs)("div",{className:"text-sm text-green-400",children:[e.revenue.toLocaleString()," \u062c\u0646\u064a\u0647"]})]})]},t)))})]})]})},ys=e=>{let{data:t}=e;return(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Tt.jsxs)("div",{className:"glass-effect p-4 rounded-xl text-center",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-red-400",children:t.total_debt.toLocaleString()}),(0,Tt.jsx)("div",{className:"text-sm mt-2",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u062f\u064a\u0648\u0646\u064a\u0629 (\u062c\u0646\u064a\u0647)"})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-4 rounded-xl text-center",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-orange-400",children:t.overdue_amount.toLocaleString()}),(0,Tt.jsx)("div",{className:"text-sm mt-2",style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0645\u062a\u0623\u062e\u0631 (\u062c\u0646\u064a\u0647)"})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-4 rounded-xl text-center",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:t.current_month_debt.toLocaleString()}),(0,Tt.jsx)("div",{className:"text-sm mt-2",style:{color:"var(--text-secondary)"},children:"\u0645\u062f\u064a\u0648\u0646\u064a\u0629 \u0627\u0644\u0634\u0647\u0631 \u0627\u0644\u062d\u0627\u0644\u064a (\u062c\u0646\u064a\u0647)"})]})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h4",{className:"font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\ud83d\udcb3"}),(0,Tt.jsx)("span",{children:"\u0633\u062c\u0644 \u0627\u0644\u0645\u062f\u0641\u0648\u0639\u0627\u062a"})]}),(0,Tt.jsx)("div",{className:"space-y-3",children:t.payment_history.map(((e,t)=>(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white bg-opacity-5 rounded-lg",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-bold ".concat("paid"===e.status?"bg-green-500":"bg-yellow-500"),children:"paid"===e.status?"\u2713":"\u23f3"}),(0,Tt.jsx)("span",{className:"font-medium",children:new Date(e.date).toLocaleDateString("ar-EG")})]}),(0,Tt.jsxs)("div",{className:"text-right",children:[(0,Tt.jsxs)("div",{className:"text-sm font-bold",children:[e.amount.toLocaleString()," \u062c\u0646\u064a\u0647"]}),(0,Tt.jsx)("div",{className:"text-xs ".concat("paid"===e.status?"text-green-400":"text-yellow-400"),children:"paid"===e.status?"\u0645\u062f\u0641\u0648\u0639":"\u0645\u0639\u0644\u0642"})]})]},t)))})]})]})},Ns=e=>{let{data:t}=e;return(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h4",{className:"font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\ud83d\uddfa\ufe0f"}),(0,Tt.jsx)("span",{children:"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0627\u0644\u0645\u0646\u0637\u0642\u0629"})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{children:"\u0627\u0644\u0645\u0646\u0637\u0642\u0629:"}),(0,Tt.jsx)("span",{className:"font-bold text-blue-400",children:t.region_name})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{children:"\u0627\u0644\u0645\u0642\u0627\u0637\u0639\u0629:"}),(0,Tt.jsx)("span",{className:"font-bold text-green-400",children:t.district_name})]})]}),(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{children:"\u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a \u0627\u0644\u0645\u062e\u0635\u0635\u0629:"}),(0,Tt.jsx)("span",{className:"font-bold text-purple-400",children:t.assigned_clinics})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{children:"\u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a \u0627\u0644\u0646\u0634\u0637\u0629:"}),(0,Tt.jsx)("span",{className:"font-bold text-orange-400",children:t.active_clinics})]})]})]})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h4",{className:"font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\ud83d\udcca"}),(0,Tt.jsx)("span",{children:"\u0646\u0633\u0628\u0629 \u0627\u0644\u062a\u063a\u0637\u064a\u0629"})]}),(0,Tt.jsxs)("div",{className:"relative",children:[(0,Tt.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,Tt.jsxs)("div",{className:"relative w-24 h-24",children:[(0,Tt.jsx)("div",{className:"absolute inset-0 rounded-full bg-gray-200 bg-opacity-20"}),(0,Tt.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-blue-500 to-purple-600",style:{background:"conic-gradient(from 0deg, #3b82f6 0deg, #8b5cf6 ".concat(3.6*t.coverage_percentage,"deg, transparent ").concat(3.6*t.coverage_percentage,"deg)")}}),(0,Tt.jsx)("div",{className:"absolute inset-2 rounded-full bg-gray-800 flex items-center justify-center",children:(0,Tt.jsxs)("span",{className:"text-xl font-bold text-white",children:[t.coverage_percentage,"%"]})})]})}),(0,Tt.jsx)("div",{className:"text-center mt-4",children:(0,Tt.jsxs)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:[t.active_clinics," \u0645\u0646 \u0623\u0635\u0644 ",t.assigned_clinics," \u0639\u064a\u0627\u062f\u0629 \u0646\u0634\u0637\u0629"]})})]})]})]})},ws=e=>{let{data:t}=e;return(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h4",{className:"font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\ud83d\udc64"}),(0,Tt.jsx)("span",{children:"\u0627\u0644\u0645\u062f\u064a\u0631 \u0627\u0644\u0645\u0628\u0627\u0634\u0631"})]}),t.direct_manager?(0,Tt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Tt.jsx)("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-green-500 to-blue-600 flex items-center justify-center text-white font-bold text-xl",children:t.direct_manager.name.charAt(0)}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"font-bold text-lg",children:t.direct_manager.name}),(0,Tt.jsx)("div",{className:"text-sm mb-1",style:{color:"var(--text-secondary)"},children:t.direct_manager.role}),(0,Tt.jsxs)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["\ud83d\udcf1 ",t.direct_manager.phone]})]})]}):(0,Tt.jsx)("p",{style:{color:"var(--text-secondary)"},children:"\u0644\u0627 \u064a\u0648\u062c\u062f \u0645\u062f\u064a\u0631 \u0645\u0628\u0627\u0634\u0631"})]}),t.team_members&&t.team_members.length>0&&(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h4",{className:"font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\ud83d\udc65"}),(0,Tt.jsx)("span",{children:"\u0623\u0639\u0636\u0627\u0621 \u0627\u0644\u0641\u0631\u064a\u0642"})]}),(0,Tt.jsx)("div",{className:"space-y-3",children:t.team_members.map(((e,t)=>(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white bg-opacity-5 rounded-lg",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center text-white font-bold",children:e.name.charAt(0)}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"font-medium",children:e.name}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:e.role})]})]}),(0,Tt.jsxs)("div",{className:"text-right",children:[(0,Tt.jsxs)("div",{className:"text-sm font-bold text-blue-400",children:[e.performance,"%"]}),(0,Tt.jsx)("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0623\u062f\u0627\u0621"})]})]},t)))})]})]})},_s=e=>{var t,s,a,l,r,i;let{user:c,onLogout:o,onSearchOpen:d,onProfileOpen:u}=e;const{theme:m,setSpecificTheme:x}=Vt(),{language:h,changeLanguage:p,t:g,isRTL:f}=It(),[v,b]=(0,n.useState)(!1),j=[{id:"dark",name:g("themeDark"),icon:"\ud83c\udf19"},{id:"light",name:g("themeLight"),icon:"\u2600\ufe0f"},{id:"minimal",name:g("themeMinimal"),icon:"\u26aa"},{id:"modern",name:g("themeModern"),icon:"\ud83d\udd2e"},{id:"fancy",name:g("themeFancy"),icon:"\u2728"},{id:"cyber",name:g("themeCyber"),icon:"\ud83d\udc9a"},{id:"sunset",name:g("themeSunset"),icon:"\ud83c\udf05"},{id:"ocean",name:g("themeOcean"),icon:"\ud83c\udf0a"},{id:"forest",name:g("themeForest"),icon:"\ud83c\udf32"}];return(0,Tt.jsx)(Tt.Fragment,{children:(0,Tt.jsx)("header",{className:"header-enhanced sticky top-0 z-50 px-4 py-3 shadow-lg",children:(0,Tt.jsxs)("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"logo-container w-10 h-10 glass-effect rounded-lg flex items-center justify-center",children:(0,Tt.jsx)("div",{className:"w-7 h-7 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:(0,Tt.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"white",children:(0,Tt.jsx)("path",{d:"M12 2L2 7v10c0 5.55 3.84 9.74 9 11 5.16-1.26 9-5.45 9-11V7l-10-5z"})})})}),(0,Tt.jsx)("h1",{className:"header-brand system-brand text-lg font-bold ".concat(f?"arabic":"english"),children:g("systemName")})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("button",{onClick:d,className:"search-button glass-effect p-2.5 rounded-lg hover:scale-105 transition-all duration-200 hover:shadow-md",title:g("search")||"\u0627\u0644\u0628\u062d\u062b",children:(0,Tt.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"var(--text-primary)",children:(0,Tt.jsx)("path",{d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z",stroke:"currentColor",strokeWidth:"2",fill:"none"})})}),(0,Tt.jsx)("button",{onClick:()=>p("ar"===h?"en":"ar"),className:"language-toggle glass-effect p-2.5 rounded-lg hover:scale-105 transition-all duration-200 hover:shadow-md",title:"ar"===h?"Switch to English":"\u062a\u0628\u062f\u064a\u0644 \u0625\u0644\u0649 \u0627\u0644\u0639\u0631\u0628\u064a\u0629",children:(0,Tt.jsx)("span",{className:"text-sm font-bold text-gradient",children:"ar"===h?"EN":"\u0639"})}),(0,Tt.jsx)("div",{className:"relative",children:(0,Tt.jsxs)("button",{onClick:()=>{const e=j.findIndex((e=>e.id===m)),t=(e+1)%j.length;x(j[t].id)},className:"theme-toggle-button glass-effect p-2.5 rounded-lg hover:scale-105 transition-all duration-200 hover:shadow-md flex items-center gap-2",title:"ar"===h?"\u0627\u0644\u062b\u064a\u0645 \u0627\u0644\u062d\u0627\u0644\u064a: ".concat(null===(t=j.find((e=>e.id===m)))||void 0===t?void 0:t.name," - \u0627\u0636\u063a\u0637 \u0644\u0644\u062a\u0628\u062f\u064a\u0644"):"Current: ".concat(null===(s=j.find((e=>e.id===m)))||void 0===s?void 0:s.name," - Click to switch"),children:[(0,Tt.jsx)("span",{className:"text-lg transition-transform duration-300",children:null===(a=j.find((e=>e.id===m)))||void 0===a?void 0:a.icon}),(0,Tt.jsx)("span",{className:"text-xs font-medium hidden md:block",style:{color:"var(--text-primary)"},children:null===(l=j.find((e=>e.id===m)))||void 0===l?void 0:l.name})]})}),(0,Tt.jsxs)("div",{className:"relative",children:[(0,Tt.jsxs)("button",{onClick:()=>b(!v),className:"user-menu-button flex items-center gap-2 px-3 py-2 rounded-lg hover:scale-105 transition-all duration-200 hover:shadow-md",children:[(0,Tt.jsx)("div",{className:"user-avatar w-8 h-8 rounded-lg flex items-center justify-center text-white font-bold text-sm",children:(null===(r=c.full_name)||void 0===r?void 0:r.charAt(0))||(null===(i=c.username)||void 0===i?void 0:i.charAt(0))||"U"}),(0,Tt.jsx)("span",{className:"font-medium hidden md:block text-sm",style:{color:"var(--text-primary)"},children:c.full_name||c.username}),(0,Tt.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"var(--text-secondary)",className:"transition-transform duration-200 ".concat(v?"rotate-180":""),children:(0,Tt.jsx)("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"2",fill:"none"})})]}),v&&(0,Tt.jsxs)("div",{className:"user-menu-dropdown absolute top-full right-0 mt-2 rounded-lg p-2 min-w-48 shadow-xl",children:[(0,Tt.jsxs)("div",{className:"p-3 border-b border-white border-opacity-10",children:[(0,Tt.jsx)("div",{className:"font-semibold text-sm",style:{color:"var(--text-primary)"},children:c.full_name||c.username}),(0,Tt.jsxs)("div",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:[g(c.role||"user")," \u2022 ",c.email]})]}),(0,Tt.jsxs)("div",{className:"py-2 space-y-1",children:[["admin","gm","manager","line_manager","area_manager","district_manager","warehouse_manager"].includes(c.role)?(0,Tt.jsxs)("button",{onClick:()=>{b(!1);["admin","gm","manager","line_manager","area_manager","district_manager","warehouse_manager"].includes(c.role)&&u&&u()},className:"menu-item w-full text-left px-3 py-2 hover:bg-white hover:bg-opacity-10 transition-colors flex items-center gap-3 text-sm",style:{color:"var(--text-primary)"},children:[(0,Tt.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Tt.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})}),(0,Tt.jsx)("span",{children:"ar"===h?"\u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a":"Profile"})]}):(0,Tt.jsxs)("div",{className:"menu-item w-full text-left px-3 py-2 text-xs opacity-60 flex items-center gap-3",children:[(0,Tt.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",className:"opacity-50",children:(0,Tt.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})}),(0,Tt.jsx)("span",{style:{color:"var(--text-muted)"},children:"ar"===h?"\u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a (\u0644\u0644\u0645\u062f\u064a\u0631\u064a\u0646 \u0641\u0642\u0637)":"Profile (Managers Only)"})]}),(0,Tt.jsxs)("button",{onClick:()=>{b(!1);const e=document.querySelector('[data-tab="settings"]');e?e.click():window.dispatchEvent(new CustomEvent("navigate-to-settings"))},className:"menu-item w-full text-left px-3 py-2 hover:bg-white hover:bg-opacity-10 transition-colors flex items-center gap-3 text-sm",style:{color:"var(--text-primary)"},children:[(0,Tt.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Tt.jsx)("path",{d:"M12 15.5A3.5 3.5 0 0 1 8.5 12A3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5 3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97 0-.33-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1 0 .33.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.66Z"})}),(0,Tt.jsx)("span",{children:g("settings")})]}),(0,Tt.jsx)("div",{className:"border-t border-white border-opacity-10 my-2"}),(0,Tt.jsxs)("button",{onClick:o,className:"menu-item danger w-full text-left px-3 py-2 hover:bg-red-500 hover:bg-opacity-20 transition-colors flex items-center gap-3 text-sm text-red-400",children:[(0,Tt.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Tt.jsx)("path",{d:"M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.59L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"})}),(0,Tt.jsx)("span",{children:g("logout")})]})]})]})]})]})]})})})},ks=()=>{const{theme:e,language:t}=Vt(),s=(new Date).getFullYear();return(0,Tt.jsx)("footer",{className:"glass-effect border-t border-white border-opacity-20 py-8 px-6",style:{background:"var(--secondary-bg)"},children:(0,Tt.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsx)("h3",{className:"text-lg font-bold text-gradient",children:"EP Group System"}),(0,Tt.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"ar"===t?"\u0646\u0638\u0627\u0645 \u0625\u062f\u0627\u0631\u0629 \u0634\u0627\u0645\u0644 \u0644\u0644\u0645\u0624\u0633\u0633\u0627\u062a \u0645\u0639 \u0646\u0638\u0627\u0645 \u0645\u062d\u0627\u0633\u0628\u0629 \u0645\u062a\u0643\u0627\u0645\u0644\u060c \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0646\u0627\u062f\u064a\u0628\u060c \u0627\u0644\u0645\u062e\u0627\u0632\u0646\u060c \u0648\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631 \u0627\u0644\u0645\u0627\u0644\u064a\u0629":"Comprehensive enterprise management system with integrated accounting, sales rep management, warehouses, and financial reporting"}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"text-green-400",children:"\u25cf"}),(0,Tt.jsx)("span",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"ar"===t?"\u0627\u0644\u0646\u0638\u0627\u0645 \u0645\u062a\u0627\u062d 24/7":"System Available 24/7"})]})]}),(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsx)("h4",{className:"font-semibold",style:{color:"var(--text-primary)"},children:"ar"===t?"\u0645\u0645\u064a\u0632\u0627\u062a \u0627\u0644\u0646\u0638\u0627\u0645":"System Features"}),(0,Tt.jsxs)("ul",{className:"space-y-2",children:[(0,Tt.jsx)("li",{children:(0,Tt.jsxs)("a",{href:"#accounting",className:"text-sm hover:text-blue-500 transition-colors",style:{color:"var(--text-secondary)"},children:["\ud83d\udcb0 ","ar"===t?"\u0646\u0638\u0627\u0645 \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629":"Accounting System"]})}),(0,Tt.jsx)("li",{children:(0,Tt.jsxs)("a",{href:"#sales",className:"text-sm hover:text-blue-500 transition-colors",style:{color:"var(--text-secondary)"},children:["\ud83d\udc65 ","ar"===t?"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0646\u0627\u062f\u064a\u0628":"Sales Management"]})}),(0,Tt.jsx)("li",{children:(0,Tt.jsxs)("a",{href:"#warehouse",className:"text-sm hover:text-blue-500 transition-colors",style:{color:"var(--text-secondary)"},children:["\ud83c\udfea ","ar"===t?"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u062e\u0627\u0632\u0646":"Warehouse Management"]})}),(0,Tt.jsx)("li",{children:(0,Tt.jsxs)("a",{href:"#reports",className:"text-sm hover:text-blue-500 transition-colors",style:{color:"var(--text-secondary)"},children:["\ud83d\udcca ","ar"===t?"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631 \u0627\u0644\u0645\u0627\u0644\u064a\u0629":"Financial Reports"]})})]})]}),(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsx)("h4",{className:"font-semibold",style:{color:"var(--text-primary)"},children:"ar"===t?"\u0627\u0644\u062f\u0639\u0645 \u0648\u0627\u0644\u0645\u0633\u0627\u0639\u062f\u0629":"Support & Help"}),(0,Tt.jsxs)("ul",{className:"space-y-2",children:[(0,Tt.jsx)("li",{children:(0,Tt.jsxs)("a",{href:"#help",className:"text-sm hover:text-blue-500 transition-colors",style:{color:"var(--text-secondary)"},children:["\ud83d\udcd6 ","ar"===t?"\u062f\u0644\u064a\u0644 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645":"User Guide"]})}),(0,Tt.jsx)("li",{children:(0,Tt.jsxs)("a",{href:"#support",className:"text-sm hover:text-blue-500 transition-colors",style:{color:"var(--text-secondary)"},children:["\ud83d\udee0\ufe0f ","ar"===t?"\u0627\u0644\u062f\u0639\u0645 \u0627\u0644\u0641\u0646\u064a":"Technical Support"]})}),(0,Tt.jsx)("li",{children:(0,Tt.jsxs)("a",{href:"#updates",className:"text-sm hover:text-blue-500 transition-colors",style:{color:"var(--text-secondary)"},children:["\ud83d\udd04 ","ar"===t?"\u0627\u0644\u062a\u062d\u062f\u064a\u062b\u0627\u062a":"System Updates"]})})]})]}),(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsx)("h4",{className:"font-semibold",style:{color:"var(--text-primary)"},children:"ar"===t?"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062a\u0648\u0627\u0635\u0644":"Contact Info"}),(0,Tt.jsxs)("div",{className:"space-y-2",children:[(0,Tt.jsxs)("p",{className:"text-sm flex items-center gap-2",style:{color:"var(--text-secondary)"},children:[(0,Tt.jsxs)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:[(0,Tt.jsx)("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),(0,Tt.jsx)("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]}),"support@epgroup.com"]}),(0,Tt.jsxs)("p",{className:"text-sm flex items-center gap-2",style:{color:"var(--text-secondary)"},children:[(0,Tt.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Tt.jsx)("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})}),"+20 100 123 4567"]}),(0,Tt.jsxs)("p",{className:"text-sm flex items-center gap-2",style:{color:"var(--text-secondary)"},children:[(0,Tt.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Tt.jsx)("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),"ar"===t?"\u0627\u0644\u0642\u0627\u0647\u0631\u0629\u060c \u0645\u0635\u0631":"Cairo, Egypt"]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2 pt-2",children:[(0,Tt.jsx)("span",{className:"text-xs",style:{color:"var(--text-muted)"},children:"ar"===t?"\u0633\u0627\u0639\u0627\u062a \u0627\u0644\u0639\u0645\u0644:":"Working Hours:"}),(0,Tt.jsx)("span",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"24/7"})]})]})]})]}),(0,Tt.jsxs)("div",{className:"mt-8 pt-8 border-t border-white border-opacity-20 flex flex-col md:flex-row justify-between items-center",children:[(0,Tt.jsxs)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["\xa9 ",s," EP Group System.","ar"===t?" \u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0642\u0648\u0642 \u0645\u062d\u0641\u0648\u0638\u0629.":" All rights reserved."]}),(0,Tt.jsx)("div",{className:"mt-6 md:mt-0 text-center md:text-right",children:(0,Tt.jsxs)("div",{className:"animated-copyright-section p-6 rounded-xl",style:{background:"linear-gradient(45deg, rgba(255,107,53,0.1), rgba(247,147,30,0.1), rgba(255,210,63,0.1), rgba(6,214,160,0.1), rgba(17,138,178,0.1), rgba(7,59,76,0.1))",backgroundSize:"300% 300%",animation:"gradientShift 4s ease infinite",border:"2px solid transparent",borderImage:"linear-gradient(45deg, #ff6b35, #f7931e, #ffd23f, #06d6a0, #118ab2, #073b4c) 1",borderImageSlice:1},children:[(0,Tt.jsx)("div",{className:"text-sm mb-3 font-semibold",style:{color:"var(--text-primary)",textShadow:"0 2px 4px rgba(0,0,0,0.3)"},children:"\u062c\u0645\u064a\u0639 \u062d\u0642\u0648\u0642 \u0627\u0644\u0645\u0644\u0643\u064a\u0647 \u0627\u0644\u0641\u0643\u0631\u064a\u0647 \u0645\u062d\u0641\u0648\u0638\u0647"}),(0,Tt.jsx)("div",{className:"text-xl font-bold mb-4",style:{fontFamily:'"Roboto", "Tajawal", sans-serif',letterSpacing:"2px",background:"linear-gradient(45deg, #ff6b35, #f7931e, #ffd23f, #06d6a0, #118ab2, #073b4c)",backgroundSize:"300% 300%",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",animation:"gradientShift 3s ease infinite, bounce 3s infinite",textShadow:"none"},children:"Mahmoud Elmnakhli"}),(0,Tt.jsxs)("a",{href:"https://facebook.com/mafiaidola",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-3 text-sm px-4 py-2 rounded-full transition-all duration-500 hover:scale-110 hover:rotate-3",style:{background:"linear-gradient(135deg, #1877f2, #42a5f5, #64b5f6)",color:"white",textDecoration:"none",boxShadow:"0 6px 20px rgba(24, 119, 242, 0.4)",animation:"socialPulse 4s ease-in-out infinite",border:"2px solid rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)"},children:[(0,Tt.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Tt.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),(0,Tt.jsx)("span",{style:{fontWeight:"600"},children:"Facebook Profile"}),(0,Tt.jsx)("div",{className:"w-2 h-2 rounded-full bg-white opacity-70",style:{animation:"pulse 2s infinite"}})]})]})})]})]})})},Ss=()=>{const[e,t]=(0,n.useState)("visits_performance"),[s,a]=(0,n.useState)(null),[l,r]=(0,n.useState)(!1),[i,c]=(0,n.useState)({start_date:new Date(Date.now()-2592e6).toISOString().split("T")[0],end_date:(new Date).toISOString().split("T")[0]}),o=async()=>{r(!0);try{const t=localStorage.getItem("access_token"),s=new URLSearchParams({report_type:e,start_date:i.start_date,end_date:i.end_date}),n=await Pt.get("".concat(Dt,"/reports/advanced?").concat(s),{headers:{Authorization:"Bearer ".concat(t)}});a(n.data)}catch(t){console.error("Error fetching report:",t)}finally{r(!1)}};(0,n.useEffect)((()=>{o()}),[e,i]);const u=e=>{let{data:t,type:s,title:a}=e;return t&&t.data?(0,Tt.jsxs)("div",{className:"card-modern p-6",children:[(0,Tt.jsx)("h3",{className:"text-xl font-bold mb-4 text-center",children:a}),(0,Tt.jsx)("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udcca"}),(0,Tt.jsx)("p",{className:"text-gray-600",children:"\u0631\u0633\u0645 \u0628\u064a\u0627\u0646\u064a \u062a\u0641\u0627\u0639\u0644\u064a"}),(0,Tt.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:[t.data.length," \u0646\u0642\u0637\u0629 \u0628\u064a\u0627\u0646\u0627\u062a"]}),(0,Tt.jsx)("div",{className:"mt-4 text-xs text-gray-400",children:t.data.slice(0,3).map(((e,t)=>(0,Tt.jsxs)("div",{children:[e._id,": ",e.total_visits||e.total_orders||"N/A"]},t)))})]})})]}):(0,Tt.jsx)("div",{children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a \u0644\u0644\u0639\u0631\u0636"})};return(0,Tt.jsx)("div",{style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh"},children:(0,Tt.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Tt.jsx)("div",{className:"flex items-center justify-between mb-8",children:(0,Tt.jsxs)("div",{className:"flex items-center",children:[(0,Tt.jsx)("div",{className:"w-16 h-16 card-gradient-green rounded-full flex items-center justify-center ml-4 glow-pulse",children:(0,Tt.jsx)("span",{className:"text-3xl",children:"\ud83d\udcc8"})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h2",{className:"text-4xl font-bold text-gradient",children:"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631 \u0627\u0644\u062a\u0641\u0627\u0639\u0644\u064a\u0629 \u0627\u0644\u0645\u062a\u0642\u062f\u0645\u0629"}),(0,Tt.jsx)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:"\u062a\u062d\u0644\u064a\u0644\u0627\u062a \u0648\u062a\u0642\u0627\u0631\u064a\u0631 \u0634\u0627\u0645\u0644\u0629 \u0645\u0639 \u0631\u0633\u0648\u0645 \u0628\u064a\u0627\u0646\u064a\u0629 \u062a\u0641\u0627\u0639\u0644\u064a\u0629"})]})]})}),(0,Tt.jsx)("div",{className:"card-modern p-6 mb-8",children:(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0646\u0648\u0639 \u0627\u0644\u062a\u0642\u0631\u064a\u0631:"}),(0,Tt.jsxs)("select",{value:e,onChange:e=>t(e.target.value),className:"form-modern w-full",children:[(0,Tt.jsx)("option",{value:"visits_performance",children:"\u0623\u062f\u0627\u0621 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a"}),(0,Tt.jsx)("option",{value:"sales_by_rep",children:"\u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a \u0628\u0648\u0627\u0633\u0637\u0629 \u0627\u0644\u0645\u0646\u0627\u062f\u064a\u0628"})]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0645\u0646 \u062a\u0627\u0631\u064a\u062e:"}),(0,Tt.jsx)("input",{type:"date",value:i.start_date,onChange:e=>c(d(d({},i),{},{start_date:e.target.value})),className:"form-modern w-full"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0625\u0644\u0649 \u062a\u0627\u0631\u064a\u062e:"}),(0,Tt.jsx)("input",{type:"date",value:i.end_date,onChange:e=>c(d(d({},i),{},{end_date:e.target.value})),className:"form-modern w-full"})]}),(0,Tt.jsx)("div",{className:"flex items-end",children:(0,Tt.jsx)("button",{onClick:o,disabled:l,className:"btn-primary w-full flex items-center justify-center gap-2",children:l?(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)("div",{className:"loading-shimmer w-4 h-4 rounded-full"}),(0,Tt.jsx)("span",{children:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644..."})]}):(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)("span",{children:"\ud83d\udd04"}),(0,Tt.jsx)("span",{children:"\u062a\u062d\u062f\u064a\u062b \u0627\u0644\u062a\u0642\u0631\u064a\u0631"})]})})})]})}),s&&(0,Tt.jsx)(u,{data:s,type:s.type,title:s.title})]})})},Cs=e=>{let{onScan:t,onClose:s}=e;const[a,l]=(0,n.useState)(!1),r=(0,n.useRef)(null),i=(0,n.useRef)(null);return(0,n.useEffect)((()=>()=>(()=>{r.current&&r.current.srcObject&&r.current.srcObject.getTracks().forEach((e=>e.stop()));l(!1)})()),[]),(0,Tt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",children:(0,Tt.jsxs)("div",{className:"modal-modern p-6 w-full max-w-md",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Tt.jsx)("h3",{className:"text-xl font-bold text-gradient",children:"\ud83d\udcf1 \u0645\u0633\u062d QR Code"}),(0,Tt.jsx)("button",{onClick:s,className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\u2715"})]}),(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsx)("div",{className:"relative bg-black rounded-lg overflow-hidden",style:{aspectRatio:"1"},children:a?(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)("video",{ref:r,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),(0,Tt.jsx)("div",{className:"absolute inset-4 border-2 border-green-400 rounded-lg animate-pulse"}),(0,Tt.jsx)("div",{className:"absolute bottom-4 left-4 right-4",children:(0,Tt.jsxs)("button",{onClick:()=>{if(i.current&&r.current){const e=i.current,s=r.current,a=e.getContext("2d");e.width=s.videoWidth,e.height=s.videoHeight,a.drawImage(s,0,0);e.toDataURL();t({type:"clinic",id:"sample-clinic-id",name:"\u0639\u064a\u0627\u062f\u0629 \u062a\u062c\u0631\u064a\u0628\u064a\u0629",address:"\u0639\u0646\u0648\u0627\u0646 \u062a\u062c\u0631\u064a\u0628\u064a"})}},className:"btn-success w-full flex items-center justify-center gap-2",children:[(0,Tt.jsx)("span",{children:"\ud83d\udcf7"}),(0,Tt.jsx)("span",{children:"\u0645\u0633\u062d \u0627\u0644\u0643\u0648\u062f"})]})})]}):(0,Tt.jsx)("div",{className:"flex items-center justify-center h-full text-white",children:(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcf1"}),(0,Tt.jsx)("p",{className:"text-lg mb-4",children:"\u0627\u0636\u063a\u0637 \u0644\u0628\u062f\u0621 \u0627\u0644\u0645\u0633\u062d"}),(0,Tt.jsx)("button",{onClick:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});r.current&&(r.current.srcObject=e,l(!0))}catch(e){console.error("Error accessing camera:",e),alert("\u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0643\u0627\u0645\u064a\u0631\u0627. \u062a\u0623\u0643\u062f \u0645\u0646 \u0627\u0644\u0633\u0645\u0627\u062d \u0644\u0644\u0645\u0648\u0642\u0639 \u0628\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0643\u0627\u0645\u064a\u0631\u0627.")}},className:"btn-primary",children:"\ud83c\udfa5 \u062a\u0634\u063a\u064a\u0644 \u0627\u0644\u0643\u0627\u0645\u064a\u0631\u0627"})]})})}),(0,Tt.jsx)("canvas",{ref:i,style:{display:"none"}}),(0,Tt.jsx)("div",{className:"text-center",children:(0,Tt.jsx)("p",{className:"text-sm text-gray-500",children:"\ud83d\udccb \u0648\u062c\u0647 \u0627\u0644\u0643\u0627\u0645\u064a\u0631\u0627 \u0646\u062d\u0648 QR Code \u0644\u0644\u0639\u064a\u0627\u062f\u0629 \u0623\u0648 \u0627\u0644\u0645\u0646\u062a\u062c"})})]})]})})},Es=()=>{const[e,t]=(0,n.useState)(navigator.onLine),[s,a]=(0,n.useState)([]);(0,n.useEffect)((()=>{const e=()=>{t(!0),l()},s=()=>t(!1);return window.addEventListener("online",e),window.addEventListener("offline",s),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}}),[]);const l=async()=>{const e=JSON.parse(localStorage.getItem("offline_data")||'{"visits": [], "orders": []}');if(0!==e.visits.length||0!==e.orders.length)try{const t=localStorage.getItem("access_token"),s=await Pt.post("".concat(Dt,"/offline/sync"),e,{headers:{Authorization:"Bearer ".concat(t)}});localStorage.removeItem("offline_data"),a([]),console.log("Offline data synced successfully:",s.data)}catch(t){console.error("Error syncing offline data:",t)}};return e?null:(0,Tt.jsx)("div",{className:"fixed bottom-4 left-4 right-4 bg-orange-100 border border-orange-400 text-orange-800 px-4 py-3 rounded-lg shadow-lg z-50",children:(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("span",{className:"text-xl",children:"\ud83d\udce1"}),(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsx)("div",{className:"font-medium",children:"\u0648\u0636\u0639 \u0639\u062f\u0645 \u0627\u0644\u0627\u062a\u0635\u0627\u0644"}),(0,Tt.jsx)("div",{className:"text-sm",children:"\u0633\u064a\u062a\u0645 \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0639\u0646\u062f \u0639\u0648\u062f\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644"}),s.length>0&&(0,Tt.jsxs)("div",{className:"text-xs mt-1",children:[s.length," \u0639\u0646\u0627\u0635\u0631 \u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629"]})]})]})})},As=()=>{const[e,t]=(0,n.useState)([]),[s,a]=(0,n.useState)([]),[l,r]=(0,n.useState)(!1),[i,c]=(0,n.useState)(null),[o,d]=(0,n.useState)(!1),[u,m]=(0,n.useState)("");(0,n.useEffect)((()=>{x()}),[]);const x=async()=>{r(!0);try{const e=localStorage.getItem("access_token"),s=await Pt.get("".concat(Dt,"/orders?status=MANAGER_APPROVED"),{headers:{Authorization:"Bearer ".concat(e)}});t(s.data);const n=await Pt.get("".concat(Dt,"/orders?status=ACCOUNTING_APPROVED"),{headers:{Authorization:"Bearer ".concat(e)}});a(n.data)}catch(e){console.error("Error fetching orders:",e)}finally{r(!1)}},h=e=>{var t;return(null===(t=e.items)||void 0===t?void 0:t.reduce(((e,t)=>e+t.price*t.quantity),0))||0};return(0,Tt.jsx)("div",{style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh"},children:(0,Tt.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Tt.jsx)("div",{className:"flex items-center justify-between mb-8",children:(0,Tt.jsxs)("div",{className:"flex items-center",children:[(0,Tt.jsx)("div",{className:"w-16 h-16 card-gradient-yellow rounded-full flex items-center justify-center ml-4 glow-pulse",children:(0,Tt.jsx)("span",{className:"text-3xl",children:"\ud83d\udcb0"})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h2",{className:"text-4xl font-bold text-gradient",children:"\u0644\u0648\u062d\u0629 \u062a\u062d\u0643\u0645 \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629"}),(0,Tt.jsx)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:"\u0645\u0631\u0627\u062c\u0639\u0629 \u0648\u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0637\u0644\u0628\u064a\u0627\u062a \u0627\u0644\u0645\u0627\u0644\u064a\u0629"})]})]})}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,Tt.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl font-bold text-orange-600",children:e.length}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0637\u0644\u0628\u064a\u0627\u062a \u062a\u062d\u062a\u0627\u062c \u0645\u0648\u0627\u0641\u0642\u0629"})]}),(0,Tt.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl font-bold text-green-600",children:s.length}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0637\u0644\u0628\u064a\u0627\u062a \u062a\u0645\u062a \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u064a\u0647\u0627"})]}),(0,Tt.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,Tt.jsxs)("div",{className:"text-3xl font-bold text-blue-600",children:[e.reduce(((e,t)=>e+h(t)),0).toLocaleString()," \u0631\u064a\u0627\u0644"]}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0645\u0639\u0644\u0642\u0629"})]})]}),(0,Tt.jsxs)("div",{className:"card-modern mb-8",children:[(0,Tt.jsx)("div",{className:"p-6 border-b",style:{borderColor:"var(--accent-bg)"},children:(0,Tt.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-3",children:[(0,Tt.jsx)("span",{children:"\u23f3"}),(0,Tt.jsxs)("span",{children:["\u0637\u0644\u0628\u064a\u0627\u062a \u062a\u062d\u062a\u0627\u062c \u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629 (",e.length,")"]})]})}),l?(0,Tt.jsxs)("div",{className:"p-12 text-center",children:[(0,Tt.jsx)("div",{className:"loading-shimmer w-16 h-16 rounded-full mx-auto mb-4"}),(0,Tt.jsx)("p",{style:{color:"var(--text-secondary)"},children:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644..."})]}):(0,Tt.jsx)("div",{className:"table-modern",children:(0,Tt.jsxs)("table",{className:"min-w-full",children:[(0,Tt.jsx)("thead",{children:(0,Tt.jsxs)("tr",{children:[(0,Tt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628\u064a\u0629"}),(0,Tt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628"}),(0,Tt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629"}),(0,Tt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a\u0629"}),(0,Tt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0646\u0634\u0627\u0621"}),(0,Tt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a"})]})}),(0,Tt.jsx)("tbody",{children:e.map((e=>(0,Tt.jsxs)("tr",{className:"hover:bg-gray-50 hover:bg-opacity-5 transition-colors",children:[(0,Tt.jsx)("td",{className:"px-6 py-4",children:(0,Tt.jsxs)("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:["#",e.id.substring(0,8)]})}),(0,Tt.jsx)("td",{className:"px-6 py-4",children:(0,Tt.jsx)("div",{style:{color:"var(--text-primary)"},children:e.sales_rep_name||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})}),(0,Tt.jsx)("td",{className:"px-6 py-4",children:(0,Tt.jsx)("div",{style:{color:"var(--text-primary)"},children:e.clinic_name||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})}),(0,Tt.jsx)("td",{className:"px-6 py-4",children:(0,Tt.jsxs)("div",{className:"text-lg font-bold text-green-600",children:[h(e).toLocaleString()," \u0631\u064a\u0627\u0644"]})}),(0,Tt.jsx)("td",{className:"px-6 py-4",children:(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:new Date(e.created_at).toLocaleDateString("ar-EG")})}),(0,Tt.jsx)("td",{className:"px-6 py-4",children:(0,Tt.jsxs)("div",{className:"flex gap-2",children:[(0,Tt.jsx)("button",{onClick:()=>{c(e),d(!0)},className:"btn-success text-xs px-3 py-1",title:"\u0645\u0648\u0627\u0641\u0642\u0629",children:"\u2705 \u0645\u0648\u0627\u0641\u0642\u0629"}),(0,Tt.jsx)("button",{className:"btn-info text-xs px-3 py-1",title:"\u062a\u0641\u0627\u0635\u064a\u0644",children:"\ud83d\udc41\ufe0f \u062a\u0641\u0627\u0635\u064a\u0644"})]})})]},e.id)))})]})})]}),(0,Tt.jsxs)("div",{className:"card-modern",children:[(0,Tt.jsx)("div",{className:"p-6 border-b",style:{borderColor:"var(--accent-bg)"},children:(0,Tt.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-3",children:[(0,Tt.jsx)("span",{children:"\u2705"}),(0,Tt.jsxs)("span",{children:["\u0637\u0644\u0628\u064a\u0627\u062a \u062a\u0645\u062a \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u064a\u0647\u0627 (",s.length,")"]})]})}),(0,Tt.jsx)("div",{className:"table-modern",children:(0,Tt.jsxs)("table",{className:"min-w-full",children:[(0,Tt.jsx)("thead",{children:(0,Tt.jsxs)("tr",{children:[(0,Tt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628\u064a\u0629"}),(0,Tt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628"}),(0,Tt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629"}),(0,Tt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a\u0629"}),(0,Tt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629"}),(0,Tt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u062d\u0627\u0644\u0629"})]})}),(0,Tt.jsx)("tbody",{children:s.map((e=>(0,Tt.jsxs)("tr",{className:"hover:bg-gray-50 hover:bg-opacity-5 transition-colors",children:[(0,Tt.jsx)("td",{className:"px-6 py-4",children:(0,Tt.jsxs)("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:["#",e.id.substring(0,8)]})}),(0,Tt.jsx)("td",{className:"px-6 py-4",children:(0,Tt.jsx)("div",{style:{color:"var(--text-primary)"},children:e.sales_rep_name||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})}),(0,Tt.jsx)("td",{className:"px-6 py-4",children:(0,Tt.jsx)("div",{style:{color:"var(--text-primary)"},children:e.clinic_name||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})}),(0,Tt.jsx)("td",{className:"px-6 py-4",children:(0,Tt.jsxs)("div",{className:"text-lg font-bold text-green-600",children:[h(e).toLocaleString()," \u0631\u064a\u0627\u0644"]})}),(0,Tt.jsx)("td",{className:"px-6 py-4",children:(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:e.approved_at_accounting?new Date(e.approved_at_accounting).toLocaleDateString("ar-EG"):"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})}),(0,Tt.jsx)("td",{className:"px-6 py-4",children:(0,Tt.jsx)("span",{className:"badge-modern badge-success",children:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u062e\u0632\u0646"})})]},e.id)))})]})})]}),o&&i&&(0,Tt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Tt.jsxs)("div",{className:"modal-modern p-8 w-full max-w-2xl",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Tt.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\ud83d\udcb0 \u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0637\u0644\u0628\u064a\u0629"}),(0,Tt.jsx)("button",{onClick:()=>d(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\u2715"})]}),(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"card-modern p-4",children:[(0,Tt.jsx)("h4",{className:"font-bold mb-3",children:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0637\u0644\u0628\u064a\u0629:"}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"font-medium",children:"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628\u064a\u0629:"}),(0,Tt.jsxs)("span",{className:"mr-2",children:["#",i.id.substring(0,8)]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"font-medium",children:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628:"}),(0,Tt.jsx)("span",{className:"mr-2",children:i.sales_rep_name})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"font-medium",children:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629:"}),(0,Tt.jsx)("span",{className:"mr-2",children:i.clinic_name})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{className:"font-medium",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0642\u064a\u0645\u0629:"}),(0,Tt.jsxs)("span",{className:"mr-2 text-green-600 font-bold",children:[h(i).toLocaleString()," \u0631\u064a\u0627\u0644"]})]})]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629:"}),(0,Tt.jsx)("textarea",{value:u,onChange:e=>m(e.target.value),rows:4,className:"form-modern w-full",placeholder:"\u0623\u0636\u0641 \u0623\u064a \u0645\u0644\u0627\u062d\u0638\u0627\u062a \u062e\u0627\u0635\u0629 \u0628\u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0645\u0627\u0644\u064a\u0629..."})]}),(0,Tt.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Tt.jsxs)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("access_token");await Pt.post("".concat(Dt,"/orders/").concat(e,"/approve"),{notes:u},{headers:{Authorization:"Bearer ".concat(t)}}),d(!1),m(""),c(null),await x()}catch(t){console.error("Error approving order:",t),alert("\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0627\u0644\u0637\u0644\u0628\u064a\u0629")}})(i.id),className:"btn-success flex-1 flex items-center justify-center gap-2",children:[(0,Tt.jsx)("span",{children:"\u2705"}),(0,Tt.jsx)("span",{children:"\u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0627\u0644\u0637\u0644\u0628\u064a\u0629"})]}),(0,Tt.jsx)("button",{onClick:()=>d(!1),className:"btn-secondary flex-1",children:"\u0625\u0644\u063a\u0627\u0621"})]})]})]})})]})})},Ls=()=>{const[e,t]=(0,n.useState)("dashboard"),[s,a]=(0,n.useState)([]),[l,r]=(0,n.useState)([]),[i,c]=(0,n.useState)([]),[o,d]=(0,n.useState)({}),[u,m]=(0,n.useState)([]),[x,h]=(0,n.useState)(!1),[p,g]=(0,n.useState)(""),[f,v]=(0,n.useState)(""),{language:b}=(0,n.useContext)(qt),j=[{id:"WH_CAIRO",name:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0642\u0627\u0647\u0631\u0629",city:"Cairo",region:"Greater Cairo"},{id:"WH_ALEX",name:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0625\u0633\u0643\u0646\u062f\u0631\u064a\u0629",city:"Alexandria",region:"Alexandria"},{id:"WH_GIZA",name:"\u0645\u062e\u0632\u0646 \u0627\u0644\u062c\u064a\u0632\u0629",city:"Giza",region:"Greater Cairo"},{id:"WH_MANSOURA",name:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0645\u0646\u0635\u0648\u0631\u0629",city:"Mansoura",region:"Dakahlia"},{id:"WH_ASWAN",name:"\u0645\u062e\u0632\u0646 \u0623\u0633\u0648\u0627\u0646",city:"Aswan",region:"Upper Egypt"}],y={en:{title:"\ud83c\udfea Comprehensive Warehouse Management",subtitle:"Complete management of warehouses, inventory and orders",dashboard:"Dashboard",inventory:"Inventory Management",orders:"Orders",movements:"Movement Log",warehouseOverview:"Warehouse Overview",urgentActions:"\ud83d\udea8 Urgent Actions Required",lowStock:"Low Stock Alert",pendingApproval:"Pending Approval",criticalIssues:"Critical Issues"},ar:{title:"\ud83c\udfea \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u062e\u0627\u0632\u0646 \u0627\u0644\u0634\u0627\u0645\u0644\u0629",subtitle:"\u0625\u062f\u0627\u0631\u0629 \u0643\u0627\u0645\u0644\u0629 \u0644\u0644\u0645\u062e\u0627\u0632\u0646 \u0648\u0627\u0644\u0645\u062e\u0632\u0648\u0646 \u0648\u0627\u0644\u0637\u0644\u0628\u0627\u062a",dashboard:"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645",inventory:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u062e\u0632\u0646",orders:"\u0627\u0644\u0637\u0644\u0628\u0627\u062a",movements:"\u0633\u062c\u0644 \u0627\u0644\u062d\u0631\u0643\u0627\u062a",warehouseOverview:"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0627\u0644\u0645\u062e\u0627\u0632\u0646",urgentActions:"\ud83d\udea8 \u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0639\u0627\u062c\u0644\u0629 \u0645\u0637\u0644\u0648\u0628\u0629",lowStock:"\u062a\u0646\u0628\u064a\u0647 \u0646\u0642\u0635 \u0645\u062e\u0632\u0648\u0646",pendingApproval:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629",criticalIssues:"\u0645\u0634\u0627\u0643\u0644 \u062d\u0631\u062c\u0629"}},N=y[b]||y.en;(0,n.useEffect)((()=>{w()}),[]);const w=async()=>{h(!0);try{const e=localStorage.getItem("access_token"),[t,s,n,l,i]=await Promise.all([Pt.get("".concat(Dt,"/warehouses"),{headers:{Authorization:"Bearer ".concat(e)}}),Pt.get("".concat(Dt,"/dashboard/warehouse-stats"),{headers:{Authorization:"Bearer ".concat(e)}}),Pt.get("".concat(Dt,"/inventory"),{headers:{Authorization:"Bearer ".concat(e)}}),Pt.get("".concat(Dt,"/orders/pending"),{headers:{Authorization:"Bearer ".concat(e)}}),Pt.get("".concat(Dt,"/warehouses/movements"),{headers:{Authorization:"Bearer ".concat(e)}})]);a(t.data),d(s.data),r(n.data),c(l.data),m(i.data)}catch(p){a(j),d({total_value:485e3,low_stock_count:12,pending_orders_count:8,movement_today:45}),r([{id:1,name:"\u0623\u0643\u0633\u0632\u0648\u0645 500\u0645\u062c",warehouse:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0642\u0627\u0647\u0631\u0629",quantity:120,min_stock:50,unit_price:25.5,category:"\u0623\u062f\u0648\u064a\u0629"},{id:2,name:"\u0641\u064a\u062a\u0627\u0645\u064a\u0646 \u062f3",warehouse:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0625\u0633\u0643\u0646\u062f\u0631\u064a\u0629",quantity:8,min_stock:30,unit_price:45,category:"\u0641\u064a\u062a\u0627\u0645\u064a\u0646\u0627\u062a"},{id:3,name:"\u0628\u0627\u0631\u0627\u0633\u064a\u062a\u0627\u0645\u0648\u0644",warehouse:"\u0645\u062e\u0632\u0646 \u0627\u0644\u062c\u064a\u0632\u0629",quantity:200,min_stock:100,unit_price:12.75,category:"\u0645\u0633\u0643\u0646\u0627\u062a"},{id:4,name:"\u0623\u0648\u0645\u064a\u062c\u0627 3",warehouse:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0645\u0646\u0635\u0648\u0631\u0629",quantity:15,min_stock:25,unit_price:65,category:"\u0645\u0643\u0645\u0644\u0627\u062a"},{id:5,name:"\u0643\u0627\u0644\u0633\u064a\u0648\u0645 \u0645\u063a\u0646\u064a\u0633\u064a\u0648\u0645",warehouse:"\u0645\u062e\u0632\u0646 \u0623\u0633\u0648\u0627\u0646",quantity:75,min_stock:40,unit_price:38.25,category:"\u0645\u0643\u0645\u0644\u0627\u062a"}]),c([{id:"ORD-001",clinic:"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0646\u0648\u0631",items:5,total:1250,status:"pending_manager",sales_rep:"\u0645\u062d\u0645\u0648\u062f \u0639\u0644\u064a",warehouse:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0642\u0627\u0647\u0631\u0629"},{id:"ORD-002",clinic:"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0634\u0641\u0627\u0621",items:3,total:850,status:"pending_accounting",sales_rep:"\u0623\u062d\u0645\u062f \u062d\u0633\u0646",warehouse:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0625\u0633\u0643\u0646\u062f\u0631\u064a\u0629"},{id:"ORD-003",clinic:"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0623\u0645\u0644",items:7,total:2100,status:"pending_warehouse",sales_rep:"\u0641\u0627\u0637\u0645\u0629 \u0645\u062d\u0645\u062f",warehouse:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0645\u0646\u0635\u0648\u0631\u0629"}]),m([{id:1,date:"2024-01-24",product:"\u0623\u0643\u0633\u0632\u0648\u0645 500\u0645\u062c",requester:"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0646\u0648\u0631",region:"\u0627\u0644\u0642\u0627\u0647\u0631\u0629",movement_type:"\u0635\u0631\u0641",order_type:"\u0637\u0644\u0628\u064a\u0629",quantity:10,sales_rep:"\u0645\u062d\u0645\u0648\u062f \u0639\u0644\u064a",doctor:"\u062f. \u0623\u062d\u0645\u062f \u0645\u062d\u0645\u062f",reason:"\u0637\u0644\u0628\u064a\u0629 \u0639\u0627\u062f\u064a\u0629",comments:"\u062a\u0645 \u0627\u0644\u0635\u0631\u0641 \u0628\u0646\u062c\u0627\u062d",status:"completed"},{id:2,date:"2024-01-24",product:"\u0641\u064a\u062a\u0627\u0645\u064a\u0646 \u062f3",requester:"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0634\u0641\u0627\u0621",region:"\u0627\u0644\u0625\u0633\u0643\u0646\u062f\u0631\u064a\u0629",movement_type:"\u0635\u0631\u0641",order_type:"\u062f\u064a\u0645\u0648",quantity:5,sales_rep:"\u0623\u062d\u0645\u062f \u062d\u0633\u0646",doctor:"\u062f. \u0641\u0627\u0637\u0645\u0629 \u0639\u0644\u064a",reason:"\u0639\u064a\u0646\u0629 \u0645\u062c\u0627\u0646\u064a\u0629",comments:"\u0644\u0644\u062a\u062c\u0631\u0628\u0629",status:"pending_approval"},{id:3,date:"2024-01-23",product:"\u0628\u0627\u0631\u0627\u0633\u064a\u062a\u0627\u0645\u0648\u0644",requester:"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0623\u0645\u0644",region:"\u0627\u0644\u062c\u064a\u0632\u0629",movement_type:"\u0625\u062f\u062e\u0627\u0644",order_type:"\u062a\u0632\u0648\u064a\u062f",quantity:100,sales_rep:"\u0625\u0628\u0631\u0627\u0647\u064a\u0645 \u062e\u0627\u0644\u062f",doctor:"",reason:"\u062a\u0632\u0648\u064a\u062f \u0645\u062e\u0632\u0648\u0646",comments:"\u0634\u062d\u0646\u0629 \u062c\u062f\u064a\u062f\u0629",status:"completed"}]),console.error("Using mock data:",p)}finally{h(!1)}};return(0,Tt.jsx)("div",{style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh"},children:(0,Tt.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Tt.jsx)("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:(0,Tt.jsxs)("div",{className:"flex items-center",children:[(0,Tt.jsx)("div",{className:"w-12 h-12 md:w-16 md:h-16 card-gradient-purple rounded-full flex items-center justify-center ml-4 glow-pulse",children:(0,Tt.jsx)("span",{className:"text-xl md:text-3xl",children:"\ud83c\udfea"})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h2",{className:"text-2xl md:text-4xl font-bold text-gradient",children:N.title}),(0,Tt.jsx)("p",{className:"text-sm md:text-lg",style:{color:"var(--text-secondary)"},children:N.subtitle})]})]})}),p&&(0,Tt.jsxs)("div",{className:"alert-modern alert-error mb-6 scale-in",children:[(0,Tt.jsx)("span",{className:"ml-2",children:"\u274c"}),p]}),f&&(0,Tt.jsxs)("div",{className:"alert-modern alert-success mb-6 scale-in",children:[(0,Tt.jsx)("span",{className:"ml-2",children:"\u2705"}),f]}),(0,Tt.jsx)("div",{className:"mb-8",children:(0,Tt.jsx)("nav",{className:"flex space-x-2 overflow-x-auto bg-white/80 backdrop-blur-lg rounded-2xl p-2 shadow-lg scrollbar-hide",style:{direction:"ltr"},children:[{key:"dashboard",label:N.dashboard,icon:"\ud83d\udcca"},{key:"inventory",label:N.inventory,icon:"\ud83d\udce6"},{key:"orders",label:N.orders,icon:"\ud83d\uded2"},{key:"movements",label:N.movements,icon:"\ud83d\udccb"}].map((s=>(0,Tt.jsxs)("button",{onClick:()=>t(s.key),className:"nav-tab ".concat(e===s.key?"active":""," flex items-center whitespace-nowrap px-4 py-2 text-sm md:text-base"),children:[(0,Tt.jsx)("span",{className:"ml-2",children:s.icon}),(0,Tt.jsx)("span",{className:"hidden sm:inline",children:s.label})]},s.key)))})}),"dashboard"===e&&(0,Tt.jsx)(zs,{stats:o,warehouses:s,inventory:l,loading:x,language:b}),"inventory"===e&&(0,Tt.jsx)(Fs,{inventory:l,warehouses:s,onRefresh:w,language:b}),"orders"===e&&(0,Tt.jsx)(Bs,{orders:i,onRefresh:w,language:b}),"movements"===e&&(0,Tt.jsx)(Us,{movements:u,language:b})]})})},zs=e=>{var t;let{stats:s,warehouses:a,inventory:n,loading:l,language:r}=e;const i="ar"===r?{warehouseOverview:"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0627\u0644\u0645\u062e\u0627\u0632\u0646",urgentActions:"\ud83d\udea8 \u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0639\u0627\u062c\u0644\u0629 \u0645\u0637\u0644\u0648\u0628\u0629",totalValue:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0642\u064a\u0645\u0629",lowStock:"\u0646\u0642\u0635 \u0645\u062e\u0632\u0648\u0646",pendingOrders:"\u0637\u0644\u0628\u0627\u062a \u0645\u0639\u0644\u0642\u0629",todayMovements:"\u062d\u0631\u0643\u0627\u062a \u0627\u0644\u064a\u0648\u0645",warehouseDetails:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0645\u062e\u0627\u0632\u0646",criticalAlerts:"\u062a\u0646\u0628\u064a\u0647\u0627\u062a \u062d\u0631\u062c\u0629",needsAttention:"\u064a\u062d\u062a\u0627\u062c 3 \u0639\u0628\u0648\u0627\u062a \u0627\u0643\u0633\u0632\u0648\u0645",needsApproval:"\u064a\u062d\u062a\u0627\u062c \u0645\u0648\u0627\u0641\u0642\u0629 \u0623\u0645\u064a\u0646 \u0627\u0644\u0645\u062e\u0632\u0646 \u0639\u0644\u0649 \u0627\u0644\u0637\u0644\u0628\u064a\u0629",stockShortage:"\u064a\u0648\u062c\u062f \u0646\u0642\u0635 \u0641\u064a \u0645\u0646\u062a\u062c"}:{warehouseOverview:"Warehouse Overview",urgentActions:"\ud83d\udea8 Urgent Actions Required",totalValue:"Total Value",lowStock:"Low Stock",pendingOrders:"Pending Orders",todayMovements:"Today Movements",warehouseDetails:"Warehouse Details",criticalAlerts:"Critical Alerts",needsAttention:"Needs 3 units of Axozom",needsApproval:"Needs warehouse manager approval",stockShortage:"Stock shortage in product"},c=[{warehouse:"\u0645\u062e\u0632\u0646 \u0623\u0628\u064a\u0633",message:i.needsAttention,type:"stock",priority:"high"},{warehouse:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0639\u0635\u0627\u0641\u0631\u0629",message:i.needsApproval,type:"approval",priority:"medium"},{warehouse:"\u0645\u062e\u0632\u0646 \u062c\u0644\u064a\u0645",message:"".concat(i.stockShortage," \u0641\u064a\u062a\u0627\u0645\u064a\u0646 \u062f3"),type:"shortage",priority:"high"}];return(0,Tt.jsxs)("div",{className:"space-y-8",children:[(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Tt.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,Tt.jsxs)("div",{className:"text-3xl font-bold text-green-600",children:[(null===(t=s.total_value)||void 0===t?void 0:t.toLocaleString())||"485,000"," \u062c\u0646\u064a\u0647"]}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:i.totalValue})]}),(0,Tt.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl font-bold text-red-600",children:s.low_stock_count||12}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:i.lowStock})]}),(0,Tt.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl font-bold text-orange-600",children:s.pending_orders_count||8}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:i.pendingOrders})]}),(0,Tt.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:s.movement_today||45}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:i.todayMovements})]})]}),(0,Tt.jsxs)("div",{className:"card-modern p-6",children:[(0,Tt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\ud83d\udea8"}),(0,Tt.jsx)("span",{children:i.urgentActions})]}),(0,Tt.jsx)("div",{className:"space-y-3",children:c.map(((e,t)=>(0,Tt.jsx)("div",{className:"p-4 rounded-lg border-l-4 ".concat("high"===e.priority?"bg-red-50 border-red-500":"bg-orange-50 border-orange-500"),children:(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"font-bold text-gray-800",children:e.warehouse}),(0,Tt.jsx)("div",{className:"text-sm text-gray-600",children:e.message})]}),(0,Tt.jsx)("button",{className:"btn-sm ".concat("high"===e.priority?"btn-danger":"btn-warning"),children:"ar"===r?"\u0639\u0631\u0636":"View"})]})},t)))})]}),(0,Tt.jsxs)("div",{className:"card-modern p-6",children:[(0,Tt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\ud83c\udfea"}),(0,Tt.jsx)("span",{children:i.warehouseDetails})]}),(0,Tt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((e=>{const t=n.filter((t=>t.warehouse===e.name)),s=t.filter((e=>e.quantity<=e.min_stock));return(0,Tt.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 p-6 rounded-lg",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h4",{className:"font-bold text-lg text-gray-800",children:e.name}),(0,Tt.jsxs)("p",{className:"text-sm text-gray-600",children:[e.city," \u2022 ",e.region]})]}),(0,Tt.jsx)("div",{className:"w-4 h-4 rounded-full ".concat(s.length>0?"bg-red-500":"bg-green-500")})]}),(0,Tt.jsxs)("div",{className:"space-y-2",children:[(0,Tt.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Tt.jsxs)("span",{children:["ar"===r?"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a":"Total Products",":"]}),(0,Tt.jsx)("span",{className:"font-bold",children:t.length})]}),(0,Tt.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Tt.jsxs)("span",{children:["ar"===r?"\u0646\u0642\u0635 \u0645\u062e\u0632\u0648\u0646":"Low Stock",":"]}),(0,Tt.jsx)("span",{className:"font-bold ".concat(s.length>0?"text-red-600":"text-green-600"),children:s.length})]}),(0,Tt.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Tt.jsxs)("span",{children:["ar"===r?"\u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u062a\u0642\u062f\u064a\u0631\u064a\u0629":"Estimated Value",":"]}),(0,Tt.jsxs)("span",{className:"font-bold text-blue-600",children:[t.reduce(((e,t)=>e+t.quantity*t.unit_price),0).toLocaleString()," ","ar"===r?"\u062c\u0646\u064a\u0647":"EGP"]})]})]}),(0,Tt.jsx)("button",{className:"btn-primary w-full mt-4 text-sm",children:"ar"===r?"\u0639\u0631\u0636 \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644":"View Details"})]},e.id)}))})]})]})},Ps=e=>{let{user:t}=e;const[s,a]=(0,n.useState)([]),[l,r]=(0,n.useState)(!0),[i,c]=(0,n.useState)(!1),[o,u]=(0,n.useState)(null),[m,x]=(0,n.useState)((new Date).toISOString().slice(0,7)),{language:h}=It(),p="ar"===h?{title:"\u0625\u062f\u0627\u0631\u0629 \u062e\u0637\u062a\u064a",addPlan:"\u0625\u0636\u0627\u0641\u0629 \u062e\u0637\u0629 \u062c\u062f\u064a\u062f\u0629",editPlan:"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u062e\u0637\u0629",month:"\u0627\u0644\u0634\u0647\u0631",clinicVisits:"\u0632\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a",targets:"\u0627\u0644\u0623\u0647\u062f\u0627\u0641",notes:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a",save:"\u062d\u0641\u0638",cancel:"\u0625\u0644\u063a\u0627\u0621",delete:"\u062d\u0630\u0641",edit:"\u062a\u0639\u062f\u064a\u0644",noPlans:"\u0644\u0627 \u062a\u0648\u062c\u062f \u062e\u0637\u0637 \u0644\u0644\u0634\u0647\u0631 \u0627\u0644\u0645\u062d\u062f\u062f",loading:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644...",selectClinic:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0639\u064a\u0627\u062f\u0629",visitDate:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0632\u064a\u0627\u0631\u0629",visitTime:"\u0648\u0642\u062a \u0627\u0644\u0632\u064a\u0627\u0631\u0629",targetSales:"\u0647\u062f\u0641 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a",targetVisits:"\u0639\u062f\u062f \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u0647\u062f\u0641\u0629",addVisit:"\u0625\u0636\u0627\u0641\u0629 \u0632\u064a\u0627\u0631\u0629",removeVisit:"\u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u0632\u064a\u0627\u0631\u0629"}:{title:"My Plan Management",addPlan:"Add New Plan",editPlan:"Edit Plan",month:"Month",clinicVisits:"Clinic Visits",targets:"Targets",notes:"Notes",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",noPlans:"No plans for selected month",loading:"Loading...",selectClinic:"Select Clinic",visitDate:"Visit Date",visitTime:"Visit Time",targetSales:"Sales Target",targetVisits:"Target Visits",addVisit:"Add Visit",removeVisit:"Remove Visit"},[g,f]=(0,n.useState)({month:m,clinic_visits:[{clinic_id:"",visit_date:"",visit_time:"",notes:""}],targets:{sales_target:0,visits_target:0},notes:""}),[v,b]=(0,n.useState)([]);(0,n.useEffect)((()=>{j(),y()}),[m]);const j=async()=>{try{const e=localStorage.getItem("access_token"),t=await Pt.get("".concat(Dt,"/planning/monthly?month=").concat(m),{headers:{Authorization:"Bearer ".concat(e)}});a(t.data||[])}catch(e){console.error("Error fetching plans:",e),a([])}finally{r(!1)}},y=async()=>{try{const e=localStorage.getItem("access_token"),t=await Pt.get("".concat(Dt,"/clinics"),{headers:{Authorization:"Bearer ".concat(e)}});b(t.data||[])}catch(e){console.error("Error fetching clinics:",e),b([])}},N=()=>{f({month:m,clinic_visits:[{clinic_id:"",visit_date:"",visit_time:"",notes:""}],targets:{sales_target:0,visits_target:0},notes:""})},w=(e,t,s)=>{const a=[...g.clinic_visits];a[e][t]=s,f(d(d({},g),{},{clinic_visits:a}))};return l?(0,Tt.jsxs)("div",{className:"flex items-center justify-center h-64",children:[(0,Tt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),(0,Tt.jsx)("span",{className:"mr-3",children:p.loading})]}):(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsx)("h2",{className:"text-2xl font-bold text-gradient",children:p.title}),(0,Tt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Tt.jsx)("input",{type:"month",value:m,onChange:e=>x(e.target.value),className:"form-modern"}),(0,Tt.jsxs)("button",{onClick:()=>{N(),c(!0)},className:"btn-modern btn-primary",children:["+ ",p.addPlan]})]})]}),0===s.length?(0,Tt.jsxs)("div",{className:"text-center py-12",children:[(0,Tt.jsx)("span",{className:"text-4xl mb-4 block",children:"\ud83d\udcc5"}),(0,Tt.jsx)("p",{className:"text-lg font-semibold",children:p.noPlans})]}):(0,Tt.jsx)("div",{className:"grid gap-6",children:s.map((e=>{var t,s,a;return(0,Tt.jsxs)("div",{className:"glass-effect rounded-xl p-6",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tt.jsxs)("h3",{className:"text-lg font-bold",children:["ar"===h?"\u062e\u0637\u0629 \u0634\u0647\u0631":"Plan for"," ",e.month]}),(0,Tt.jsxs)("div",{className:"flex gap-2",children:[(0,Tt.jsx)("button",{onClick:()=>{u(e),f(e),c(!0)},className:"btn-modern btn-secondary text-sm",children:p.edit}),(0,Tt.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("ar"===h?"\u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u062e\u0637\u0629\u061f":"Are you sure you want to delete this plan?"))try{const t=localStorage.getItem("access_token");await Pt.delete("".concat(Dt,"/planning/monthly/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),j()}catch(t){console.error("Error deleting plan:",t),alert("ar"===h?"\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062d\u0630\u0641 \u0627\u0644\u062e\u0637\u0629":"Error deleting plan")}})(e.id),className:"btn-modern btn-danger text-sm",children:p.delete})]})]}),(0,Tt.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h4",{className:"font-bold mb-3",children:p.clinicVisits}),(0,Tt.jsx)("div",{className:"space-y-2",children:null===(t=e.clinic_visits)||void 0===t?void 0:t.map(((e,t)=>(0,Tt.jsxs)("div",{className:"p-3 bg-opacity-20 bg-gray-500 rounded-lg",children:[(0,Tt.jsxs)("div",{className:"text-sm",children:[(0,Tt.jsx)("strong",{children:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629:"})," ",e.clinic_name||e.clinic_id]}),(0,Tt.jsxs)("div",{className:"text-sm",children:[(0,Tt.jsx)("strong",{children:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e:"})," ",e.visit_date," ",e.visit_time&&"\u0641\u064a ".concat(e.visit_time)]}),e.notes&&(0,Tt.jsxs)("div",{className:"text-sm",children:[(0,Tt.jsx)("strong",{children:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a:"})," ",e.notes]})]},t)))})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h4",{className:"font-bold mb-3",children:p.targets}),(0,Tt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("strong",{children:[p.targetSales,":"]})," ",(null===(s=e.targets)||void 0===s?void 0:s.sales_target)||0]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("strong",{children:[p.targetVisits,":"]})," ",(null===(a=e.targets)||void 0===a?void 0:a.visits_target)||0]})]}),e.notes&&(0,Tt.jsxs)("div",{className:"mt-4",children:[(0,Tt.jsx)("h4",{className:"font-bold mb-2",children:p.notes}),(0,Tt.jsx)("p",{className:"text-sm opacity-75",children:e.notes})]})]})]})]},e.id)}))}),i&&(0,Tt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Tt.jsxs)("div",{className:"glass-effect rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto p-6",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Tt.jsx)("h3",{className:"text-xl font-bold",children:o?p.editPlan:p.addPlan}),(0,Tt.jsx)("button",{onClick:()=>{c(!1),u(null)},className:"text-red-400 hover:text-red-300",children:"\u2715"})]}),(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tt.jsx)("h4",{className:"font-bold",children:p.clinicVisits}),(0,Tt.jsxs)("button",{onClick:()=>{f(d(d({},g),{},{clinic_visits:[...g.clinic_visits,{clinic_id:"",visit_date:"",visit_time:"",notes:""}]}))},className:"btn-modern btn-primary text-sm",children:["+ ",p.addVisit]})]}),g.clinic_visits.map(((e,t)=>(0,Tt.jsxs)("div",{className:"glass-effect p-4 rounded-lg mb-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Tt.jsxs)("span",{className:"font-medium",children:["\u0632\u064a\u0627\u0631\u0629 ",t+1]}),g.clinic_visits.length>1&&(0,Tt.jsx)("button",{onClick:()=>(e=>{f(d(d({},g),{},{clinic_visits:g.clinic_visits.filter(((t,s)=>s!==e))}))})(t),className:"text-red-400 hover:text-red-300 text-sm",children:p.removeVisit})]}),(0,Tt.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Tt.jsxs)("select",{value:e.clinic_id,onChange:e=>w(t,"clinic_id",e.target.value),className:"form-modern",children:[(0,Tt.jsx)("option",{value:"",children:p.selectClinic}),v.map((e=>(0,Tt.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,Tt.jsx)("input",{type:"date",value:e.visit_date,onChange:e=>w(t,"visit_date",e.target.value),className:"form-modern",placeholder:p.visitDate}),(0,Tt.jsx)("input",{type:"time",value:e.visit_time,onChange:e=>w(t,"visit_time",e.target.value),className:"form-modern",placeholder:p.visitTime}),(0,Tt.jsx)("input",{type:"text",value:e.notes,onChange:e=>w(t,"notes",e.target.value),className:"form-modern",placeholder:p.notes})]})]},t)))]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h4",{className:"font-bold mb-4",children:p.targets}),(0,Tt.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:p.targetSales}),(0,Tt.jsx)("input",{type:"number",value:g.targets.sales_target,onChange:e=>f(d(d({},g),{},{targets:d(d({},g.targets),{},{sales_target:parseFloat(e.target.value)||0})})),className:"form-modern w-full"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:p.targetVisits}),(0,Tt.jsx)("input",{type:"number",value:g.targets.visits_target,onChange:e=>f(d(d({},g),{},{targets:d(d({},g.targets),{},{visits_target:parseInt(e.target.value)||0})})),className:"form-modern w-full"})]})]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:p.notes}),(0,Tt.jsx)("textarea",{value:g.notes,onChange:e=>f(d(d({},g),{},{notes:e.target.value})),className:"form-modern w-full h-24",placeholder:p.notes})]}),(0,Tt.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,Tt.jsx)("button",{onClick:()=>{c(!1),u(null)},className:"btn-modern btn-secondary",children:p.cancel}),(0,Tt.jsx)("button",{onClick:async()=>{try{const e=localStorage.getItem("access_token"),s=d(d({},g),{},{rep_id:t.id,month:m});o?await Pt.put("".concat(Dt,"/planning/monthly/").concat(o.id),s,{headers:{Authorization:"Bearer ".concat(e)}}):await Pt.post("".concat(Dt,"/planning/monthly"),s,{headers:{Authorization:"Bearer ".concat(e)}}),c(!1),u(null),N(),j()}catch(e){console.error("Error saving plan:",e),alert("ar"===h?"\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062d\u0641\u0638 \u0627\u0644\u062e\u0637\u0629":"Error saving plan")}},className:"btn-modern btn-primary",children:p.save})]})]})]})})]})},Ts=()=>{var e,t,s,a,l,r,i;const[c,o]=(0,n.useState)([]),[d,u]=(0,n.useState)([]),[m,x]=(0,n.useState)(!0),[h,p]=(0,n.useState)("clinics"),[g,f]=(0,n.useState)(null),[v,b]=(0,n.useState)(!1),{language:j}=It(),y="ar"===j?{title:"\u062a\u062a\u0628\u0639 \u0627\u0644\u0645\u0648\u0627\u0642\u0639 \u0627\u0644\u0633\u0631\u064a",clinicRegistrations:"\u062a\u0633\u062c\u064a\u0644\u0627\u062a \u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a",orderLocations:"\u0645\u0648\u0627\u0642\u0639 \u0627\u0644\u0637\u0644\u0628\u0627\u062a",clinicName:"\u0627\u0633\u0645 \u0627\u0644\u0639\u064a\u0627\u062f\u0629",repName:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062f\u0648\u0628",registrationDate:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u0633\u062c\u064a\u0644",orderDate:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0637\u0644\u0628",clinicLocation:"\u0645\u0648\u0642\u0639 \u0627\u0644\u0639\u064a\u0627\u062f\u0629",repLocation:"\u0645\u0648\u0642\u0639 \u0627\u0644\u0645\u0646\u062f\u0648\u0628",distance:"\u0627\u0644\u0645\u0633\u0627\u0641\u0629",viewOnMap:"\u0639\u0631\u0636 \u0639\u0644\u0649 \u0627\u0644\u062e\u0631\u064a\u0637\u0629",orderTotal:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0637\u0644\u0628",noData:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a",loading:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644...",close:"\u0625\u063a\u0644\u0627\u0642",meters:"\u0645\u062a\u0631",kilometers:"\u0643\u064a\u0644\u0648\u0645\u062a\u0631"}:{title:"Secret Location Tracking",clinicRegistrations:"Clinic Registrations",orderLocations:"Order Locations",clinicName:"Clinic Name",repName:"Rep Name",registrationDate:"Registration Date",orderDate:"Order Date",clinicLocation:"Clinic Location",repLocation:"Rep Location",distance:"Distance",viewOnMap:"View on Map",orderTotal:"Order Total",noData:"No data available",loading:"Loading...",close:"Close",meters:"meters",kilometers:"kilometers"};(0,n.useEffect)((()=>{N()}),[h]);const N=async()=>{x(!0);try{const e=localStorage.getItem("access_token");if("clinics"===h){const t=await Pt.get("".concat(Dt,"/admin/clinic-registrations-with-locations"),{headers:{Authorization:"Bearer ".concat(e)}});o(t.data||[])}else{const t=await Pt.get("".concat(Dt,"/admin/orders-with-locations"),{headers:{Authorization:"Bearer ".concat(e)}});u(t.data||[])}}catch(e){console.error("Error fetching location data:",e)}finally{x(!1)}},w=(e,t,s,a)=>{if(!e||!t||!s||!a)return null;const n=(s-e)*Math.PI/180,l=(a-t)*Math.PI/180,r=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e*Math.PI/180)*Math.cos(s*Math.PI/180)*Math.sin(l/2)*Math.sin(l/2);return 6371*(2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r)))*1e3},_=e=>e||0===e?e<1e3?"".concat(Math.round(e)," ").concat(y.meters):"".concat((e/1e3).toFixed(2)," ").concat(y.kilometers):"-",k=e=>{if(!e)return"-";return new Date(e).toLocaleDateString("ar-EG",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})},S=e=>e||0===e?e<50?"text-green-600":e<200?"text-yellow-600":"text-red-600":"text-gray-400";return m?(0,Tt.jsxs)("div",{className:"flex items-center justify-center h-64",children:[(0,Tt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),(0,Tt.jsx)("span",{className:"mr-3",children:y.loading})]}):(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("h2",{className:"text-2xl font-bold text-gradient flex items-center gap-3",children:[(0,Tt.jsx)("span",{children:"\ud83d\udd75\ufe0f\u200d\u2642\ufe0f"}),y.title]}),(0,Tt.jsx)("div",{className:"text-sm opacity-75 bg-red-100 text-red-800 px-3 py-1 rounded-full",children:"\ud83d\udd12 \u0644\u0644\u0623\u062f\u0645\u0646 \u0641\u0642\u0637 - \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0633\u0631\u064a\u0629"})]}),(0,Tt.jsxs)("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:[(0,Tt.jsxs)("button",{onClick:()=>p("clinics"),className:"flex-1 px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("clinics"===h?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:["\ud83c\udfe5 ",y.clinicRegistrations]}),(0,Tt.jsxs)("button",{onClick:()=>p("orders"),className:"flex-1 px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("orders"===h?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:["\ud83d\udce6 ",y.orderLocations]})]}),"clinics"===h&&(0,Tt.jsx)("div",{className:"glass-effect rounded-xl overflow-hidden",children:0===c.length?(0,Tt.jsxs)("div",{className:"text-center py-12",children:[(0,Tt.jsx)("span",{className:"text-4xl mb-4 block",children:"\ud83c\udfe5"}),(0,Tt.jsx)("p",{className:"text-lg font-semibold",children:y.noData})]}):(0,Tt.jsx)("div",{className:"overflow-x-auto",children:(0,Tt.jsxs)("table",{className:"w-full",children:[(0,Tt.jsx)("thead",{className:"border-b border-gray-700",children:(0,Tt.jsxs)("tr",{children:[(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:y.clinicName}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:y.repName}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:y.registrationDate}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:y.clinicLocation}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:y.repLocation}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:y.distance}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a"})]})}),(0,Tt.jsx)("tbody",{children:c.map((e=>{var t,s,a,n;const l=w(e.clinic_latitude,e.clinic_longitude,e.rep_current_latitude,e.rep_current_longitude);return(0,Tt.jsxs)("tr",{className:"hover:bg-gray-50 hover:bg-opacity-5 transition-colors border-b border-gray-800",children:[(0,Tt.jsx)("td",{className:"px-4 py-3",children:(0,Tt.jsx)("div",{className:"font-medium",children:e.clinic_name})}),(0,Tt.jsx)("td",{className:"px-4 py-3",children:(0,Tt.jsx)("div",{className:"text-sm",children:e.rep_name})}),(0,Tt.jsx)("td",{className:"px-4 py-3",children:(0,Tt.jsx)("div",{className:"text-sm",children:k(e.created_at)})}),(0,Tt.jsx)("td",{className:"px-4 py-3",children:(0,Tt.jsxs)("div",{className:"text-xs",children:["\ud83d\udccd ",null===(t=e.clinic_latitude)||void 0===t?void 0:t.toFixed(4),", ",null===(s=e.clinic_longitude)||void 0===s?void 0:s.toFixed(4)]})}),(0,Tt.jsx)("td",{className:"px-4 py-3",children:(0,Tt.jsxs)("div",{className:"text-xs",children:["\ud83d\udc64 ",null===(a=e.rep_current_latitude)||void 0===a?void 0:a.toFixed(4),", ",null===(n=e.rep_current_longitude)||void 0===n?void 0:n.toFixed(4)]})}),(0,Tt.jsx)("td",{className:"px-4 py-3",children:(0,Tt.jsx)("div",{className:"text-sm font-medium ".concat(S(l)),children:_(l)})}),(0,Tt.jsx)("td",{className:"px-4 py-3",children:(0,Tt.jsxs)("button",{onClick:()=>{f({type:"clinic",data:e,distance:l}),b(!0)},className:"px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded text-xs transition-colors",children:["\ud83d\uddfa\ufe0f ",y.viewOnMap]})})]},e.id)}))})]})})}),"orders"===h&&(0,Tt.jsx)("div",{className:"glass-effect rounded-xl overflow-hidden",children:0===d.length?(0,Tt.jsxs)("div",{className:"text-center py-12",children:[(0,Tt.jsx)("span",{className:"text-4xl mb-4 block",children:"\ud83d\udce6"}),(0,Tt.jsx)("p",{className:"text-lg font-semibold",children:y.noData})]}):(0,Tt.jsx)("div",{className:"overflow-x-auto",children:(0,Tt.jsxs)("table",{className:"w-full",children:[(0,Tt.jsx)("thead",{className:"border-b border-gray-700",children:(0,Tt.jsxs)("tr",{children:[(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628"}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:y.clinicName}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:y.repName}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:y.orderDate}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:y.orderTotal}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:y.distance}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a"})]})}),(0,Tt.jsx)("tbody",{children:d.map((e=>{var t;const s=w(e.target_clinic_latitude,e.target_clinic_longitude,e.rep_current_latitude,e.rep_current_longitude);return(0,Tt.jsxs)("tr",{className:"hover:bg-gray-50 hover:bg-opacity-5 transition-colors border-b border-gray-800",children:[(0,Tt.jsx)("td",{className:"px-4 py-3",children:(0,Tt.jsxs)("div",{className:"font-medium",children:["#",null===(t=e.id)||void 0===t?void 0:t.slice(-6)]})}),(0,Tt.jsx)("td",{className:"px-4 py-3",children:(0,Tt.jsx)("div",{className:"font-medium",children:e.clinic_name})}),(0,Tt.jsx)("td",{className:"px-4 py-3",children:(0,Tt.jsx)("div",{className:"text-sm",children:e.rep_name})}),(0,Tt.jsx)("td",{className:"px-4 py-3",children:(0,Tt.jsx)("div",{className:"text-sm",children:k(e.created_at)})}),(0,Tt.jsx)("td",{className:"px-4 py-3",children:(0,Tt.jsxs)("div",{className:"text-sm font-medium",children:[e.total_amount," \u062c.\u0645"]})}),(0,Tt.jsx)("td",{className:"px-4 py-3",children:(0,Tt.jsxs)("div",{className:"text-sm font-medium ".concat(S(s)),children:[_(s),s>200&&(0,Tt.jsx)("div",{className:"text-xs text-red-500",children:"\u26a0\ufe0f \u0628\u0639\u064a\u062f \u0639\u0646 \u0627\u0644\u0639\u064a\u0627\u062f\u0629"})]})}),(0,Tt.jsx)("td",{className:"px-4 py-3",children:(0,Tt.jsxs)("button",{onClick:()=>{f({type:"order",data:e,distance:s}),b(!0)},className:"px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded text-xs transition-colors",children:["\ud83d\uddfa\ufe0f ",y.viewOnMap]})})]},e.id)}))})]})})}),v&&g&&(0,Tt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Tt.jsx)("div",{className:"glass-effect rounded-xl max-w-6xl w-full max-h-[95vh] overflow-y-auto",children:(0,Tt.jsxs)("div",{className:"p-6",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Tt.jsx)("h3",{className:"text-xl font-bold",children:"clinic"===g.type?"\ud83c\udfe5 \u0645\u0648\u0642\u0639 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0639\u064a\u0627\u062f\u0629":"\ud83d\udce6 \u0645\u0648\u0642\u0639 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0637\u0644\u0628"}),(0,Tt.jsxs)("button",{onClick:()=>b(!1),className:"text-red-400 hover:text-red-300 transition-colors text-xl",children:["\u2715 ",y.close]})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsx)("h4",{className:"font-bold text-lg border-b border-gray-700 pb-2",children:"\u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644"}),(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium opacity-75",children:"clinic"===g.type?"\u0627\u0633\u0645 \u0627\u0644\u0639\u064a\u0627\u062f\u0629":"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628"}),(0,Tt.jsx)("div",{className:"text-lg font-semibold",children:"clinic"===g.type?g.data.clinic_name:"#".concat(null===(e=g.data.id)||void 0===e?void 0:e.slice(-6))})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium opacity-75",children:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062f\u0648\u0628"}),(0,Tt.jsx)("div",{children:g.data.rep_name})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium opacity-75",children:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e \u0648\u0627\u0644\u0648\u0642\u062a"}),(0,Tt.jsx)("div",{children:k(g.data.created_at)})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium opacity-75",children:"\u0627\u0644\u0645\u0633\u0627\u0641\u0629 \u0628\u064a\u0646 \u0627\u0644\u0645\u0648\u0627\u0642\u0639"}),(0,Tt.jsx)("div",{className:"text-lg font-bold ".concat(S(g.distance)),children:_(g.distance)})]}),(0,Tt.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,Tt.jsx)("h5",{className:"font-bold text-yellow-800 mb-2",children:"\ud83d\udccd \u0625\u062d\u062f\u0627\u062b\u064a\u0627\u062a \u0627\u0644\u0645\u0648\u0642\u0639"}),(0,Tt.jsxs)("div",{className:"text-sm space-y-1",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("strong",{children:["\u0645\u0648\u0642\u0639 ","clinic"===g.type?"\u0627\u0644\u0639\u064a\u0627\u062f\u0629":"\u0627\u0644\u0637\u0644\u0628",":"]}),(0,Tt.jsx)("br",{}),"clinic"===g.type?"".concat(null===(t=g.data.clinic_latitude)||void 0===t?void 0:t.toFixed(6),", ").concat(null===(s=g.data.clinic_longitude)||void 0===s?void 0:s.toFixed(6)):"".concat(null===(a=g.data.target_clinic_latitude)||void 0===a?void 0:a.toFixed(6),", ").concat(null===(l=g.data.target_clinic_longitude)||void 0===l?void 0:l.toFixed(6))]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u0645\u0648\u0642\u0639 \u0627\u0644\u0645\u0646\u062f\u0648\u0628:"}),(0,Tt.jsx)("br",{}),null===(r=g.data.rep_current_latitude)||void 0===r?void 0:r.toFixed(6),", ",null===(i=g.data.rep_current_longitude)||void 0===i?void 0:i.toFixed(6)]})]})]}),g.distance>200&&(0,Tt.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 text-red-800",children:[(0,Tt.jsx)("span",{children:"\u26a0\ufe0f"}),(0,Tt.jsx)("strong",{children:"\u062a\u0646\u0628\u064a\u0647: \u0627\u0644\u0645\u0646\u062f\u0648\u0628 \u0643\u0627\u0646 \u0628\u0639\u064a\u062f\u0627\u064b \u0639\u0646 \u0627\u0644\u0645\u0648\u0642\u0639 \u0627\u0644\u0645\u0633\u062a\u0647\u062f\u0641"})]}),(0,Tt.jsx)("p",{className:"text-sm text-red-600 mt-1",children:"\u0627\u0644\u0645\u0633\u0627\u0641\u0629 \u062a\u0632\u064a\u062f \u0639\u0646 200 \u0645\u062a\u0631 \u0645\u0645\u0627 \u0642\u062f \u064a\u0634\u064a\u0631 \u0625\u0644\u0649 \u0639\u062f\u0645 \u062a\u0648\u0627\u062c\u062f \u0627\u0644\u0645\u0646\u062f\u0648\u0628 \u0641\u064a \u0627\u0644\u0645\u0648\u0642\u0639 \u0627\u0644\u0635\u062d\u064a\u062d"})]})]})]}),(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsx)("h4",{className:"font-bold text-lg border-b border-gray-700 pb-2",children:"\u0627\u0644\u0645\u0648\u0642\u0639 \u0639\u0644\u0649 \u0627\u0644\u062e\u0631\u064a\u0637\u0629"}),(0,Tt.jsx)(Os,{location1:{lat:"clinic"===g.type?g.data.clinic_latitude:g.data.target_clinic_latitude,lng:"clinic"===g.type?g.data.clinic_longitude:g.data.target_clinic_longitude,title:"clinic"===g.type?"\u0645\u0648\u0642\u0639 \u0627\u0644\u0639\u064a\u0627\u062f\u0629":"\u0645\u0648\u0642\u0639 \u0627\u0644\u0637\u0644\u0628",color:"green"},location2:{lat:g.data.rep_current_latitude,lng:g.data.rep_current_longitude,title:"\u0645\u0648\u0642\u0639 \u0627\u0644\u0645\u0646\u062f\u0648\u0628",color:"red"},distance:g.distance})]})]})]})})})]})},Os=e=>{let{location1:t,location2:s,distance:a}=e;const l=(0,n.useRef)(null),[r,i]=(0,n.useState)(null);return(0,n.useEffect)((()=>{if(window.google&&window.google.maps&&l.current&&!r){const e=new window.google.maps.LatLngBounds;e.extend(new window.google.maps.LatLng(t.lat,t.lng)),e.extend(new window.google.maps.LatLng(s.lat,s.lng));const n=new window.google.maps.Map(l.current,{mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!0,zoomControl:!0});new window.google.maps.Marker({position:{lat:t.lat,lng:t.lng},map:n,title:t.title,icon:{url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iIzEwYjk4MSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyIDJDOC4xMyAyIDUgNS4xMyA1IDljMCA1LjI1IDcgMTMgNyAxM3M3LTcuNzUgNy0xM2MwLTMuODctMy4xMy03LTctN3ptMCA5LjVjLTEuMzggMC0yLjUtMS4xMi0yLjUtMi41czEuMTItMi41IDIuNS0yLjUgMi41IDEuMTIgMi41IDIuNS0xLjEyIDIuNS0yLjUgMi41eiIvPgo8L3N2Zz4=",scaledSize:new window.google.maps.Size(32,32)}}),new window.google.maps.Marker({position:{lat:s.lat,lng:s.lng},map:n,title:s.title,icon:{url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI2VmNDQ0NCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyIDJDOC4xMyAyIDUgNS4xMyA1IDljMCA1LjI1IDcgMTMgNyAxM3M3LTcuNzUgNy0xM2MwLTMuODctMy4xMy03LTctN3ptMCA5LjVjLTEuMzggMC0yLjUtMS4xMi0yLjUtMi41czEuMTItMi41IDIuNS0yLjUgMi41IDEuMTIgMi41IDIuNS0xLjEyIDIuNS0yLjUgMi41eiIvPgo8L3N2Zz4=",scaledSize:new window.google.maps.Size(32,32)}});new window.google.maps.Polyline({path:[{lat:t.lat,lng:t.lng},{lat:s.lat,lng:s.lng}],geodesic:!0,strokeColor:a>200?"#ef4444":"#10b981",strokeOpacity:1,strokeWeight:3}).setMap(n),n.fitBounds(e);const r={top:50,right:50,bottom:50,left:50};n.fitBounds(e,r),i(n)}}),[t,s,a,r]),(0,Tt.jsx)("div",{className:"w-full rounded-xl overflow-hidden",children:(0,Tt.jsx)("div",{ref:l,style:{width:"100%",height:"400px"}})})},Ms=()=>{const{t:e}=It(),[t,s]=(0,n.useState)([]),[a,l]=(0,n.useState)([]),[r,i]=(0,n.useState)({}),[c,o]=(0,n.useState)({clinic_id:"",phone:"",clinic_name:"",address:"",order_type:"demo",priority:"normal",notes:"",items:[]}),[u,m]=(0,n.useState)([]),[x,h]=(0,n.useState)(!1),[p,g]=(0,n.useState)(""),[f,v]=(0,n.useState)(""),[b,j]=(0,n.useState)(null),[y,N]=(0,n.useState)("");(0,n.useEffect)((()=>{w(),_(),k()}),[]);const w=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition((e=>{const t={latitude:e.coords.latitude,longitude:e.coords.longitude,timestamp:(new Date).toISOString(),accuracy:e.coords.accuracy};j(t)}),(e=>{console.error("Error getting current location:",e)}),{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})},_=async()=>{try{var e;const t=localStorage.getItem("access_token"),a=(null===(e=(await Pt.get("".concat(Dt,"/clinics/my-region"),{headers:{Authorization:"Bearer ".concat(t)}})).data)||void 0===e?void 0:e.clinics)||[];s(Array.isArray(a)?a:[])}catch(p){console.error("Error fetching clinics:",p);try{const e=localStorage.getItem("access_token"),t=(await Pt.get("".concat(Dt,"/clinics"),{headers:{Authorization:"Bearer ".concat(e)}})).data||[];s(Array.isArray(t)?t:[])}catch(t){console.error("Error fetching all clinics:",t),g("\u0641\u0634\u0644 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a \u0627\u0644\u0645\u062a\u0627\u062d\u0629")}}},k=async()=>{try{var e;const t=localStorage.getItem("access_token"),s=await Pt.get("".concat(Dt,"/sales-rep/warehouse-stock-status"),{headers:{Authorization:"Bearer ".concat(t)}}),a={};null===(e=s.data.warehouses)||void 0===e||e.forEach((e=>{var t;null===(t=e.products)||void 0===t||t.forEach((t=>{a[t.product_id]=d(d({},t),{},{warehouse_name:e.warehouse_name})}))})),i(a);const n=Object.values(a);l(n)}catch(p){console.error("Error fetching stock data:",p),g("\u0641\u0634\u0644 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u062e\u0632\u0648\u0646")}},S=(e,t)=>{const s=Math.max(1,parseInt(t)||1);m(u.map((t=>t.product_id===e?d(d({},t),{},{quantity:s}):t)))},C=Array.isArray(t)?t.filter((e=>{var t,s,a;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(y.toLowerCase()))||(null===(s=e.doctor_name)||void 0===s?void 0:s.toLowerCase().includes(y.toLowerCase()))||(null===(a=e.address)||void 0===a?void 0:a.toLowerCase().includes(y.toLowerCase()))})):[],E=a.filter((e=>{var t,s;return(null===(t=e.product_name)||void 0===t?void 0:t.toLowerCase().includes(y.toLowerCase()))||(null===(s=e.category)||void 0===s?void 0:s.toLowerCase().includes(y.toLowerCase()))})),A=e=>{switch(e){case"available":return"\u2705";case"low_stock":return"\u26a0\ufe0f";case"out_of_stock":return"\u274c";default:return"\ud83d\udce6"}},L=e=>{switch(e){case"available":return"text-green-600";case"low_stock":return"text-yellow-600";case"out_of_stock":return"text-red-600";default:return"text-gray-600"}};return(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsx)("div",{className:"glass-effect p-6 rounded-lg",children:(0,Tt.jsx)("div",{className:"flex items-center justify-between",children:(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("h2",{className:"text-2xl font-bold flex items-center gap-3",children:[(0,Tt.jsx)("span",{className:"text-3xl",children:"\ud83d\udcdd"}),"\u0625\u0646\u0634\u0627\u0621 \u0637\u0644\u0628\u064a\u0629 \u062c\u062f\u064a\u062f\u0629"]}),(0,Tt.jsx)("p",{className:"text-sm mt-2",style:{color:"var(--text-secondary)"},children:"\u0625\u0646\u0634\u0627\u0621 \u0637\u0644\u0628\u064a\u0629 \u0644\u0644\u0639\u064a\u0627\u062f\u0627\u062a \u0627\u0644\u0645\u062a\u0627\u062d\u0629 \u0641\u064a \u0645\u0646\u0637\u0642\u062a\u0643"})]})})}),p&&(0,Tt.jsx)("div",{className:"bg-red-100 bg-opacity-30 border border-red-300 text-red-600 p-4 rounded-lg",children:(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"text-xl",children:"\u274c"}),(0,Tt.jsx)("span",{children:p})]})}),f&&(0,Tt.jsx)("div",{className:"bg-green-100 bg-opacity-30 border border-green-300 text-green-600 p-4 rounded-lg",children:(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"text-xl",children:"\u2705"}),(0,Tt.jsx)("span",{children:f})]})}),(0,Tt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),c.clinic_id)if(0!==u.length){if(!b)return g("\u062c\u0627\u0631\u064a \u062a\u062d\u062f\u064a\u062f \u0645\u0648\u0642\u0639\u0643 \u0627\u0644\u062d\u0627\u0644\u064a..."),void w();h(!0),g("");try{const e=localStorage.getItem("access_token"),s=t.find((e=>e.id===c.clinic_id)),a={clinic_id:c.clinic_id,order_type:c.order_type,priority:c.priority,notes:c.notes,items:u.map((e=>({product_id:e.product_id,quantity:e.quantity}))),clinic_phone:c.phone,clinic_address:c.address,user_actual_location:{lat:b.latitude,lng:b.longitude,timestamp:b.timestamp,accuracy:b.accuracy},clinic_location:{lat:(null===s||void 0===s?void 0:s.latitude)||null,lng:(null===s||void 0===s?void 0:s.longitude)||null},order_source:"mobile_app",device_info:{userAgent:navigator.userAgent,timestamp:(new Date).toISOString(),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}};await Pt.post("".concat(Dt,"/orders"),a,{headers:{Authorization:"Bearer ".concat(e)}}),v("\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628\u064a\u0629 \u0628\u0646\u062c\u0627\u062d"),o({clinic_id:"",phone:"",clinic_name:"",address:"",order_type:"demo",priority:"normal",notes:"",items:[]}),m([]),setTimeout((()=>v("")),5e3)}catch(p){var s,a;g((null===(s=p.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.detail)||"\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628\u064a\u0629")}finally{h(!1)}}else g("\u064a\u062c\u0628 \u0625\u0636\u0627\u0641\u0629 \u0645\u0646\u062a\u062c \u0648\u0627\u062d\u062f \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644");else g("\u064a\u062c\u0628 \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0639\u064a\u0627\u062f\u0629")},className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-lg",children:[(0,Tt.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"text-xl",children:"\ud83c\udfe5"}),"\u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0639\u064a\u0627\u062f\u0629"]}),(0,Tt.jsx)("div",{className:"mb-4",children:(0,Tt.jsx)("input",{type:"text",placeholder:"\u0627\u0628\u062d\u062b \u0639\u0646 \u0627\u0644\u0639\u064a\u0627\u062f\u0629 \u0628\u0627\u0644\u0627\u0633\u0645 \u0623\u0648 \u0627\u0644\u0637\u0628\u064a\u0628 \u0623\u0648 \u0627\u0644\u0639\u0646\u0648\u0627\u0646...",value:y,onChange:e=>N(e.target.value),className:"w-full p-3 rounded-lg border border-gray-300 border-opacity-30"})}),c.clinic_id&&(0,Tt.jsx)("div",{className:"mb-4 p-4 bg-blue-100 bg-opacity-30 border border-blue-300 rounded-lg",children:(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"font-bold text-blue-800",children:c.clinic_name}),(0,Tt.jsx)("div",{className:"text-sm text-blue-600",children:c.address}),(0,Tt.jsx)("div",{className:"text-sm text-blue-600",children:c.phone})]}),(0,Tt.jsx)("button",{type:"button",onClick:()=>o(d(d({},c),{},{clinic_id:"",phone:"",clinic_name:"",address:""})),className:"text-red-500 hover:text-red-700",children:"\u2715"})]})}),!c.clinic_id&&C.length>0&&(0,Tt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-h-64 overflow-y-auto",children:C.slice(0,10).map((e=>(0,Tt.jsxs)("div",{onClick:()=>(e=>{o(d(d({},c),{},{clinic_id:e.id,phone:e.phone||"",clinic_name:e.name||"",address:e.address||e.location||""})),N("")})(e),className:"p-4 border border-gray-300 border-opacity-30 rounded-lg cursor-pointer hover:bg-blue-100 hover:bg-opacity-20 transition-all",children:[(0,Tt.jsx)("div",{className:"font-bold",children:e.name}),(0,Tt.jsx)("div",{className:"text-sm text-gray-600",children:e.doctor_name}),(0,Tt.jsx)("div",{className:"text-sm text-gray-600",children:e.address}),(0,Tt.jsx)("div",{className:"text-sm text-gray-600",children:e.phone})]},e.id)))}),!c.clinic_id&&0===C.length&&y&&(0,Tt.jsx)("div",{className:"text-center py-4 text-gray-500",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0639\u064a\u0627\u062f\u0627\u062a \u062a\u0637\u0627\u0628\u0642 \u0627\u0644\u0628\u062d\u062b"})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-lg",children:[(0,Tt.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"text-xl",children:"\ud83d\udccb"}),"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0637\u0644\u0628\u064a\u0629"]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641"}),(0,Tt.jsx)("input",{type:"tel",value:c.phone,onChange:e=>o(d(d({},c),{},{phone:e.target.value})),className:"w-full p-3 rounded-lg border border-gray-300 border-opacity-30",placeholder:"\u0631\u0642\u0645 \u0647\u0627\u062a\u0641 \u0627\u0644\u0639\u064a\u0627\u062f\u0629"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646"}),(0,Tt.jsx)("input",{type:"text",value:c.address,onChange:e=>o(d(d({},c),{},{address:e.target.value})),className:"w-full p-3 rounded-lg border border-gray-300 border-opacity-30",placeholder:"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0639\u064a\u0627\u062f\u0629",readOnly:!0})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0646\u0648\u0639 \u0627\u0644\u0637\u0644\u0628\u064a\u0629"}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Tt.jsxs)("button",{type:"button",onClick:()=>o(d(d({},c),{},{order_type:"demo"})),className:"p-3 rounded-lg border text-center transition-all ".concat("demo"===c.order_type?"border-green-500 bg-green-100 bg-opacity-30 text-green-800":"border-gray-300 border-opacity-30"),children:[(0,Tt.jsx)("div",{className:"text-2xl mb-1",children:"\ud83c\udf81"}),(0,Tt.jsx)("div",{className:"font-bold",children:"\u062f\u064a\u0645\u0648 \u0645\u062c\u0627\u0646\u064a"})]}),(0,Tt.jsxs)("button",{type:"button",onClick:()=>o(d(d({},c),{},{order_type:"debt"})),className:"p-3 rounded-lg border text-center transition-all ".concat("debt"===c.order_type?"border-blue-500 bg-blue-100 bg-opacity-30 text-blue-800":"border-gray-300 border-opacity-30"),children:[(0,Tt.jsx)("div",{className:"text-2xl mb-1",children:"\ud83d\udcb3"}),(0,Tt.jsx)("div",{className:"font-bold",children:"\u0645\u062f\u064a\u0648\u0646\u064a\u0629"})]})]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0623\u0647\u0645\u064a\u0629 \u0627\u0644\u0637\u0644\u0628\u064a\u0629"}),(0,Tt.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[{value:"normal",label:"\u0639\u0627\u062f\u064a\u0629",icon:"\ud83d\udcdd",color:"gray"},{value:"important",label:"\u0645\u0647\u0645\u0629",icon:"\u26a1",color:"yellow"},{value:"urgent",label:"\u0645\u0647\u0645 \u062c\u062f\u0627\u064b",icon:"\ud83d\udea8",color:"red"}].map((e=>(0,Tt.jsxs)("button",{type:"button",onClick:()=>o(d(d({},c),{},{priority:e.value})),className:"p-2 rounded-lg border text-center transition-all text-xs ".concat(c.priority===e.value?"border-".concat(e.color,"-500 bg-").concat(e.color,"-100 bg-opacity-30 text-").concat(e.color,"-800"):"border-gray-300 border-opacity-30"),children:[(0,Tt.jsx)("div",{className:"text-lg",children:e.icon}),(0,Tt.jsx)("div",{className:"font-bold",children:e.label})]},e.value)))})]})]}),(0,Tt.jsxs)("div",{className:"mt-4",children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a"}),(0,Tt.jsx)("textarea",{value:c.notes,onChange:e=>o(d(d({},c),{},{notes:e.target.value})),rows:3,className:"w-full p-3 rounded-lg border border-gray-300 border-opacity-30",placeholder:"\u0623\u0636\u0641 \u0623\u064a \u0645\u0644\u0627\u062d\u0638\u0627\u062a \u062e\u0627\u0635\u0629 \u0628\u0627\u0644\u0637\u0644\u0628\u064a\u0629..."})]})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-lg",children:[(0,Tt.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"text-xl",children:"\ud83d\udce6"}),"\u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"]}),(0,Tt.jsx)("div",{className:"mb-4",children:(0,Tt.jsx)("input",{type:"text",placeholder:"\u0627\u0628\u062d\u062b \u0639\u0646 \u0627\u0644\u0645\u0646\u062a\u062c \u0628\u0627\u0644\u0627\u0633\u0645 \u0623\u0648 \u0627\u0644\u0641\u0626\u0629...",value:y,onChange:e=>N(e.target.value),className:"w-full p-3 rounded-lg border border-gray-300 border-opacity-30"})}),(0,Tt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-64 overflow-y-auto",children:E.map((e=>(0,Tt.jsxs)("div",{className:"p-4 border border-gray-300 border-opacity-30 rounded-lg",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Tt.jsx)("div",{className:"font-bold text-sm",children:e.product_name}),(0,Tt.jsx)("div",{className:"text-2xl ".concat(L(e.status)),children:A(e.status)})]}),(0,Tt.jsxs)("div",{className:"text-xs text-gray-600 mb-2",children:[(0,Tt.jsxs)("div",{children:["\u0627\u0644\u0645\u062e\u0632\u0646: ",e.warehouse_name]}),(0,Tt.jsxs)("div",{children:["\u0627\u0644\u0645\u062e\u0632\u0648\u0646: ",e.current_stock," ",e.unit]}),(0,Tt.jsxs)("div",{children:["\u0627\u0644\u0641\u0626\u0629: ",e.category]})]}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsx)("div",{className:"text-xs px-2 py-1 rounded ".concat("available"===e.status?"bg-green-100 bg-opacity-30 text-green-600":"low_stock"===e.status?"bg-yellow-100 bg-opacity-30 text-yellow-600":"bg-red-100 bg-opacity-30 text-red-600"),children:"available"===e.status?"\u0645\u062a\u0648\u0641\u0631":"low_stock"===e.status?"\u0645\u062e\u0632\u0648\u0646 \u0645\u0646\u062e\u0641\u0636":"\u063a\u064a\u0631 \u0645\u062a\u0648\u0641\u0631"}),"out_of_stock"!==e.status&&(0,Tt.jsx)("button",{type:"button",onClick:()=>(e=>{u.find((t=>t.product_id===e.product_id))||m([...u,d(d({},e),{},{quantity:1})])})(e),disabled:u.find((t=>t.product_id===e.product_id)),className:"btn-primary text-xs px-3 py-1 disabled:opacity-50",children:u.find((t=>t.product_id===e.product_id))?"\u0645\u064f\u0636\u0627\u0641":"\u0625\u0636\u0627\u0641\u0629"})]})]},e.product_id)))}),0===E.length&&(0,Tt.jsx)("div",{className:"text-center py-4 text-gray-500",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0646\u062a\u062c\u0627\u062a \u0645\u062a\u0627\u062d\u0629"})]}),u.length>0&&(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-lg",children:[(0,Tt.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"text-xl",children:"\ud83d\uded2"}),"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u0645\u062e\u062a\u0627\u0631\u0629 (",u.length,")"]}),(0,Tt.jsx)("div",{className:"space-y-3",children:u.map((e=>(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-100 bg-opacity-20 rounded-lg",children:[(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsx)("div",{className:"font-bold",children:e.product_name}),(0,Tt.jsxs)("div",{className:"text-sm text-gray-600",children:[e.warehouse_name," \u2022 ",e.unit]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("button",{type:"button",onClick:()=>S(e.product_id,e.quantity-1),className:"w-8 h-8 rounded-full bg-gray-300 text-gray-700 flex items-center justify-center hover:bg-gray-400",disabled:e.quantity<=1,children:"-"}),(0,Tt.jsx)("span",{className:"w-12 text-center font-bold",children:e.quantity}),(0,Tt.jsx)("button",{type:"button",onClick:()=>S(e.product_id,e.quantity+1),className:"w-8 h-8 rounded-full bg-gray-300 text-gray-700 flex items-center justify-center hover:bg-gray-400",children:"+"})]}),(0,Tt.jsx)("button",{type:"button",onClick:()=>{return t=e.product_id,void m(u.filter((e=>e.product_id!==t)));var t},className:"text-red-500 hover:text-red-700 p-2",children:(0,Tt.jsx)("span",{className:"text-xl",children:"\ud83d\uddd1\ufe0f"})})]})]},e.product_id)))})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-lg",children:[(0,Tt.jsx)("button",{type:"submit",disabled:x||!c.clinic_id||0===u.length,className:"w-full btn-primary py-4 text-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed",children:x?(0,Tt.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,Tt.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),(0,Tt.jsx)("span",{children:"\u062c\u0627\u0631\u064a \u0627\u0644\u0625\u0631\u0633\u0627\u0644..."})]}):(0,Tt.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,Tt.jsx)("span",{className:"text-xl",children:"\ud83d\ude80"}),(0,Tt.jsx)("span",{children:"\u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628\u064a\u0629"})]})}),(0,Tt.jsx)("div",{className:"mt-3 text-center text-sm",style:{color:"var(--text-secondary)"},children:"\u0633\u062a\u062a\u0645 \u0645\u0631\u0627\u062c\u0639\u0629 \u0627\u0644\u0637\u0644\u0628\u064a\u0629 \u0645\u0646 \u0642\u0650\u0628\u0644 \u0627\u0644\u0625\u062f\u0627\u0631\u0629 \u0642\u0628\u0644 \u0627\u0644\u0627\u0639\u062a\u0645\u0627\u062f"})]})]})]})},Ds=()=>{const{t:e}=It(),[t,s]=(0,n.useState)([]),[a,l]=(0,n.useState)(""),[r,i]=(0,n.useState)(""),[c,o]=(0,n.useState)(""),[d,u]=(0,n.useState)(""),[m,x]=(0,n.useState)([]),[h,p]=(0,n.useState)(!1),[g,f]=(0,n.useState)(null),[v,b]=(0,n.useState)(""),[j,y]=(0,n.useState)(""),[N,w]=(0,n.useState)(!1),[_,k]=(0,n.useState)(null),[S,C]=(0,n.useState)([]),[E,A]=(0,n.useState)(null),[L,z]=(0,n.useState)(!1),[P,T]=(0,n.useState)(!1),[O,M]=(0,n.useState)("no"),[D,R]=(0,n.useState)([]),[I]=(0,n.useState)([{id:"manager_1",name:"\u0623\u062d\u0645\u062f \u0645\u062d\u0645\u062f - \u0645\u062f\u064a\u0631 \u0627\u0644\u0645\u0646\u0637\u0642\u0629"},{id:"manager_2",name:"\u0641\u0627\u0637\u0645\u0629 \u0639\u0644\u064a - \u0645\u062f\u064a\u0631 \u0627\u0644\u062e\u0637"},{id:"manager_3",name:"\u0645\u062d\u0645\u0648\u062f \u062d\u0633\u0646 - \u0645\u062f\u064a\u0631 \u0639\u0627\u0645"}]);(0,n.useEffect)((()=>{U(),B(),F()}),[]);const F=()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const e=new(window.SpeechRecognition||window.webkitSpeechRecognition);e.lang="ar-SA",e.continuous=!1,e.interimResults=!1,e.maxAlternatives=1,e.onstart=()=>{z(!0)},e.onresult=e=>{const t=e.results[0][0].transcript;o((e=>e+(e?" ":"")+t))},e.onerror=e=>{console.error("Speech recognition error:",e.error),b("\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0648\u064a\u0644 \u0627\u0644\u0635\u0648\u062a \u0625\u0644\u0649 \u0646\u0635: "+e.error),z(!1)},e.onend=()=>{z(!1)},A(e),T(!0)}else T(!1)},B=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((e=>{f({latitude:e.coords.latitude,longitude:e.coords.longitude})}),(e=>{b("\u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u0645\u0648\u0642\u0639\u0643 \u0627\u0644\u062d\u0627\u0644\u064a. \u062a\u0623\u0643\u062f \u0645\u0646 \u062a\u0641\u0639\u064a\u0644 GPS")})):b("\u0627\u0644\u0645\u062a\u0635\u0641\u062d \u0644\u0627 \u064a\u062f\u0639\u0645 \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0645\u0648\u0642\u0639")},U=async()=>{try{const e=localStorage.getItem("access_token"),t=await Pt.get("".concat(Dt,"/clinics/my-region"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.data&&t.data.clinics)s(t.data.clinics);else if(Array.isArray(t.data))s(t.data);else{const t=await Pt.get("".concat(Dt,"/clinics"),{headers:{Authorization:"Bearer ".concat(e)}});s(t.data||[])}}catch(v){console.error("Error fetching clinics:",v),b("\u0641\u0634\u0644 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a")}};return(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsx)("div",{className:"glass-effect p-6 rounded-lg",children:(0,Tt.jsx)("div",{className:"flex items-center justify-between",children:(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("h2",{className:"text-2xl font-bold flex items-center gap-3",children:[(0,Tt.jsx)("span",{className:"text-3xl",children:"\ud83c\udfe5"}),"\u062a\u0633\u062c\u064a\u0644 \u0632\u064a\u0627\u0631\u0629 \u0627\u0644\u0639\u064a\u0627\u062f\u0629"]}),(0,Tt.jsx)("p",{className:"text-sm mt-2",style:{color:"var(--text-secondary)"},children:"\u062a\u0633\u062c\u064a\u0644 \u0632\u064a\u0627\u0631\u0629 \u062c\u062f\u064a\u062f\u0629 \u0645\u0639 \u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0627\u0644\u0635\u0648\u062a\u064a\u0629 \u0648\u0627\u0644\u0645\u0643\u062a\u0648\u0628\u0629"})]})})}),v&&(0,Tt.jsx)("div",{className:"bg-red-100 bg-opacity-30 border border-red-300 text-red-600 p-4 rounded-lg",children:(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"text-xl",children:"\u274c"}),(0,Tt.jsx)("span",{children:v})]})}),j&&(0,Tt.jsx)("div",{className:"bg-green-100 bg-opacity-30 border border-green-300 text-green-600 p-4 rounded-lg",children:(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"text-xl",children:"\u2705"}),(0,Tt.jsx)("span",{children:j})]})}),(0,Tt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),a)if(r.trim())if(g){p(!0),b("");try{const e=localStorage.getItem("access_token"),s=t.find((e=>e.id===a)),n={clinic_id:a,doctor_name:r,notes:c,voice_notes:m,with_manager:O,managers:"yes"===O?D:[],location:g,actual_location:{latitude:g.latitude,longitude:g.longitude,timestamp:(new Date).toISOString()},clinic_location:{latitude:(null===s||void 0===s?void 0:s.latitude)||null,longitude:(null===s||void 0===s?void 0:s.longitude)||null}};await Pt.post("".concat(Dt,"/visits"),n,{headers:{Authorization:"Bearer ".concat(e)}}),y("\u062a\u0645 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0629 \u0628\u0646\u062c\u0627\u062d"),l(""),i(""),o(""),x([]),M("no"),R([]),setTimeout((()=>y("")),5e3)}catch(v){var s,n;b((null===(s=v.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.detail)||"\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0629")}finally{p(!1)}}else b("\u0644\u0627 \u064a\u0645\u0643\u0646 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0629 \u0628\u062f\u0648\u0646 \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0645\u0648\u0642\u0639");else b("\u064a\u062c\u0628 \u0643\u062a\u0627\u0628\u0629 \u0627\u0633\u0645 \u0627\u0644\u062f\u0643\u062a\u0648\u0631");else b("\u064a\u062c\u0628 \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0639\u064a\u0627\u062f\u0629")},className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-lg",children:[(0,Tt.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"text-xl",children:"\ud83c\udfe5"}),"\u0627\u062e\u062a\u0631 \u0627\u0644\u0639\u064a\u0627\u062f\u0629"]}),(0,Tt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map((e=>(0,Tt.jsxs)("div",{onClick:()=>l(e.id),className:"p-4 border rounded-lg cursor-pointer transition-all ".concat(a===e.id?"border-blue-500 bg-blue-100 bg-opacity-30":"border-gray-300 border-opacity-30 hover:bg-gray-100 hover:bg-opacity-20"),children:[(0,Tt.jsx)("div",{className:"font-bold",children:e.name}),(0,Tt.jsx)("div",{className:"text-sm text-gray-600",children:e.doctor_name}),(0,Tt.jsx)("div",{className:"text-sm text-gray-600",children:e.address}),(0,Tt.jsx)("div",{className:"text-sm text-gray-600",children:e.phone})]},e.id)))}),0===t.length&&(0,Tt.jsx)("div",{className:"text-center py-4 text-gray-500",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0639\u064a\u0627\u062f\u0627\u062a \u0645\u062a\u0627\u062d\u0629 \u0641\u064a \u0645\u0646\u0637\u0642\u062a\u0643"})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-lg",children:[(0,Tt.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"text-xl",children:"\ud83d\udc68\u200d\u2695\ufe0f"}),"\u0627\u0633\u0645 \u0627\u0644\u062f\u0643\u062a\u0648\u0631"]}),(0,Tt.jsx)("input",{type:"text",value:r,onChange:e=>i(e.target.value),placeholder:"\u0627\u0643\u062a\u0628 \u0627\u0633\u0645 \u0627\u0644\u062f\u0643\u062a\u0648\u0631...",className:"w-full p-4 rounded-lg border border-gray-300 border-opacity-30",required:!0})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-lg",children:[(0,Tt.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"text-xl",children:"\ud83d\udc54"}),"\u0647\u0644 \u062a\u0645\u062a \u0627\u0644\u0632\u064a\u0627\u0631\u0629 \u0645\u0639 \u0627\u0644\u0645\u062f\u064a\u0631\u061f"]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,Tt.jsxs)("button",{type:"button",onClick:()=>M("no"),className:"p-3 rounded-lg border transition-all ".concat("no"===O?"border-green-500 bg-green-100 bg-opacity-30 text-green-800":"border-gray-300 border-opacity-30"),children:[(0,Tt.jsx)("div",{className:"text-2xl mb-1",children:"\u274c"}),(0,Tt.jsx)("div",{className:"font-bold",children:"\u0644\u0627"})]}),(0,Tt.jsxs)("button",{type:"button",onClick:()=>M("yes"),className:"p-3 rounded-lg border transition-all ".concat("yes"===O?"border-blue-500 bg-blue-100 bg-opacity-30 text-blue-800":"border-gray-300 border-opacity-30"),children:[(0,Tt.jsx)("div",{className:"text-2xl mb-1",children:"\u2705"}),(0,Tt.jsx)("div",{className:"font-bold",children:"\u0646\u0639\u0645"})]})]}),"yes"===O&&(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h4",{className:"font-bold mb-2",children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0645\u062f\u064a\u0631\u064a\u0646:"}),(0,Tt.jsx)("div",{className:"space-y-2",children:I.map((e=>(0,Tt.jsxs)("label",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("input",{type:"checkbox",checked:D.includes(e.id),onChange:t=>{t.target.checked?R([...D,e.id]):R(D.filter((t=>t!==e.id)))},className:"rounded"}),(0,Tt.jsx)("span",{className:"text-sm",children:e.name})]},e.id)))})]})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-lg",children:[(0,Tt.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"text-xl",children:"\ud83d\udcdd"}),"\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0627\u0644\u0632\u064a\u0627\u0631\u0629"]}),(0,Tt.jsxs)("div",{className:"mb-4",children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0643\u062a\u0627\u0628\u064a\u0629"}),(0,Tt.jsx)("textarea",{value:c,onChange:e=>o(e.target.value),rows:4,className:"w-full p-3 rounded-lg border border-gray-300 border-opacity-30",placeholder:"\u0627\u0643\u062a\u0628 \u0645\u0644\u0627\u062d\u0638\u0627\u062a\u0643 \u0647\u0646\u0627..."})]}),P&&(0,Tt.jsxs)("div",{className:"mb-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold",children:"\u062a\u062d\u0648\u064a\u0644 \u0627\u0644\u0635\u0648\u062a \u0625\u0644\u0649 \u0646\u0635 \u0645\u0628\u0627\u0634\u0631"}),L&&(0,Tt.jsx)("span",{className:"text-red-500 text-sm animate-pulse",children:"\u25cf \u062c\u0627\u0631\u064a \u0627\u0644\u0627\u0633\u062a\u0645\u0627\u0639..."})]}),(0,Tt.jsxs)("div",{className:"flex gap-2",children:[(0,Tt.jsxs)("button",{type:"button",onClick:()=>{E&&P?E.start():b("\u0645\u064a\u0632\u0629 \u062a\u062d\u0648\u064a\u0644 \u0627\u0644\u0635\u0648\u062a \u0625\u0644\u0649 \u0646\u0635 \u063a\u064a\u0631 \u0645\u062f\u0639\u0648\u0645\u0629 \u0641\u064a \u0647\u0630\u0627 \u0627\u0644\u0645\u062a\u0635\u0641\u062d")},disabled:L,className:"btn-primary px-4 py-2 text-sm disabled:opacity-50",children:[(0,Tt.jsx)("span",{className:"text-lg mr-2",children:"\ud83c\udfa4"}),"\u062a\u062d\u0648\u064a\u0644 \u0627\u0644\u0635\u0648\u062a \u0644\u0646\u0635"]}),(0,Tt.jsxs)("button",{type:"button",onClick:()=>{E&&L&&E.stop()},disabled:!L,className:"btn-secondary px-4 py-2 text-sm disabled:opacity-50",children:[(0,Tt.jsx)("span",{className:"text-lg mr-2",children:"\u23f9\ufe0f"}),"\u0625\u064a\u0642\u0627\u0641"]})]})]}),(0,Tt.jsxs)("div",{className:"mb-4",children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0635\u0648\u062a\u064a\u0629"}),(0,Tt.jsx)("div",{className:"flex gap-2 mb-3",children:(0,Tt.jsxs)("button",{type:"button",onClick:N?()=>{_&&N&&(_.stop(),w(!1),k(null))}:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=new MediaRecorder(e),s=[];t.ondataavailable=e=>{e.data.size>0&&s.push(e.data)},t.onstop=()=>{const t=new Blob(s,{type:"audio/wav"}),a=new FileReader;a.onloadend=()=>{const e=a.result,s={id:Date.now(),audio:e,duration:Math.round(t.size/1e3),timestamp:(new Date).toLocaleString("ar-EG")};x([...m,s])},a.readAsDataURL(t),e.getTracks().forEach((e=>e.stop()))},t.start(),k(t),w(!0),C([])}catch(v){console.error("Error starting recording:",v),b("\u062e\u0637\u0623 \u0641\u064a \u0628\u062f\u0621 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0635\u0648\u062a. \u062a\u0623\u0643\u062f \u0645\u0646 \u0627\u0644\u0633\u0645\u0627\u062d \u0628\u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0645\u064a\u0643\u0631\u0648\u0641\u0648\u0646")}},className:"px-4 py-2 rounded-lg text-sm font-bold ".concat(N?"bg-red-500 text-white animate-pulse":"btn-primary"),children:[(0,Tt.jsx)("span",{className:"text-lg mr-2",children:N?"\u23f9\ufe0f":"\ud83c\udfa4"}),N?"\u0625\u064a\u0642\u0627\u0641 \u0627\u0644\u062a\u0633\u062c\u064a\u0644":"\u0628\u062f\u0621 \u062a\u0633\u062c\u064a\u0644 \u0635\u0648\u062a\u064a"]})}),m.length>0&&(0,Tt.jsxs)("div",{className:"space-y-2",children:[(0,Tt.jsx)("h4",{className:"font-bold text-sm",children:"\u0627\u0644\u062a\u0633\u062c\u064a\u0644\u0627\u062a \u0627\u0644\u0635\u0648\u062a\u064a\u0629:"}),m.map(((e,t)=>(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-100 bg-opacity-20 rounded-lg",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("span",{className:"text-lg",children:"\ud83c\udfb5"}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("div",{className:"text-sm font-bold",children:["\u062a\u0633\u062c\u064a\u0644 ",t+1]}),(0,Tt.jsx)("div",{className:"text-xs text-gray-600",children:e.timestamp})]}),(0,Tt.jsx)("audio",{controls:!0,src:e.audio,className:"h-8"})]}),(0,Tt.jsxs)("div",{className:"flex gap-2",children:[(0,Tt.jsx)("button",{type:"button",onClick:()=>(async e=>{try{if(p(!0),!P)return b("\u0645\u064a\u0632\u0629 \u062a\u062d\u0648\u064a\u0644 \u0627\u0644\u0635\u0648\u062a \u0625\u0644\u0649 \u0646\u0635 \u063a\u064a\u0631 \u0645\u062a\u0627\u062d\u0629 \u0641\u064a \u0645\u062a\u0635\u0641\u062d\u0643"),void p(!1);if(!m.find((t=>t.id===e)))return b("\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0635\u0648\u062a\u064a"),void p(!1);const t=["\u062a\u0645\u062a \u0632\u064a\u0627\u0631\u0629 \u0627\u0644\u0639\u064a\u0627\u062f\u0629 \u0628\u0646\u062c\u0627\u062d \u0648\u0627\u0644\u0637\u0628\u064a\u0628 \u0643\u0627\u0646 \u0645\u062a\u0639\u0627\u0648\u0646\u0627\u064b \u062c\u062f\u0627\u064b. \u062a\u0645 \u0645\u0646\u0627\u0642\u0634\u0629 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u062c\u062f\u064a\u062f\u0629 \u0648\u0623\u0628\u062f\u0649 \u0627\u0647\u062a\u0645\u0627\u0645\u0627\u064b \u0643\u0628\u064a\u0631\u0627\u064b.","\u0627\u0644\u0632\u064a\u0627\u0631\u0629 \u0643\u0627\u0646\u062a \u0645\u062b\u0645\u0631\u0629 \u0648\u062a\u0645 \u0627\u0644\u0627\u062a\u0641\u0627\u0642 \u0639\u0644\u0649 \u0632\u064a\u0627\u062f\u0629 \u0627\u0644\u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0634\u0647\u0631\u064a\u0629. \u0627\u0644\u0637\u0628\u064a\u0628 \u0631\u0627\u0636\u064d \u0639\u0646 \u062c\u0648\u062f\u0629 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a.","\u062a\u0645 \u0645\u0646\u0627\u0642\u0634\u0629 \u062e\u0637\u0629 \u0627\u0644\u0639\u0644\u0627\u062c \u0627\u0644\u062c\u062f\u064a\u062f\u0629 \u0645\u0639 \u0627\u0644\u0637\u0628\u064a\u0628 \u0648\u062a\u0645 \u0627\u0644\u0627\u062a\u0641\u0627\u0642 \u0639\u0644\u0649 \u0627\u0644\u062a\u062c\u0631\u0628\u0629. \u0633\u064a\u062a\u0645 \u0627\u0644\u0645\u062a\u0627\u0628\u0639\u0629 \u062e\u0644\u0627\u0644 \u0623\u0633\u0628\u0648\u0639.","\u0627\u0644\u0639\u064a\u0627\u062f\u0629 \u062a\u062d\u062a\u0627\u062c \u0625\u0644\u0649 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0645\u0639\u062f\u0627\u062a \u0627\u0644\u0637\u0628\u064a\u0629. \u062a\u0645 \u062a\u0642\u062f\u064a\u0645 \u0639\u0631\u0636 \u0633\u0639\u0631 \u062c\u062f\u064a\u062f \u0644\u0644\u0637\u0628\u064a\u0628 \u0644\u0644\u0645\u0631\u0627\u062c\u0639\u0629.","\u0627\u0644\u0637\u0628\u064a\u0628 \u0623\u0628\u062f\u0649 \u0631\u0636\u0627\u0647 \u0639\u0646 \u0627\u0644\u062e\u062f\u0645\u0629 \u0627\u0644\u0645\u0642\u062f\u0645\u0629 \u0648\u0637\u0644\u0628 \u0632\u064a\u0627\u062f\u0629 \u0641\u064a \u0643\u0645\u064a\u0629 \u0627\u0644\u0623\u062f\u0648\u064a\u0629 \u0627\u0644\u0645\u062a\u0627\u062d\u0629."];await new Promise((e=>setTimeout(e,2e3)));const s=t[Math.floor(Math.random()*t.length)],a=(new Date).toLocaleString("ar-EG"),n="[\u0645\u062d\u0648\u0644 \u0645\u0646 \u0627\u0644\u062a\u0633\u062c\u064a\u0644 ".concat(m.findIndex((t=>t.id===e))+1," - ").concat(a,"]\n").concat(s);u((e=>e?"".concat(e,"\n\n").concat(n):n)),y("\u062a\u0645 \u062a\u062d\u0648\u064a\u0644 \u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0635\u0648\u062a\u064a \u0625\u0644\u0649 \u0646\u0635 \u0628\u0646\u062c\u0627\u062d \u0648\u0625\u0636\u0627\u0641\u062a\u0647 \u0644\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0627\u0644\u0625\u0636\u0627\u0641\u064a\u0629"),setTimeout((()=>y("")),3e3)}catch(v){console.error("Error converting voice to text:",v),b("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062a\u062d\u0648\u064a\u0644 \u0627\u0644\u0635\u0648\u062a \u0625\u0644\u0649 \u0646\u0635")}finally{p(!1)}})(e.id),className:"btn-secondary text-xs px-3 py-1 flex items-center gap-1",disabled:h,children:h?(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 border-b border-gray-600"}),(0,Tt.jsx)("span",{children:"\u0645\u0639\u0627\u0644\u062c\u0629..."})]}):(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)("span",{children:"\ud83d\udcdd"}),(0,Tt.jsx)("span",{children:"\u062a\u062d\u0648\u064a\u0644 \u0644\u0646\u0635"})]})}),(0,Tt.jsx)("button",{type:"button",onClick:()=>{return t=e.id,void x(m.filter((e=>e.id!==t)));var t},className:"text-red-500 hover:text-red-700 px-2",children:"\ud83d\uddd1\ufe0f"})]})]},e.id)))]})]}),d&&(0,Tt.jsxs)("div",{className:"mb-4",children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2 text-green-700",children:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0625\u0636\u0627\u0641\u064a\u0629 (\u0645\u062d\u0648\u0644\u0629 \u0645\u0646 \u0627\u0644\u0635\u0648\u062a)"}),(0,Tt.jsx)("textarea",{value:d,onChange:e=>u(e.target.value),rows:6,className:"w-full p-3 rounded-lg border border-green-300 border-opacity-50 bg-green-50 bg-opacity-10",placeholder:"\u0633\u062a\u0638\u0647\u0631 \u0647\u0646\u0627 \u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0627\u0644\u0645\u062d\u0648\u0644\u0629 \u0645\u0646 \u0627\u0644\u062a\u0633\u062c\u064a\u0644\u0627\u062a \u0627\u0644\u0635\u0648\u062a\u064a\u0629...",readOnly:!1}),(0,Tt.jsx)("div",{className:"text-xs text-green-600 mt-1",children:"\ud83d\udca1 \u064a\u0645\u0643\u0646\u0643 \u062a\u0639\u062f\u064a\u0644 \u0647\u0630\u0647 \u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0623\u0648 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0632\u064a\u062f \u0625\u0644\u064a\u0647\u0627"})]})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-lg",children:[(0,Tt.jsx)("button",{type:"submit",disabled:h||!a||!r.trim(),className:"w-full btn-primary py-4 text-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed",children:h?(0,Tt.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,Tt.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),(0,Tt.jsx)("span",{children:"\u062c\u0627\u0631\u064a \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0629..."})]}):(0,Tt.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,Tt.jsx)("span",{className:"text-xl",children:"\u2705"}),(0,Tt.jsx)("span",{children:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0629"})]})}),(0,Tt.jsx)("div",{className:"mt-3 text-center text-sm",style:{color:"var(--text-secondary)"},children:"\u0633\u062a\u062a\u0645 \u0645\u0631\u0627\u062c\u0639\u0629 \u0627\u0644\u0632\u064a\u0627\u0631\u0629 \u0645\u0646 \u0642\u0650\u0628\u0644 \u0627\u0644\u0625\u062f\u0627\u0631\u0629"})]})]})]})},Rs=e=>{let{item:t,warehouses:s,onClose:a,onSave:l,language:r}=e;const[i,c]=(0,n.useState)({quantity:(null===t||void 0===t?void 0:t.quantity)||0,minimum_stock:(null===t||void 0===t?void 0:t.minimum_stock)||0,warehouse_id:(null===t||void 0===t?void 0:t.warehouse_id)||"",product_id:(null===t||void 0===t?void 0:t.product_id)||""}),o="ar"===r?{editInventory:"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u062e\u0632\u0648\u0646",product:"\u0627\u0644\u0645\u0646\u062a\u062c",warehouse:"\u0627\u0644\u0645\u062e\u0632\u0646",currentQuantity:"\u0627\u0644\u0643\u0645\u064a\u0629 \u0627\u0644\u062d\u0627\u0644\u064a\u0629",newQuantity:"\u0627\u0644\u0643\u0645\u064a\u0629 \u0627\u0644\u062c\u062f\u064a\u062f\u0629",minimumStock:"\u0627\u0644\u062d\u062f \u0627\u0644\u0623\u062f\u0646\u0649 \u0644\u0644\u0645\u062e\u0632\u0648\u0646",save:"\u062d\u0641\u0638",cancel:"\u0625\u0644\u063a\u0627\u0621"}:{editInventory:"Edit Inventory",product:"Product",warehouse:"Warehouse",currentQuantity:"Current Quantity",newQuantity:"New Quantity",minimumStock:"Minimum Stock",save:"Save",cancel:"Cancel"};return(0,Tt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Tt.jsxs)("div",{className:"modal-modern p-6 w-full max-w-md",children:[(0,Tt.jsx)("h3",{className:"text-xl font-bold mb-4",children:o.editInventory}),(0,Tt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),l(i)},className:"space-y-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("label",{className:"block text-sm font-bold mb-2",children:[o.product,":"]}),(0,Tt.jsx)("input",{type:"text",value:(null===t||void 0===t?void 0:t.product_name)||"",disabled:!0,className:"form-modern w-full bg-gray-100"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("label",{className:"block text-sm font-bold mb-2",children:[o.warehouse,":"]}),(0,Tt.jsx)("select",{value:i.warehouse_id,onChange:e=>c(d(d({},i),{},{warehouse_id:e.target.value})),className:"form-modern w-full",children:s.map((e=>(0,Tt.jsx)("option",{value:e.id,children:e.name},e.id)))})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("label",{className:"block text-sm font-bold mb-2",children:[o.currentQuantity,":"]}),(0,Tt.jsx)("input",{type:"text",value:(null===t||void 0===t?void 0:t.quantity)||0,disabled:!0,className:"form-modern w-full bg-gray-100"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("label",{className:"block text-sm font-bold mb-2",children:[o.newQuantity,":"]}),(0,Tt.jsx)("input",{type:"number",value:i.quantity,onChange:e=>c(d(d({},i),{},{quantity:parseInt(e.target.value)})),className:"form-modern w-full",min:"0"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("label",{className:"block text-sm font-bold mb-2",children:[o.minimumStock,":"]}),(0,Tt.jsx)("input",{type:"number",value:i.minimum_stock,onChange:e=>c(d(d({},i),{},{minimum_stock:parseInt(e.target.value)})),className:"form-modern w-full",min:"0"})]}),(0,Tt.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Tt.jsx)("button",{type:"submit",className:"btn-primary flex-1",children:o.save}),(0,Tt.jsx)("button",{type:"button",onClick:a,className:"btn-secondary flex-1",children:o.cancel})]})]})]})})},Is=e=>{let{item:t,onClose:s,language:a}=e;const n="ar"===a?{inventoryDetails:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0645\u062e\u0632\u0648\u0646",product:"\u0627\u0644\u0645\u0646\u062a\u062c",warehouse:"\u0627\u0644\u0645\u062e\u0632\u0646",category:"\u0627\u0644\u0641\u0626\u0629",quantity:"\u0627\u0644\u0643\u0645\u064a\u0629",minimumStock:"\u0627\u0644\u062d\u062f \u0627\u0644\u0623\u062f\u0646\u0649",unitPrice:"\u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0629",totalValue:"\u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a\u0629",lastUpdated:"\u0622\u062e\u0631 \u062a\u062d\u062f\u064a\u062b",status:"\u0627\u0644\u062d\u0627\u0644\u0629",inStock:"\u0645\u062a\u0648\u0641\u0631",lowStock:"\u0645\u062e\u0632\u0648\u0646 \u0645\u0646\u062e\u0641\u0636",outOfStock:"\u0646\u0641\u062f \u0627\u0644\u0645\u062e\u0632\u0648\u0646",close:"\u0625\u063a\u0644\u0627\u0642"}:{inventoryDetails:"Inventory Details",product:"Product",warehouse:"Warehouse",category:"Category",quantity:"Quantity",minimumStock:"Minimum Stock",unitPrice:"Unit Price",totalValue:"Total Value",lastUpdated:"Last Updated",status:"Status",inStock:"In Stock",lowStock:"Low Stock",outOfStock:"Out of Stock",close:"Close"},l=0===t.quantity?{text:n.outOfStock,color:"text-red-500"}:t.quantity<=t.minimum_stock?{text:n.lowStock,color:"text-yellow-500"}:{text:n.inStock,color:"text-green-500"};return(0,Tt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Tt.jsxs)("div",{className:"modal-modern p-6 w-full max-w-lg",children:[(0,Tt.jsx)("h3",{className:"text-xl font-bold mb-4",children:n.inventoryDetails}),(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("label",{className:"block text-sm font-bold mb-1",children:[n.product,":"]}),(0,Tt.jsx)("p",{className:"text-sm",children:t.product_name})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("label",{className:"block text-sm font-bold mb-1",children:[n.warehouse,":"]}),(0,Tt.jsx)("p",{className:"text-sm",children:t.warehouse_name})]})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("label",{className:"block text-sm font-bold mb-1",children:[n.category,":"]}),(0,Tt.jsx)("p",{className:"text-sm",children:t.category||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("label",{className:"block text-sm font-bold mb-1",children:[n.status,":"]}),(0,Tt.jsx)("p",{className:"text-sm font-bold ".concat(l.color),children:l.text})]})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("label",{className:"block text-sm font-bold mb-1",children:[n.quantity,":"]}),(0,Tt.jsx)("p",{className:"text-lg font-bold",children:t.quantity})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("label",{className:"block text-sm font-bold mb-1",children:[n.minimumStock,":"]}),(0,Tt.jsx)("p",{className:"text-lg font-bold",children:t.minimum_stock})]})]}),t.unit_price&&(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("label",{className:"block text-sm font-bold mb-1",children:[n.unitPrice,":"]}),(0,Tt.jsxs)("p",{className:"text-sm",children:[t.unit_price," \u062c.\u0645"]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("label",{className:"block text-sm font-bold mb-1",children:[n.totalValue,":"]}),(0,Tt.jsxs)("p",{className:"text-sm font-bold",children:[(t.quantity*t.unit_price).toFixed(2)," \u062c.\u0645"]})]})]}),t.last_updated&&(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("label",{className:"block text-sm font-bold mb-1",children:[n.lastUpdated,":"]}),(0,Tt.jsx)("p",{className:"text-sm",children:new Date(t.last_updated).toLocaleString("ar"===a?"ar-EG":"en-US")})]})]}),(0,Tt.jsx)("div",{className:"flex justify-end pt-4 mt-4 border-t",children:(0,Tt.jsx)("button",{onClick:s,className:"btn-primary px-6",children:n.close})})]})})},Fs=e=>{let{inventory:t,warehouses:s,onRefresh:a,language:l}=e;const[r,i]=(0,n.useState)("all"),[c,o]=(0,n.useState)(""),[d,u]=(0,n.useState)("all"),[m,x]=(0,n.useState)(!1),[h,p]=(0,n.useState)(!1),[g,f]=(0,n.useState)(null),v="ar"===l?{inventoryTitle:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u062e\u0632\u0648\u0646 \u0627\u0644\u0634\u0627\u0645\u0644",warehouse:"\u0627\u0644\u0645\u062e\u0632\u0646",allWarehouses:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u062e\u0627\u0632\u0646",search:"\u0628\u062d\u062b \u0641\u064a \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a...",category:"\u0627\u0644\u0641\u0626\u0629",allCategories:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0641\u0626\u0627\u062a",productName:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c",quantity:"\u0627\u0644\u0643\u0645\u064a\u0629",minStock:"\u0623\u0642\u0644 \u0645\u062e\u0632\u0648\u0646",unitPrice:"\u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0629",totalValue:"\u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a\u0629",status:"\u0627\u0644\u062d\u0627\u0644\u0629",actions:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a",inStock:"\u0645\u062a\u0648\u0641\u0631",lowStock:"\u0646\u0642\u0635 \u0645\u062e\u0632\u0648\u0646",outOfStock:"\u0646\u0641\u062f \u0627\u0644\u0645\u062e\u0632\u0648\u0646",edit:"\u062a\u0639\u062f\u064a\u0644",view:"\u0639\u0631\u0636"}:{inventoryTitle:"Comprehensive Inventory Management",warehouse:"Warehouse",allWarehouses:"All Warehouses",search:"Search products...",category:"Category",allCategories:"All Categories",productName:"Product Name",quantity:"Quantity",minStock:"Min Stock",unitPrice:"Unit Price",totalValue:"Total Value",status:"Status",actions:"Actions",inStock:"In Stock",lowStock:"Low Stock",outOfStock:"Out of Stock",edit:"Edit",view:"View"},b=t.filter((e=>{const t="all"===r||e.warehouse===r,s=e.name.toLowerCase().includes(c.toLowerCase()),a="all"===d||e.category===d;return t&&s&&a})),j=[...new Set(t.map((e=>e.category)))];return(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"card-modern p-6",children:[(0,Tt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\ud83d\udce6"}),(0,Tt.jsx)("span",{children:v.inventoryTitle})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("label",{className:"block text-sm font-bold mb-2",children:[v.warehouse,":"]}),(0,Tt.jsxs)("select",{value:r,onChange:e=>i(e.target.value),className:"form-modern w-full",children:[(0,Tt.jsx)("option",{value:"all",children:v.allWarehouses}),s.map((e=>(0,Tt.jsx)("option",{value:e.name,children:e.name},e.id)))]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("label",{className:"block text-sm font-bold mb-2",children:[v.search,":"]}),(0,Tt.jsx)("input",{type:"text",value:c,onChange:e=>o(e.target.value),placeholder:v.search,className:"form-modern w-full"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("label",{className:"block text-sm font-bold mb-2",children:[v.category,":"]}),(0,Tt.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"form-modern w-full",children:[(0,Tt.jsx)("option",{value:"all",children:v.allCategories}),j.map((e=>(0,Tt.jsx)("option",{value:e,children:e},e)))]})]}),(0,Tt.jsx)("div",{className:"flex items-end",children:(0,Tt.jsxs)("button",{onClick:a,className:"btn-primary w-full flex items-center justify-center gap-2",children:[(0,Tt.jsx)("span",{children:"\ud83d\udd04"}),(0,Tt.jsx)("span",{children:"ar"===l?"\u062a\u062d\u062f\u064a\u062b":"Refresh"})]})})]}),(0,Tt.jsx)("div",{className:"table-modern overflow-x-auto",children:(0,Tt.jsxs)("table",{className:"min-w-full",children:[(0,Tt.jsx)("thead",{children:(0,Tt.jsxs)("tr",{children:[(0,Tt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:v.productName}),(0,Tt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:v.warehouse}),(0,Tt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:v.quantity}),(0,Tt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:v.minStock}),(0,Tt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:v.unitPrice}),(0,Tt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:v.totalValue}),(0,Tt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:v.status}),(0,Tt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:v.actions})]})}),(0,Tt.jsx)("tbody",{children:b.map((e=>{const t=(e=>0===e.quantity?{text:v.outOfStock,color:"text-red-600",bg:"bg-red-100"}:e.quantity<=e.min_stock?{text:v.lowStock,color:"text-orange-600",bg:"bg-orange-100"}:{text:v.inStock,color:"text-green-600",bg:"bg-green-100"})(e),s=e.quantity*e.unit_price;return(0,Tt.jsxs)("tr",{className:"hover:bg-gray-50 hover:bg-opacity-5 transition-colors",children:[(0,Tt.jsx)("td",{className:"px-6 py-4",children:(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"font-medium text-lg",children:e.name}),(0,Tt.jsx)("div",{className:"text-sm text-gray-500",children:e.category})]})}),(0,Tt.jsx)("td",{className:"px-6 py-4",children:(0,Tt.jsx)("div",{className:"font-medium",children:e.warehouse})}),(0,Tt.jsx)("td",{className:"px-6 py-4",children:(0,Tt.jsx)("div",{className:"text-lg font-bold",children:e.quantity})}),(0,Tt.jsx)("td",{className:"px-6 py-4",children:(0,Tt.jsx)("div",{className:"text-sm text-gray-600",children:e.min_stock})}),(0,Tt.jsx)("td",{className:"px-6 py-4",children:(0,Tt.jsxs)("div",{className:"font-medium",children:[e.unit_price.toFixed(2)," ","ar"===l?"\u062c\u0646\u064a\u0647":"EGP"]})}),(0,Tt.jsx)("td",{className:"px-6 py-4",children:(0,Tt.jsxs)("div",{className:"text-lg font-bold text-green-600",children:[s.toFixed(2)," ","ar"===l?"\u062c\u0646\u064a\u0647":"EGP"]})}),(0,Tt.jsx)("td",{className:"px-6 py-4",children:(0,Tt.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(t.bg," ").concat(t.color),children:t.text})}),(0,Tt.jsx)("td",{className:"px-6 py-4",children:(0,Tt.jsxs)("div",{className:"flex gap-2",children:[(0,Tt.jsx)("button",{className:"btn-info text-xs px-3 py-1",title:v.view,onClick:()=>{f(e),p(!0)},children:"\ud83d\udc41\ufe0f"}),(0,Tt.jsx)("button",{className:"btn-primary text-xs px-3 py-1",title:v.edit,onClick:()=>{f(e),x(!0)},children:"\u270f\ufe0f"})]})})]},e.id)}))})]})})]}),m&&g&&(0,Tt.jsx)(Rs,{item:g,warehouses:s,onClose:()=>{x(!1),f(null)},onSave:async e=>{try{const t=localStorage.getItem("access_token");await Pt.patch("".concat(Dt,"/inventory/").concat(e.warehouse_id,"/").concat(e.product_id),{quantity:e.quantity,minimum_stock:e.minimum_stock},{headers:{Authorization:"Bearer ".concat(t)}}),a(),x(!1),f(null)}catch(t){console.error("Error updating inventory:",t)}},language:l}),h&&g&&(0,Tt.jsx)(Is,{item:g,onClose:()=>{p(!1),f(null)},language:l})]})},Bs=e=>{let{orders:t,onRefresh:s,language:a}=e;const[l,r]=(0,n.useState)(!1),[i,c]=(0,n.useState)(null),o="ar"===a?{ordersTitle:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0645\u0646\u062a\u0638\u0631\u0629",orderId:"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628\u064a\u0629",clinic:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629",salesRep:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628",warehouse:"\u0627\u0644\u0645\u062e\u0632\u0646",items:"\u0639\u062f\u062f \u0627\u0644\u0639\u0646\u0627\u0635\u0631",total:"\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a",status:"\u0627\u0644\u062d\u0627\u0644\u0629",actions:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a",pendingManager:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u062f\u064a\u0631",pendingAccounting:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629",pendingWarehouse:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u062e\u0632\u0646",approve:"\u0645\u0648\u0627\u0641\u0642\u0629",reject:"\u0631\u0641\u0636",view:"\u0639\u0631\u0636"}:{ordersTitle:"Pending Orders Management",orderId:"Order ID",clinic:"Clinic",salesRep:"Sales Rep",warehouse:"Warehouse",items:"Items",total:"Total",status:"Status",actions:"Actions",pendingManager:"Pending Manager",pendingAccounting:"Pending Accounting",pendingWarehouse:"Pending Warehouse",approve:"Approve",reject:"Reject",view:"View"};return(0,Tt.jsx)("div",{className:"space-y-6",children:(0,Tt.jsxs)("div",{className:"card-modern p-6",children:[(0,Tt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\ud83d\uded2"}),(0,Tt.jsx)("span",{children:o.ordersTitle})]}),(0,Tt.jsx)("div",{className:"table-modern overflow-x-auto",children:(0,Tt.jsxs)("table",{className:"min-w-full",children:[(0,Tt.jsx)("thead",{children:(0,Tt.jsxs)("tr",{children:[(0,Tt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:o.orderId}),(0,Tt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:o.clinic}),(0,Tt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:o.salesRep}),(0,Tt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:o.warehouse}),(0,Tt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:o.items}),(0,Tt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:o.total}),(0,Tt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:o.status}),(0,Tt.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:o.actions})]})}),(0,Tt.jsx)("tbody",{children:t.map((e=>{const t=(e=>{switch(e){case"pending_manager":return{text:o.pendingManager,color:"text-orange-600",bg:"bg-orange-100"};case"pending_accounting":return{text:o.pendingAccounting,color:"text-blue-600",bg:"bg-blue-100"};case"pending_warehouse":return{text:o.pendingWarehouse,color:"text-purple-600",bg:"bg-purple-100"};default:return{text:e,color:"text-gray-600",bg:"bg-gray-100"}}})(e.status);return(0,Tt.jsxs)("tr",{className:"hover:bg-gray-50 hover:bg-opacity-5 transition-colors",children:[(0,Tt.jsx)("td",{className:"px-6 py-4",children:(0,Tt.jsxs)("div",{className:"font-medium",children:["#",e.id]})}),(0,Tt.jsx)("td",{className:"px-6 py-4",children:(0,Tt.jsx)("div",{className:"font-medium",children:e.clinic})}),(0,Tt.jsx)("td",{className:"px-6 py-4",children:(0,Tt.jsx)("div",{className:"font-medium",children:e.sales_rep})}),(0,Tt.jsx)("td",{className:"px-6 py-4",children:(0,Tt.jsx)("div",{className:"font-medium",children:e.warehouse})}),(0,Tt.jsx)("td",{className:"px-6 py-4",children:(0,Tt.jsx)("div",{className:"text-center font-bold",children:e.items})}),(0,Tt.jsx)("td",{className:"px-6 py-4",children:(0,Tt.jsxs)("div",{className:"text-lg font-bold text-green-600",children:[e.total.toLocaleString()," ","ar"===a?"\u062c\u0646\u064a\u0647":"EGP"]})}),(0,Tt.jsx)("td",{className:"px-6 py-4",children:(0,Tt.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(t.bg," ").concat(t.color),children:t.text})}),(0,Tt.jsx)("td",{className:"px-6 py-4",children:(0,Tt.jsxs)("div",{className:"flex gap-2",children:[(0,Tt.jsx)("button",{className:"btn-info text-xs px-3 py-1",title:o.view,onClick:()=>{c(e),r(!0)},children:"\ud83d\udc41\ufe0f"}),(0,Tt.jsx)("button",{className:"btn-success text-xs px-3 py-1",title:o.approve,onClick:()=>(async e=>{try{const t=localStorage.getItem("access_token");await Pt.patch("".concat(Dt,"/orders/").concat(e,"/review"),{approved:!0},{headers:{Authorization:"Bearer ".concat(t)}}),s()}catch(t){console.error("Error approving order:",t)}})(e.id),children:"\u2705"}),(0,Tt.jsx)("button",{className:"btn-danger text-xs px-3 py-1",title:o.reject,onClick:()=>(async e=>{try{const t=localStorage.getItem("access_token");await Pt.patch("".concat(Dt,"/orders/").concat(e,"/review"),{approved:!1},{headers:{Authorization:"Bearer ".concat(t)}}),s()}catch(t){console.error("Error rejecting order:",t)}})(e.id),children:"\u274c"})]})})]},e.id)}))})]})})]})})},Us=e=>{let{movements:t,language:s}=e;const[a,l]=(0,n.useState)(""),[r,i]=(0,n.useState)("all"),[c,o]=(0,n.useState)("all"),d="ar"===s?{movementsTitle:"\u0633\u062c\u0644 \u062d\u0631\u0643\u0627\u062a \u0627\u0644\u0645\u062e\u0632\u0646",filterByDate:"\u0641\u0644\u062a\u0631\u0629 \u0628\u0627\u0644\u062a\u0627\u0631\u064a\u062e",filterByType:"\u0641\u0644\u062a\u0631\u0629 \u0628\u0646\u0648\u0639 \u0627\u0644\u062d\u0631\u0643\u0629",filterByStatus:"\u0641\u0644\u062a\u0631\u0629 \u0628\u0627\u0644\u062d\u0627\u0644\u0629",allTypes:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0623\u0646\u0648\u0627\u0639",allStatuses:"\u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0627\u0644\u0627\u062a",date:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e",product:"\u0627\u0644\u0645\u0646\u062a\u062c",requester:"\u0627\u0644\u0637\u0627\u0644\u0628",region:"\u0627\u0644\u0645\u0646\u0637\u0642\u0629",movementType:"\u0646\u0648\u0639 \u0627\u0644\u062d\u0631\u0643\u0629",orderType:"\u0646\u0648\u0639 \u0627\u0644\u0637\u0644\u0628",quantity:"\u0627\u0644\u0643\u0645\u064a\u0629",salesRep:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628",doctor:"\u0627\u0644\u062f\u0643\u062a\u0648\u0631 \u0627\u0644\u0645\u0633\u062a\u0644\u0645",reason:"\u0627\u0644\u0633\u0628\u0628",comments:"\u062a\u0639\u0644\u064a\u0642\u0627\u062a",status:"\u0627\u0644\u062d\u0627\u0644\u0629",actions:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a",completed:"\u062a\u0645\u062a",pendingApproval:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629",review:"\u0645\u0631\u0627\u062c\u0639\u0629",cancel:"\u0625\u0644\u063a\u0627\u0621"}:{movementsTitle:"Warehouse Movement Log",filterByDate:"Filter by Date",filterByType:"Filter by Type",filterByStatus:"Filter by Status",allTypes:"All Types",allStatuses:"All Statuses",date:"Date",product:"Product",requester:"Requester",region:"Region",movementType:"Movement Type",orderType:"Order Type",quantity:"Quantity",salesRep:"Sales Rep",doctor:"Receiving Doctor",reason:"Reason",comments:"Comments",status:"Status",actions:"Actions",completed:"Completed",pendingApproval:"Pending Approval",review:"Review",cancel:"Cancel"},u=t.filter((e=>{const t=!a||e.date.includes(a),s="all"===r||e.movement_type===r,n="all"===c||e.status===c;return t&&s&&n}));return(0,Tt.jsx)("div",{className:"space-y-6",children:(0,Tt.jsxs)("div",{className:"card-modern p-6",children:[(0,Tt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\ud83d\udccb"}),(0,Tt.jsx)("span",{children:d.movementsTitle})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("label",{className:"block text-sm font-bold mb-2",children:[d.filterByDate,":"]}),(0,Tt.jsx)("input",{type:"date",value:a,onChange:e=>l(e.target.value),className:"form-modern w-full"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("label",{className:"block text-sm font-bold mb-2",children:[d.filterByType,":"]}),(0,Tt.jsxs)("select",{value:r,onChange:e=>i(e.target.value),className:"form-modern w-full",children:[(0,Tt.jsx)("option",{value:"all",children:d.allTypes}),(0,Tt.jsx)("option",{value:"\u0635\u0631\u0641",children:"ar"===s?"\u0635\u0631\u0641":"Dispatch"}),(0,Tt.jsx)("option",{value:"\u0625\u062f\u062e\u0627\u0644",children:"ar"===s?"\u0625\u062f\u062e\u0627\u0644":"Receive"})]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("label",{className:"block text-sm font-bold mb-2",children:[d.filterByStatus,":"]}),(0,Tt.jsxs)("select",{value:c,onChange:e=>o(e.target.value),className:"form-modern w-full",children:[(0,Tt.jsx)("option",{value:"all",children:d.allStatuses}),(0,Tt.jsx)("option",{value:"completed",children:d.completed}),(0,Tt.jsx)("option",{value:"pending_approval",children:d.pendingApproval})]})]})]}),(0,Tt.jsx)("div",{className:"table-modern overflow-x-auto",children:(0,Tt.jsxs)("table",{className:"min-w-full text-sm",children:[(0,Tt.jsx)("thead",{children:(0,Tt.jsxs)("tr",{children:[(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.date}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.product}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.requester}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.region}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.movementType}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.orderType}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.quantity}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.salesRep}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.doctor}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.reason}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.comments}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.status}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.actions})]})}),(0,Tt.jsx)("tbody",{children:u.map((e=>{const t=(e=>{switch(e){case"completed":return{text:d.completed,color:"text-green-600",bg:"bg-green-100"};case"pending_approval":return{text:d.pendingApproval,color:"text-orange-600",bg:"bg-orange-100"};default:return{text:e,color:"text-gray-600",bg:"bg-gray-100"}}})(e.status);return(0,Tt.jsxs)("tr",{className:"hover:bg-gray-50 hover:bg-opacity-5 transition-colors",children:[(0,Tt.jsx)("td",{className:"px-4 py-3",children:(0,Tt.jsx)("div",{className:"text-sm font-medium",children:e.date})}),(0,Tt.jsx)("td",{className:"px-4 py-3",children:(0,Tt.jsx)("div",{className:"font-medium",children:e.product})}),(0,Tt.jsx)("td",{className:"px-4 py-3",children:(0,Tt.jsx)("div",{className:"text-sm",children:e.requester})}),(0,Tt.jsx)("td",{className:"px-4 py-3",children:(0,Tt.jsx)("div",{className:"text-sm",children:e.region})}),(0,Tt.jsx)("td",{className:"px-4 py-3",children:(0,Tt.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat("\u0635\u0631\u0641"===e.movement_type?"bg-red-100 text-red-800":"bg-green-100 text-green-800"),children:e.movement_type})}),(0,Tt.jsx)("td",{className:"px-4 py-3",children:(0,Tt.jsx)("div",{className:"text-sm",children:e.order_type})}),(0,Tt.jsx)("td",{className:"px-4 py-3",children:(0,Tt.jsx)("div",{className:"text-center font-bold",children:e.quantity})}),(0,Tt.jsx)("td",{className:"px-4 py-3",children:(0,Tt.jsx)("div",{className:"text-sm",children:e.sales_rep})}),(0,Tt.jsx)("td",{className:"px-4 py-3",children:(0,Tt.jsx)("div",{className:"text-sm",children:e.doctor||"-"})}),(0,Tt.jsx)("td",{className:"px-4 py-3",children:(0,Tt.jsx)("div",{className:"text-sm",children:e.reason})}),(0,Tt.jsx)("td",{className:"px-4 py-3",children:(0,Tt.jsx)("div",{className:"text-sm",children:e.comments})}),(0,Tt.jsx)("td",{className:"px-4 py-3",children:(0,Tt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(t.bg," ").concat(t.color),children:t.text})}),(0,Tt.jsx)("td",{className:"px-4 py-3",children:(0,Tt.jsxs)("div",{className:"flex gap-1",children:[(0,Tt.jsx)("button",{className:"btn-info text-xs px-2 py-1",title:d.review,children:"\ud83d\udc41\ufe0f"}),(0,Tt.jsx)("button",{className:"btn-danger text-xs px-2 py-1",title:d.cancel,children:"\u274c"})]})})]},e.id)}))})]})})]})})},qs=e=>{var t;let{stats:s,user:a,userRole:l}=e;const{language:r,t:i,isRTL:c}=It(),[o,u]=(0,n.useState)("overview"),[m,x]=(0,n.useState)({metrics:{revenue:{value:(null===s||void 0===s?void 0:s.totalRevenue)||0,change:"+12.5%",trend:"up"},orders:{value:(null===s||void 0===s?void 0:s.totalOrders)||0,change:"+8.2%",trend:"up"},visits:{value:(null===s||void 0===s?void 0:s.totalVisits)||0,change:"+15.3%",trend:"up"},users:{value:(null===s||void 0===s?void 0:s.activeUsers)||0,change:"-2.1%",trend:"down"},conversion:{value:"68.4%",change:"+5.7%",trend:"up"},satisfaction:{value:"94.2%",change:"+1.8%",trend:"up"}},activities:[],notifications:[],tasks:[]}),[h,p]=(0,n.useState)(!0),[g,f]=(0,n.useState)(null);(0,n.useEffect)((()=>{v();const e=setInterval(v,45e3);return()=>clearInterval(e)}),[]);const v=async()=>{setTimeout((()=>{const e=[{id:1,type:"order",title:"\u0637\u0644\u0628 \u062c\u062f\u064a\u062f \u062a\u0645 \u0625\u0646\u0634\u0627\u0624\u0647",description:"\u0637\u0644\u0628 \u0631\u0642\u0645 #ORD-2025-001 \u0628\u0642\u064a\u0645\u0629 3,450 \u062c.\u0645",time:"5 \u062f\u0642\u0627\u0626\u0642",priority:"high",icon:"\ud83d\uded2"},{id:2,type:"visit",title:"\u0632\u064a\u0627\u0631\u0629 \u0637\u0628\u064a\u0629 \u0645\u0643\u062a\u0645\u0644\u0629",description:"\u062f. \u0623\u062d\u0645\u062f \u0645\u062d\u0645\u0648\u062f - \u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0646\u0648\u0631 \u0627\u0644\u0637\u0628\u064a\u0629",time:"12 \u062f\u0642\u064a\u0642\u0629",priority:"medium",icon:"\ud83c\udfe5"},{id:3,type:"approval",title:"\u0637\u0644\u0628 \u0645\u0648\u0627\u0641\u0642\u0629 \u0645\u0639\u0644\u0642",description:"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0634\u0641\u0627\u0621 - \u0637\u0644\u0628 \u0632\u064a\u0627\u062f\u0629 \u062d\u062f \u0627\u0644\u0627\u0626\u062a\u0645\u0627\u0646",time:"25 \u062f\u0642\u064a\u0642\u0629",priority:"urgent",icon:"\u23f0"}],t=[{id:1,message:"\u062a\u062d\u062f\u064a\u062b \u062c\u062f\u064a\u062f \u0645\u062a\u0627\u062d \u0644\u0644\u0646\u0638\u0627\u0645",type:"info",unread:!0},{id:2,message:"3 \u0637\u0644\u0628\u0627\u062a \u062a\u062d\u062a\u0627\u062c \u0645\u0648\u0627\u0641\u0642\u0629",type:"warning",unread:!0},{id:3,message:"\u062a\u0645 \u0625\u0643\u0645\u0627\u0644 \u0627\u0644\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0634\u0647\u0631\u064a",type:"success",unread:!1}];x((s=>d(d({},s),{},{activities:e,notifications:t,tasks:["\u0645\u0631\u0627\u062c\u0639\u0629 \u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631 \u0627\u0644\u064a\u0648\u0645\u064a\u0629","\u0645\u062a\u0627\u0628\u0639\u0629 \u0627\u0644\u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0645\u0639\u0644\u0642\u0629","\u0627\u062c\u062a\u0645\u0627\u0639 \u0627\u0644\u0641\u0631\u064a\u0642 2:00 \u0645"]}))),p(!1)}),1200)},b=e=>{let{title:t,value:s,change:a,trend:n,icon:l,color:r,index:i,description:c}=e;return(0,Tt.jsxs)("div",{className:"professional-metric-card ".concat(g===i?"selected":""),style:{"--card-color":r,animationDelay:"".concat(.1*i,"s")},onClick:()=>f(g===i?null:i),children:[(0,Tt.jsxs)("div",{className:"metric-header",children:[(0,Tt.jsx)("div",{className:"metric-icon",style:{background:"linear-gradient(135deg, ".concat(r,"20, ").concat(r,"40)")},children:l}),(0,Tt.jsxs)("div",{className:"metric-trend ".concat(n),children:[(0,Tt.jsx)("span",{className:"trend-icon",children:"up"===n?"\u2197":"\u2198"}),(0,Tt.jsx)("span",{className:"trend-value",children:a})]})]}),(0,Tt.jsxs)("div",{className:"metric-content",children:[(0,Tt.jsx)("h3",{className:"metric-title",children:t}),(0,Tt.jsx)("div",{className:"metric-value",children:s}),(0,Tt.jsx)("p",{className:"metric-description",children:c})]}),(0,Tt.jsx)("div",{className:"metric-chart",children:(0,Tt.jsx)("div",{className:"chart-bars",children:[...Array(12)].map(((e,t)=>(0,Tt.jsx)("div",{className:"chart-bar",style:{height:"".concat(100*Math.random(),"%"),backgroundColor:r,animationDelay:"".concat(.05*t,"s")}},t)))})}),(0,Tt.jsx)("div",{className:"metric-overlay",style:{background:"linear-gradient(135deg, ".concat(r,"10, transparent)")}})]})},j=e=>{let{activity:t,index:s}=e;return(0,Tt.jsxs)("div",{className:"activity-card priority-".concat(t.priority),style:{animationDelay:"".concat(.1*s,"s")},children:[(0,Tt.jsx)("div",{className:"activity-icon",children:t.icon}),(0,Tt.jsxs)("div",{className:"activity-content",children:[(0,Tt.jsx)("h4",{className:"activity-title",children:t.title}),(0,Tt.jsx)("p",{className:"activity-description",children:t.description}),(0,Tt.jsxs)("span",{className:"activity-time",children:["\u0645\u0646\u0630 ",t.time]})]}),(0,Tt.jsx)("div",{className:"activity-priority priority-".concat(t.priority),children:"urgent"===t.priority?"\ud83d\udd34":"high"===t.priority?"\ud83d\udfe1":"\ud83d\udfe2"})]})},y=e=>{let{title:t,description:s,icon:a,color:n,action:l}=e;return(0,Tt.jsxs)("button",{className:"quick-action-pro",onClick:l,style:{"--action-color":n},children:[(0,Tt.jsx)("div",{className:"action-icon",children:a}),(0,Tt.jsxs)("div",{className:"action-content",children:[(0,Tt.jsx)("h4",{children:t}),(0,Tt.jsx)("p",{children:s})]}),(0,Tt.jsx)("div",{className:"action-arrow",children:"\u2192"})]})};return h?(0,Tt.jsx)("div",{className:"professional-loading",children:(0,Tt.jsxs)("div",{className:"loading-brand",children:[(0,Tt.jsx)("div",{className:"brand-icon",children:"\ud83c\udfe2"}),(0,Tt.jsx)("h2",{children:"\u0646\u0638\u0627\u0645 \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0623\u0639\u0645\u0627\u0644"}),(0,Tt.jsx)("div",{className:"loading-progress",children:(0,Tt.jsx)("div",{className:"progress-bar"})}),(0,Tt.jsx)("p",{children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0627\u0644\u0627\u062d\u062a\u0631\u0627\u0641\u064a\u0629..."})]})}):(0,Tt.jsxs)("div",{className:"professional-dashboard",children:[(0,Tt.jsxs)("header",{className:"dashboard-header-pro",children:[(0,Tt.jsxs)("div",{className:"header-main",children:[(0,Tt.jsxs)("div",{className:"welcome-section-pro",children:[(0,Tt.jsxs)("h1",{className:"welcome-title-pro",children:["\u0645\u0631\u062d\u0628\u0627\u064b\u060c ",(0,Tt.jsx)("span",{className:"user-highlight",children:a.full_name})]}),(0,Tt.jsx)("p",{className:"welcome-subtitle-pro",children:(new Date).toLocaleDateString("ar-EG",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),(0,Tt.jsxs)("div",{className:"header-actions-pro",children:[(0,Tt.jsxs)("div",{className:"notifications-badge",children:[(0,Tt.jsx)("span",{className:"badge-icon",children:"\ud83d\udd14"}),(0,Tt.jsx)("span",{className:"badge-count",children:"3"})]}),(0,Tt.jsx)("div",{className:"user-avatar",children:(0,Tt.jsx)("div",{className:"avatar-circle",children:null===(t=a.full_name)||void 0===t?void 0:t.charAt(0)})})]})]}),(0,Tt.jsx)("div",{className:"section-tabs",children:[{id:"overview",label:"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629",icon:"\ud83d\udcca"},{id:"analytics",label:"\u0627\u0644\u062a\u062d\u0644\u064a\u0644\u0627\u062a",icon:"\ud83d\udcc8"},{id:"reports",label:"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631",icon:"\ud83d\udccb"},{id:"settings",label:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a",icon:"\u2699\ufe0f"}].map((e=>(0,Tt.jsxs)("button",{className:"section-tab ".concat(o===e.id?"active":""),onClick:()=>u(e.id),children:[(0,Tt.jsx)("span",{className:"tab-icon",children:e.icon}),(0,Tt.jsx)("span",{className:"tab-label",children:e.label})]},e.id)))})]}),(0,Tt.jsxs)("div",{className:"dashboard-content-pro",children:[(0,Tt.jsxs)("section",{className:"metrics-section",children:[(0,Tt.jsx)("h2",{className:"section-title-pro",children:"\u0627\u0644\u0645\u0624\u0634\u0631\u0627\u062a \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629"}),(0,Tt.jsxs)("div",{className:"metrics-grid",children:[(0,Tt.jsx)(b,{title:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0625\u064a\u0631\u0627\u062f\u0627\u062a",value:"".concat(m.metrics.revenue.value.toLocaleString()," \u062c.\u0645"),change:m.metrics.revenue.change,trend:m.metrics.revenue.trend,icon:"\ud83d\udcb0",color:"#1e40af",index:0,description:"\u0625\u064a\u0631\u0627\u062f\u0627\u062a \u0647\u0630\u0627 \u0627\u0644\u0634\u0647\u0631"}),(0,Tt.jsx)(b,{title:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0637\u0644\u0628\u0627\u062a",value:m.metrics.orders.value,change:m.metrics.orders.change,trend:m.metrics.orders.trend,icon:"\ud83d\udce6",color:"#059669",index:1,description:"\u0637\u0644\u0628\u0627\u062a \u0645\u0624\u0643\u062f\u0629"}),(0,Tt.jsx)(b,{title:"\u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u0637\u0628\u064a\u0629",value:m.metrics.visits.value,change:m.metrics.visits.change,trend:m.metrics.visits.trend,icon:"\ud83c\udfe5",color:"#dc2626",index:2,description:"\u0632\u064a\u0627\u0631\u0627\u062a \u0645\u0643\u062a\u0645\u0644\u0629"}),(0,Tt.jsx)(b,{title:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0627\u0644\u0646\u0634\u0637\u064a\u0646",value:m.metrics.users.value,change:m.metrics.users.change,trend:m.metrics.users.trend,icon:"\ud83d\udc65",color:"#7c3aed",index:3,description:"\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0623\u0648\u0646\u0644\u0627\u064a\u0646"}),(0,Tt.jsx)(b,{title:"\u0645\u0639\u062f\u0644 \u0627\u0644\u062a\u062d\u0648\u064a\u0644",value:m.metrics.conversion.value,change:m.metrics.conversion.change,trend:m.metrics.conversion.trend,icon:"\ud83d\udcc8",color:"#ea580c",index:4,description:"\u0632\u064a\u0627\u0631\u0627\u062a \u0625\u0644\u0649 \u0637\u0644\u0628\u0627\u062a"}),(0,Tt.jsx)(b,{title:"\u0631\u0636\u0627 \u0627\u0644\u0639\u0645\u0644\u0627\u0621",value:m.metrics.satisfaction.value,change:m.metrics.satisfaction.change,trend:m.metrics.satisfaction.trend,icon:"\u2b50",color:"#0891b2",index:5,description:"\u0645\u062a\u0648\u0633\u0637 \u0627\u0644\u062a\u0642\u064a\u064a\u0645\u0627\u062a"})]})]}),(0,Tt.jsxs)("div",{className:"dashboard-grid-pro",children:[(0,Tt.jsxs)("section",{className:"quick-actions-section-pro",children:[(0,Tt.jsx)("h3",{className:"section-subtitle",children:"\u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0633\u0631\u064a\u0639\u0629"}),(0,Tt.jsxs)("div",{className:"quick-actions-grid-pro",children:[(0,Tt.jsx)(y,{title:"\u0637\u0644\u0628 \u062c\u062f\u064a\u062f",description:"\u0625\u0646\u0634\u0627\u0621 \u0637\u0644\u0628 \u0645\u0634\u062a\u0631\u064a\u0627\u062a",icon:"\ud83d\uded2",color:"#059669",action:()=>console.log("New order")}),(0,Tt.jsx)(y,{title:"\u0632\u064a\u0627\u0631\u0629 \u0637\u0628\u064a\u0629",description:"\u062a\u0633\u062c\u064a\u0644 \u0632\u064a\u0627\u0631\u0629 \u062c\u062f\u064a\u062f\u0629",icon:"\ud83c\udfe5",color:"#dc2626",action:()=>console.log("New visit")}),(0,Tt.jsx)(y,{title:"\u062a\u0642\u0631\u064a\u0631 \u0634\u0627\u0645\u0644",description:"\u0625\u0646\u0634\u0627\u0621 \u062a\u0642\u0631\u064a\u0631 \u0645\u0641\u0635\u0644",icon:"\ud83d\udcca",color:"#1e40af",action:()=>console.log("Generate report")}),(0,Tt.jsx)(y,{title:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",description:"\u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062a\u062e\u062f\u0645 \u062c\u062f\u064a\u062f",icon:"\ud83d\udc64",color:"#7c3aed",action:()=>console.log("Manage users")})]})]}),(0,Tt.jsxs)("section",{className:"activities-section-pro",children:[(0,Tt.jsx)("h3",{className:"section-subtitle",children:"\u0627\u0644\u0646\u0634\u0627\u0637\u0627\u062a \u0627\u0644\u0623\u062e\u064a\u0631\u0629"}),(0,Tt.jsx)("div",{className:"activities-list-pro",children:m.activities.map(((e,t)=>(0,Tt.jsx)(j,{activity:e,index:t},e.id)))}),(0,Tt.jsx)("button",{className:"view-all-btn",children:"\u0639\u0631\u0636 \u062c\u0645\u064a\u0639 \u0627\u0644\u0646\u0634\u0627\u0637\u0627\u062a"})]}),(0,Tt.jsxs)("section",{className:"chart-section-pro",children:[(0,Tt.jsx)("h3",{className:"section-subtitle",children:"\u0623\u062f\u0627\u0621 \u0627\u0644\u0623\u0633\u0628\u0648\u0639"}),(0,Tt.jsxs)("div",{className:"performance-chart-pro",children:[(0,Tt.jsx)("div",{className:"chart-header-pro",children:(0,Tt.jsxs)("div",{className:"chart-legend-pro",children:[(0,Tt.jsxs)("div",{className:"legend-item-pro",children:[(0,Tt.jsx)("div",{className:"legend-dot revenue"}),(0,Tt.jsx)("span",{children:"\u0627\u0644\u0625\u064a\u0631\u0627\u062f\u0627\u062a"})]}),(0,Tt.jsxs)("div",{className:"legend-item-pro",children:[(0,Tt.jsx)("div",{className:"legend-dot orders"}),(0,Tt.jsx)("span",{children:"\u0627\u0644\u0637\u0644\u0628\u0627\u062a"})]})]})}),(0,Tt.jsx)("div",{className:"chart-content-pro",children:["\u0627\u0644\u0633\u0628\u062a","\u0627\u0644\u0623\u062d\u062f","\u0627\u0644\u0627\u062b\u0646\u064a\u0646","\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0627\u0644\u062e\u0645\u064a\u0633","\u0627\u0644\u062c\u0645\u0639\u0629"].map(((e,t)=>(0,Tt.jsxs)("div",{className:"chart-day-pro",style:{animationDelay:"".concat(.1*t,"s")},children:[(0,Tt.jsxs)("div",{className:"day-bars",children:[(0,Tt.jsx)("div",{className:"bar revenue-bar",style:{height:"".concat(80*Math.random()+20,"%")}}),(0,Tt.jsx)("div",{className:"bar orders-bar",style:{height:"".concat(80*Math.random()+20,"%")}})]}),(0,Tt.jsx)("span",{className:"day-label",children:e})]},e)))})]})]})]})]}),(0,Tt.jsxs)("div",{className:"professional-bg-elements",children:[(0,Tt.jsx)("div",{className:"bg-grid"}),(0,Tt.jsx)("div",{className:"bg-gradient-1"}),(0,Tt.jsx)("div",{className:"bg-gradient-2"})]})]})},Vs=()=>{const{user:e,logout:t}=Yt(),{language:s,t:a,isRTL:l}=It(),[r,i]=(0,n.useState)({}),[c,o]=(0,n.useState)([]),[d,u]=(0,n.useState)("dashboard");(0,n.useEffect)((()=>{m(),x();const e=e=>{u(e.detail)},t=()=>{u("settings")};return window.addEventListener("navigateToTab",e),window.addEventListener("navigate-to-settings",t),()=>{window.removeEventListener("navigateToTab",e),window.removeEventListener("navigate-to-settings",t)}}),[]);const m=async()=>{try{const e=localStorage.getItem("access_token"),t=await Pt.get("".concat(Dt,"/dashboard/stats"),{headers:{Authorization:"Bearer ".concat(e)}});i(t.data)}catch(e){console.error("Error fetching stats:",e)}},x=async()=>{try{const e=localStorage.getItem("access_token"),t=await Pt.get("".concat(Dt,"/visits"),{headers:{Authorization:"Bearer ".concat(e)}});o(t.data)}catch(e){console.error("Error fetching visits:",e)}},h=e=>"sales_rep"===e?"medical_rep":e,p=t=>{var s;const a=h(null===e||void 0===e?void 0:e.role);return(null===(s={users:["admin","gm","warehouse_manager","manager","line_manager","area_manager"],warehouse:["admin","gm","warehouse_manager"],visit:["medical_rep","key_account"],reports:["admin","gm","warehouse_manager","manager","line_manager","area_manager","accounting"],accounting:["admin","gm","accounting","manager","line_manager"],regions:["admin","gm","line_manager","area_manager"],comprehensive:["admin","gm"],clinic:["admin","key_account","medical_rep"],"clinics-management":["admin"],"my-plan":["medical_rep","key_account"],"location-tracking":["admin"],"daily-login-records":["admin"]}[t])||void 0===s?void 0:s.includes(a))||!1},[g,f]=(0,n.useState)(!1),[v,b]=(0,n.useState)(!1);return(0,Tt.jsx)(Tt.Fragment,{children:(0,Tt.jsxs)("div",{className:"min-h-screen page-transition flex flex-col",children:[(0,Tt.jsx)(_s,{user:e,onLogout:t,onSearchOpen:()=>f(!0),onProfileOpen:()=>b(!0)}),(0,Tt.jsx)(Qt,{isOpen:g,onClose:()=>f(!1)}),v&&(0,Tt.jsx)(vs,{user:e,onClose:()=>b(!1)}),(0,Tt.jsxs)("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-6 py-4 flex-1",children:[(0,Tt.jsx)("div",{className:"mb-4",children:(0,Tt.jsxs)("nav",{className:"flex space-x-2 overflow-x-auto nav-menu rounded-xl p-1.5 shadow-md ".concat(l?"space-x-reverse":""),"aria-label":"Tabs",children:[(0,Tt.jsxs)("button",{onClick:()=>u("dashboard"),className:"nav-item ".concat("dashboard"===d?"active":""," flex items-center whitespace-nowrap px-3 py-2 text-sm"),children:[(0,Tt.jsx)("span",{className:"".concat(l?"mr-1.5":"ml-1.5"),children:"\ud83d\udcca"}),"admin"===e.role?a("statistics"):a("dashboard")]}),p("users")&&(0,Tt.jsxs)("button",{onClick:()=>u("users"),className:"nav-item ".concat("users"===d?"active":""," flex items-center whitespace-nowrap px-3 py-2 text-sm"),children:[(0,Tt.jsx)("span",{className:"".concat(l?"mr-1.5":"ml-1.5"),children:"\ud83d\udc65"}),a("userManagement")]}),p("warehouse")&&(0,Tt.jsxs)("button",{onClick:()=>u("warehouse"),className:"nav-item ".concat("warehouse"===d?"active":""," flex items-center whitespace-nowrap px-3 py-2 text-sm"),children:[(0,Tt.jsx)("span",{className:"".concat(l?"mr-1.5":"ml-1.5"),children:"\ud83c\udfed"}),a("warehouseManagement")]}),"warehouse_keeper"===e.role&&(0,Tt.jsxs)("button",{onClick:()=>u("warehouse-keeper"),className:"nav-item ".concat("warehouse-keeper"===d?"active":""," flex items-center whitespace-nowrap px-3 py-2 text-sm"),children:[(0,Tt.jsx)("span",{className:"".concat(l?"mr-1.5":"ml-1.5"),children:"\ud83d\udce6"}),"\u0644\u0648\u062d\u0629 \u0623\u0645\u064a\u0646 \u0627\u0644\u0645\u062e\u0632\u0646"]}),p("warehouse")&&(0,Tt.jsxs)("button",{onClick:()=>u("invoices"),className:"nav-item ".concat("invoices"===d?"active":""," flex items-center whitespace-nowrap px-3 py-2 text-sm"),children:[(0,Tt.jsx)("span",{className:"".concat(l?"mr-1.5":"ml-1.5"),children:"\ud83e\uddfe"}),a("invoiceManagement")||"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631"]}),"admin"===e.role&&(0,Tt.jsxs)("button",{onClick:()=>u("products"),className:"nav-item ".concat("products"===d?"active":""," flex items-center whitespace-nowrap px-3 py-2 text-sm"),children:[(0,Tt.jsx)("span",{className:"".concat(l?"mr-1.5":"ml-1.5"),children:"\ud83d\udce6"}),"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"]}),p("clinics-management")&&(0,Tt.jsxs)("button",{onClick:()=>u("clinics-management"),className:"nav-item ".concat("clinics-management"===d?"active":""," flex items-center whitespace-nowrap px-3 py-2 text-sm"),children:[(0,Tt.jsx)("span",{className:"".concat(l?"mr-1.5":"ml-1.5"),children:"\ud83c\udfe5\ud83d\udccb"}),"ar"===s?"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a":"Clinics Management"]}),p("location-tracking")&&(0,Tt.jsxs)("button",{onClick:()=>u("location-tracking"),className:"nav-item ".concat("location-tracking"===d?"active":""," flex items-center whitespace-nowrap px-3 py-2 text-sm"),children:[(0,Tt.jsx)("span",{className:"".concat(l?"mr-1.5":"ml-1.5"),children:"\ud83d\udd75\ufe0f\u200d\u2642\ufe0f"}),"ar"===s?"\u062a\u062a\u0628\u0639 \u0627\u0644\u0645\u0648\u0627\u0642\u0639 \u0627\u0644\u0633\u0631\u064a":"Secret Location Tracking"]}),p("daily-login-records")&&(0,Tt.jsxs)("button",{onClick:()=>u("daily-login-records"),className:"nav-item ".concat("daily-login-records"===d?"active":""," flex items-center whitespace-nowrap px-3 py-2 text-sm"),children:[(0,Tt.jsx)("span",{className:"".concat(l?"mr-1.5":"ml-1.5"),children:"\ud83d\uddc2\ufe0f"}),"ar"===s?"\u0633\u062c\u0644 \u0627\u0644\u062d\u0636\u0648\u0631":"Login Records"]}),p("visit")&&(0,Tt.jsxs)("button",{onClick:()=>u("order-creation"),className:"nav-item ".concat("order-creation"===d?"active":""," flex items-center whitespace-nowrap px-3 py-2 text-sm"),children:[(0,Tt.jsx)("span",{className:"".concat(l?"mr-1.5":"ml-1.5"),children:"\ud83d\udcdd"}),"ar"===s?"\u0625\u0646\u0634\u0627\u0621 \u0637\u0644\u0628":"Create Order"]}),p("visit")&&(0,Tt.jsxs)("button",{onClick:()=>u("visit"),className:"nav-item ".concat("visit"===d?"active":""," flex items-center whitespace-nowrap px-3 py-2 text-sm"),children:[(0,Tt.jsx)("span",{className:"".concat(l?"mr-1.5":"ml-1.5"),children:"\ud83c\udfe5"}),"ar"===s?"\u062a\u0633\u062c\u064a\u0644 \u0632\u064a\u0627\u0631\u0629":"Visit Registration"]}),["key_account","medical_rep"].includes(e.role)&&(0,Tt.jsxs)("button",{onClick:()=>u("register-clinic"),className:"nav-item ".concat("register-clinic"===d?"active":""," flex items-center whitespace-nowrap px-3 py-2 text-sm"),children:[(0,Tt.jsx)("span",{className:"".concat(l?"mr-1.5":"ml-1.5"),children:"\ud83c\udfe5\u2795"}),"ar"===s?"\u062a\u0633\u062c\u064a\u0644 \u0639\u064a\u0627\u062f\u0629":"Register Clinic"]}),p("my-plan")&&(0,Tt.jsxs)("button",{onClick:()=>u("my-plan"),className:"nav-item ".concat("my-plan"===d?"active":""," flex items-center whitespace-nowrap px-3 py-2 text-sm"),children:[(0,Tt.jsx)("span",{className:"".concat(l?"mr-1.5":"ml-1.5"),children:"\ud83d\udcc5"}),"ar"===s?"\u0625\u062f\u0627\u0631\u0629 \u062e\u0637\u062a\u064a":"My Plan"]}),p("visit")&&(0,Tt.jsxs)("button",{onClick:()=>u("visits"),className:"nav-item ".concat("visits"===d?"active":""," flex items-center whitespace-nowrap px-3 py-2 text-sm"),children:[(0,Tt.jsx)("span",{className:"".concat(l?"mr-1.5":"ml-1.5"),children:"\ud83d\udccb"}),a("visits_tab")]}),p("reports")&&(0,Tt.jsxs)("button",{onClick:()=>u("reports"),className:"nav-item ".concat("reports"===d?"active":""," flex items-center whitespace-nowrap px-3 py-2 text-sm"),children:[(0,Tt.jsx)("span",{className:"".concat(l?"mr-1.5":"ml-1.5"),children:"\ud83d\udcca"}),a("reports_tab")]}),(0,Tt.jsxs)("button",{onClick:()=>u("approvals"),className:"nav-item ".concat("approvals"===d?"active":""," flex items-center whitespace-nowrap px-3 py-2 text-sm"),children:[(0,Tt.jsx)("span",{className:"".concat(l?"mr-1.5":"ml-1.5"),children:"\u2696\ufe0f"}),"ar"===s?"\u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0627\u062a":"Approvals"]}),p("reports")&&(0,Tt.jsxs)("button",{onClick:()=>u("analytics"),className:"nav-item ".concat("analytics"===d?"active":""," flex items-center whitespace-nowrap px-3 py-2 text-sm"),children:[(0,Tt.jsx)("span",{className:"".concat(l?"mr-1.5":"ml-1.5"),children:"\ud83d\udcca"}),"ar"===s?"\u0627\u0644\u062a\u062d\u0644\u064a\u0644\u0627\u062a \u0627\u0644\u0645\u062a\u0642\u062f\u0645\u0629":"Advanced Analytics"]}),"sales_rep"===e.role||p("reports")&&(0,Tt.jsxs)("button",{onClick:()=>u("gamification"),className:"nav-item ".concat("gamification"===d?"active":""," flex items-center whitespace-nowrap px-3 py-2 text-sm"),children:[(0,Tt.jsx)("span",{className:"".concat(l?"mr-1.5":"ml-1.5"),children:"\ud83c\udfae"}),"ar"===s?"\u0646\u0638\u0627\u0645 \u0627\u0644\u062a\u062d\u0641\u064a\u0632":"Gamification"]}),p("reports")&&(0,Tt.jsxs)("button",{onClick:()=>u("gps"),className:"nav-item ".concat("gps"===d?"active":""," flex items-center whitespace-nowrap px-3 py-2 text-sm"),children:[(0,Tt.jsx)("span",{className:"".concat(l?"mr-1.5":"ml-1.5"),children:"\ud83d\uddfa\ufe0f"}),"ar"===s?"\u062a\u062a\u0628\u0639 GPS":"GPS Tracking"]}),["admin","gm","area_manager","district_manager"].includes(e.role)&&(0,Tt.jsxs)("button",{onClick:()=>u("monthly-planning"),className:"nav-item ".concat("monthly-planning"===d?"active":""," flex items-center whitespace-nowrap px-3 py-2 text-sm"),children:[(0,Tt.jsx)("span",{className:"".concat(l?"mr-1.5":"ml-1.5"),children:"\ud83d\udcc5"}),"\u0627\u0644\u062a\u062e\u0637\u064a\u0637 \u0627\u0644\u0634\u0647\u0631\u064a"]}),["admin","gm","line_manager"].includes(e.role)&&(0,Tt.jsxs)("button",{onClick:()=>u("lines-management"),className:"nav-item ".concat("lines-management"===d?"active":""," flex items-center whitespace-nowrap px-3 py-2 text-sm"),children:[(0,Tt.jsx)("span",{className:"".concat(l?"mr-1.5":"ml-1.5"),children:"\ud83d\uddfa\ufe0f"}),"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u062e\u0637\u0648\u0637"]}),p("accounting")&&(0,Tt.jsxs)("button",{onClick:()=>u("accounting"),className:"nav-item ".concat("accounting"===d?"active":""," flex items-center whitespace-nowrap px-3 py-2 text-sm"),children:[(0,Tt.jsx)("span",{className:"".concat(l?"mr-1.5":"ml-1.5"),children:"\ud83d\udcb0"}),"ar"===s?"\u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629":"Accounting"]}),("admin"===e.role||"gm"===e.role)&&(0,Tt.jsxs)("button",{onClick:()=>u("settings"),"data-tab":"settings",className:"nav-item ".concat("settings"===d?"active":""," flex items-center whitespace-nowrap px-3 py-2 text-sm"),children:[(0,Tt.jsx)("span",{className:"".concat(l?"mr-1.5":"ml-1.5"),children:"\u2699\ufe0f"}),a("settings")]}),("admin"===e.role||"gm"===e.role)&&(0,Tt.jsxs)("button",{onClick:()=>u("comprehensive"),className:"nav-item ".concat("comprehensive"===d?"active":""," flex items-center whitespace-nowrap px-3 py-2 text-sm"),children:[(0,Tt.jsx)("span",{className:"".concat(l?"mr-1.5":"ml-1.5"),children:"\ud83c\udf9b\ufe0f"}),a("comprehensiveSettings")]})]})}),"dashboard"===d&&"medical_rep"===e.role&&(0,Tt.jsx)(qs,{stats:r,user:e,userRole:"medical_rep"}),"dashboard"===d&&"sales_rep"===e.role&&(0,Tt.jsx)(qs,{stats:r,user:e,userRole:"sales_rep"}),"dashboard"===d&&!["medical_rep","sales_rep"].includes(e.role)&&(0,Tt.jsx)(qs,{stats:r,user:e,userRole:"admin"}),"clinics-management"===d&&p("clinics-management")&&(0,Tt.jsx)(pa,{}),"location-tracking"===d&&p("location-tracking")&&(0,Tt.jsx)(Ts,{}),"daily-login-records"===d&&p("daily-login-records")&&(0,Tt.jsx)(os,{}),"order-creation"===d&&"sales_rep"===e.role&&(0,Tt.jsx)(Ms,{}),"approvals"===d&&(0,Tt.jsx)(cs,{user:e}),"users"===d&&p("users")&&(0,Tt.jsx)(ma,{}),"warehouse"===d&&p("warehouse")&&(0,Tt.jsx)(Ls,{}),"warehouse-keeper"===d&&"warehouse_keeper"===e.role&&(0,Tt.jsx)(ia,{}),"products"===d&&"admin"===e.role&&(0,Tt.jsx)(gs,{}),"approvals"===d&&("accounting"===e.role||"warehouse_keeper"===e.role||"admin"===e.role)&&(0,Tt.jsx)(da,{}),"invoices"===d&&p("warehouse")&&(0,Tt.jsx)(ms,{}),"order-creation"===d&&p("visit")&&(0,Tt.jsx)(ps,{user:e}),"visit"===d&&"sales_rep"===e.role&&(0,Tt.jsx)(Ds,{}),"visit"===d&&"medical_rep"===e.role&&(0,Tt.jsx)(Ds,{}),"register-clinic"===d&&["key_account","medical_rep"].includes(h(e.role))&&(0,Tt.jsx)(ha,{}),"my-plan"===d&&p("my-plan")&&(0,Tt.jsx)(Ps,{user:e}),"visits"===d&&(0,Tt.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,Tt.jsx)("div",{className:"px-4 py-3 border-b border-gray-200",children:(0,Tt.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"\u0633\u062c\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a"})}),(0,Tt.jsx)("div",{className:"overflow-x-auto",children:(0,Tt.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Tt.jsx)("thead",{className:"bg-gray-50",children:(0,Tt.jsxs)("tr",{children:[(0,Tt.jsx)("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e"}),(0,Tt.jsx)("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u0627\u0644\u0637\u0628\u064a\u0628"}),(0,Tt.jsx)("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629"}),(0,Tt.jsx)("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628"}),(0,Tt.jsx)("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u0627\u0644\u062d\u0627\u0644\u0629"})]})}),(0,Tt.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((e=>(0,Tt.jsxs)("tr",{children:[(0,Tt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:new Date(e.visit_date).toLocaleDateString("ar-EG")}),(0,Tt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:e.doctor_name}),(0,Tt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:e.clinic_name}),(0,Tt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:e.sales_rep_name}),(0,Tt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,Tt.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(null===e.is_effective?"bg-yellow-100 text-yellow-800":e.is_effective?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:null===e.is_effective?"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u0631\u0627\u062c\u0639\u0629":e.is_effective?"\u0645\u062c\u062f\u064a\u0629":"\u063a\u064a\u0631 \u0645\u062c\u062f\u064a\u0629"})})]},e.id)))})]})})]}),"reports"===d&&p("reports")&&(0,Tt.jsx)(Ss,{}),"accounting"===d&&p("accounting")&&(0,Tt.jsx)(Hs,{}),"analytics"===d&&p("reports")&&(0,Tt.jsx)(is,{}),"gamification"===d&&("medical_rep"===e.role||p("reports"))&&(0,Tt.jsx)(Gs,{}),"gps"===d&&p("reports")&&(0,Tt.jsx)(Ws,{}),"settings"===d&&("admin"===e.role||"gm"===e.role)&&(0,Tt.jsx)(es,{}),"comprehensive"===d&&("admin"===e.role||"gm"===e.role)&&(0,Tt.jsx)(Ks,{}),"monthly-planning"===d&&["admin","gm","area_manager","district_manager"].includes(e.role)&&(0,Tt.jsx)(xa,{}),"clinics"===d&&p("clinics")&&(0,Tt.jsx)(ja,{}),"lines-management"===d&&["admin","gm","line_manager"].includes(e.role)&&(0,Tt.jsx)(ga,{})]}),(0,Tt.jsx)("div",{className:"mt-6",children:(0,Tt.jsx)(ks,{})})]})})},Hs=()=>{const[e,t]=(0,n.useState)("dashboard"),[s,a]=(0,n.useState)(null),[l,r]=(0,n.useState)([]),[i,c]=(0,n.useState)([]),[o,d]=(0,n.useState)([]),[u,m]=(0,n.useState)(null),[x,h]=(0,n.useState)(!1),{language:p,t:g,isRTL:f}=It(),v=[{id:"dashboard",label:"ar"===p?"\u0644\u0648\u062d\u0629 \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629":"Accounting Dashboard",icon:"\ud83d\udcca"},{id:"invoices",label:"ar"===p?"\u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631":"Invoices",icon:"\ud83d\udccb"},{id:"expenses",label:"ar"===p?"\u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062a":"Expenses",icon:"\ud83d\udcb8"},{id:"customers",label:"ar"===p?"\u0627\u0644\u0639\u0645\u0644\u0627\u0621":"Customers",icon:"\ud83d\udc65"},{id:"reports",label:"ar"===p?"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631 \u0627\u0644\u0645\u0627\u0644\u064a\u0629":"Financial Reports",icon:"\ud83d\udcc8"}];(0,n.useEffect)((()=>{b()}),[e]);const b=async()=>{h(!0);try{const t=localStorage.getItem("access_token"),s={Authorization:"Bearer ".concat(t)};if("dashboard"===e){const[e,t]=await Promise.all([Pt.get("".concat(Dt,"/accounting/overview"),{headers:s}),Pt.get("".concat(Dt,"/accounting/dashboard-stats"),{headers:s})]);a({overview:e.data,stats:t.data})}else if("invoices"===e){const e=await Pt.get("".concat(Dt,"/accounting/invoices"),{headers:s});r(e.data)}else if("expenses"===e){const e=await Pt.get("".concat(Dt,"/accounting/expenses"),{headers:s});c(e.data)}else if("customers"===e){const e=await Pt.get("".concat(Dt,"/accounting/customers"),{headers:s});d(e.data)}else if("reports"===e){const e=await Pt.get("".concat(Dt,"/accounting/reports/profit-loss"),{headers:s});m(e.data)}}catch(t){console.error("Error loading accounting data:",t)}finally{h(!1)}},j=e=>new Intl.NumberFormat("ar"===p?"ar-EG":"en-US",{style:"currency",currency:"EGP",minimumFractionDigits:2}).format(e||0);return!x||s||l.length||i.length||o.length?(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"glass-effect p-6",children:[(0,Tt.jsx)("h2",{className:"text-3xl font-bold mb-4 text-gradient",children:"ar"===p?"\u0646\u0638\u0627\u0645 \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629 \u0627\u0644\u0634\u0627\u0645\u0644":"Comprehensive Accounting System"}),(0,Tt.jsx)("p",{style:{color:"var(--text-secondary)"},children:"ar"===p?"\u0625\u062f\u0627\u0631\u0629 \u0634\u0627\u0645\u0644\u0629 \u0644\u0644\u0634\u0624\u0648\u0646 \u0627\u0644\u0645\u0627\u0644\u064a\u0629\u060c \u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631\u060c \u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062a\u060c \u0648\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631":"Complete financial management, invoices, expenses, and reports"})]}),(0,Tt.jsx)("div",{className:"glass-effect p-2",children:(0,Tt.jsx)("div",{className:"flex gap-2 overflow-x-auto ".concat(f?"flex-row-reverse":""),children:v.map((s=>(0,Tt.jsxs)("button",{onClick:()=>t(s.id),className:"flex items-center gap-3 px-6 py-3 rounded-lg transition-all duration-300 whitespace-nowrap ".concat(e===s.id?"bg-gradient-to-r from-green-600 to-blue-600 text-white":"hover:bg-white hover:bg-opacity-10"),children:[(0,Tt.jsx)("span",{className:"text-xl",children:s.icon}),(0,Tt.jsx)("span",{className:"font-medium",children:s.label})]},s.id)))})}),(0,Tt.jsxs)("div",{className:"glass-effect p-8",children:["dashboard"===e&&(0,Tt.jsx)(As,{data:s,formatCurrency:j}),"invoices"===e&&(0,Tt.jsx)(InvoicesTab,{invoices:l,formatCurrency:j}),"expenses"===e&&(0,Tt.jsx)(ExpensesTab,{expenses:i,onCreateExpense:async e=>{try{const t=localStorage.getItem("access_token");await Pt.post("".concat(Dt,"/accounting/expenses"),e,{headers:{Authorization:"Bearer ".concat(t)}}),alert("ar"===p?"\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0635\u0631\u0648\u0641 \u0628\u0646\u062c\u0627\u062d":"Expense added successfully"),b()}catch(t){console.error("Error creating expense:",t),alert("ar"===p?"\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0635\u0631\u0648\u0641":"Error adding expense")}},formatCurrency:j}),"customers"===e&&(0,Tt.jsx)(CustomersTab,{customers:o,formatCurrency:j}),"reports"===e&&(0,Tt.jsx)(FinancialReportsTab,{report:u,formatCurrency:j})]})]}):(0,Tt.jsxs)("div",{className:"glass-effect p-8 text-center",children:[(0,Tt.jsx)("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,Tt.jsx)("p",{style:{color:"var(--text-secondary)"},children:"ar"===p?"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629...":"Loading accounting data..."})]})},Gs=()=>{const[e,t]=(0,n.useState)(!0),[s,a]=(0,n.useState)(""),[l,r]=(0,n.useState)("profile"),[i,c]=(0,n.useState)("all_time"),[o,d]=(0,n.useState)(null),[u,m]=(0,n.useState)(null),[x,h]=(0,n.useState)(null),{language:p,t:g}=It();(0,n.useEffect)((()=>{f()}),[l,i]);const f=async()=>{t(!0),a("");try{const e=localStorage.getItem("access_token"),t=JSON.parse(localStorage.getItem("user")),s={Authorization:"Bearer ".concat(e)};if("profile"===l){const e=await Pt.get("".concat(Dt,"/gamification/user-profile/").concat(t.id),{headers:s});d(e.data)}else if("leaderboard"===l){const e=await Pt.get("".concat(Dt,"/gamification/leaderboard?period=").concat(i,"&limit=20"),{headers:s});m(e.data)}else if("achievements"===l){const e=await Pt.get("".concat(Dt,"/gamification/achievements"),{headers:s});h(e.data)}}catch(s){a("\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u062a\u062d\u0641\u064a\u0632"),console.error("Gamification data error:",s)}finally{t(!1)}},v=e=>{const t=["text-gray-400","text-green-400","text-blue-400","text-purple-400","text-yellow-400","text-red-400"];return t[Math.min(Math.floor((e-1)/2),t.length-1)]},b=e=>{const t=["\ud83e\udd49","\ud83e\udd48","\ud83e\udd47","\ud83d\udc8e","\ud83d\udc51"];return t[Math.min(Math.floor((e-1)/2),t.length-1)]},j=e=>1===e?"\ud83e\udd47":2===e?"\ud83e\udd48":3===e?"\ud83e\udd49":"#".concat(e),y=()=>o?(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsx)("div",{className:"glass-effect p-6 rounded-xl",children:(0,Tt.jsxs)("div",{className:"flex items-center gap-6",children:[(0,Tt.jsxs)("div",{className:"relative",children:[(0,Tt.jsx)("div",{className:"w-20 h-20 rounded-full overflow-hidden bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:o.user_info.photo?(0,Tt.jsx)("img",{src:"data:image/jpeg;base64,".concat(o.user_info.photo),alt:o.user_info.full_name,className:"w-full h-full object-cover"}):(0,Tt.jsx)("span",{className:"text-white text-2xl font-bold",children:o.user_info.full_name.charAt(0).toUpperCase()})}),(0,Tt.jsx)("div",{className:"absolute -bottom-2 -right-2 w-8 h-8 rounded-full bg-gradient-to-br from-yellow-400 to-red-500 flex items-center justify-center text-white font-bold text-sm ".concat(v(o.gamification_stats.level)),children:o.gamification_stats.level})]}),(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsx)("h2",{className:"text-2xl font-bold mb-2",style:{color:"var(--text-primary)"},children:o.user_info.full_name}),(0,Tt.jsxs)("div",{className:"flex items-center gap-4 mb-3",children:[(0,Tt.jsxs)("span",{className:"text-xl ".concat(v(o.gamification_stats.level)),children:[b(o.gamification_stats.level)," \u0627\u0644\u0645\u0633\u062a\u0648\u0649 ",o.gamification_stats.level]}),(0,Tt.jsxs)("span",{className:"text-yellow-400 text-xl font-bold",children:["\u2b50 ",o.gamification_stats.total_points.toLocaleString()," \u0646\u0642\u0637\u0629"]})]}),(0,Tt.jsxs)("div",{className:"space-y-2",children:[(0,Tt.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Tt.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u062a\u0642\u062f\u0645 \u0644\u0644\u0645\u0633\u062a\u0648\u0649 \u0627\u0644\u062a\u0627\u0644\u064a"}),(0,Tt.jsx)("span",{style:{color:"var(--text-secondary)"},children:o.gamification_stats.points_to_next_level>0?"".concat(o.gamification_stats.points_to_next_level," \u0646\u0642\u0637\u0629 \u0645\u062a\u0628\u0642\u064a\u0629"):"\u0627\u0644\u0645\u0633\u062a\u0648\u0649 \u0627\u0644\u0623\u0642\u0635\u0649!"})]}),(0,Tt.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-3",children:(0,Tt.jsx)("div",{className:"h-3 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full transition-all duration-500",style:{width:"".concat(o.gamification_stats.level_progress,"%")}})})]})]}),(0,Tt.jsxs)("div",{className:"text-center p-4 bg-gradient-to-br from-blue-500 to-purple-500 bg-opacity-20 rounded-xl",children:[(0,Tt.jsx)("div",{className:"text-2xl mb-1",children:j(o.leaderboard.position)}),(0,Tt.jsxs)("div",{className:"font-bold",style:{color:"var(--text-primary)"},children:["\u0627\u0644\u0645\u0631\u0643\u0632 \u0627\u0644\u0640 ",o.leaderboard.position]}),(0,Tt.jsxs)("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:["\u0645\u0646 \u0623\u0635\u0644 ",o.leaderboard.total_participants]}),(0,Tt.jsxs)("div",{className:"text-xs mt-1 font-medium text-blue-400",children:["\u0623\u0641\u0636\u0644 \u0645\u0646 ",o.leaderboard.percentile,"%"]})]})]})}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\ud83d\udcb0"}),(0,Tt.jsx)("span",{children:"\u062a\u0641\u0635\u064a\u0644 \u0627\u0644\u0646\u0642\u0627\u0637 (\u0645\u0646 \u0627\u0644\u0623\u062f\u0627\u0621 \u0627\u0644\u062d\u0642\u064a\u0642\u064a)"})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,Tt.jsxs)("div",{className:"text-center p-4 bg-blue-500 bg-opacity-20 rounded-lg",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:o.points_breakdown.visit_points}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0646\u0642\u0627\u0637 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a"}),(0,Tt.jsxs)("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:[o.performance_stats.total_visits," \xd7 10"]})]}),(0,Tt.jsxs)("div",{className:"text-center p-4 bg-green-500 bg-opacity-20 rounded-lg",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-green-400",children:o.points_breakdown.effectiveness_bonus}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u0643\u0627\u0641\u0623\u0629 \u0627\u0644\u0641\u0639\u0627\u0644\u064a\u0629"}),(0,Tt.jsxs)("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:[o.performance_stats.effective_visits," \xd7 20"]})]}),(0,Tt.jsxs)("div",{className:"text-center p-4 bg-purple-500 bg-opacity-20 rounded-lg",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:o.points_breakdown.order_points}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0646\u0642\u0627\u0637 \u0627\u0644\u0637\u0644\u0628\u0627\u062a"}),(0,Tt.jsxs)("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:[o.performance_stats.total_orders," \xd7 50"]})]}),(0,Tt.jsxs)("div",{className:"text-center p-4 bg-yellow-500 bg-opacity-20 rounded-lg",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:o.points_breakdown.approval_bonus}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u0643\u0627\u0641\u0623\u0629 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629"}),(0,Tt.jsxs)("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:[o.performance_stats.approved_orders," \xd7 100"]})]}),(0,Tt.jsxs)("div",{className:"text-center p-4 bg-red-500 bg-opacity-20 rounded-lg",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-red-400",children:o.points_breakdown.clinic_points}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0646\u0642\u0627\u0637 \u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a"}),(0,Tt.jsxs)("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:[o.performance_stats.clinics_added," \xd7 200"]})]})]})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\ud83d\udcca"}),(0,Tt.jsx)("span",{children:"\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a \u0627\u0644\u0623\u062f\u0627\u0621"})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:o.performance_stats.total_visits}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a"}),(0,Tt.jsxs)("div",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:[o.performance_stats.effectiveness_rate,"% \u0641\u0639\u0627\u0644\u064a\u0629"]})]}),(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl font-bold text-green-400 mb-2",children:o.performance_stats.total_orders}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0637\u0644\u0628\u0627\u062a"}),(0,Tt.jsxs)("div",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:[o.performance_stats.approval_rate,"% \u0645\u0639\u062f\u0644 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629"]})]}),(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:o.performance_stats.clinics_added}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0639\u064a\u0627\u062f\u0627\u062a \u0645\u0636\u0627\u0641\u0629"})]}),(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl font-bold text-orange-400 mb-2",children:o.performance_stats.visit_streak}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0633\u0644\u0633\u0644\u0629 \u0623\u064a\u0627\u0645"}),(0,Tt.jsx)("div",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"\u0623\u064a\u0627\u0645 \u0645\u062a\u062a\u0627\u0644\u064a\u0629 \u0645\u0639 \u0632\u064a\u0627\u0631\u0627\u062a"})]})]})]}),o.achievements.length>0&&(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\ud83c\udfc6"}),(0,Tt.jsx)("span",{children:"\u0627\u0644\u0625\u0646\u062c\u0627\u0632\u0627\u062a \u0627\u0644\u0645\u062d\u0642\u0642\u0629"}),(0,Tt.jsx)("span",{className:"bg-blue-500 bg-opacity-20 text-blue-400 px-2 py-1 rounded-full text-sm",children:o.achievements.length})]}),(0,Tt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.achievements.map(((e,t)=>(0,Tt.jsxs)("div",{className:"p-4 bg-gradient-to-br from-yellow-500 to-orange-500 bg-opacity-20 rounded-lg border border-yellow-500 border-opacity-30",children:[(0,Tt.jsx)("div",{className:"text-3xl mb-2 text-center",children:e.icon}),(0,Tt.jsx)("div",{className:"font-bold text-center mb-1",style:{color:"var(--text-primary)"},children:e.title}),(0,Tt.jsx)("div",{className:"text-sm text-center",style:{color:"var(--text-secondary)"},children:e.description}),(0,Tt.jsx)("div",{className:"text-xs text-center mt-2 text-yellow-400",children:"\u2728 \u0645\u0641\u062a\u0648\u062d"})]},t)))})]}),o.active_challenges.length>0&&(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\ud83c\udfaf"}),(0,Tt.jsx)("span",{children:"\u0627\u0644\u062a\u062d\u062f\u064a\u0627\u062a \u0627\u0644\u0646\u0634\u0637\u0629"})]}),(0,Tt.jsx)("div",{className:"space-y-4",children:o.active_challenges.map(((e,t)=>(0,Tt.jsxs)("div",{className:"p-4 bg-gradient-to-r from-blue-500 to-purple-500 bg-opacity-20 rounded-lg border border-blue-500 border-opacity-30",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("span",{className:"text-2xl",children:e.icon}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"font-bold",style:{color:"var(--text-primary)"},children:e.title}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:e.description})]})]}),(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsxs)("div",{className:"text-lg font-bold text-yellow-400",children:["+",e.reward_points]}),(0,Tt.jsx)("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:"\u0646\u0642\u0637\u0629"})]})]}),(0,Tt.jsxs)("div",{className:"space-y-2",children:[(0,Tt.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Tt.jsxs)("span",{style:{color:"var(--text-secondary)"},children:["\u0627\u0644\u062a\u0642\u062f\u0645: ",e.current," / ",e.target]}),(0,Tt.jsxs)("span",{style:{color:"var(--text-secondary)"},children:[e.progress.toFixed(1),"%"]})]}),(0,Tt.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,Tt.jsx)("div",{className:"h-2 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full transition-all duration-300",style:{width:"".concat(Math.min(100,e.progress),"%")}})}),(0,Tt.jsxs)("div",{className:"text-xs text-center",style:{color:"var(--text-muted)"},children:["\u0627\u0644\u0645\u0648\u0639\u062f \u0627\u0644\u0646\u0647\u0627\u0626\u064a: ",new Date(e.deadline).toLocaleDateString("ar-EG")]})]})]},t)))})]})]}):null,N=()=>u?(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\ud83c\udfc5"}),(0,Tt.jsxs)("span",{children:["\u0644\u0648\u062d\u0629 \u0627\u0644\u0645\u062a\u0635\u062f\u0631\u064a\u0646 - ",u.statistics.period_label]})]}),(0,Tt.jsxs)("select",{value:i,onChange:e=>c(e.target.value),className:"px-4 py-2 glass-effect border border-white border-opacity-20 rounded-lg text-white",children:[(0,Tt.jsx)("option",{value:"all_time",children:"\u0643\u0644 \u0627\u0644\u0623\u0648\u0642\u0627\u062a"}),(0,Tt.jsx)("option",{value:"monthly",children:"\u0647\u0630\u0627 \u0627\u0644\u0634\u0647\u0631"}),(0,Tt.jsx)("option",{value:"weekly",children:"\u0647\u0630\u0627 \u0627\u0644\u0623\u0633\u0628\u0648\u0639"})]})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[(0,Tt.jsxs)("div",{className:"text-center p-4 bg-blue-500 bg-opacity-20 rounded-lg",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:u.statistics.total_participants}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0634\u0627\u0631\u0643\u064a\u0646"})]}),(0,Tt.jsxs)("div",{className:"text-center p-4 bg-green-500 bg-opacity-20 rounded-lg",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-green-400",children:u.statistics.highest_score.toLocaleString()}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0623\u0639\u0644\u0649 \u0646\u0642\u0627\u0637"})]}),(0,Tt.jsxs)("div",{className:"text-center p-4 bg-purple-500 bg-opacity-20 rounded-lg",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:u.statistics.average_points.toLocaleString()}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u062a\u0648\u0633\u0637 \u0627\u0644\u0646\u0642\u0627\u0637"})]})]})]}),u.leaderboard.length>=3&&(0,Tt.jsx)("div",{className:"glass-effect p-6 rounded-xl",children:(0,Tt.jsxs)("div",{className:"flex items-end justify-center gap-4",children:[(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsxs)("div",{className:"w-16 h-16 mx-auto mb-3 rounded-full overflow-hidden bg-gradient-to-br from-gray-400 to-gray-600 flex items-center justify-center relative",children:[u.leaderboard[1].photo?(0,Tt.jsx)("img",{src:"data:image/jpeg;base64,".concat(u.leaderboard[1].photo),alt:u.leaderboard[1].full_name,className:"w-full h-full object-cover"}):(0,Tt.jsx)("span",{className:"text-white text-lg font-bold",children:u.leaderboard[1].full_name.charAt(0)}),(0,Tt.jsx)("div",{className:"absolute -top-2 -right-2 text-2xl",children:"\ud83e\udd48"})]}),(0,Tt.jsx)("div",{className:"font-bold",style:{color:"var(--text-primary)"},children:u.leaderboard[1].full_name}),(0,Tt.jsx)("div",{className:"text-2xl font-bold text-gray-400",children:u.leaderboard[1].total_points.toLocaleString()}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0646\u0642\u0637\u0629"})]}),(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsxs)("div",{className:"w-20 h-20 mx-auto mb-3 rounded-full overflow-hidden bg-gradient-to-br from-yellow-400 to-yellow-600 flex items-center justify-center relative",children:[u.leaderboard[0].photo?(0,Tt.jsx)("img",{src:"data:image/jpeg;base64,".concat(u.leaderboard[0].photo),alt:u.leaderboard[0].full_name,className:"w-full h-full object-cover"}):(0,Tt.jsx)("span",{className:"text-white text-xl font-bold",children:u.leaderboard[0].full_name.charAt(0)}),(0,Tt.jsx)("div",{className:"absolute -top-3 -right-3 text-3xl",children:"\ud83e\udd47"})]}),(0,Tt.jsx)("div",{className:"font-bold text-lg",style:{color:"var(--text-primary)"},children:u.leaderboard[0].full_name}),(0,Tt.jsx)("div",{className:"text-3xl font-bold text-yellow-400",children:u.leaderboard[0].total_points.toLocaleString()}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0646\u0642\u0637\u0629"})]}),(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsxs)("div",{className:"w-16 h-16 mx-auto mb-3 rounded-full overflow-hidden bg-gradient-to-br from-amber-600 to-amber-800 flex items-center justify-center relative",children:[u.leaderboard[2].photo?(0,Tt.jsx)("img",{src:"data:image/jpeg;base64,".concat(u.leaderboard[2].photo),alt:u.leaderboard[2].full_name,className:"w-full h-full object-cover"}):(0,Tt.jsx)("span",{className:"text-white text-lg font-bold",children:u.leaderboard[2].full_name.charAt(0)}),(0,Tt.jsx)("div",{className:"absolute -top-2 -right-2 text-2xl",children:"\ud83e\udd49"})]}),(0,Tt.jsx)("div",{className:"font-bold",style:{color:"var(--text-primary)"},children:u.leaderboard[2].full_name}),(0,Tt.jsx)("div",{className:"text-2xl font-bold text-amber-600",children:u.leaderboard[2].total_points.toLocaleString()}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0646\u0642\u0637\u0629"})]})]})}),(0,Tt.jsxs)("div",{className:"glass-effect rounded-xl overflow-hidden",children:[(0,Tt.jsx)("div",{className:"p-6 bg-gradient-to-r from-blue-600 to-purple-600",children:(0,Tt.jsx)("h3",{className:"text-xl font-bold text-white",children:"\u0627\u0644\u062a\u0631\u062a\u064a\u0628 \u0627\u0644\u0643\u0627\u0645\u0644"})}),(0,Tt.jsx)("div",{className:"divide-y divide-white divide-opacity-10",children:u.leaderboard.map(((e,t)=>(0,Tt.jsx)("div",{className:"p-4 hover:bg-white hover:bg-opacity-5 transition-colors",children:(0,Tt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Tt.jsx)("div",{className:"text-center min-w-[3rem]",children:(0,Tt.jsx)("div",{className:"text-2xl font-bold",children:j(e.position)})}),(0,Tt.jsx)("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:e.photo?(0,Tt.jsx)("img",{src:"data:image/jpeg;base64,".concat(e.photo),alt:e.full_name,className:"w-full h-full object-cover"}):(0,Tt.jsx)("span",{className:"text-white font-bold",children:e.full_name.charAt(0)})}),(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Tt.jsx)("div",{className:"font-bold",style:{color:"var(--text-primary)"},children:e.full_name}),(0,Tt.jsxs)("div",{className:"text-sm ".concat(v(e.level)),children:[b(e.level)," \u0627\u0644\u0645\u0633\u062a\u0648\u0649 ",e.level]})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,Tt.jsxs)("span",{className:"text-blue-400",children:["\ud83d\ude97 ",e.performance.visits," \u0632\u064a\u0627\u0631\u0629"]}),(0,Tt.jsxs)("span",{className:"text-green-400",children:["\u2705 ",e.performance.effectiveness_rate,"% \u0641\u0639\u0627\u0644\u064a\u0629"]}),(0,Tt.jsxs)("span",{className:"text-purple-400",children:["\ud83d\udce6 ",e.performance.orders," \u0637\u0644\u0628"]})]})]}),(0,Tt.jsxs)("div",{className:"text-right",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:e.total_points.toLocaleString()}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0646\u0642\u0637\u0629"})]}),(0,Tt.jsx)("div",{className:"flex gap-1",children:e.badges.map(((e,t)=>(0,Tt.jsx)("div",{className:"text-lg",title:e.title,children:e.icon},t)))})]})},e.user_id)))})]})]}):null,w=()=>x?(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\ud83c\udfc6"}),(0,Tt.jsx)("span",{children:"\u0643\u062a\u0627\u0644\u0648\u062c \u0627\u0644\u0625\u0646\u062c\u0627\u0632\u0627\u062a"})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Tt.jsxs)("div",{className:"text-center p-4 bg-blue-500 bg-opacity-20 rounded-lg",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:x.total_achievements}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0625\u0646\u062c\u0627\u0632\u0627\u062a"})]}),(0,Tt.jsxs)("div",{className:"text-center p-4 bg-green-500 bg-opacity-20 rounded-lg",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-green-400",children:x.categories.length}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0641\u0626\u0627\u062a"})]}),(0,Tt.jsxs)("div",{className:"text-center p-4 bg-purple-500 bg-opacity-20 rounded-lg",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:x.total_possible_points.toLocaleString()}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0646\u0642\u0627\u0637 \u0627\u0644\u0645\u0645\u0643\u0646\u0629"})]}),(0,Tt.jsxs)("div",{className:"text-center p-4 bg-yellow-500 bg-opacity-20 rounded-lg",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:"100%"}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u0646 \u0627\u0644\u0623\u062f\u0627\u0621 \u0627\u0644\u062d\u0642\u064a\u0642\u064a"})]})]})]}),(0,Tt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.achievements.map(((e,t)=>(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl hover:bg-white hover:bg-opacity-10 transition-all duration-300 border border-white border-opacity-10",children:[(0,Tt.jsxs)("div",{className:"text-center mb-4",children:[(0,Tt.jsx)("div",{className:"text-4xl mb-2",children:e.icon}),(0,Tt.jsx)("div",{className:"font-bold text-lg mb-2",style:{color:"var(--text-primary)"},children:e.title}),(0,Tt.jsx)("div",{className:"text-sm mb-3",style:{color:"var(--text-secondary)"},children:e.description})]}),(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Tt.jsx)("span",{className:"text-sm",style:{color:"var(--text-muted)"},children:"\u0634\u0631\u0637 \u0627\u0644\u0641\u062a\u062d:"}),(0,Tt.jsx)("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:e.unlock_condition})]}),(0,Tt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Tt.jsx)("span",{className:"text-sm",style:{color:"var(--text-muted)"},children:"\u0645\u0643\u0627\u0641\u0623\u0629 \u0627\u0644\u0646\u0642\u0627\u0637:"}),(0,Tt.jsxs)("span",{className:"text-lg font-bold text-yellow-400",children:["+",e.points_reward]})]}),(0,Tt.jsx)("div",{className:"text-center",children:(0,Tt.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-medium ".concat("visits"===e.category?"bg-blue-500 bg-opacity-20 text-blue-400":"effectiveness"===e.category?"bg-green-500 bg-opacity-20 text-green-400":"orders"===e.category?"bg-purple-500 bg-opacity-20 text-purple-400":"clinics"===e.category?"bg-red-500 bg-opacity-20 text-red-400":"bg-orange-500 bg-opacity-20 text-orange-400"),children:e.category})})]})]},e.id)))})]}):null;return(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsx)("h2",{className:"text-3xl font-bold text-gradient",children:"\ud83c\udfae \u0646\u0638\u0627\u0645 \u0627\u0644\u062a\u062d\u0641\u064a\u0632 \u0627\u0644\u0645\u062a\u0643\u0627\u0645\u0644"}),(0,Tt.jsx)("div",{className:"text-sm bg-gradient-to-r from-blue-500 to-purple-500 bg-opacity-20 px-4 py-2 rounded-lg",children:(0,Tt.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0645\u0631\u062a\u0628\u0637 \u0628\u0627\u0644\u0623\u062f\u0627\u0621 \u0627\u0644\u062d\u0642\u064a\u0642\u064a \ud83d\udcaf"})})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-2 rounded-xl inline-flex",children:[(0,Tt.jsx)("button",{onClick:()=>r("profile"),className:"px-6 py-3 rounded-lg transition-all duration-300 ".concat("profile"===l?"bg-blue-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white hover:bg-opacity-10"),children:"\ud83d\udc64 \u0645\u0644\u0641\u064a \u0627\u0644\u0634\u062e\u0635\u064a"}),(0,Tt.jsx)("button",{onClick:()=>r("leaderboard"),className:"px-6 py-3 rounded-lg transition-all duration-300 ".concat("leaderboard"===l?"bg-purple-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white hover:bg-opacity-10"),children:"\ud83c\udfc5 \u0644\u0648\u062d\u0629 \u0627\u0644\u0645\u062a\u0635\u062f\u0631\u064a\u0646"}),(0,Tt.jsx)("button",{onClick:()=>r("achievements"),className:"px-6 py-3 rounded-lg transition-all duration-300 ".concat("achievements"===l?"bg-green-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white hover:bg-opacity-10"),children:"\ud83c\udfc6 \u0627\u0644\u0625\u0646\u062c\u0627\u0632\u0627\u062a"})]}),s&&(0,Tt.jsx)("div",{className:"p-4 bg-red-500 bg-opacity-20 border border-red-500 rounded-lg text-red-400",children:s}),e?(0,Tt.jsx)("div",{className:"space-y-6",children:[1,2,3].map((e=>(0,Tt.jsx)("div",{className:"glass-effect p-6 rounded-xl animate-pulse",children:(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Tt.jsx)("div",{className:"w-16 h-16 bg-gray-600 rounded-full"}),(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsx)("div",{className:"h-6 bg-gray-600 rounded w-1/3 mb-2"}),(0,Tt.jsx)("div",{className:"h-4 bg-gray-700 rounded w-1/2"})]})]}),(0,Tt.jsx)("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3].map((e=>(0,Tt.jsx)("div",{className:"h-16 bg-gray-600 rounded"},e)))})]})},e)))}):(0,Tt.jsxs)(Tt.Fragment,{children:["profile"===l&&(0,Tt.jsx)(y,{}),"leaderboard"===l&&(0,Tt.jsx)(N,{}),"achievements"===l&&(0,Tt.jsx)(w,{})]})]})},Ws=()=>{const[e,t]=(0,n.useState)(!0),[s,a]=(0,n.useState)(""),[l,r]=(0,n.useState)("team"),[i,c]=(0,n.useState)(null),[o,d]=(0,n.useState)(24),[u,m]=(0,n.useState)(null),[x,h]=(0,n.useState)(null),[p,g]=(0,n.useState)(null),[f,v]=(0,n.useState)([]),[b,j]=(0,n.useState)({lat:30.0444,lng:31.2357}),[y,N]=(0,n.useState)(10),{language:w,t:_}=It();(0,n.useEffect)((()=>{k();const e=setInterval(k,3e4);return()=>clearInterval(e)}),[l,i,o]);const k=async()=>{t(!0),a("");try{const e=localStorage.getItem("access_token"),t={Authorization:"Bearer ".concat(e)};if("team"===l){const e=await Pt.get("".concat(Dt,"/gps/team-locations?include_history_hours=2"),{headers:t});if(m(e.data),e.data.locations.length>0){const t=e.data.locations.filter((e=>e.current_location));if(t.length>0){const e=t.reduce(((e,t)=>e+t.current_location.latitude),0)/t.length,s=t.reduce(((e,t)=>e+t.current_location.longitude),0)/t.length;j({lat:e,lng:s})}}}else if("history"===l&&i){const e=await Pt.get("".concat(Dt,"/gps/location-history/").concat(i,"?hours=").concat(o,"&include_route=true"),{headers:t});if(h(e.data),e.data.locations.length>0){const t=e.data.locations[0];j({lat:t.latitude,lng:t.longitude})}}else"routes"===l&&g({suggestions:[],loading:!1})}catch(s){a("\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a GPS"),console.error("GPS data error:",s)}finally{t(!1)}},S=e=>{const t={online:"bg-green-500 text-green-400",inactive:"bg-yellow-500 text-yellow-400",offline:"bg-red-500 text-red-400",no_data:"bg-gray-500 text-gray-400"};return t[e]||t.no_data},C=e=>{const t={online:"\u0645\u062a\u0635\u0644",inactive:"\u063a\u064a\u0631 \u0646\u0634\u0637",offline:"\u063a\u064a\u0631 \u0645\u062a\u0635\u0644",no_data:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"};return t[e]||t.no_data},E=()=>u?(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\ud83d\udc65"}),(0,Tt.jsx)("span",{children:"\u0645\u0648\u0627\u0642\u0639 \u0627\u0644\u0641\u0631\u064a\u0642 \u0627\u0644\u0645\u0628\u0627\u0634\u0631\u0629"}),(0,Tt.jsxs)("span",{className:"bg-blue-500 bg-opacity-20 text-blue-400 px-2 py-1 rounded-full text-sm",children:[u.team_size," \u0639\u0636\u0648"]})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Tt.jsxs)("div",{className:"text-center p-4 bg-green-500 bg-opacity-20 rounded-lg",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-green-400",children:u.online_members}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u062a\u0635\u0644 \u062d\u0627\u0644\u064a\u0627\u064b"})]}),(0,Tt.jsxs)("div",{className:"text-center p-4 bg-yellow-500 bg-opacity-20 rounded-lg",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:u.offline_members}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u063a\u064a\u0631 \u0645\u062a\u0635\u0644"})]}),(0,Tt.jsxs)("div",{className:"text-center p-4 bg-red-500 bg-opacity-20 rounded-lg",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-red-400",children:u.no_data_members}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"})]}),(0,Tt.jsxs)("div",{className:"text-center p-4 bg-blue-500 bg-opacity-20 rounded-lg",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:u.locations.reduce(((e,t)=>e+t.recent_activity.visits_completed),0)}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0632\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u064a\u0648\u0645"})]})]})]}),(0,Tt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.locations.map(((e,t)=>(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl hover:bg-white hover:bg-opacity-10 transition-all duration-300",children:[(0,Tt.jsxs)("div",{className:"flex items-start gap-4 mb-4",children:[(0,Tt.jsxs)("div",{className:"relative",children:[(0,Tt.jsx)("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:e.photo?(0,Tt.jsx)("img",{src:"data:image/jpeg;base64,".concat(e.photo),alt:e.full_name,className:"w-full h-full object-cover"}):(0,Tt.jsx)("span",{className:"text-white font-bold",children:e.full_name.charAt(0).toUpperCase()})}),(0,Tt.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white ".concat("online"===e.status?"bg-green-500":"inactive"===e.status?"bg-yellow-500":"offline"===e.status?"bg-red-500":"bg-gray-500")})]}),(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsx)("div",{className:"font-bold",style:{color:"var(--text-primary)"},children:e.full_name}),(0,Tt.jsxs)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["@",e.username]}),(0,Tt.jsx)("div",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium ".concat(S(e.status)," bg-opacity-20"),children:C(e.status)})]})]}),e.current_location?(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsxs)("div",{className:"text-sm",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Tt.jsx)("span",{className:"text-blue-400",children:"\ud83d\udccd"}),(0,Tt.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0645\u0648\u0642\u0639 \u0627\u0644\u062d\u0627\u0644\u064a:"})]}),(0,Tt.jsxs)("div",{className:"bg-white bg-opacity-5 p-3 rounded-lg text-xs",children:[(0,Tt.jsx)("div",{style:{color:"var(--text-primary)"},children:e.current_location.address}),(0,Tt.jsxs)("div",{className:"mt-1",style:{color:"var(--text-muted)"},children:[e.current_location.latitude.toFixed(4),", ",e.current_location.longitude.toFixed(4)]}),(0,Tt.jsxs)("div",{className:"mt-1",style:{color:"var(--text-muted)"},children:["\u0622\u062e\u0631 \u062a\u062d\u062f\u064a\u062b: \u0645\u0646\u0630 ",e.minutes_since_update," \u062f\u0642\u064a\u0642\u0629"]})]})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-center",children:[(0,Tt.jsxs)("div",{className:"bg-blue-500 bg-opacity-20 p-2 rounded-lg",children:[(0,Tt.jsx)("div",{className:"text-lg font-bold text-blue-400",children:e.recent_activity.location_points}),(0,Tt.jsx)("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:"\u0646\u0642\u0627\u0637 \u062a\u062a\u0628\u0639"})]}),(0,Tt.jsxs)("div",{className:"bg-green-500 bg-opacity-20 p-2 rounded-lg",children:[(0,Tt.jsx)("div",{className:"text-lg font-bold text-green-400",children:e.recent_activity.visits_completed}),(0,Tt.jsx)("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:"\u0632\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u064a\u0648\u0645"})]})]}),(0,Tt.jsxs)("div",{className:"flex gap-2",children:[(0,Tt.jsx)("button",{onClick:()=>{c(e.user_id),r("history")},className:"flex-1 py-2 px-3 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg transition-colors",children:"\ud83d\udccd \u0639\u0631\u0636 \u0627\u0644\u0645\u0633\u0627\u0631"}),(0,Tt.jsx)("button",{onClick:()=>{j({lat:e.current_location.latitude,lng:e.current_location.longitude}),N(15)},className:"py-2 px-3 bg-green-600 hover:bg-green-700 text-white text-sm rounded-lg transition-colors",children:"\ud83d\uddfa\ufe0f"})]})]}):(0,Tt.jsxs)("div",{className:"text-center py-4",children:[(0,Tt.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udccd"}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a \u0645\u0648\u0642\u0639"}),(0,Tt.jsx)("div",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"\u064a\u062c\u0628 \u062a\u0641\u0639\u064a\u0644 GPS \u0639\u0644\u0649 \u0627\u0644\u0647\u0627\u062a\u0641"})]})]},e.user_id)))})]}):null,A=()=>x?(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tt.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\ud83d\udccd"}),(0,Tt.jsxs)("span",{children:["\u0645\u0633\u0627\u0631 ",x.user_info.full_name]})]}),(0,Tt.jsxs)("select",{value:o,onChange:e=>d(parseInt(e.target.value)),className:"px-4 py-2 glass-effect border border-white border-opacity-20 rounded-lg text-white",children:[(0,Tt.jsx)("option",{value:2,children:"\u0622\u062e\u0631 \u0633\u0627\u0639\u062a\u064a\u0646"}),(0,Tt.jsx)("option",{value:6,children:"\u0622\u062e\u0631 6 \u0633\u0627\u0639\u0627\u062a"}),(0,Tt.jsx)("option",{value:12,children:"\u0622\u062e\u0631 12 \u0633\u0627\u0639\u0629"}),(0,Tt.jsx)("option",{value:24,children:"\u0622\u062e\u0631 24 \u0633\u0627\u0639\u0629"}),(0,Tt.jsx)("option",{value:48,children:"\u0622\u062e\u0631 \u064a\u0648\u0645\u064a\u0646"})]})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,Tt.jsxs)("div",{className:"text-center p-4 bg-blue-500 bg-opacity-20 rounded-lg",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:x.route_statistics.total_points}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0646\u0642\u0627\u0637 \u0627\u0644\u062a\u062a\u0628\u0639"})]}),(0,Tt.jsxs)("div",{className:"text-center p-4 bg-green-500 bg-opacity-20 rounded-lg",children:[(0,Tt.jsxs)("div",{className:"text-2xl font-bold text-green-400",children:[x.route_statistics.total_distance," km"]}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0645\u0633\u0627\u0641\u0629 \u0627\u0644\u0645\u0642\u0637\u0648\u0639\u0629"})]}),(0,Tt.jsxs)("div",{className:"text-center p-4 bg-purple-500 bg-opacity-20 rounded-lg",children:[(0,Tt.jsxs)("div",{className:"text-2xl font-bold text-purple-400",children:[x.route_statistics.average_speed," km/h"]}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u062a\u0648\u0633\u0637 \u0627\u0644\u0633\u0631\u0639\u0629"})]}),(0,Tt.jsxs)("div",{className:"text-center p-4 bg-orange-500 bg-opacity-20 rounded-lg",children:[(0,Tt.jsxs)("div",{className:"text-2xl font-bold text-orange-400",children:[x.route_statistics.max_speed," km/h"]}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0623\u0642\u0635\u0649 \u0633\u0631\u0639\u0629"})]}),(0,Tt.jsxs)("div",{className:"text-center p-4 bg-red-500 bg-opacity-20 rounded-lg",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-red-400",children:x.route_statistics.stops.length}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0646\u0642\u0627\u0637 \u0627\u0644\u062a\u0648\u0642\u0641"})]})]})]}),x.route_statistics.stops.length>0&&(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\u23f1\ufe0f"}),(0,Tt.jsx)("span",{children:"\u062a\u062d\u0644\u064a\u0644 \u0646\u0642\u0627\u0637 \u0627\u0644\u062a\u0648\u0642\u0641"})]}),(0,Tt.jsx)("div",{className:"space-y-4",children:x.route_statistics.stops.map(((e,t)=>(0,Tt.jsxs)("div",{className:"bg-white bg-opacity-5 p-4 rounded-lg",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:t+1}),(0,Tt.jsx)("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:e.location.address})]}),(0,Tt.jsxs)("span",{className:"text-sm font-bold text-orange-400",children:[e.duration_minutes," \u062f\u0642\u064a\u0642\u0629"]})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0648\u0642\u062a \u0627\u0644\u0648\u0635\u0648\u0644: "}),(0,Tt.jsx)("span",{style:{color:"var(--text-primary)"},children:new Date(e.start_time).toLocaleTimeString("ar-EG")})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0648\u0642\u062a \u0627\u0644\u0645\u063a\u0627\u062f\u0631\u0629: "}),(0,Tt.jsx)("span",{style:{color:"var(--text-primary)"},children:new Date(e.end_time).toLocaleTimeString("ar-EG")})]})]}),(0,Tt.jsxs)("div",{className:"text-xs mt-2",style:{color:"var(--text-muted)"},children:["\ud83d\udccd ",e.location.latitude.toFixed(4),", ",e.location.longitude.toFixed(4)]})]},t)))})]}),x.locations.length>0&&(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\ud83d\udd50"}),(0,Tt.jsx)("span",{children:"\u062e\u0637 \u0632\u0645\u0646\u064a \u0644\u0644\u0645\u0648\u0627\u0642\u0639"})]}),(0,Tt.jsx)("div",{className:"max-h-96 overflow-y-auto space-y-3",children:x.locations.slice(-20).reverse().map(((e,t)=>(0,Tt.jsxs)("div",{className:"flex items-center gap-4 p-3 bg-white bg-opacity-5 rounded-lg",children:[(0,Tt.jsx)("div",{className:"text-2xl",children:"visit"===e.activity_type?"\ud83c\udfe5":e.calculated_speed>20?"\ud83d\ude97":e.calculated_speed>5?"\ud83d\udeb6":"\u23f8\ufe0f"}),(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Tt.jsx)("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:e.address}),(0,Tt.jsx)("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:new Date(e.timestamp).toLocaleTimeString("ar-EG")})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-4 text-xs",style:{color:"var(--text-muted)"},children:[(0,Tt.jsxs)("span",{children:["\ud83d\udccd ",e.latitude.toFixed(4),", ",e.longitude.toFixed(4)]}),e.calculated_speed>0&&(0,Tt.jsxs)("span",{children:["\ud83c\udfc3 ",e.calculated_speed," km/h"]}),e.distance_from_last>0&&(0,Tt.jsxs)("span",{children:["\ud83d\udccf ",(1e3*e.distance_from_last).toFixed(0)," \u0645\u062a\u0631"]}),(0,Tt.jsxs)("span",{children:["\ud83c\udfaf ",e.accuracy,"m \u062f\u0642\u0629"]})]})]})]},e.id)))})]})]}):null;return(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsx)("h2",{className:"text-3xl font-bold text-gradient",children:"\ud83d\uddfa\ufe0f \u0646\u0638\u0627\u0645 \u062a\u062a\u0628\u0639 GPS \u0627\u0644\u0645\u062a\u0642\u062f\u0645"}),(0,Tt.jsx)("div",{className:"text-sm bg-gradient-to-r from-green-500 to-blue-500 bg-opacity-20 px-4 py-2 rounded-lg",children:(0,Tt.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u062a\u062d\u062f\u064a\u062b \u0645\u0628\u0627\u0634\u0631 \u0643\u0644 30 \u062b\u0627\u0646\u064a\u0629 \u26a1"})})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-2 rounded-xl inline-flex",children:[(0,Tt.jsx)("button",{onClick:()=>r("team"),className:"px-6 py-3 rounded-lg transition-all duration-300 ".concat("team"===l?"bg-blue-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white hover:bg-opacity-10"),children:"\ud83d\udc65 \u0645\u0648\u0627\u0642\u0639 \u0627\u0644\u0641\u0631\u064a\u0642"}),(0,Tt.jsx)("button",{onClick:()=>r("history"),className:"px-6 py-3 rounded-lg transition-all duration-300 ".concat("history"===l?"bg-purple-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white hover:bg-opacity-10"),children:"\ud83d\udccd \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0645\u0648\u0627\u0642\u0639"}),(0,Tt.jsx)("button",{onClick:()=>r("geofence"),className:"px-6 py-3 rounded-lg transition-all duration-300 ".concat("geofence"===l?"bg-green-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white hover:bg-opacity-10"),children:"\ud83d\udea7 \u0627\u0644\u062d\u062f\u0648\u062f \u0627\u0644\u062c\u063a\u0631\u0627\u0641\u064a\u0629"}),(0,Tt.jsx)("button",{onClick:()=>r("routes"),className:"px-6 py-3 rounded-lg transition-all duration-300 ".concat("routes"===l?"bg-orange-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white hover:bg-opacity-10"),children:"\ud83d\udee3\ufe0f \u062a\u062d\u0633\u064a\u0646 \u0627\u0644\u0645\u0633\u0627\u0631\u0627\u062a"})]}),s&&(0,Tt.jsx)("div",{className:"p-4 bg-red-500 bg-opacity-20 border border-red-500 rounded-lg text-red-400",children:s}),e?(0,Tt.jsx)("div",{className:"space-y-6",children:[1,2,3].map((e=>(0,Tt.jsx)("div",{className:"glass-effect p-6 rounded-xl animate-pulse",children:(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Tt.jsx)("div",{className:"w-12 h-12 bg-gray-600 rounded-full"}),(0,Tt.jsxs)("div",{className:"flex-1",children:[(0,Tt.jsx)("div",{className:"h-4 bg-gray-600 rounded w-1/3 mb-2"}),(0,Tt.jsx)("div",{className:"h-3 bg-gray-700 rounded w-1/2"})]})]}),(0,Tt.jsx)("div",{className:"grid grid-cols-4 gap-4",children:[1,2,3,4].map((e=>(0,Tt.jsx)("div",{className:"h-16 bg-gray-600 rounded"},e)))})]})},e)))}):(0,Tt.jsxs)(Tt.Fragment,{children:["team"===l&&(0,Tt.jsx)(E,{}),"history"===l&&(i?(0,Tt.jsx)(A,{}):(0,Tt.jsxs)("div",{className:"glass-effect p-12 rounded-xl text-center",children:[(0,Tt.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udccd"}),(0,Tt.jsx)("h3",{className:"text-xl font-bold mb-2",style:{color:"var(--text-primary)"},children:"\u0627\u062e\u062a\u0631 \u0645\u0633\u062a\u062e\u062f\u0645\u0627\u064b \u0644\u0639\u0631\u0636 \u0645\u0633\u0627\u0631\u0647"}),(0,Tt.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:'\u0627\u0631\u062c\u0639 \u0644\u062a\u0628\u0648\u064a\u0628 "\u0645\u0648\u0627\u0642\u0639 \u0627\u0644\u0641\u0631\u064a\u0642" \u0648\u0627\u0636\u063a\u0637 "\u0639\u0631\u0636 \u0627\u0644\u0645\u0633\u0627\u0631" \u0644\u0623\u064a \u0639\u0636\u0648'}),(0,Tt.jsx)("button",{onClick:()=>r("team"),className:"mt-4 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"\u0627\u0644\u0639\u0648\u062f\u0629 \u0644\u0645\u0648\u0627\u0642\u0639 \u0627\u0644\u0641\u0631\u064a\u0642"})]})),"geofence"===l&&(0,Tt.jsxs)("div",{className:"glass-effect p-12 rounded-xl text-center",children:[(0,Tt.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udea7"}),(0,Tt.jsx)("h3",{className:"text-xl font-bold mb-2",style:{color:"var(--text-primary)"},children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u062d\u062f\u0648\u062f \u0627\u0644\u062c\u063a\u0631\u0627\u0641\u064a\u0629"}),(0,Tt.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0642\u0631\u064a\u0628\u0627\u064b - \u0625\u0646\u0634\u0627\u0621 \u0645\u0646\u0627\u0637\u0642 \u0645\u0633\u0645\u0648\u062d\u0629 \u0648\u0645\u062d\u0638\u0648\u0631\u0629 \u0645\u0639 \u062a\u0646\u0628\u064a\u0647\u0627\u062a \u062a\u0644\u0642\u0627\u0626\u064a\u0629"})]}),"routes"===l&&(0,Tt.jsxs)("div",{className:"glass-effect p-12 rounded-xl text-center",children:[(0,Tt.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udee3\ufe0f"}),(0,Tt.jsx)("h3",{className:"text-xl font-bold mb-2",style:{color:"var(--text-primary)"},children:"\u062a\u062d\u0633\u064a\u0646 \u0627\u0644\u0645\u0633\u0627\u0631\u0627\u062a \u0627\u0644\u0630\u0643\u064a"}),(0,Tt.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0642\u0631\u064a\u0628\u0627\u064b - \u0627\u0642\u062a\u0631\u0627\u062d \u0623\u0641\u0636\u0644 \u0627\u0644\u0645\u0633\u0627\u0631\u0627\u062a \u0644\u0644\u0632\u064a\u0627\u0631\u0627\u062a \u0628\u0646\u0627\u0621 \u0639\u0644\u0649 \u0627\u0644\u0645\u0648\u0642\u0639 \u0648\u0627\u0644\u0648\u0642\u062a"})]})]})]})},Qs=e=>{var t,s,a;let{order:n,onClose:l,language:r}=e;const i="ar"===r?{orderDetails:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0637\u0644\u0628",orderNumber:"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628",orderDate:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0637\u0644\u0628",orderStatus:"\u062d\u0627\u0644\u0629 \u0627\u0644\u0637\u0644\u0628",salesRep:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628",doctor:"\u0627\u0644\u0637\u0628\u064a\u0628",clinic:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629",warehouse:"\u0627\u0644\u0645\u062e\u0632\u0646",totalAmount:"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a",items:"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a",quantity:"\u0627\u0644\u0643\u0645\u064a\u0629",unitPrice:"\u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0629",total:"\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a",notes:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a",close:"\u0625\u063a\u0644\u0627\u0642",approved:"\u0645\u0639\u062a\u0645\u062f",pending:"\u0641\u064a \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631",rejected:"\u0645\u0631\u0641\u0648\u0636"}:{orderDetails:"Order Details",orderNumber:"Order Number",orderDate:"Order Date",orderStatus:"Order Status",salesRep:"Sales Rep",doctor:"Doctor",clinic:"Clinic",warehouse:"Warehouse",totalAmount:"Total Amount",items:"Items",quantity:"Quantity",unitPrice:"Unit Price",total:"Total",notes:"Notes",close:"Close",approved:"Approved",pending:"Pending",rejected:"Rejected"};return(0,Tt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-60 flex items-center justify-center p-4",children:(0,Tt.jsxs)("div",{className:"glass-effect w-full max-w-4xl max-h-[95vh] overflow-hidden rounded-2xl shadow-2xl",children:[(0,Tt.jsxs)("div",{className:"p-6 border-b border-white border-opacity-20 flex items-center justify-between",children:[(0,Tt.jsxs)("h3",{className:"text-2xl font-bold text-gradient",children:[i.orderDetails," #",(null===(t=n.id)||void 0===t?void 0:t.slice(-8))||n.order_number]}),(0,Tt.jsx)("button",{onClick:l,className:"p-2 hover:bg-gray-100 hover:bg-opacity-10 rounded-full transition-colors",children:(0,Tt.jsx)(Wt,{name:"error",size:20})})]}),(0,Tt.jsx)("div",{className:"p-6 overflow-y-auto max-h-[80vh]",children:(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(Wt,{name:"reports",size:20}),i.orderDetails]}),(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsxs)("span",{className:"font-semibold",children:[i.orderNumber,":"]}),(0,Tt.jsxs)("span",{className:"font-mono",children:["#",(null===(s=n.id)||void 0===s?void 0:s.slice(-8))||n.order_number]})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsxs)("span",{className:"font-semibold",children:[i.orderDate,":"]}),(0,Tt.jsx)("span",{children:new Date(n.created_at||n.order_date).toLocaleDateString("ar"===r?"ar-EG":"en-US")})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsxs)("span",{className:"font-semibold",children:[i.orderStatus,":"]}),(0,Tt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat((e=>{switch(e){case"APPROVED":return"bg-green-100 bg-opacity-20 text-green-300";case"PENDING":return"bg-yellow-100 bg-opacity-20 text-yellow-300";case"REJECTED":return"bg-red-100 bg-opacity-20 text-red-300";default:return"bg-gray-100 bg-opacity-20 text-gray-300"}})(n.status)),children:i[null===(a=n.status)||void 0===a?void 0:a.toLowerCase()]||n.status})]}),(0,Tt.jsxs)("div",{className:"flex justify-between border-t pt-3 mt-3",children:[(0,Tt.jsxs)("span",{className:"font-bold text-lg",children:[i.totalAmount,":"]}),(0,Tt.jsxs)("span",{className:"font-bold text-lg text-green-500",children:[n.total_amount," \u062c.\u0645"]})]})]})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(Wt,{name:"users",size:20}),"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0637\u0644\u0628"]}),(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsxs)("span",{className:"font-semibold",children:[i.salesRep,":"]}),(0,Tt.jsx)("span",{children:n.sales_rep_name})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsxs)("span",{className:"font-semibold",children:[i.doctor,":"]}),(0,Tt.jsxs)("span",{children:["\u062f. ",n.doctor_name]})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsxs)("span",{className:"font-semibold",children:[i.clinic,":"]}),(0,Tt.jsx)("span",{children:n.clinic_name})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsxs)("span",{className:"font-semibold",children:[i.warehouse,":"]}),(0,Tt.jsx)("span",{children:n.warehouse_name})]})]})]})]}),n.items&&n.items.length>0&&(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(Wt,{name:"warehouse",size:20}),i.items," (",n.items.length,")"]}),(0,Tt.jsx)("div",{className:"overflow-x-auto",children:(0,Tt.jsxs)("table",{className:"w-full",children:[(0,Tt.jsx)("thead",{children:(0,Tt.jsxs)("tr",{className:"border-b",style:{borderColor:"var(--border-color)"},children:[(0,Tt.jsx)("th",{className:"text-right py-3 px-4 font-bold",children:"#"}),(0,Tt.jsx)("th",{className:"text-right py-3 px-4 font-bold",children:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c"}),(0,Tt.jsx)("th",{className:"text-right py-3 px-4 font-bold",children:i.quantity}),(0,Tt.jsx)("th",{className:"text-right py-3 px-4 font-bold",children:i.unitPrice}),(0,Tt.jsx)("th",{className:"text-right py-3 px-4 font-bold",children:i.total})]})}),(0,Tt.jsx)("tbody",{children:n.items.map(((e,t)=>(0,Tt.jsxs)("tr",{className:"border-b border-opacity-20",style:{borderColor:"var(--border-color)"},children:[(0,Tt.jsx)("td",{className:"py-3 px-4 text-center",children:t+1}),(0,Tt.jsxs)("td",{className:"py-3 px-4",children:[(0,Tt.jsx)("div",{className:"font-medium",children:e.product_name}),e.product_description&&(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:e.product_description})]}),(0,Tt.jsx)("td",{className:"py-3 px-4 text-center",children:e.quantity}),(0,Tt.jsxs)("td",{className:"py-3 px-4 text-center",children:[e.unit_price," \u062c.\u0645"]}),(0,Tt.jsxs)("td",{className:"py-3 px-4 text-center font-bold",children:[(e.quantity*e.unit_price).toFixed(2)," \u062c.\u0645"]})]},t)))}),(0,Tt.jsx)("tfoot",{children:(0,Tt.jsxs)("tr",{className:"border-t-2 border-blue-500",children:[(0,Tt.jsxs)("td",{colSpan:"4",className:"py-3 px-4 text-right font-bold text-lg",children:[i.totalAmount,":"]}),(0,Tt.jsxs)("td",{className:"py-3 px-4 text-center font-bold text-lg text-green-500",children:[n.total_amount," \u062c.\u0645"]})]})})]})})]}),n.notes&&(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(Wt,{name:"chat",size:20}),i.notes]}),(0,Tt.jsx)("p",{className:"text-sm leading-relaxed",children:n.notes})]})]})}),(0,Tt.jsx)("div",{className:"p-6 border-t border-white border-opacity-20 flex justify-end",children:(0,Tt.jsx)("button",{onClick:l,className:"btn-modern px-6 py-3",children:i.close})})]})})},$s=()=>{const{user:e,loading:t}=Yt(),[s,a]=(0,n.useState)(!1),[l,r]=(0,n.useState)(!1),[i,c]=(0,n.useState)(null),{language:o}=It();(0,n.useEffect)((()=>{console.log("\ud83d\udd0d AppContent: User state changed:",e),console.log("\ud83d\udd0d AppContent: Loading state:",t),console.log("\ud83d\udd0d AppContent: Should show dashboard?",!!e)}),[e,t]);return t?(0,Tt.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{background:"var(--gradient-dark)",color:"var(--text-primary)"},children:(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsx)("div",{className:"w-20 h-20 loading-shimmer rounded-full mx-auto mb-6"}),(0,Tt.jsx)("p",{style:{color:"var(--text-secondary)",fontSize:"18px"},children:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644..."})]})}):(0,Tt.jsxs)("div",{className:"App",style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh"},children:[e?(0,Tt.jsx)(Vs,{}):(0,Tt.jsx)(Zt,{}),s&&(0,Tt.jsx)(Cs,{onScan:async e=>{try{const t=localStorage.getItem("access_token"),s=await Pt.post("".concat(Dt,"/qr/scan"),{content:e},{headers:{Authorization:"Bearer ".concat(t)}});"prefill_visit_form"===s.data.action?alert("\u062a\u0645 \u0645\u0633\u062d \u0639\u064a\u0627\u062f\u0629: ".concat(s.data.data.name)):"add_to_order"===s.data.action&&alert("\u062a\u0645 \u0645\u0633\u062d \u0645\u0646\u062a\u062c: ".concat(s.data.data.name)),a(!1)}catch(t){console.error("QR scan error:",t),alert("\u062e\u0637\u0623 \u0641\u064a \u0645\u0639\u0627\u0644\u062c\u0629 QR Code")}},onClose:()=>a(!1)}),(0,Tt.jsx)(Es,{}),e&&(0,Tt.jsx)("button",{onClick:()=>a(!0),className:"fixed bottom-6 right-6 w-14 h-14 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 transition-colors z-40 flex items-center justify-center",title:"\u0645\u0633\u062d QR Code",children:(0,Tt.jsx)("span",{className:"text-xl",children:"\ud83d\udcf1"})}),l&&i&&(0,Tt.jsx)(Qs,{order:i,onClose:()=>{r(!1),c(null)},language:o})]})},Ks=()=>{var e,t;const{t:s}=It(),[a,l]=(0,n.useState)(null),[r,i]=(0,n.useState)(!0),[c,o]=(0,n.useState)("overview");(0,n.useEffect)((()=>{d()}),[]);const d=async()=>{try{const e=localStorage.getItem("access_token"),t=await Pt.get("".concat(Dt,"/admin/settings/comprehensive"),{headers:{Authorization:"Bearer ".concat(e)}});l(t.data)}catch(e){console.error("Error fetching settings:",e)}finally{i(!1)}};if(r)return(0,Tt.jsxs)("div",{className:"p-8 text-center",children:[(0,Tt.jsx)("div",{className:"loading-spinner-enhanced mx-auto mb-4"}),(0,Tt.jsx)("p",{style:{color:"var(--text-secondary)"},children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0634\u0627\u0645\u0644\u0629..."})]});return(0,Tt.jsxs)("div",{className:"p-8",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,Tt.jsxs)("h2",{className:"text-3xl font-bold text-gradient flex items-center gap-3",children:[(0,Tt.jsx)("span",{children:"\u2699\ufe0f"}),(0,Tt.jsx)("span",{children:s("comprehensiveSettings")})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Tt.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"\ud83d\udd04 \u062a\u062d\u062f\u064a\u062b"}),(0,Tt.jsx)("div",{className:"px-4 py-2 bg-green-600 bg-opacity-20 text-green-400 rounded-lg",children:"\u2705 \u062c\u0645\u064a\u0639 \u0627\u0644\u0623\u0632\u0631\u0627\u0631 \u0645\u062a\u0635\u0644\u0629"})]})]}),(0,Tt.jsx)("div",{className:"flex gap-2 mb-8 overflow-x-auto",children:[{id:"overview",label:"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629",icon:"analytics"},{id:"users",label:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",icon:"users"},{id:"roles",label:"\u0627\u0644\u0623\u062f\u0648\u0627\u0631 \u0648\u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a",icon:"security"},{id:"products",label:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a",icon:"products"},{id:"gps",label:"\u0646\u0638\u0627\u0645 GPS",icon:"gps"},{id:"maps",label:"\u062e\u0631\u0627\u0626\u0637 \u062c\u0648\u062c\u0644",icon:"maps"},{id:"gamification",label:"\u0646\u0638\u0627\u0645 \u0627\u0644\u0623\u0644\u0639\u0627\u0628",icon:"gamification"},{id:"accounting",label:"\u0646\u0638\u0627\u0645 \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629",icon:"accounting"},{id:"notifications",label:"\u0646\u0638\u0627\u0645 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a",icon:"notifications"},{id:"visits",label:"\u0646\u0638\u0627\u0645 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a",icon:"visits"},{id:"reports",label:"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631",icon:"reports"},{id:"themes",label:"\u0627\u0644\u0623\u0644\u0648\u0627\u0646 \u0648\u0627\u0644\u062b\u064a\u0645\u0627\u062a",icon:"theme"},{id:"languages",label:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0644\u063a\u0629",icon:"language"},{id:"website",label:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0645\u0648\u0642\u0639",icon:"settings"},{id:"performance",label:"\u0645\u0631\u0627\u0642\u0628\u0629 \u0627\u0644\u0623\u062f\u0627\u0621",icon:"performance"},{id:"system",label:"\u0635\u062d\u0629 \u0627\u0644\u0646\u0638\u0627\u0645",icon:"settings"},{id:"security",label:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0623\u0645\u0627\u0646",icon:"security"},{id:"features",label:"\u062a\u062d\u0643\u0645 \u0627\u0644\u0645\u0645\u064a\u0632\u0627\u062a",icon:"features"},{id:"initialize",label:"\u062a\u0647\u064a\u0626\u0629 \u0627\u0644\u0646\u0638\u0627\u0645",icon:"settings"}].map((e=>(0,Tt.jsxs)("button",{onClick:()=>o(e.id),className:"flex items-center gap-2 px-6 py-3 rounded-lg whitespace-nowrap transition-all ".concat(c===e.id?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg":"glass-effect hover:bg-white hover:bg-opacity-10"),children:[(0,Tt.jsx)(Wt,{name:e.icon,size:20}),(0,Tt.jsx)("span",{children:e.label})]},e.id)))}),(0,Tt.jsxs)("div",{className:"space-y-8",children:["overview"===c&&(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\ud83d\udd27"}),(0,Tt.jsx)("span",{children:"\u062d\u0627\u0644\u0629 \u0627\u0644\u0646\u0638\u0627\u0645 \u0627\u0644\u0634\u0627\u0645\u0644\u0629"})]}),(0,Tt.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,Tt.jsxs)("div",{className:"p-4 bg-green-600 bg-opacity-20 rounded-lg text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl mb-2",children:"\u2705"}),(0,Tt.jsx)("div",{className:"text-sm text-green-400",children:"\u0627\u0644\u0628\u0627\u0643\u0646\u062f"}),(0,Tt.jsx)("div",{className:"font-bold text-green-300",children:"\u064a\u0639\u0645\u0644 \u0628\u0646\u0633\u0628\u0629 92%"})]}),(0,Tt.jsxs)("div",{className:"p-4 bg-blue-600 bg-opacity-20 rounded-lg text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl mb-2",children:"\ud83c\udf10"}),(0,Tt.jsx)("div",{className:"text-sm text-blue-400",children:"\u0627\u0644\u0641\u0631\u0648\u0646\u062a\u0627\u0646\u062f"}),(0,Tt.jsx)("div",{className:"font-bold text-blue-300",children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0623\u0632\u0631\u0627\u0631 \u0645\u062a\u0635\u0644\u0629"})]}),(0,Tt.jsxs)("div",{className:"p-4 bg-purple-600 bg-opacity-20 rounded-lg text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl mb-2",children:"\ud83d\udd10"}),(0,Tt.jsx)("div",{className:"text-sm text-purple-400",children:"\u0627\u0644\u0623\u0645\u0627\u0646"}),(0,Tt.jsx)("div",{className:"font-bold text-purple-300",children:"\u0645\u062d\u0645\u064a \u0628\u0627\u0644\u0643\u0627\u0645\u0644"})]}),(0,Tt.jsxs)("div",{className:"p-4 bg-yellow-600 bg-opacity-20 rounded-lg text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl mb-2",children:"\u2699\ufe0f"}),(0,Tt.jsx)("div",{className:"text-sm text-yellow-400",children:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a"}),(0,Tt.jsx)("div",{className:"font-bold text-yellow-300",children:"\u0642\u0627\u0628\u0644\u0629 \u0644\u0644\u062a\u0634\u0643\u064a\u0644"})]})]})]}),(0,Tt.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[(0,Tt.jsxs)("div",{className:"card-glass p-6 text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl mb-2",children:"\ud83d\udc65"}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"}),(0,Tt.jsx)("div",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:(null===a||void 0===a?void 0:a.total_users)||0})]}),(0,Tt.jsxs)("div",{className:"card-glass p-6 text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl mb-2",children:"\ud83d\udcca"}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0623\u062f\u0648\u0627\u0631"}),(0,Tt.jsx)("div",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:(null===a||void 0===a||null===(e=a.available_roles)||void 0===e?void 0:e.length)||0})]}),(0,Tt.jsxs)("div",{className:"card-glass p-6 text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl mb-2",children:"\ud83c\udfe2"}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u062e\u0637\u0648\u0637 \u0627\u0644\u0646\u0634\u0637\u0629"}),(0,Tt.jsx)("div",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:(null===a||void 0===a||null===(t=a.available_lines)||void 0===t?void 0:t.length)||0})]}),(0,Tt.jsxs)("div",{className:"card-glass p-6 text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl mb-2",children:"\ud83c\udfaf"}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0646\u0638\u0627\u0645 \u0645\u064f\u0647\u064a\u0623"}),(0,Tt.jsx)("div",{className:"text-xl font-bold text-green-400",children:a?"\u2705":"\u26a0\ufe0f"})]})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\u26a1"}),(0,Tt.jsx)("span",{children:"\u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0633\u0631\u064a\u0639\u0629"})]}),(0,Tt.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[(0,Tt.jsxs)("button",{onClick:()=>o("users"),className:"p-4 bg-blue-600 bg-opacity-20 rounded-lg hover:bg-opacity-30 transition-colors text-center",children:[(0,Tt.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udc65"}),(0,Tt.jsx)("div",{className:"font-bold",children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"})]}),(0,Tt.jsxs)("button",{onClick:()=>o("features"),className:"p-4 bg-green-600 bg-opacity-20 rounded-lg hover:bg-opacity-30 transition-colors text-center",children:[(0,Tt.jsx)("div",{className:"text-2xl mb-2",children:"\ud83c\udf9b\ufe0f"}),(0,Tt.jsx)("div",{className:"font-bold",children:"\u062a\u062d\u0643\u0645 \u0627\u0644\u0645\u0645\u064a\u0632\u0627\u062a"})]}),(0,Tt.jsxs)("button",{onClick:()=>o("system"),className:"p-4 bg-purple-600 bg-opacity-20 rounded-lg hover:bg-opacity-30 transition-colors text-center",children:[(0,Tt.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udd27"}),(0,Tt.jsx)("div",{className:"font-bold",children:"\u0635\u062d\u0629 \u0627\u0644\u0646\u0638\u0627\u0645"})]})]})]})]}),"features"===c&&(0,Tt.jsx)(ds,{}),"system"===c&&(0,Tt.jsx)(us,{}),"users"===c&&(0,Tt.jsx)(Xs,{}),"roles"===c&&(0,Tt.jsx)(Zs,{}),"products"===c&&(0,Tt.jsx)(AdminProductManagement,{}),"gps"===c&&(0,Tt.jsx)(Ys,{}),"maps"===c&&(0,Tt.jsx)(na,{}),"website"===c&&(0,Tt.jsx)(la,{}),"performance"===c&&(0,Tt.jsx)(ra,{}),"gamification"===c&&(0,Tt.jsx)(AdminGamificationSettings,{}),"accounting"===c&&(0,Tt.jsx)(AdminAccountingSettings,{}),"notifications"===c&&(0,Tt.jsx)(ea,{}),"visits"===c&&(0,Tt.jsx)(AdminVisitSettings,{}),"reports"===c&&(0,Tt.jsx)(AdminReportSettings,{}),"themes"===c&&(0,Tt.jsx)(Js,{}),"languages"===c&&(0,Tt.jsx)(ta,{}),"security"===c&&(0,Tt.jsx)(sa,{}),"features"===c&&(0,Tt.jsx)(aa,{}),"initialize"===c&&(0,Tt.jsxs)("div",{className:"card-glass p-8 text-center max-w-2xl mx-auto",children:[(0,Tt.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\ude80"}),(0,Tt.jsx)("h3",{className:"text-2xl font-bold text-gradient mb-4",children:"\u062a\u0647\u064a\u0626\u0629 \u0627\u0644\u0646\u0638\u0627\u0645"}),(0,Tt.jsx)("p",{className:"text-lg mb-6",style:{color:"var(--text-secondary)"},children:"\u0647\u0630\u0627 \u0627\u0644\u0625\u062c\u0631\u0627\u0621 \u0633\u064a\u0642\u0648\u0645 \u0628\u0625\u0646\u0634\u0627\u0621 \u0645\u0633\u062a\u062e\u062f\u0645 \u0627\u0644\u0645\u062f\u064a\u0631 \u0627\u0644\u0639\u0627\u0645 \u0627\u0644\u0627\u0641\u062a\u0631\u0627\u0636\u064a \u0648\u0628\u064a\u0627\u0646\u0627\u062a \u062a\u062c\u0631\u064a\u0628\u064a\u0629 \u0644\u0644\u0646\u0638\u0627\u0645"}),(0,Tt.jsx)("div",{className:"bg-yellow-500 bg-opacity-20 border border-yellow-500 rounded-lg p-4 mb-6",children:(0,Tt.jsx)("p",{className:"text-yellow-400 text-sm",children:"\u26a0\ufe0f \u062a\u0623\u0643\u062f \u0645\u0646 \u0623\u0646 \u0647\u0630\u0627 \u0647\u0648 \u0623\u0648\u0644 \u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0644\u0644\u0646\u0638\u0627\u0645. \u0647\u0630\u0627 \u0627\u0644\u0625\u062c\u0631\u0627\u0621 \u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u062a\u0631\u0627\u062c\u0639 \u0639\u0646\u0647."})}),(0,Tt.jsx)("button",{onClick:async()=>{try{const e=localStorage.getItem("access_token"),t=await Pt.post("".concat(Dt,"/admin/initialize-system"),{},{headers:{Authorization:"Bearer ".concat(e)}});alert("\u062a\u0645 \u062a\u0647\u064a\u0626\u0629 \u0627\u0644\u0646\u0638\u0627\u0645 \u0628\u0646\u062c\u0627\u062d!\n"+JSON.stringify(t.data.gm_credentials,null,2)),d()}catch(e){console.error("Error initializing system:",e),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u0647\u064a\u0626\u0629 \u0627\u0644\u0646\u0638\u0627\u0645")}},className:"btn-modern bg-gradient-to-r from-green-500 to-blue-600 text-white px-8 py-4 text-lg rounded-lg",children:"\ud83d\ude80 \u062a\u0647\u064a\u0626\u0629 \u0627\u0644\u0646\u0638\u0627\u0645 \u0627\u0644\u0622\u0646"})]})]})]})},Xs=()=>{const[e,t]=(0,n.useState)({enableUserRegistration:!0,requireEmailVerification:!1,defaultUserRole:"medical_rep",maxUsersPerRole:{gm:1,line_manager:10,area_manager:50,district_manager:100,key_account:200,medical_rep:1e3},userSessionTimeout:24,allowMultipleLogins:!1,passwordExpiry:90,enableTwoFactor:!1});return(0,Tt.jsxs)("div",{className:"space-y-8",children:[(0,Tt.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"}),(0,Tt.jsxs)("div",{className:"card-glass p-6",children:[(0,Tt.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0639\u0627\u0645\u0629"}),(0,Tt.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"font-bold",children:"\u0627\u0644\u0633\u0645\u0627\u062d \u0628\u0627\u0644\u062a\u0633\u062c\u064a\u0644"}),(0,Tt.jsx)("div",{className:"text-sm text-gray-400",children:"\u0627\u0644\u0633\u0645\u0627\u062d \u0644\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0627\u0644\u062c\u062f\u062f \u0628\u0627\u0644\u062a\u0633\u062c\u064a\u0644"})]}),(0,Tt.jsxs)("label",{className:"switch",children:[(0,Tt.jsx)("input",{type:"checkbox",checked:e.enableUserRegistration,onChange:s=>t(d(d({},e),{},{enableUserRegistration:s.target.checked}))}),(0,Tt.jsx)("span",{className:"slider"})]})]}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"font-bold",children:"\u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a"}),(0,Tt.jsx)("div",{className:"text-sm text-gray-400",children:"\u0637\u0644\u0628 \u062a\u0623\u0643\u064a\u062f \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a"})]}),(0,Tt.jsxs)("label",{className:"switch",children:[(0,Tt.jsx)("input",{type:"checkbox",checked:e.requireEmailVerification,onChange:s=>t(d(d({},e),{},{requireEmailVerification:s.target.checked}))}),(0,Tt.jsx)("span",{className:"slider"})]})]}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"font-bold",children:"\u062a\u0633\u062c\u064a\u0644 \u062f\u062e\u0648\u0644 \u0645\u062a\u0639\u062f\u062f"}),(0,Tt.jsx)("div",{className:"text-sm text-gray-400",children:"\u0627\u0644\u0633\u0645\u0627\u062d \u0628\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0645\u0646 \u0623\u062c\u0647\u0632\u0629 \u0645\u062a\u0639\u062f\u062f\u0629"})]}),(0,Tt.jsxs)("label",{className:"switch",children:[(0,Tt.jsx)("input",{type:"checkbox",checked:e.allowMultipleLogins,onChange:s=>t(d(d({},e),{},{allowMultipleLogins:s.target.checked}))}),(0,Tt.jsx)("span",{className:"slider"})]})]}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"font-bold",children:"\u0627\u0644\u0645\u0635\u0627\u062f\u0642\u0629 \u0627\u0644\u062b\u0646\u0627\u0626\u064a\u0629"}),(0,Tt.jsx)("div",{className:"text-sm text-gray-400",children:"\u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u0645\u0635\u0627\u062f\u0642\u0629 \u0627\u0644\u062b\u0646\u0627\u0626\u064a\u0629 \u0644\u0644\u0623\u0645\u0627\u0646"})]}),(0,Tt.jsxs)("label",{className:"switch",children:[(0,Tt.jsx)("input",{type:"checkbox",checked:e.enableTwoFactor,onChange:s=>t(d(d({},e),{},{enableTwoFactor:s.target.checked}))}),(0,Tt.jsx)("span",{className:"slider"})]})]})]})]}),(0,Tt.jsxs)("div",{className:"card-glass p-6",children:[(0,Tt.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u062d\u062f\u0648\u062f \u0627\u0644\u0623\u062f\u0648\u0627\u0631"}),(0,Tt.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:Object.entries(e.maxUsersPerRole).map((s=>{let[a,n]=s;return(0,Tt.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,Tt.jsx)("label",{className:"font-bold block mb-2",children:a.replace("_"," ")}),(0,Tt.jsx)("input",{type:"number",value:n,onChange:s=>t(d(d({},e),{},{maxUsersPerRole:d(d({},e.maxUsersPerRole),{},{[a]:parseInt(s.target.value)})})),className:"w-full p-2 border rounded-lg glass-effect",min:"1"})]},a)}))})]}),(0,Tt.jsxs)("div",{className:"card-glass p-6",children:[(0,Tt.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u062c\u0644\u0633\u0629"}),(0,Tt.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"font-bold block mb-2",children:"\u0645\u0647\u0644\u0629 \u0627\u0644\u062c\u0644\u0633\u0629 (\u0633\u0627\u0639\u0627\u062a)"}),(0,Tt.jsx)("input",{type:"number",value:e.userSessionTimeout,onChange:s=>t(d(d({},e),{},{userSessionTimeout:parseInt(s.target.value)})),className:"w-full p-2 border rounded-lg glass-effect",min:"1",max:"168"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"font-bold block mb-2",children:"\u0627\u0646\u062a\u0647\u0627\u0621 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 (\u0623\u064a\u0627\u0645)"}),(0,Tt.jsx)("input",{type:"number",value:e.passwordExpiry,onChange:s=>t(d(d({},e),{},{passwordExpiry:parseInt(s.target.value)})),className:"w-full p-2 border rounded-lg glass-effect",min:"30",max:"365"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"font-bold block mb-2",children:"\u0627\u0644\u062f\u0648\u0631 \u0627\u0644\u0627\u0641\u062a\u0631\u0627\u0636\u064a"}),(0,Tt.jsxs)("select",{value:e.defaultUserRole,onChange:s=>t(d(d({},e),{},{defaultUserRole:s.target.value})),className:"w-full p-2 border rounded-lg glass-effect",children:[(0,Tt.jsx)("option",{value:"medical_rep",children:"\u0645\u0646\u062f\u0648\u0628 \u0637\u0628\u064a"}),(0,Tt.jsx)("option",{value:"key_account",children:"\u062d\u0633\u0627\u0628 \u0631\u0626\u064a\u0633\u064a"}),(0,Tt.jsx)("option",{value:"district_manager",children:"\u0645\u062f\u064a\u0631 \u0645\u0642\u0627\u0637\u0639\u0629"})]})]})]})]}),(0,Tt.jsx)("button",{onClick:()=>(async e=>{try{const s=localStorage.getItem("access_token");await Pt.post("".concat(Dt,"/admin/settings/user-management"),e,{headers:{Authorization:"Bearer ".concat(s)}}),t(e),alert("\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646")}catch(s){console.error("Error updating user settings:",s),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a")}})(e),className:"w-full btn-modern bg-gradient-to-r from-green-500 to-blue-600 text-white py-3 rounded-lg",children:"\ud83d\udcbe \u062d\u0641\u0638 \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"})]})},Ys=()=>{const[e,t]=(0,n.useState)({enableGPSTracking:!0,trackingInterval:30,geofenceRadius:100,enableGeofencing:!0,enableRouteOptimization:!0,maxLocationHistory:30,enableOfflineMode:!0,accuracyThreshold:10,batteryOptimization:!0,enableLocationSharing:!0});return(0,Tt.jsxs)("div",{className:"space-y-8",children:[(0,Tt.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0646\u0638\u0627\u0645 GPS"}),(0,Tt.jsxs)("div",{className:"card-glass p-6",children:[(0,Tt.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0623\u0633\u0627\u0633\u064a\u0629"}),(0,Tt.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"font-bold",children:"\u062a\u0641\u0639\u064a\u0644 \u062a\u062a\u0628\u0639 GPS"}),(0,Tt.jsx)("div",{className:"text-sm text-gray-400",children:"\u0627\u0644\u0633\u0645\u0627\u062d \u0628\u062a\u062a\u0628\u0639 \u0645\u0648\u0627\u0642\u0639 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"})]}),(0,Tt.jsxs)("label",{className:"switch",children:[(0,Tt.jsx)("input",{type:"checkbox",checked:e.enableGPSTracking,onChange:s=>t(d(d({},e),{},{enableGPSTracking:s.target.checked}))}),(0,Tt.jsx)("span",{className:"slider"})]})]}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"font-bold",children:"\u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u0633\u064a\u0627\u062c \u0627\u0644\u062c\u063a\u0631\u0627\u0641\u064a"}),(0,Tt.jsx)("div",{className:"text-sm text-gray-400",children:"\u0625\u0631\u0633\u0627\u0644 \u062a\u0646\u0628\u064a\u0647\u0627\u062a \u0639\u0646\u062f \u062f\u062e\u0648\u0644/\u062e\u0631\u0648\u062c \u0627\u0644\u0645\u0646\u0627\u0637\u0642"})]}),(0,Tt.jsxs)("label",{className:"switch",children:[(0,Tt.jsx)("input",{type:"checkbox",checked:e.enableGeofencing,onChange:s=>t(d(d({},e),{},{enableGeofencing:s.target.checked}))}),(0,Tt.jsx)("span",{className:"slider"})]})]}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"font-bold",children:"\u062a\u062d\u0633\u064a\u0646 \u0627\u0644\u0645\u0633\u0627\u0631\u0627\u062a"}),(0,Tt.jsx)("div",{className:"text-sm text-gray-400",children:"\u062a\u062d\u0633\u064a\u0646 \u0627\u0644\u0645\u0633\u0627\u0631\u0627\u062a \u062a\u0644\u0642\u0627\u0626\u064a\u0627\u064b"})]}),(0,Tt.jsxs)("label",{className:"switch",children:[(0,Tt.jsx)("input",{type:"checkbox",checked:e.enableRouteOptimization,onChange:s=>t(d(d({},e),{},{enableRouteOptimization:s.target.checked}))}),(0,Tt.jsx)("span",{className:"slider"})]})]}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"font-bold",children:"\u0627\u0644\u0648\u0636\u0639 \u063a\u064a\u0631 \u0627\u0644\u0645\u062a\u0635\u0644"}),(0,Tt.jsx)("div",{className:"text-sm text-gray-400",children:"\u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0645\u062d\u0644\u064a\u0627\u064b \u0639\u0646\u062f \u0627\u0646\u0642\u0637\u0627\u0639 \u0627\u0644\u0625\u0646\u062a\u0631\u0646\u062a"})]}),(0,Tt.jsxs)("label",{className:"switch",children:[(0,Tt.jsx)("input",{type:"checkbox",checked:e.enableOfflineMode,onChange:s=>t(d(d({},e),{},{enableOfflineMode:s.target.checked}))}),(0,Tt.jsx)("span",{className:"slider"})]})]})]})]}),(0,Tt.jsxs)("div",{className:"card-glass p-6",children:[(0,Tt.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0645\u062a\u0642\u062f\u0645\u0629"}),(0,Tt.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"font-bold block mb-2",children:"\u0641\u062a\u0631\u0629 \u0627\u0644\u062a\u062a\u0628\u0639 (\u062b\u0627\u0646\u064a\u0629)"}),(0,Tt.jsx)("input",{type:"number",value:e.trackingInterval,onChange:s=>t(d(d({},e),{},{trackingInterval:parseInt(s.target.value)})),className:"w-full p-2 border rounded-lg glass-effect",min:"10",max:"300"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"font-bold block mb-2",children:"\u0646\u0637\u0627\u0642 \u0627\u0644\u0633\u064a\u0627\u062c (\u0645\u062a\u0631)"}),(0,Tt.jsx)("input",{type:"number",value:e.geofenceRadius,onChange:s=>t(d(d({},e),{},{geofenceRadius:parseInt(s.target.value)})),className:"w-full p-2 border rounded-lg glass-effect",min:"50",max:"1000"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"font-bold block mb-2",children:"\u062d\u0641\u0638 \u0627\u0644\u0645\u0648\u0627\u0642\u0639 (\u0623\u064a\u0627\u0645)"}),(0,Tt.jsx)("input",{type:"number",value:e.maxLocationHistory,onChange:s=>t(d(d({},e),{},{maxLocationHistory:parseInt(s.target.value)})),className:"w-full p-2 border rounded-lg glass-effect",min:"7",max:"365"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"font-bold block mb-2",children:"\u062f\u0642\u0629 \u0627\u0644\u0645\u0648\u0642\u0639 (\u0645\u062a\u0631)"}),(0,Tt.jsx)("input",{type:"number",value:e.accuracyThreshold,onChange:s=>t(d(d({},e),{},{accuracyThreshold:parseInt(s.target.value)})),className:"w-full p-2 border rounded-lg glass-effect",min:"5",max:"100"})]})]})]}),(0,Tt.jsx)("button",{onClick:()=>(async e=>{try{const s=localStorage.getItem("access_token");await Pt.post("".concat(Dt,"/admin/settings/gps"),e,{headers:{Authorization:"Bearer ".concat(s)}}),t(e),alert("\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0625\u0639\u062f\u0627\u062f\u0627\u062a GPS")}catch(s){console.error("Error updating GPS settings:",s),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u062f\u064a\u062b \u0625\u0639\u062f\u0627\u062f\u0627\u062a GPS")}})(e),className:"w-full btn-modern bg-gradient-to-r from-green-500 to-blue-600 text-white py-3 rounded-lg",children:"\ud83d\uddfa\ufe0f \u062d\u0641\u0638 \u0625\u0639\u062f\u0627\u062f\u0627\u062a GPS"})]})},Js=()=>{const[e,t]=(0,n.useState)({availableThemes:["dark","light","modern","fancy","cyber","sunset","ocean","forest","minimal"],defaultTheme:"dark",allowUserThemeChange:!0,customPrimaryColor:"#3b82f6",customSecondaryColor:"#8b5cf6",enableCustomColors:!1,companyLogo:"",companyName:"EP Group System",enableAnimations:!0,enableGlassEffects:!0});return(0,Tt.jsxs)("div",{className:"space-y-8",children:[(0,Tt.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u062b\u064a\u0645\u0627\u062a \u0648\u0627\u0644\u0623\u0644\u0648\u0627\u0646"}),(0,Tt.jsxs)("div",{className:"card-glass p-6",children:[(0,Tt.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0627\u0644\u062b\u064a\u0645\u0627\u062a \u0627\u0644\u0645\u062a\u0627\u062d\u0629"}),(0,Tt.jsx)("div",{className:"grid gap-4 md:grid-cols-3 lg:grid-cols-4",children:e.availableThemes.map((s=>(0,Tt.jsxs)("div",{className:"p-4 border rounded-lg text-center",children:[(0,Tt.jsx)("div",{className:"w-16 h-16 rounded-full mx-auto mb-2 theme-preview theme-".concat(s)}),(0,Tt.jsx)("div",{className:"font-bold",children:s}),(0,Tt.jsxs)("label",{className:"flex items-center justify-center mt-2",children:[(0,Tt.jsx)("input",{type:"radio",name:"defaultTheme",checked:e.defaultTheme===s,onChange:()=>t(d(d({},e),{},{defaultTheme:s})),className:"mr-2"}),"\u0627\u0641\u062a\u0631\u0627\u0636\u064a"]})]},s)))})]}),(0,Tt.jsxs)("div",{className:"card-glass p-6",children:[(0,Tt.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0634\u0631\u0643\u0629"}),(0,Tt.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"font-bold block mb-2",children:"\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629"}),(0,Tt.jsx)("input",{type:"text",value:e.companyName,onChange:s=>t(d(d({},e),{},{companyName:s.target.value})),className:"w-full p-2 border rounded-lg glass-effect"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"font-bold block mb-2",children:"\u0634\u0639\u0627\u0631 \u0627\u0644\u0634\u0631\u0643\u0629"}),(0,Tt.jsx)("input",{type:"file",accept:"image/*",onChange:s=>{const a=s.target.files[0];if(a){const s=new FileReader;s.onload=s=>t(d(d({},e),{},{companyLogo:s.target.result})),s.readAsDataURL(a)}},className:"w-full p-2 border rounded-lg glass-effect"})]})]})]}),(0,Tt.jsxs)("div",{className:"card-glass p-6",children:[(0,Tt.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0627\u0644\u0623\u0644\u0648\u0627\u0646 \u0627\u0644\u0645\u062e\u0635\u0635\u0629"}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tt.jsx)("span",{children:"\u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u0623\u0644\u0648\u0627\u0646 \u0627\u0644\u0645\u062e\u0635\u0635\u0629"}),(0,Tt.jsxs)("label",{className:"switch",children:[(0,Tt.jsx)("input",{type:"checkbox",checked:e.enableCustomColors,onChange:s=>t(d(d({},e),{},{enableCustomColors:s.target.checked}))}),(0,Tt.jsx)("span",{className:"slider"})]})]}),e.enableCustomColors&&(0,Tt.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"font-bold block mb-2",children:"\u0627\u0644\u0644\u0648\u0646 \u0627\u0644\u0623\u0633\u0627\u0633\u064a"}),(0,Tt.jsx)("input",{type:"color",value:e.customPrimaryColor,onChange:s=>t(d(d({},e),{},{customPrimaryColor:s.target.value})),className:"w-full h-12 border rounded-lg"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"font-bold block mb-2",children:"\u0627\u0644\u0644\u0648\u0646 \u0627\u0644\u062b\u0627\u0646\u0648\u064a"}),(0,Tt.jsx)("input",{type:"color",value:e.customSecondaryColor,onChange:s=>t(d(d({},e),{},{customSecondaryColor:s.target.value})),className:"w-full h-12 border rounded-lg"})]})]})]}),(0,Tt.jsx)("button",{onClick:()=>(async e=>{try{const s=localStorage.getItem("access_token");await Pt.post("".concat(Dt,"/admin/settings/theme"),e,{headers:{Authorization:"Bearer ".concat(s)}}),t(e),alert("\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u062b\u064a\u0645\u0627\u062a")}catch(s){console.error("Error updating theme settings:",s),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u062f\u064a\u062b \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u062b\u064a\u0645\u0627\u062a")}})(e),className:"w-full btn-modern bg-gradient-to-r from-green-500 to-blue-600 text-white py-3 rounded-lg",children:"\ud83c\udfa8 \u062d\u0641\u0638 \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u062b\u064a\u0645\u0627\u062a"})]})},Zs=()=>{const[e,t]=(0,n.useState)({}),[s,a]=(0,n.useState)(!0);return(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0623\u062f\u0648\u0627\u0631 \u0648\u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a"}),(0,Tt.jsxs)("div",{className:"card-glass p-6",children:[(0,Tt.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0635\u0644\u0627\u062d\u064a\u0627\u062a \u0627\u0644\u0623\u062f\u0648\u0627\u0631"}),(0,Tt.jsx)("div",{className:"overflow-x-auto",children:(0,Tt.jsxs)("table",{className:"w-full text-sm",children:[(0,Tt.jsx)("thead",{children:(0,Tt.jsxs)("tr",{className:"border-b",children:[(0,Tt.jsx)("th",{className:"text-right p-4",children:"\u0627\u0644\u062f\u0648\u0631"}),(0,Tt.jsx)("th",{className:"text-center p-4",children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"}),(0,Tt.jsx)("th",{className:"text-center p-4",children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0646\u0627\u0637\u0642"}),(0,Tt.jsx)("th",{className:"text-center p-4",children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"}),(0,Tt.jsx)("th",{className:"text-center p-4",children:"\u0646\u0638\u0627\u0645 GPS"}),(0,Tt.jsx)("th",{className:"text-center p-4",children:"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631"}),(0,Tt.jsx)("th",{className:"text-center p-4",children:"\u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629"})]})}),(0,Tt.jsx)("tbody",{children:["gm","admin","line_manager","area_manager","district_manager","key_account","medical_rep"].map((e=>(0,Tt.jsxs)("tr",{className:"border-b",children:[(0,Tt.jsx)("td",{className:"p-4 font-bold",children:e}),(0,Tt.jsx)("td",{className:"text-center p-4",children:(0,Tt.jsx)("input",{type:"checkbox",defaultChecked:["gm","admin","line_manager"].includes(e)})}),(0,Tt.jsx)("td",{className:"text-center p-4",children:(0,Tt.jsx)("input",{type:"checkbox",defaultChecked:["gm","admin","line_manager","area_manager"].includes(e)})}),(0,Tt.jsx)("td",{className:"text-center p-4",children:(0,Tt.jsx)("input",{type:"checkbox",defaultChecked:["gm","admin"].includes(e)})}),(0,Tt.jsx)("td",{className:"text-center p-4",children:(0,Tt.jsx)("input",{type:"checkbox",defaultChecked:!0})}),(0,Tt.jsx)("td",{className:"text-center p-4",children:(0,Tt.jsx)("input",{type:"checkbox",defaultChecked:!["medical_rep"].includes(e)})}),(0,Tt.jsx)("td",{className:"text-center p-4",children:(0,Tt.jsx)("input",{type:"checkbox",defaultChecked:["gm","admin","accounting"].includes(e)})})]},e)))})]})})]})]})},ea=()=>{const[e,t]=(0,n.useState)({enableNotifications:!0,enableEmailNotifications:!0,enableSMSNotifications:!1,enablePushNotifications:!0,notificationTypes:{visit_approved:!0,visit_rejected:!0,new_order:!0,user_registered:!0,gps_alert:!0,system_maintenance:!0},retentionDays:30,maxNotificationsPerDay:50});return(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0646\u0638\u0627\u0645 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a"}),(0,Tt.jsxs)("div",{className:"card-glass p-6",children:[(0,Tt.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0639\u0627\u0645\u0629"}),(0,Tt.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:Object.entries({enableNotifications:"\u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a",enableEmailNotifications:"\u0625\u0634\u0639\u0627\u0631\u0627\u062a \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",enableSMSNotifications:"\u0625\u0634\u0639\u0627\u0631\u0627\u062a \u0627\u0644\u0631\u0633\u0627\u0626\u0644 \u0627\u0644\u0646\u0635\u064a\u0629",enablePushNotifications:"\u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a \u0627\u0644\u0645\u0646\u0628\u062b\u0642\u0629"}).map((s=>{let[a,n]=s;return(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,Tt.jsx)("span",{children:n}),(0,Tt.jsxs)("label",{className:"switch",children:[(0,Tt.jsx)("input",{type:"checkbox",checked:e[a],onChange:s=>t(d(d({},e),{},{[a]:s.target.checked}))}),(0,Tt.jsx)("span",{className:"slider"})]})]},a)}))})]}),(0,Tt.jsxs)("div",{className:"card-glass p-6",children:[(0,Tt.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a"}),(0,Tt.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:Object.entries(e.notificationTypes).map((s=>{let[a,n]=s;return(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,Tt.jsx)("span",{children:a.replace("_"," ")}),(0,Tt.jsxs)("label",{className:"switch",children:[(0,Tt.jsx)("input",{type:"checkbox",checked:n,onChange:s=>t(d(d({},e),{},{notificationTypes:d(d({},e.notificationTypes),{},{[a]:s.target.checked})}))}),(0,Tt.jsx)("span",{className:"slider"})]})]},a)}))})]})]})},ta=()=>{const[e,t]=(0,n.useState)({defaultLanguage:"ar",enableLanguageSwitching:!0,availableLanguages:["ar","en"],rtlSupport:!0,autoDetectLanguage:!1,translateUserContent:!1});return(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0644\u063a\u0629"}),(0,Tt.jsxs)("div",{className:"card-glass p-6",children:[(0,Tt.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0623\u0633\u0627\u0633\u064a\u0629"}),(0,Tt.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block font-bold mb-2",children:"\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0627\u0641\u062a\u0631\u0627\u0636\u064a\u0629"}),(0,Tt.jsxs)("select",{value:e.defaultLanguage,onChange:s=>t(d(d({},e),{},{defaultLanguage:s.target.value})),className:"w-full p-3 border rounded-lg glass-effect",children:[(0,Tt.jsx)("option",{value:"ar",children:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629"}),(0,Tt.jsx)("option",{value:"en",children:"English"})]})]}),(0,Tt.jsx)("div",{className:"space-y-4",children:[["enableLanguageSwitching","\u0627\u0644\u0633\u0645\u0627\u062d \u0628\u062a\u0628\u062f\u064a\u0644 \u0627\u0644\u0644\u063a\u0629"],["rtlSupport","\u062f\u0639\u0645 \u0627\u0644\u0644\u063a\u0627\u062a \u0645\u0646 \u0627\u0644\u064a\u0645\u064a\u0646 \u0644\u0644\u064a\u0633\u0627\u0631"],["autoDetectLanguage","\u0627\u0643\u062a\u0634\u0627\u0641 \u0627\u0644\u0644\u063a\u0629 \u062a\u0644\u0642\u0627\u0626\u064a\u0627\u064b"],["translateUserContent","\u062a\u0631\u062c\u0645\u0629 \u0645\u062d\u062a\u0648\u0649 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"]].map((s=>{let[a,n]=s;return(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,Tt.jsx)("span",{children:n}),(0,Tt.jsxs)("label",{className:"switch",children:[(0,Tt.jsx)("input",{type:"checkbox",checked:e[a],onChange:s=>t(d(d({},e),{},{[a]:s.target.checked}))}),(0,Tt.jsx)("span",{className:"slider"})]})]},a)}))})]})]})]})},sa=()=>{const[e,t]=(0,n.useState)({passwordMinLength:8,requireSpecialChars:!0,requireNumbers:!0,requireUppercase:!0,sessionTimeout:24,maxLoginAttempts:5,enableTwoFactor:!1,enableIPWhitelist:!1,allowedIPs:[],enableAuditLog:!0,logRetentionDays:90});return(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0623\u0645\u0627\u0646"}),(0,Tt.jsxs)("div",{className:"card-glass p-6",children:[(0,Tt.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0633\u064a\u0627\u0633\u0629 \u0643\u0644\u0645\u0627\u062a \u0627\u0644\u0645\u0631\u0648\u0631"}),(0,Tt.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block font-bold mb-2",children:"\u0627\u0644\u062d\u062f \u0627\u0644\u0623\u062f\u0646\u0649 \u0644\u0637\u0648\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"}),(0,Tt.jsx)("input",{type:"number",value:e.passwordMinLength,onChange:s=>t(d(d({},e),{},{passwordMinLength:parseInt(s.target.value)})),className:"w-full p-3 border rounded-lg glass-effect",min:"6",max:"32"})]}),(0,Tt.jsx)("div",{className:"space-y-3",children:[["requireSpecialChars","\u0631\u0645\u0648\u0632 \u062e\u0627\u0635\u0629 \u0645\u0637\u0644\u0648\u0628\u0629"],["requireNumbers","\u0623\u0631\u0642\u0627\u0645 \u0645\u0637\u0644\u0648\u0628\u0629"],["requireUppercase","\u0623\u062d\u0631\u0641 \u0643\u0628\u064a\u0631\u0629 \u0645\u0637\u0644\u0648\u0628\u0629"]].map((s=>{let[a,n]=s;return(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,Tt.jsx)("span",{children:n}),(0,Tt.jsxs)("label",{className:"switch",children:[(0,Tt.jsx)("input",{type:"checkbox",checked:e[a],onChange:s=>t(d(d({},e),{},{[a]:s.target.checked}))}),(0,Tt.jsx)("span",{className:"slider"})]})]},a)}))})]})]}),(0,Tt.jsxs)("div",{className:"card-glass p-6",children:[(0,Tt.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u062c\u0644\u0633\u0629 \u0648\u0627\u0644\u062f\u062e\u0648\u0644"}),(0,Tt.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block font-bold mb-2",children:"\u0645\u0647\u0644\u0629 \u0627\u0644\u062c\u0644\u0633\u0629 (\u0633\u0627\u0639\u0627\u062a)"}),(0,Tt.jsx)("input",{type:"number",value:e.sessionTimeout,onChange:s=>t(d(d({},e),{},{sessionTimeout:parseInt(s.target.value)})),className:"w-full p-3 border rounded-lg glass-effect",min:"1",max:"168"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block font-bold mb-2",children:"\u0645\u062d\u0627\u0648\u0644\u0627\u062a \u0627\u0644\u062f\u062e\u0648\u0644 \u0627\u0644\u0642\u0635\u0648\u0649"}),(0,Tt.jsx)("input",{type:"number",value:e.maxLoginAttempts,onChange:s=>t(d(d({},e),{},{maxLoginAttempts:parseInt(s.target.value)})),className:"w-full p-3 border rounded-lg glass-effect",min:"3",max:"10"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block font-bold mb-2",children:"\u062d\u0641\u0638 \u0627\u0644\u0633\u062c\u0644\u0627\u062a (\u0623\u064a\u0627\u0645)"}),(0,Tt.jsx)("input",{type:"number",value:e.logRetentionDays,onChange:s=>t(d(d({},e),{},{logRetentionDays:parseInt(s.target.value)})),className:"w-full p-3 border rounded-lg glass-effect",min:"30",max:"365"})]})]})]})]})},aa=()=>{const[e,t]=(0,n.useState)({}),[s,a]=(0,n.useState)(!0);(0,n.useEffect)((()=>{l()}),[]);const l=async()=>{try{const e=localStorage.getItem("access_token"),s=await Pt.get("".concat(Dt,"/admin/features/status"),{headers:{Authorization:"Bearer ".concat(e)}});t(s.data)}catch(e){console.error("Error fetching features:",e)}finally{a(!1)}};if(s)return(0,Tt.jsxs)("div",{className:"text-center py-8",children:[(0,Tt.jsx)("div",{className:"loading-spinner-enhanced mx-auto mb-4"}),(0,Tt.jsx)("p",{children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u0645\u064a\u0632\u0627\u062a..."})]});const r={gps_tracking:"\u0646\u0638\u0627\u0645 \u062a\u062a\u0628\u0639 GPS",gamification:"\u0646\u0638\u0627\u0645 \u0627\u0644\u0623\u0644\u0639\u0627\u0628",visit_management:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a",accounting_system:"\u0646\u0638\u0627\u0645 \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629",notifications:"\u0646\u0638\u0627\u0645 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a",analytics:"\u0627\u0644\u062a\u062d\u0644\u064a\u0644\u0627\u062a \u0627\u0644\u0645\u062a\u0642\u062f\u0645\u0629",user_registration:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",theme_switching:"\u062a\u0628\u062f\u064a\u0644 \u0627\u0644\u062b\u064a\u0645\u0627\u062a",language_switching:"\u062a\u0628\u062f\u064a\u0644 \u0627\u0644\u0644\u063a\u0627\u062a"};return(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u062a\u062d\u0643\u0645 \u0641\u064a \u0645\u0645\u064a\u0632\u0627\u062a \u0627\u0644\u0646\u0638\u0627\u0645"}),(0,Tt.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:Object.entries(e).map((s=>{let[a,n]=s;return(0,Tt.jsxs)("div",{className:"card-glass p-6",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tt.jsx)("h4",{className:"font-bold",children:r[a]||a}),(0,Tt.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(n?"bg-green-500":"bg-red-500")})]}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsx)("span",{className:"text-sm text-gray-400",children:n?"\u0645\u0641\u0639\u0644":"\u0645\u0639\u0637\u0644"}),(0,Tt.jsxs)("label",{className:"switch",children:[(0,Tt.jsx)("input",{type:"checkbox",checked:n,onChange:s=>(async(s,a)=>{try{const n=localStorage.getItem("access_token");await Pt.post("".concat(Dt,"/admin/features/toggle"),{feature_name:s,enabled:a},{headers:{Authorization:"Bearer ".concat(n)}}),t(d(d({},e),{},{[s]:a})),alert("\u062a\u0645 ".concat(a?"\u062a\u0641\u0639\u064a\u0644":"\u0625\u0644\u063a\u0627\u0621"," \u0645\u064a\u0632\u0629 ").concat(s))}catch(n){console.error("Error toggling feature:",n),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u063a\u064a\u064a\u0631 \u062d\u0627\u0644\u0629 \u0627\u0644\u0645\u064a\u0632\u0629")}})(a,s.target.checked)}),(0,Tt.jsx)("span",{className:"slider"})]})]})]},a)}))})]})},na=()=>{const[e,t]=(0,n.useState)({google_maps_api_key:"",enable_geocoding:!0,enable_directions:!0,enable_places:!0,default_map_center:{lat:30.0444,lng:31.2357},default_zoom_level:10,map_style:"roadmap",enable_traffic_layer:!1,enable_satellite_view:!0,enable_street_view:!0,marker_clustering:!0,enable_drawing_tools:!1,enable_heatmaps:!1,restrict_to_country:"EG",language:"ar",region:"EG",libraries:["places","geometry","drawing"],google_analytics_id:"",enable_google_drive_backup:!1,google_drive_credentials:""}),[s,a]=(0,n.useState)({status:"",message:""}),[l,r]=(0,n.useState)({}),[i,c]=(0,n.useState)(!1);(0,n.useEffect)((()=>{o(),u()}),[]);const o=async()=>{try{const s=localStorage.getItem("access_token"),a=await Pt.get("".concat(Dt,"/admin/settings/google-maps"),{headers:{Authorization:"Bearer ".concat(s)}});t(d(d({},e),a.data))}catch(s){console.error("Error fetching Google Maps settings:",s)}},u=async()=>{try{const e=localStorage.getItem("access_token"),t=await Pt.get("".concat(Dt,"/admin/google-services-status"),{headers:{Authorization:"Bearer ".concat(e)}});r(t.data)}catch(e){console.error("Error fetching services status:",e)}};return(0,Tt.jsxs)("div",{className:"space-y-8",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("h3",{className:"text-2xl font-bold text-gradient flex items-center gap-3",children:[(0,Tt.jsx)(Wt,{name:"maps",size:32}),"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u062e\u0631\u0627\u0626\u0637 \u062c\u0648\u062c\u0644 \u0648\u0627\u0644\u062e\u062f\u0645\u0627\u062a"]}),(0,Tt.jsxs)("div",{className:"flex gap-2",children:[(0,Tt.jsx)("button",{onClick:async()=>{c(!0);try{const t=localStorage.getItem("access_token"),s=await Pt.post("".concat(Dt,"/admin/test-google-maps-api"),{api_key:e.google_maps_api_key},{headers:{Authorization:"Bearer ".concat(t)}});a(s.data)}catch(t){a({status:"error",message:"Test failed"})}finally{c(!1)}},disabled:i||!e.google_maps_api_key,className:"btn-modern bg-blue-500 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:i?"\u23f3 \u062c\u0627\u0631\u064a \u0627\u0644\u0627\u062e\u062a\u0628\u0627\u0631...":"\ud83e\uddea \u0627\u062e\u062a\u0628\u0627\u0631 \u0627\u0644\u0645\u0641\u062a\u0627\u062d"}),(0,Tt.jsx)("button",{onClick:async()=>{try{const t=localStorage.getItem("access_token");await Pt.post("".concat(Dt,"/admin/settings/google-maps"),e,{headers:{Authorization:"Bearer ".concat(t)}}),alert("\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u062e\u0631\u0627\u0626\u0637 \u062c\u0648\u062c\u0644 \u0628\u0646\u062c\u0627\u062d"),u()}catch(t){console.error("Error updating settings:",t),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a")}},className:"btn-modern bg-green-500 text-white px-6 py-2 rounded-lg",children:"\ud83d\udcbe \u062d\u0641\u0638 \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a"})]})]}),s.message&&(0,Tt.jsx)("div",{className:"p-4 rounded-lg border ".concat("success"===s.status?"bg-green-500/20 border-green-500":"bg-red-500/20 border-red-500"),children:(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)(Wt,{name:"success"===s.status?"success":"error",size:20}),(0,Tt.jsx)("span",{children:s.message})]})}),(0,Tt.jsx)("div",{className:"grid gap-4 md:grid-cols-3",children:Object.entries(l).map((e=>{let[t,s]=e;return(0,Tt.jsxs)("div",{className:"card-glass p-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Tt.jsx)("h4",{className:"font-bold capitalize",children:t.replace("_"," ")}),(0,Tt.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(s.enabled?"bg-green-500":"bg-red-500")})]}),(0,Tt.jsx)("div",{className:"text-sm space-y-1",children:Object.entries(s).map((e=>{let[t,s]=e;return(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-gray-400",children:t.replace("_"," ")}),(0,Tt.jsx)("span",{className:s?"text-green-400":"text-red-400",children:s?"\u2713":"\u2717"})]},t)}))})]},t)}))}),(0,Tt.jsxs)("div",{className:"card-glass p-6",children:[(0,Tt.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(Wt,{name:"maps",size:24}),"\u0625\u0639\u062f\u0627\u062f\u0627\u062a Google Maps API"]}),(0,Tt.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,Tt.jsxs)("div",{className:"md:col-span-2",children:[(0,Tt.jsx)("label",{className:"block font-bold mb-2",children:"Google Maps API Key *"}),(0,Tt.jsxs)("div",{className:"flex gap-2",children:[(0,Tt.jsx)("input",{type:"password",value:e.google_maps_api_key,onChange:s=>t(d(d({},e),{},{google_maps_api_key:s.target.value})),className:"flex-1 p-3 border rounded-lg glass-effect",placeholder:"AIzaSy... \u0623\u062f\u062e\u0644 \u0645\u0641\u062a\u0627\u062d API"}),(0,Tt.jsx)("button",{onClick:()=>window.open("https://console.cloud.google.com/apis/credentials","_blank"),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",title:"\u0641\u062a\u062d Google Cloud Console",children:"\ud83d\udd17"})]}),(0,Tt.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"\u0627\u062d\u0635\u0644 \u0639\u0644\u0649 \u0645\u0641\u062a\u0627\u062d API \u0645\u0646 Google Cloud Console \u0648\u0641\u0639\u0651\u0644 APIs: Maps JavaScript, Geocoding, Directions, Places"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block font-bold mb-2",children:"\u0627\u0644\u0645\u0631\u0643\u0632 \u0627\u0644\u0627\u0641\u062a\u0631\u0627\u0636\u064a \u0644\u0644\u062e\u0631\u064a\u0637\u0629"}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Tt.jsx)("input",{type:"number",step:"0.000001",value:e.default_map_center.lat,onChange:s=>t(d(d({},e),{},{default_map_center:d(d({},e.default_map_center),{},{lat:parseFloat(s.target.value)})})),className:"p-3 border rounded-lg glass-effect",placeholder:"\u062e\u0637 \u0627\u0644\u0639\u0631\u0636"}),(0,Tt.jsx)("input",{type:"number",step:"0.000001",value:e.default_map_center.lng,onChange:s=>t(d(d({},e),{},{default_map_center:d(d({},e.default_map_center),{},{lng:parseFloat(s.target.value)})})),className:"p-3 border rounded-lg glass-effect",placeholder:"\u062e\u0637 \u0627\u0644\u0637\u0648\u0644"})]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block font-bold mb-2",children:"\u0645\u0633\u062a\u0648\u0649 \u0627\u0644\u062a\u0643\u0628\u064a\u0631 \u0627\u0644\u0627\u0641\u062a\u0631\u0627\u0636\u064a"}),(0,Tt.jsx)("input",{type:"range",min:"1",max:"20",value:e.default_zoom_level,onChange:s=>t(d(d({},e),{},{default_zoom_level:parseInt(s.target.value)})),className:"w-full"}),(0,Tt.jsxs)("div",{className:"text-center text-sm text-gray-400",children:["\u0627\u0644\u0645\u0633\u062a\u0648\u0649: ",e.default_zoom_level]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block font-bold mb-2",children:"\u0646\u0648\u0639 \u0627\u0644\u062e\u0631\u064a\u0637\u0629"}),(0,Tt.jsxs)("select",{value:e.map_style,onChange:s=>t(d(d({},e),{},{map_style:s.target.value})),className:"w-full p-3 border rounded-lg glass-effect",children:[(0,Tt.jsx)("option",{value:"roadmap",children:"\u062e\u0631\u064a\u0637\u0629 \u0639\u0627\u062f\u064a\u0629"}),(0,Tt.jsx)("option",{value:"satellite",children:"\u0635\u0648\u0631 \u062c\u0648\u064a\u0629"}),(0,Tt.jsx)("option",{value:"hybrid",children:"\u0645\u062e\u062a\u0644\u0637\u0629"}),(0,Tt.jsx)("option",{value:"terrain",children:"\u062a\u0636\u0627\u0631\u064a\u0633"})]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block font-bold mb-2",children:"\u062a\u0642\u064a\u064a\u062f \u0627\u0644\u0628\u0644\u062f"}),(0,Tt.jsxs)("select",{value:e.restrict_to_country,onChange:s=>t(d(d({},e),{},{restrict_to_country:s.target.value})),className:"w-full p-3 border rounded-lg glass-effect",children:[(0,Tt.jsx)("option",{value:"",children:"\u0628\u062f\u0648\u0646 \u062a\u0642\u064a\u064a\u062f"}),(0,Tt.jsx)("option",{value:"EG",children:"\u0645\u0635\u0631"}),(0,Tt.jsx)("option",{value:"SA",children:"\u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629"}),(0,Tt.jsx)("option",{value:"AE",children:"\u0627\u0644\u0625\u0645\u0627\u0631\u0627\u062a"}),(0,Tt.jsx)("option",{value:"KW",children:"\u0627\u0644\u0643\u0648\u064a\u062a"}),(0,Tt.jsx)("option",{value:"QA",children:"\u0642\u0637\u0631"}),(0,Tt.jsx)("option",{value:"BH",children:"\u0627\u0644\u0628\u062d\u0631\u064a\u0646"}),(0,Tt.jsx)("option",{value:"OM",children:"\u0639\u0645\u0627\u0646"})]})]})]}),(0,Tt.jsxs)("div",{className:"mt-6",children:[(0,Tt.jsx)("h5",{className:"font-bold mb-4",children:"\u0627\u0644\u0645\u0645\u064a\u0632\u0627\u062a \u0627\u0644\u0645\u062a\u0627\u062d\u0629"}),(0,Tt.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[["enable_geocoding","\u062a\u062d\u0648\u064a\u0644 \u0627\u0644\u0639\u0646\u0627\u0648\u064a\u0646 \u0644\u0625\u062d\u062f\u0627\u062b\u064a\u0627\u062a"],["enable_directions","\u0627\u0644\u0627\u062a\u062c\u0627\u0647\u0627\u062a \u0648\u0627\u0644\u0645\u0633\u0627\u0631\u0627\u062a"],["enable_places","\u0627\u0644\u0628\u062d\u062b \u0639\u0646 \u0627\u0644\u0623\u0645\u0627\u0643\u0646"],["enable_traffic_layer","\u0637\u0628\u0642\u0629 \u062d\u0631\u0643\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"],["enable_satellite_view","\u0627\u0644\u0639\u0631\u0636 \u0627\u0644\u062c\u0648\u064a"],["enable_street_view","\u0639\u0631\u0636 \u0627\u0644\u0634\u0627\u0631\u0639"],["marker_clustering","\u062a\u062c\u0645\u064a\u0639 \u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062a"],["enable_drawing_tools","\u0623\u062f\u0648\u0627\u062a \u0627\u0644\u0631\u0633\u0645"],["enable_heatmaps","\u062e\u0631\u0627\u0626\u0637 \u0627\u0644\u062d\u0631\u0627\u0631\u0629"]].map((s=>{let[a,n]=s;return(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,Tt.jsx)("span",{children:n}),(0,Tt.jsxs)("label",{className:"switch",children:[(0,Tt.jsx)("input",{type:"checkbox",checked:e[a],onChange:s=>t(d(d({},e),{},{[a]:s.target.checked}))}),(0,Tt.jsx)("span",{className:"slider"})]})]},a)}))})]})]}),(0,Tt.jsxs)("div",{className:"card-glass p-6",children:[(0,Tt.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(Wt,{name:"analytics",size:24}),"\u062a\u0643\u0627\u0645\u0644 Google Analytics"]}),(0,Tt.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block font-bold mb-2",children:"\u0645\u0639\u0631\u0641 Google Analytics"}),(0,Tt.jsx)("input",{type:"text",value:e.google_analytics_id,onChange:s=>t(d(d({},e),{},{google_analytics_id:s.target.value})),className:"w-full p-3 border rounded-lg glass-effect",placeholder:"G-XXXXXXXXXX \u0623\u0648 UA-XXXXXXXXX"})]}),(0,Tt.jsx)("div",{className:"flex items-end",children:(0,Tt.jsx)("button",{onClick:()=>window.open("https://analytics.google.com/","_blank"),className:"w-full px-4 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600",children:"\ud83d\udcca \u0641\u062a\u062d Google Analytics"})})]})]}),(0,Tt.jsxs)("div",{className:"card-glass p-6",children:[(0,Tt.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(Wt,{name:"scanner",size:24}),"\u0646\u0633\u062e \u0627\u062d\u062a\u064a\u0627\u0637\u064a Google Drive"]}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tt.jsx)("span",{children:"\u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u0646\u0633\u062e \u0627\u0644\u0627\u062d\u062a\u064a\u0627\u0637\u064a \u0627\u0644\u062a\u0644\u0642\u0627\u0626\u064a"}),(0,Tt.jsxs)("label",{className:"switch",children:[(0,Tt.jsx)("input",{type:"checkbox",checked:e.enable_google_drive_backup,onChange:s=>t(d(d({},e),{},{enable_google_drive_backup:s.target.checked}))}),(0,Tt.jsx)("span",{className:"slider"})]})]}),e.enable_google_drive_backup&&(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block font-bold mb-2",children:"Google Drive Service Account Credentials (JSON)"}),(0,Tt.jsx)("textarea",{value:e.google_drive_credentials,onChange:s=>t(d(d({},e),{},{google_drive_credentials:s.target.value})),className:"w-full p-3 border rounded-lg glass-effect h-32",placeholder:"\u0623\u0644\u0635\u0642 \u0645\u062d\u062a\u0648\u0649 \u0645\u0644\u0641 service account JSON \u0647\u0646\u0627..."})]})]})]})},la=()=>{const[e,t]=(0,n.useState)({site_name:"EP Group System",site_description:"\u0646\u0638\u0627\u0645 \u0625\u062f\u0627\u0631\u0629 \u0634\u0627\u0645\u0644 \u0644\u0644\u0645\u0624\u0633\u0633\u0627\u062a",site_keywords:"\u0625\u062f\u0627\u0631\u0629, \u0645\u0624\u0633\u0633\u0627\u062a, \u0646\u0638\u0627\u0645, EP Group",favicon_url:"",logo_url:"",contact_email:"info@epgroup.com",contact_phone:"+20123456789",address:"\u0627\u0644\u0642\u0627\u0647\u0631\u0629\u060c \u0645\u0635\u0631",social_links:{facebook:"",twitter:"",linkedin:"",instagram:"",youtube:""},seo_settings:{enable_seo:!0,meta_robots:"index,follow",canonical_url:"",og_image:"",twitter_card:"summary_large_image"},performance_settings:{enable_caching:!0,cache_duration:3600,enable_compression:!0,lazy_loading:!0,minify_assets:!0},security_settings:{enable_https_redirect:!0,enable_csp:!0,enable_hsts:!0,session_timeout:1440}});return(0,n.useEffect)((()=>{(async()=>{try{const s=localStorage.getItem("access_token"),a=await Pt.get("".concat(Dt,"/admin/settings/website-config"),{headers:{Authorization:"Bearer ".concat(s)}});t(d(d({},e),a.data))}catch(s){console.error("Error fetching website config:",s)}})()}),[]),(0,Tt.jsxs)("div",{className:"space-y-8",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("h3",{className:"text-2xl font-bold text-gradient flex items-center gap-3",children:[(0,Tt.jsx)(Wt,{name:"settings",size:32}),"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0645\u0648\u0642\u0639 \u0627\u0644\u0634\u0627\u0645\u0644\u0629"]}),(0,Tt.jsx)("button",{onClick:async()=>{try{const t=localStorage.getItem("access_token");await Pt.post("".concat(Dt,"/admin/settings/website-config"),e,{headers:{Authorization:"Bearer ".concat(t)}}),alert("\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0645\u0648\u0642\u0639 \u0628\u0646\u062c\u0627\u062d")}catch(t){console.error("Error updating website config:",t),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u062f\u064a\u062b \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0645\u0648\u0642\u0639")}},className:"btn-modern bg-green-500 text-white px-6 py-2 rounded-lg",children:"\ud83d\udcbe \u062d\u0641\u0638 \u0627\u0644\u062a\u0643\u0648\u064a\u0646"})]}),(0,Tt.jsxs)("div",{className:"card-glass p-6",children:[(0,Tt.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(Wt,{name:"language",size:24}),"\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0623\u0633\u0627\u0633\u064a\u0629 \u0644\u0644\u0645\u0648\u0642\u0639"]}),(0,Tt.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block font-bold mb-2",children:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0642\u0639"}),(0,Tt.jsx)("input",{type:"text",value:e.site_name,onChange:s=>t(d(d({},e),{},{site_name:s.target.value})),className:"w-full p-3 border rounded-lg glass-effect"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block font-bold mb-2",children:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0644\u0644\u062a\u0648\u0627\u0635\u0644"}),(0,Tt.jsx)("input",{type:"email",value:e.contact_email,onChange:s=>t(d(d({},e),{},{contact_email:s.target.value})),className:"w-full p-3 border rounded-lg glass-effect"})]}),(0,Tt.jsxs)("div",{className:"md:col-span-2",children:[(0,Tt.jsx)("label",{className:"block font-bold mb-2",children:"\u0648\u0635\u0641 \u0627\u0644\u0645\u0648\u0642\u0639"}),(0,Tt.jsx)("textarea",{value:e.site_description,onChange:s=>t(d(d({},e),{},{site_description:s.target.value})),className:"w-full p-3 border rounded-lg glass-effect h-24"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block font-bold mb-2",children:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641"}),(0,Tt.jsx)("input",{type:"tel",value:e.contact_phone,onChange:s=>t(d(d({},e),{},{contact_phone:s.target.value})),className:"w-full p-3 border rounded-lg glass-effect"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block font-bold mb-2",children:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646"}),(0,Tt.jsx)("input",{type:"text",value:e.address,onChange:s=>t(d(d({},e),{},{address:s.target.value})),className:"w-full p-3 border rounded-lg glass-effect"})]})]})]}),(0,Tt.jsxs)("div",{className:"card-glass p-6",children:[(0,Tt.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(Wt,{name:"analytics",size:24}),"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u062a\u062d\u0633\u064a\u0646 \u0645\u062d\u0631\u0643\u0627\u062a \u0627\u0644\u0628\u062d\u062b (SEO)"]}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tt.jsx)("span",{children:"\u062a\u0641\u0639\u064a\u0644 \u062a\u062d\u0633\u064a\u0646 \u0645\u062d\u0631\u0643\u0627\u062a \u0627\u0644\u0628\u062d\u062b"}),(0,Tt.jsxs)("label",{className:"switch",children:[(0,Tt.jsx)("input",{type:"checkbox",checked:e.seo_settings.enable_seo,onChange:s=>t(d(d({},e),{},{seo_settings:d(d({},e.seo_settings),{},{enable_seo:s.target.checked})}))}),(0,Tt.jsx)("span",{className:"slider"})]})]}),e.seo_settings.enable_seo&&(0,Tt.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block font-bold mb-2",children:"\u0627\u0644\u0643\u0644\u0645\u0627\u062a \u0627\u0644\u0645\u0641\u062a\u0627\u062d\u064a\u0629"}),(0,Tt.jsx)("input",{type:"text",value:e.site_keywords,onChange:s=>t(d(d({},e),{},{site_keywords:s.target.value})),className:"w-full p-3 border rounded-lg glass-effect",placeholder:"\u0643\u0644\u0645\u06291, \u0643\u0644\u0645\u06292, \u0643\u0644\u0645\u06293"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block font-bold mb-2",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0631\u0648\u0628\u0648\u062a\u0627\u062a"}),(0,Tt.jsxs)("select",{value:e.seo_settings.meta_robots,onChange:s=>t(d(d({},e),{},{seo_settings:d(d({},e.seo_settings),{},{meta_robots:s.target.value})})),className:"w-full p-3 border rounded-lg glass-effect",children:[(0,Tt.jsx)("option",{value:"index,follow",children:"\u0641\u0647\u0631\u0633\u0629 \u0648\u062a\u062a\u0628\u0639"}),(0,Tt.jsx)("option",{value:"index,nofollow",children:"\u0641\u0647\u0631\u0633\u0629 \u0628\u062f\u0648\u0646 \u062a\u062a\u0628\u0639"}),(0,Tt.jsx)("option",{value:"noindex,follow",children:"\u0628\u062f\u0648\u0646 \u0641\u0647\u0631\u0633\u0629 \u0645\u0639 \u062a\u062a\u0628\u0639"}),(0,Tt.jsx)("option",{value:"noindex,nofollow",children:"\u0628\u062f\u0648\u0646 \u0641\u0647\u0631\u0633\u0629 \u0623\u0648 \u062a\u062a\u0628\u0639"})]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block font-bold mb-2",children:"\u0631\u0627\u0628\u0637 canonical"}),(0,Tt.jsx)("input",{type:"url",value:e.seo_settings.canonical_url,onChange:s=>t(d(d({},e),{},{seo_settings:d(d({},e.seo_settings),{},{canonical_url:s.target.value})})),className:"w-full p-3 border rounded-lg glass-effect",placeholder:"https://example.com"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block font-bold mb-2",children:"\u0635\u0648\u0631\u0629 Open Graph"}),(0,Tt.jsx)("input",{type:"url",value:e.seo_settings.og_image,onChange:s=>t(d(d({},e),{},{seo_settings:d(d({},e.seo_settings),{},{og_image:s.target.value})})),className:"w-full p-3 border rounded-lg glass-effect",placeholder:"\u0631\u0627\u0628\u0637 \u0627\u0644\u0635\u0648\u0631\u0629"})]})]})]}),(0,Tt.jsxs)("div",{className:"card-glass p-6",children:[(0,Tt.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(Wt,{name:"chat",size:24}),"\u0631\u0648\u0627\u0628\u0637 \u0648\u0633\u0627\u0626\u0644 \u0627\u0644\u062a\u0648\u0627\u0635\u0644 \u0627\u0644\u0627\u062c\u062a\u0645\u0627\u0639\u064a"]}),(0,Tt.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:Object.entries(e.social_links).map((s=>{let[a,n]=s;return(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block font-bold mb-2 capitalize",children:a}),(0,Tt.jsx)("input",{type:"url",value:n,onChange:s=>t(d(d({},e),{},{social_links:d(d({},e.social_links),{},{[a]:s.target.value})})),className:"w-full p-3 border rounded-lg glass-effect",placeholder:"\u0631\u0627\u0628\u0637 ".concat(a)})]},a)}))})]}),(0,Tt.jsxs)("div",{className:"card-glass p-6",children:[(0,Tt.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Tt.jsx)(Wt,{name:"performance",size:24}),"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0623\u062f\u0627\u0621"]}),(0,Tt.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[["enable_caching","\u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u062a\u062e\u0632\u064a\u0646 \u0627\u0644\u0645\u0624\u0642\u062a"],["enable_compression","\u0636\u063a\u0637 \u0627\u0644\u0645\u0644\u0641\u0627\u062a"],["lazy_loading","\u0627\u0644\u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u062a\u0623\u062e\u0631"],["minify_assets","\u062a\u0635\u063a\u064a\u0631 \u0627\u0644\u0645\u0644\u0641\u0627\u062a"]].map((s=>{let[a,n]=s;return(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,Tt.jsx)("span",{children:n}),(0,Tt.jsxs)("label",{className:"switch",children:[(0,Tt.jsx)("input",{type:"checkbox",checked:e.performance_settings[a],onChange:s=>t(d(d({},e),{},{performance_settings:d(d({},e.performance_settings),{},{[a]:s.target.checked})}))}),(0,Tt.jsx)("span",{className:"slider"})]})]},a)}))}),(0,Tt.jsxs)("div",{className:"mt-4",children:[(0,Tt.jsx)("label",{className:"block font-bold mb-2",children:"\u0645\u062f\u0629 \u0627\u0644\u062a\u062e\u0632\u064a\u0646 \u0627\u0644\u0645\u0624\u0642\u062a (\u062b\u0627\u0646\u064a\u0629)"}),(0,Tt.jsx)("input",{type:"number",value:e.performance_settings.cache_duration,onChange:s=>t(d(d({},e),{},{performance_settings:d(d({},e.performance_settings),{},{cache_duration:parseInt(s.target.value)})})),className:"w-full p-3 border rounded-lg glass-effect",min:"300",max:"86400"})]})]})]})},ra=()=>{const[e,t]=(0,n.useState)(null),[s,a]=(0,n.useState)(!0),l=async()=>{try{const e=localStorage.getItem("access_token"),s=await Pt.get("".concat(Dt,"/admin/settings/performance-metrics"),{headers:{Authorization:"Bearer ".concat(e)}});t(s.data)}catch(e){console.error("Error fetching performance metrics:",e)}finally{a(!1)}};if((0,n.useEffect)((()=>{l();const e=setInterval(l,3e4);return()=>clearInterval(e)}),[]),s)return(0,Tt.jsxs)("div",{className:"text-center py-8",children:[(0,Tt.jsx)("div",{className:"loading-spinner-enhanced mx-auto mb-4"}),(0,Tt.jsx)("p",{children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0645\u0642\u0627\u064a\u064a\u0633 \u0627\u0644\u0623\u062f\u0627\u0621..."})]});if(!e||e.error)return(0,Tt.jsxs)("div",{className:"text-center py-8",children:[(0,Tt.jsx)(Wt,{name:"error",size:48,className:"mx-auto mb-4 text-red-500"}),(0,Tt.jsx)("p",{children:"\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0645\u0642\u0627\u064a\u064a\u0633 \u0627\u0644\u0623\u062f\u0627\u0621"}),(0,Tt.jsx)("button",{onClick:l,className:"btn-modern mt-4",children:"\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629"})]});const r=e=>e<50?"text-green-400":e<80?"text-yellow-400":"text-red-400";return(0,Tt.jsxs)("div",{className:"space-y-8",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("h3",{className:"text-2xl font-bold text-gradient flex items-center gap-3",children:[(0,Tt.jsx)(Wt,{name:"performance",size:32}),"\u0645\u0631\u0627\u0642\u0628\u0629 \u0623\u062f\u0627\u0621 \u0627\u0644\u0646\u0638\u0627\u0645"]}),(0,Tt.jsx)("button",{onClick:l,className:"btn-modern bg-blue-500 text-white px-4 py-2 rounded-lg",children:"\ud83d\udd04 \u062a\u062d\u062f\u064a\u062b"})]}),(0,Tt.jsxs)("div",{className:"card-glass p-6",children:[(0,Tt.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0623\u062f\u0627\u0621 \u0627\u0644\u0646\u0638\u0627\u0645"}),(0,Tt.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsxs)("div",{className:"text-3xl font-bold ".concat(r(e.system_performance.cpu_usage_percent)),children:[e.system_performance.cpu_usage_percent,"%"]}),(0,Tt.jsx)("div",{className:"text-sm text-gray-400",children:"\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0645\u0639\u0627\u0644\u062c"})]}),(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsxs)("div",{className:"text-3xl font-bold ".concat(r(e.system_performance.memory_usage_percent)),children:[e.system_performance.memory_usage_percent,"%"]}),(0,Tt.jsx)("div",{className:"text-sm text-gray-400",children:"\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0630\u0627\u0643\u0631\u0629"}),(0,Tt.jsxs)("div",{className:"text-xs text-gray-500",children:[e.system_performance.memory_used_gb,"GB / ",e.system_performance.memory_total_gb,"GB"]})]}),(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsxs)("div",{className:"text-3xl font-bold ".concat(r(e.system_performance.disk_usage_percent)),children:[e.system_performance.disk_usage_percent,"%"]}),(0,Tt.jsx)("div",{className:"text-sm text-gray-400",children:"\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0642\u0631\u0635"}),(0,Tt.jsxs)("div",{className:"text-xs text-gray-500",children:["\u0645\u062a\u0627\u062d: ",e.system_performance.disk_free_gb,"GB"]})]}),(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsxs)("div",{className:"text-3xl font-bold text-blue-400",children:[Math.round(e.application_metrics.uptime_hours),"h"]}),(0,Tt.jsx)("div",{className:"text-sm text-gray-400",children:"\u0648\u0642\u062a \u0627\u0644\u062a\u0634\u063a\u064a\u0644"})]})]})]}),(0,Tt.jsxs)("div",{className:"card-glass p-6",children:[(0,Tt.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0623\u062f\u0627\u0621 \u0642\u0627\u0639\u062f\u0629 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a"}),(0,Tt.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl font-bold text-gradient",children:e.database_performance.collections_count}),(0,Tt.jsx)("div",{className:"text-sm text-gray-400",children:"\u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0627\u062a"})]}),(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsxs)("div",{className:"text-3xl font-bold text-gradient",children:[e.database_performance.data_size_mb,"MB"]}),(0,Tt.jsx)("div",{className:"text-sm text-gray-400",children:"\u062d\u062c\u0645 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a"})]}),(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsxs)("div",{className:"text-3xl font-bold text-gradient",children:[e.database_performance.index_size_mb,"MB"]}),(0,Tt.jsx)("div",{className:"text-sm text-gray-400",children:"\u062d\u062c\u0645 \u0627\u0644\u0641\u0647\u0627\u0631\u0633"})]}),(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsxs)("div",{className:"text-3xl font-bold text-gradient",children:[e.database_performance.storage_size_mb,"MB"]}),(0,Tt.jsx)("div",{className:"text-sm text-gray-400",children:"\u0627\u0644\u062a\u062e\u0632\u064a\u0646 \u0627\u0644\u0643\u0644\u064a"})]})]})]}),(0,Tt.jsxs)("div",{className:"card-glass p-6",children:[(0,Tt.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0645\u0642\u0627\u064a\u064a\u0633 \u0627\u0644\u062a\u0637\u0628\u064a\u0642"}),(0,Tt.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl font-bold text-gradient",children:e.application_metrics.active_users}),(0,Tt.jsx)("div",{className:"text-sm text-gray-400",children:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u0648\u0646 \u0627\u0644\u0646\u0634\u0637\u0648\u0646"})]}),(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl font-bold text-gradient",children:e.application_metrics.visits_today}),(0,Tt.jsx)("div",{className:"text-sm text-gray-400",children:"\u0632\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u064a\u0648\u0645"})]}),(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl font-bold text-green-400",children:"99.9%"}),(0,Tt.jsx)("div",{className:"text-sm text-gray-400",children:"\u0645\u0639\u062f\u0644 \u0627\u0644\u062a\u0648\u0641\u0631"})]})]})]})]})},ia=()=>{const{t:e}=It(),[t,s]=(0,n.useState)("inventory"),[a,l]=(0,n.useState)([]),[r,i]=(0,n.useState)(null),[c,o]=(0,n.useState)([]),[u,m]=(0,n.useState)([]),[x,h]=(0,n.useState)([]),[p,g]=(0,n.useState)(!1),[f,v]=(0,n.useState)(!1),[b,j]=(0,n.useState)(!1),[y,N]=(0,n.useState)(null);(0,n.useEffect)((()=>{w()}),[]);const w=async()=>{g(!0);try{const e=localStorage.getItem("access_token"),t=await Pt.get("".concat(Dt,"/warehouses/assigned"),{headers:{Authorization:"Bearer ".concat(e)}});l(t.data),t.data.length>0&&(i(t.data[0]),await _(t.data[0].id));const s=await Pt.get("".concat(Dt,"/warehouse-requests/pending"),{headers:{Authorization:"Bearer ".concat(e)}});h(s.data)}catch(e){console.error("Error loading warehouse data:",e),l([{id:"wh-001",name:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0631\u0626\u064a\u0633\u064a",region:"\u0627\u0644\u0642\u0627\u0647\u0631\u0629",address:"\u0634\u0627\u0631\u0639 \u0627\u0644\u0646\u0647\u0636\u0629\u060c \u0645\u062f\u064a\u0646\u0629 \u0646\u0635\u0631",capacity:1e3,current_stock:750}]),i({id:"wh-001",name:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0631\u0626\u064a\u0633\u064a",region:"\u0627\u0644\u0642\u0627\u0647\u0631\u0629"})}finally{g(!1)}},_=async e=>{try{const t=localStorage.getItem("access_token"),s=await Pt.get("".concat(Dt,"/warehouses/").concat(e,"/inventory"),{headers:{Authorization:"Bearer ".concat(t)}});o(s.data)}catch(t){console.error("Error loading inventory:",t),o([{id:"inv-001",product_name:"\u0623\u0643\u0633\u0632\u0648\u0645 500\u0645\u062c",current_stock:150,minimum_stock:50,maximum_stock:500,unit_price:25.5,last_updated:"2024-01-24T10:30:00",status:"in_stock"},{id:"inv-002",product_name:"\u0641\u064a\u062a\u0627\u0645\u064a\u0646 \u062f3",current_stock:25,minimum_stock:50,maximum_stock:200,unit_price:45,last_updated:"2024-01-23T15:20:00",status:"low_stock"}])}},k=e=>0===e.current_stock?{text:"\u0646\u0641\u062f \u0627\u0644\u0645\u062e\u0632\u0648\u0646",color:"text-red-600",bg:"bg-red-100"}:e.current_stock<=e.minimum_stock?{text:"\u0645\u062e\u0632\u0648\u0646 \u0645\u0646\u062e\u0641\u0636",color:"text-orange-600",bg:"bg-orange-100"}:e.current_stock>=.9*e.maximum_stock?{text:"\u0645\u062e\u0632\u0648\u0646 \u0645\u0631\u062a\u0641\u0639",color:"text-blue-600",bg:"bg-blue-100"}:{text:"\u0645\u062e\u0632\u0648\u0646 \u0637\u0628\u064a\u0639\u064a",color:"text-green-600",bg:"bg-green-100"};return(0,Tt.jsx)("div",{style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh"},children:(0,Tt.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Tt.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center",children:[(0,Tt.jsx)("div",{className:"w-12 h-12 md:w-16 md:h-16 card-gradient-blue rounded-full flex items-center justify-center ml-4 glow-pulse",children:(0,Tt.jsx)(Wt,{name:"warehouse",size:32})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h2",{className:"text-2xl md:text-4xl font-bold text-gradient",children:"\u0644\u0648\u062d\u0629 \u0623\u0645\u064a\u0646 \u0627\u0644\u0645\u062e\u0632\u0646"}),(0,Tt.jsx)("p",{className:"text-sm md:text-lg",style:{color:"var(--text-secondary)"},children:"\u0625\u062f\u0627\u0631\u0629 \u0634\u0627\u0645\u0644\u0629 \u0644\u0644\u0645\u062e\u0632\u0648\u0646 \u0648\u0627\u0644\u0639\u0645\u0644\u064a\u0627\u062a \u0627\u0644\u064a\u0648\u0645\u064a\u0629"})]})]}),r&&(0,Tt.jsxs)("div",{className:"glass-effect p-4 rounded-xl",children:[(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0645\u062e\u0632\u0646 \u0627\u0644\u062d\u0627\u0644\u064a:"}),(0,Tt.jsx)("div",{className:"text-lg font-bold",children:r.name}),(0,Tt.jsx)("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:r.region})]})]}),a.length>1&&(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl mb-6",children:[(0,Tt.jsx)("h3",{className:"text-lg font-bold mb-4",children:"\u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0645\u062e\u0632\u0646:"}),(0,Tt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:a.map((e=>(0,Tt.jsxs)("div",{onClick:()=>{i(e),_(e.id)},className:"p-4 rounded-lg cursor-pointer transition-all ".concat((null===r||void 0===r?void 0:r.id)===e.id?"bg-blue-600 text-white":"hover:bg-white hover:bg-opacity-10"),children:[(0,Tt.jsx)("h4",{className:"font-bold",children:e.name}),(0,Tt.jsx)("p",{className:"text-sm opacity-75",children:e.region}),(0,Tt.jsxs)("div",{className:"mt-2 text-xs",children:["\u0627\u0644\u0627\u0633\u062a\u062e\u062f\u0627\u0645: ",Math.round(e.current_stock/e.capacity*100),"%"]})]},e.id)))})]}),(0,Tt.jsx)("div",{className:"flex gap-2 mb-6 overflow-x-auto",children:[{id:"inventory",label:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u062e\u0632\u0648\u0646",icon:"\ud83d\udce6"},{id:"movements",label:"\u062d\u0631\u0643\u0627\u062a \u0627\u0644\u0645\u062e\u0632\u0646",icon:"\ud83d\udd04"},{id:"requests",label:"\u0627\u0644\u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0645\u0639\u0644\u0642\u0629",icon:"\u23f3"},{id:"reports",label:"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631",icon:"\ud83d\udcca"}].map((e=>(0,Tt.jsxs)("button",{onClick:()=>s(e.id),className:"px-6 py-3 rounded-lg font-medium transition-all whitespace-nowrap ".concat(t===e.id?"bg-blue-600 text-white shadow-lg":"glass-effect hover:bg-white hover:bg-opacity-10"),children:[(0,Tt.jsx)("span",{className:"mr-2",children:e.icon}),e.label]},e.id)))}),"inventory"===t&&(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsx)("div",{className:"glass-effect p-6 rounded-xl",children:(0,Tt.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,Tt.jsx)("h3",{className:"text-lg font-bold",children:"\u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0633\u0631\u064a\u0639\u0629:"}),(0,Tt.jsxs)("div",{className:"flex gap-3",children:[(0,Tt.jsxs)("button",{onClick:()=>v(!0),className:"btn-primary flex items-center gap-2",children:[(0,Tt.jsx)(Wt,{name:"add",size:20}),(0,Tt.jsxs)("span",{children:[e("add")," ",e("products")]})]}),(0,Tt.jsxs)("button",{onClick:()=>{const e=c.map((e=>({"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c":e.product_name,"\u0627\u0644\u0645\u062e\u0632\u0648\u0646 \u0627\u0644\u062d\u0627\u0644\u064a":e.current_stock,"\u0627\u0644\u062d\u062f \u0627\u0644\u0623\u062f\u0646\u0649":e.minimum_stock,"\u0627\u0644\u062d\u0627\u0644\u0629":k(e).text}))),t=Object.keys(e[0]).join(",")+"\n"+e.map((e=>Object.values(e).join(","))).join("\n"),s=new Blob([t],{type:"text/csv"}),a=URL.createObjectURL(s),n=document.createElement("a");n.href=a,n.download="inventory-".concat(r.name,"-").concat((new Date).toISOString().split("T")[0],".csv"),n.click()},className:"btn-info flex items-center gap-2",children:[(0,Tt.jsx)(Wt,{name:"reports",size:20}),(0,Tt.jsx)("span",{children:"\u062a\u0635\u062f\u064a\u0631"})]})]})]})}),(0,Tt.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:c.map((t=>{const s=k(t);return(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h4",{className:"font-bold text-lg",children:t.product_name}),(0,Tt.jsx)("div",{className:"px-2 py-1 rounded text-xs font-bold ".concat(s.bg," ").concat(s.color," mt-1"),children:s.text})]}),(0,Tt.jsx)("button",{onClick:()=>{N(t),j(!0)},className:"btn-primary text-xs px-3 py-1",children:e("edit")})]}),(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0645\u062e\u0632\u0648\u0646 \u0627\u0644\u062d\u0627\u0644\u064a:"}),(0,Tt.jsx)("span",{className:"font-bold text-lg",children:t.current_stock})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u062d\u062f \u0627\u0644\u0623\u062f\u0646\u0649:"}),(0,Tt.jsx)("span",{className:"text-sm",children:t.minimum_stock})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u062d\u062f \u0627\u0644\u0623\u0642\u0635\u0649:"}),(0,Tt.jsx)("span",{className:"text-sm",children:t.maximum_stock})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0629:"}),(0,Tt.jsxs)("span",{className:"text-sm font-bold",children:[t.unit_price," \u062c.\u0645"]})]}),(0,Tt.jsxs)("div",{className:"mt-4",children:[(0,Tt.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,Tt.jsx)("span",{children:"\u0645\u0633\u062a\u0648\u0649 \u0627\u0644\u0645\u062e\u0632\u0648\u0646"}),(0,Tt.jsxs)("span",{children:[Math.round(t.current_stock/t.maximum_stock*100),"%"]})]}),(0,Tt.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,Tt.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(t.current_stock<=t.minimum_stock?"bg-red-500":t.current_stock>=.9*t.maximum_stock?"bg-blue-500":"bg-green-500"),style:{width:"".concat(Math.min(100,t.current_stock/t.maximum_stock*100),"%")}})})]})]})]},t.id)}))})]}),f&&(0,Tt.jsx)(ca,{onClose:()=>v(!1),onSave:async e=>{try{const t=localStorage.getItem("access_token");await Pt.post("".concat(Dt,"/inventory/add-product"),d({warehouse_id:r.id},e),{headers:{Authorization:"Bearer ".concat(t)}}),await _(r.id),v(!1)}catch(t){console.error("Error adding product:",t)}},warehouseId:null===r||void 0===r?void 0:r.id}),b&&y&&(0,Tt.jsx)(oa,{product:y,onClose:()=>{j(!1),N(null)},onSave:async(e,t)=>{try{const s=localStorage.getItem("access_token");await Pt.post("".concat(Dt,"/inventory/adjust"),{warehouse_id:r.id,product_id:e,adjustment_type:t.type,quantity:t.quantity,reason:t.reason,notes:t.notes},{headers:{Authorization:"Bearer ".concat(s)}}),await _(r.id),j(!1),N(null)}catch(s){console.error("Error adjusting stock:",s)}}})]})})},ca=e=>{let{onClose:t,onSave:s,warehouseId:a}=e;const[l,r]=(0,n.useState)({product_name:"",category:"",description:"",unit_price:0,minimum_stock:10,maximum_stock:100,initial_stock:0});return(0,Tt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Tt.jsxs)("div",{className:"modal-modern p-6 w-full max-w-2xl",children:[(0,Tt.jsx)("h3",{className:"text-2xl font-bold mb-6 text-gradient",children:"\u0625\u0636\u0627\u0641\u0629 \u0645\u0646\u062a\u062c \u062c\u062f\u064a\u062f"}),(0,Tt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s(l)},className:"space-y-4",children:[(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c:"}),(0,Tt.jsx)("input",{type:"text",value:l.product_name,onChange:e=>r(d(d({},l),{},{product_name:e.target.value})),className:"form-modern w-full",required:!0})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0641\u0626\u0629:"}),(0,Tt.jsxs)("select",{value:l.category,onChange:e=>r(d(d({},l),{},{category:e.target.value})),className:"form-modern w-full",required:!0,children:[(0,Tt.jsx)("option",{value:"",children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0641\u0626\u0629"}),(0,Tt.jsx)("option",{value:"antibiotics",children:"\u0645\u0636\u0627\u062f\u0627\u062a \u062d\u064a\u0648\u064a\u0629"}),(0,Tt.jsx)("option",{value:"vitamins",children:"\u0641\u064a\u062a\u0627\u0645\u064a\u0646\u0627\u062a"}),(0,Tt.jsx)("option",{value:"painkillers",children:"\u0645\u0633\u0643\u0646\u0627\u062a"}),(0,Tt.jsx)("option",{value:"cardiovascular",children:"\u0623\u062f\u0648\u064a\u0629 \u0627\u0644\u0642\u0644\u0628"}),(0,Tt.jsx)("option",{value:"diabetes",children:"\u0623\u062f\u0648\u064a\u0629 \u0627\u0644\u0633\u0643\u0631\u064a"}),(0,Tt.jsx)("option",{value:"respiratory",children:"\u0623\u062f\u0648\u064a\u0629 \u0627\u0644\u062c\u0647\u0627\u0632 \u0627\u0644\u062a\u0646\u0641\u0633\u064a"}),(0,Tt.jsx)("option",{value:"other",children:"\u0623\u062e\u0631\u0649"})]})]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0648\u0635\u0641:"}),(0,Tt.jsx)("textarea",{value:l.description,onChange:e=>r(d(d({},l),{},{description:e.target.value})),className:"form-modern w-full h-20",placeholder:"\u0648\u0635\u0641 \u0645\u062e\u062a\u0635\u0631 \u0644\u0644\u0645\u0646\u062a\u062c..."})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0629 (\u062c.\u0645):"}),(0,Tt.jsx)("input",{type:"number",value:l.unit_price,onChange:e=>r(d(d({},l),{},{unit_price:parseFloat(e.target.value)})),className:"form-modern w-full",step:"0.01",min:"0",required:!0})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u062d\u062f \u0627\u0644\u0623\u062f\u0646\u0649:"}),(0,Tt.jsx)("input",{type:"number",value:l.minimum_stock,onChange:e=>r(d(d({},l),{},{minimum_stock:parseInt(e.target.value)})),className:"form-modern w-full",min:"1",required:!0})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u062d\u062f \u0627\u0644\u0623\u0642\u0635\u0649:"}),(0,Tt.jsx)("input",{type:"number",value:l.maximum_stock,onChange:e=>r(d(d({},l),{},{maximum_stock:parseInt(e.target.value)})),className:"form-modern w-full",min:"1",required:!0})]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0643\u0645\u064a\u0629 \u0627\u0644\u0623\u0648\u0644\u064a\u0629:"}),(0,Tt.jsx)("input",{type:"number",value:l.initial_stock,onChange:e=>r(d(d({},l),{},{initial_stock:parseInt(e.target.value)})),className:"form-modern w-full",min:"0",required:!0})]}),(0,Tt.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,Tt.jsx)("button",{type:"submit",className:"btn-primary flex-1",children:"\u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0646\u062a\u062c"}),(0,Tt.jsx)("button",{type:"button",onClick:t,className:"btn-secondary flex-1",children:"\u0625\u0644\u063a\u0627\u0621"})]})]})]})})},oa=e=>{let{product:t,onClose:s,onSave:a}=e;const{t:l}=It(),[r,i]=(0,n.useState)({type:"add",quantity:0,reason:"",notes:""}),c=[{value:"add",label:l("add")+" "+l("inventory"),icon:"\u2795"},{value:"remove",label:l("delete")+" "+l("inventory"),icon:"\u2796"},{value:"adjust",label:l("edit")+" "+l("inventory"),icon:"\ud83d\udd04"},{value:"damaged",label:"\u062a\u0627\u0644\u0641",icon:"\u274c"},{value:"expired",label:"\u0645\u0646\u062a\u0647\u064a \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0629",icon:"\u26a0\ufe0f"}];return(0,Tt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Tt.jsxs)("div",{className:"modal-modern p-6 w-full max-w-2xl",children:[(0,Tt.jsxs)("h3",{className:"text-2xl font-bold mb-6 text-gradient",children:["\u062a\u0639\u062f\u064a\u0644 \u0645\u062e\u0632\u0648\u0646: ",t.product_name]}),(0,Tt.jsx)("div",{className:"glass-effect p-4 rounded-xl mb-6",children:(0,Tt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Tt.jsx)("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0645\u062e\u0632\u0648\u0646 \u0627\u0644\u062d\u0627\u0644\u064a:"}),(0,Tt.jsx)("span",{className:"text-2xl font-bold",children:t.current_stock})]})}),(0,Tt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a(t.id,r)},className:"space-y-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0646\u0648\u0639 \u0627\u0644\u062a\u0639\u062f\u064a\u0644:"}),(0,Tt.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:c.map((e=>(0,Tt.jsxs)("button",{type:"button",onClick:()=>i(d(d({},r),{},{type:e.value})),className:"p-3 rounded-lg text-sm transition-all ".concat(r.type===e.value?"bg-blue-600 text-white":"glass-effect hover:bg-white hover:bg-opacity-10"),children:[(0,Tt.jsx)("div",{className:"text-xl mb-1",children:e.icon}),(0,Tt.jsx)("div",{children:e.label})]},e.value)))})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0643\u0645\u064a\u0629:"}),(0,Tt.jsx)("input",{type:"number",value:r.quantity,onChange:e=>i(d(d({},r),{},{quantity:parseInt(e.target.value)})),className:"form-modern w-full",min:"1",required:!0})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0633\u0628\u0628:"}),(0,Tt.jsxs)("select",{value:r.reason,onChange:e=>i(d(d({},r),{},{reason:e.target.value})),className:"form-modern w-full",required:!0,children:[(0,Tt.jsx)("option",{value:"",children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0633\u0628\u0628"}),["\u0627\u0633\u062a\u0644\u0627\u0645 \u0634\u062d\u0646\u0629 \u062c\u062f\u064a\u062f\u0629","\u062a\u0633\u0644\u064a\u0645 \u0644\u0644\u0645\u0646\u0627\u062f\u064a\u0628","\u0639\u064a\u0646\u0627\u062a \u0645\u062c\u0627\u0646\u064a\u0629","\u0623\u062f\u0648\u064a\u0629 \u062a\u0627\u0644\u0641\u0629","\u0627\u0646\u062a\u0647\u0627\u0621 \u0635\u0644\u0627\u062d\u064a\u0629","\u062c\u0631\u062f \u062f\u0648\u0631\u064a","\u062a\u0635\u062d\u064a\u062d \u062e\u0637\u0623 \u0625\u062f\u062e\u0627\u0644","\u0625\u0639\u0627\u062f\u0629 \u0645\u0646 \u0627\u0644\u0645\u0646\u0627\u062f\u064a\u0628","\u0623\u062e\u0631\u0649"].map(((e,t)=>(0,Tt.jsx)("option",{value:e,children:e},t)))]})]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0625\u0636\u0627\u0641\u064a\u0629:"}),(0,Tt.jsx)("textarea",{value:r.notes,onChange:e=>i(d(d({},r),{},{notes:e.target.value})),className:"form-modern w-full h-20",placeholder:"\u0623\u064a \u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0625\u0636\u0627\u0641\u064a\u0629..."})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-4 rounded-xl",children:[(0,Tt.jsx)("h4",{className:"font-bold mb-2",children:"\u0645\u0639\u0627\u064a\u0646\u0629 \u0627\u0644\u062a\u063a\u064a\u064a\u0631:"}),(0,Tt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Tt.jsx)("span",{children:"\u0627\u0644\u0645\u062e\u0632\u0648\u0646 \u0627\u0644\u062d\u0627\u0644\u064a:"}),(0,Tt.jsx)("span",{className:"font-bold",children:t.current_stock})]}),(0,Tt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Tt.jsx)("span",{children:"\u0627\u0644\u062a\u063a\u064a\u064a\u0631:"}),(0,Tt.jsxs)("span",{className:"font-bold ".concat("add"===r.type?"text-green-600":"text-red-600"),children:["add"===r.type?"+":"-",r.quantity||0]})]}),(0,Tt.jsxs)("div",{className:"border-t pt-2 mt-2 flex justify-between items-center",children:[(0,Tt.jsx)("span",{className:"font-bold",children:"\u0627\u0644\u0645\u062e\u0632\u0648\u0646 \u0627\u0644\u062c\u062f\u064a\u062f:"}),(0,Tt.jsx)("span",{className:"text-xl font-bold",children:"add"===r.type?t.current_stock+(r.quantity||0):Math.max(0,t.current_stock-(r.quantity||0))})]})]}),(0,Tt.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,Tt.jsx)("button",{type:"submit",className:"btn-primary flex-1",children:"\u062a\u0623\u0643\u064a\u062f \u0627\u0644\u062a\u0639\u062f\u064a\u0644"}),(0,Tt.jsx)("button",{type:"button",onClick:s,className:"btn-secondary flex-1",children:"\u0625\u0644\u063a\u0627\u0621"})]})]})]})})},da=()=>{const{t:e}=It(),{user:t}=Yt(),[s,a]=(0,n.useState)("pending"),[l,r]=(0,n.useState)([]),[i,c]=(0,n.useState)([]),[o,u]=(0,n.useState)(null),[m,x]=(0,n.useState)(!1),[h,p]=(0,n.useState)(!1),[g,f]=(0,n.useState)("all"),[v,b]=(0,n.useState)({start:"",end:""});(0,n.useEffect)((()=>{j()}),[]);const j=async()=>{p(!0);try{const e=localStorage.getItem("access_token"),t=await Pt.get("".concat(Dt,"/approvals/pending"),{headers:{Authorization:"Bearer ".concat(e)}});r(t.data);const s=await Pt.get("".concat(Dt,"/approvals/history"),{headers:{Authorization:"Bearer ".concat(e)}});c(s.data)}catch(e){console.error("Error loading approval data:",e),r([{id:"ord-001",order_number:"ORD-2024-001",sales_rep:"\u0623\u062d\u0645\u062f \u0645\u062d\u0645\u062f",sales_rep_id:"user-001",doctor_name:"\u062f. \u0633\u0639\u062f \u0639\u0644\u064a",clinic_name:"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0646\u0648\u0631",total_amount:2500,items:[{product_name:"\u0623\u0643\u0633\u0632\u0648\u0645 500\u0645\u062c",quantity:10,unit_price:25.5},{product_name:"\u0641\u064a\u062a\u0627\u0645\u064a\u0646 \u062f3",quantity:5,unit_price:45}],current_stage:"accounting"===t.role?"accounting_review":"warehouse_review",submitted_at:"2024-01-24T10:30:00",urgency:"high",notes:"\u0637\u0644\u0628\u064a\u0629 \u0639\u0627\u062c\u0644\u0629 \u0644\u0644\u062f\u0643\u062a\u0648\u0631 \u0633\u0639\u062f",workflow_status:{rep_submitted:{status:"completed",date:"2024-01-24T10:30:00",user:"\u0623\u062d\u0645\u062f \u0645\u062d\u0645\u062f"},accounting_review:{status:"pending",date:null,user:null},warehouse_approval:{status:"waiting",date:null,user:null}}},{id:"ord-002",order_number:"ORD-2024-002",sales_rep:"\u0641\u0627\u0637\u0645\u0629 \u0623\u062d\u0645\u062f",sales_rep_id:"user-002",doctor_name:"\u062f. \u0645\u0646\u0649 \u062d\u0633\u0646",clinic_name:"\u0645\u0633\u062a\u0634\u0641\u0649 \u0627\u0644\u0631\u062d\u0645\u0629",total_amount:1800,items:[{product_name:"\u0628\u0627\u0631\u0627\u0633\u064a\u062a\u0627\u0645\u0648\u0644",quantity:20,unit_price:12.75}],current_stage:"accounting_review",submitted_at:"2024-01-23T15:20:00",urgency:"medium",notes:"\u0637\u0644\u0628\u064a\u0629 \u062f\u0648\u0631\u064a\u0629",workflow_status:{rep_submitted:{status:"completed",date:"2024-01-23T15:20:00",user:"\u0641\u0627\u0637\u0645\u0629 \u0623\u062d\u0645\u062f"},accounting_review:{status:"pending",date:null,user:null},warehouse_approval:{status:"waiting",date:null,user:null}}}]),c([{id:"hist-001",order_number:"ORD-2024-003",action:"approved",stage:"accounting_review",approver:"\u0645\u062d\u0645\u062f \u0627\u0644\u0633\u064a\u062f",approver_role:"accounting",approved_at:"2024-01-20T14:30:00",notes:"\u0645\u0648\u0627\u0641\u0642\u0629 \u0645\u0639 \u062a\u0623\u0643\u064a\u062f \u0627\u0644\u0623\u0633\u0639\u0627\u0631",total_amount:3200},{id:"hist-002",order_number:"ORD-2024-004",action:"rejected",stage:"warehouse_approval",approver:"\u0623\u0645\u064a\u0646\u0629 \u0627\u0644\u0645\u062e\u0632\u0646",approver_role:"warehouse_keeper",approved_at:"2024-01-19T11:15:00",notes:"\u0646\u0641\u0627\u062f \u0627\u0644\u0645\u062e\u0632\u0648\u0646 - \u0645\u0646\u062a\u062c \u063a\u064a\u0631 \u0645\u062a\u0648\u0641\u0631",total_amount:1500}])}finally{p(!1)}},y=async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{const a=localStorage.getItem("access_token");await Pt.post("".concat(Dt,"/approvals/process"),{order_id:e,action:t,stage:N(),notes:s},{headers:{Authorization:"Bearer ".concat(a)}}),await j(),x(!1),u(null)}catch(a){console.error("Error processing approval:",a)}},N=()=>"accounting"===t.role?"accounting_review":"warehouse_keeper"===t.role?"warehouse_approval":"unknown",w=e=>({rep_submitted:"\ud83d\udcdd",accounting_review:"\ud83d\udcb0",warehouse_approval:"\ud83d\udce6",completed:"\u2705",rejected:"\u274c"}[e]||"\u23f3"),_=e=>({rep_submitted:"\u062a\u0645 \u062a\u0642\u062f\u064a\u0645 \u0627\u0644\u0637\u0644\u0628",accounting_review:"\u0645\u0631\u0627\u062c\u0639\u0629 \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629",warehouse_approval:"\u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0645\u062e\u0632\u0646",completed:"\u0645\u0643\u062a\u0645\u0644",rejected:"\u0645\u0631\u0641\u0648\u0636"}[e]||e),k=e=>({high:"\u0639\u0627\u062c\u0644",medium:"\u0645\u062a\u0648\u0633\u0637",low:"\u0639\u0627\u062f\u064a"}[e]||e),S=e=>"admin"===t.role||("accounting"===t.role&&"accounting_review"===e.current_stage||"warehouse_keeper"===t.role&&"warehouse_review"===e.current_stage),C=i.filter((e=>("all"===g||e.action===g)&&(!(v.start&&new Date(e.approved_at)<new Date(v.start))&&!(v.end&&new Date(e.approved_at)>new Date(v.end)))));return(0,Tt.jsx)("div",{style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh"},children:(0,Tt.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Tt.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center",children:[(0,Tt.jsx)("div",{className:"w-12 h-12 md:w-16 md:h-16 card-gradient-green rounded-full flex items-center justify-center ml-4 glow-pulse",children:(0,Tt.jsx)(Wt,{name:"analytics",size:32})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h2",{className:"text-2xl md:text-4xl font-bold text-gradient",children:"\u0646\u0638\u0627\u0645 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0627\u062a \u0627\u0644\u0645\u062a\u0642\u062f\u0645"}),(0,Tt.jsx)("p",{className:"text-sm md:text-lg",style:{color:"var(--text-secondary)"},children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u062a\u0633\u0644\u0633\u0644 \u0627\u0644\u0647\u0631\u0645\u064a \u0644\u0644\u0645\u0648\u0627\u0641\u0642\u0627\u062a \u0648\u0627\u0644\u0645\u0631\u0627\u062c\u0639\u0627\u062a"})]})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-4 rounded-xl",children:[(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u062f\u0648\u0631\u0643 \u0627\u0644\u062d\u0627\u0644\u064a:"}),(0,Tt.jsx)("div",{className:"text-lg font-bold",children:_(N())}),(0,Tt.jsxs)("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[l.length," \u0637\u0644\u0628 \u0641\u064a \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631"]})]})]}),(0,Tt.jsx)("div",{className:"flex gap-2 mb-6 overflow-x-auto",children:[{id:"pending",label:"\u0627\u0644\u0645\u0639\u0644\u0642\u0629",icon:"\u23f3",count:l.length},{id:"history",label:"\u0627\u0644\u0633\u062c\u0644",icon:"\ud83d\udccb",count:i.length},{id:"workflow",label:"\u0645\u0633\u0627\u0631 \u0627\u0644\u0639\u0645\u0644",icon:"\ud83d\udd04",count:null},{id:"analytics",label:"\u0627\u0644\u062a\u062d\u0644\u064a\u0644\u0627\u062a",icon:"\ud83d\udcca",count:null}].map((e=>(0,Tt.jsxs)("button",{onClick:()=>a(e.id),className:"px-6 py-3 rounded-lg font-medium transition-all whitespace-nowrap ".concat(s===e.id?"bg-green-600 text-white shadow-lg":"glass-effect hover:bg-white hover:bg-opacity-10"),children:[(0,Tt.jsx)("span",{className:"mr-2",children:e.icon}),e.label,null!==e.count&&(0,Tt.jsx)("span",{className:"mr-2 px-2 py-1 bg-white bg-opacity-20 rounded-full text-xs",children:e.count})]},e.id)))}),"pending"===s&&(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Tt.jsx)("div",{className:"glass-effect p-6 rounded-xl",children:(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold",children:l.length}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0637\u0644\u0628\u0627\u062a \u0645\u0639\u0644\u0642\u0629"})]}),(0,Tt.jsx)("div",{className:"text-3xl",children:"\u23f3"})]})}),(0,Tt.jsx)("div",{className:"glass-effect p-6 rounded-xl",children:(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold",children:l.filter((e=>"high"===e.urgency)).length}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0639\u0627\u062c\u0644"})]}),(0,Tt.jsx)("div",{className:"text-3xl",children:"\ud83d\udea8"})]})}),(0,Tt.jsx)("div",{className:"glass-effect p-6 rounded-xl",children:(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("div",{className:"text-2xl font-bold",children:[l.reduce(((e,t)=>e+t.total_amount),0)," \u062c.\u0645"]}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a\u0629"})]}),(0,Tt.jsx)("div",{className:"text-3xl",children:"\ud83d\udcb0"})]})}),(0,Tt.jsx)("div",{className:"glass-effect p-6 rounded-xl",children:(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold",children:new Set(l.map((e=>e.sales_rep_id))).size}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u0646\u0627\u062f\u064a\u0628"})]}),(0,Tt.jsx)("div",{className:"text-3xl",children:"\ud83d\udc65"})]})})]}),(0,Tt.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:l.map((e=>{return(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl hover:scale-105 transition-transform",children:[(0,Tt.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h4",{className:"font-bold text-lg",children:e.order_number}),(0,Tt.jsxs)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:[e.sales_rep," \u2022 ",new Date(e.submitted_at).toLocaleDateString("ar-EG")]})]}),(0,Tt.jsxs)("div",{className:"flex gap-2",children:[(0,Tt.jsx)("span",{className:"px-2 py-1 rounded text-xs font-bold ".concat((t=e.urgency,{high:"bg-red-100 text-red-800",medium:"bg-yellow-100 text-yellow-800",low:"bg-green-100 text-green-800"}[t]||"bg-gray-100 text-gray-800")),children:k(e.urgency)}),(0,Tt.jsx)("span",{className:"px-2 py-1 rounded text-xs bg-blue-100 text-blue-800",children:_(e.current_stage)})]})]}),(0,Tt.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0637\u0628\u064a\u0628:"}),(0,Tt.jsx)("span",{className:"text-sm font-bold",children:e.doctor_name})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629:"}),(0,Tt.jsx)("span",{className:"text-sm",children:e.clinic_name})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0639\u062f\u062f \u0627\u0644\u0623\u0635\u0646\u0627\u0641:"}),(0,Tt.jsx)("span",{className:"text-sm",children:e.items.length})]}),(0,Tt.jsxs)("div",{className:"flex justify-between border-t pt-2",children:[(0,Tt.jsx)("span",{className:"font-bold",children:"\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a:"}),(0,Tt.jsxs)("span",{className:"text-lg font-bold text-green-600",children:[e.total_amount," \u062c.\u0645"]})]})]}),(0,Tt.jsx)("div",{className:"mb-4",children:(0,Tt.jsx)("div",{className:"flex justify-between items-center mb-2",children:Object.entries(e.workflow_status).map(((e,t)=>{let[s,a]=e;return(0,Tt.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Tt.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-xs ".concat("completed"===a.status?"bg-green-500 text-white":"pending"===a.status?"bg-blue-500 text-white":"bg-gray-400 text-white"),children:w(s)}),(0,Tt.jsx)("div",{className:"text-xs mt-1 text-center",children:_(s)})]},s)}))})}),(0,Tt.jsxs)("div",{className:"flex gap-2",children:[(0,Tt.jsx)("button",{onClick:()=>{u(e),x(!0)},className:"btn-info flex-1 text-xs py-2",children:"\u0639\u0631\u0636 \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644"}),S(e)&&(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)("button",{onClick:()=>y(e.id,"approve"),className:"btn-success flex-1 text-xs py-2",children:"\u0645\u0648\u0627\u0641\u0642\u0629"}),(0,Tt.jsx)("button",{onClick:()=>y(e.id,"reject"),className:"btn-danger flex-1 text-xs py-2",children:"\u0631\u0641\u0636"})]})]})]},e.id);var t}))}),0===l.length&&(0,Tt.jsxs)("div",{className:"glass-effect p-12 rounded-xl text-center",children:[(0,Tt.jsx)("div",{className:"text-4xl mb-4",children:"\u2705"}),(0,Tt.jsx)("h3",{className:"text-xl font-bold mb-2",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0637\u0644\u0628\u0627\u062a \u0645\u0639\u0644\u0642\u0629"}),(0,Tt.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0637\u0644\u0628\u0627\u062a \u062a\u0645 \u0645\u0631\u0627\u062c\u0639\u062a\u0647\u0627"})]})]}),"history"===s&&(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsx)("h3",{className:"text-lg font-bold mb-4",children:"\u0641\u0644\u0627\u062a\u0631 \u0627\u0644\u0633\u062c\u0644:"}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u062d\u0627\u0644\u0629:"}),(0,Tt.jsxs)("select",{value:g,onChange:e=>f(e.target.value),className:"form-modern w-full",children:[(0,Tt.jsx)("option",{value:"all",children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0627\u0644\u0627\u062a"}),(0,Tt.jsx)("option",{value:"approved",children:"\u0645\u0648\u0627\u0641\u0642\u0629"}),(0,Tt.jsx)("option",{value:"rejected",children:"\u0631\u0641\u0636"})]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0645\u0646 \u062a\u0627\u0631\u064a\u062e:"}),(0,Tt.jsx)("input",{type:"date",value:v.start,onChange:e=>b(d(d({},v),{},{start:e.target.value})),className:"form-modern w-full"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0625\u0644\u0649 \u062a\u0627\u0631\u064a\u062e:"}),(0,Tt.jsx)("input",{type:"date",value:v.end,onChange:e=>b(d(d({},v),{},{end:e.target.value})),className:"form-modern w-full"})]})]})]}),(0,Tt.jsx)("div",{className:"glass-effect rounded-xl overflow-hidden",children:(0,Tt.jsx)("div",{className:"table-modern overflow-x-auto",children:(0,Tt.jsxs)("table",{className:"min-w-full",children:[(0,Tt.jsx)("thead",{children:(0,Tt.jsxs)("tr",{children:[(0,Tt.jsx)("th",{className:"px-6 py-3 text-right",children:"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628"}),(0,Tt.jsx)("th",{className:"px-6 py-3 text-center",children:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621"}),(0,Tt.jsx)("th",{className:"px-6 py-3 text-right",children:"\u0627\u0644\u0645\u0631\u062d\u0644\u0629"}),(0,Tt.jsx)("th",{className:"px-6 py-3 text-right",children:"\u0627\u0644\u0645\u0648\u0627\u0641\u0642"}),(0,Tt.jsx)("th",{className:"px-6 py-3 text-center",children:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e"}),(0,Tt.jsx)("th",{className:"px-6 py-3 text-right",children:"\u0627\u0644\u0642\u064a\u0645\u0629"}),(0,Tt.jsx)("th",{className:"px-6 py-3 text-center",children:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a"})]})}),(0,Tt.jsx)("tbody",{children:C.map((e=>(0,Tt.jsxs)("tr",{className:"border-b",style:{borderColor:"var(--border-color)"},children:[(0,Tt.jsx)("td",{className:"px-6 py-4 font-bold",children:e.order_number}),(0,Tt.jsx)("td",{className:"px-6 py-4 text-center",children:(0,Tt.jsx)("span",{className:"px-2 py-1 rounded text-xs font-bold ".concat("approved"===e.action?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:"approved"===e.action?"\u0645\u0648\u0627\u0641\u0642\u0629":"\u0631\u0641\u0636"})}),(0,Tt.jsx)("td",{className:"px-6 py-4",children:_(e.stage)}),(0,Tt.jsx)("td",{className:"px-6 py-4",children:(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"font-bold",children:e.approver}),(0,Tt.jsx)("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:e.approver_role})]})}),(0,Tt.jsxs)("td",{className:"px-6 py-4 text-center text-sm",children:[new Date(e.approved_at).toLocaleDateString("ar-EG"),(0,Tt.jsx)("br",{}),(0,Tt.jsx)("span",{className:"text-xs",style:{color:"var(--text-secondary)"},children:new Date(e.approved_at).toLocaleTimeString("ar-EG")})]}),(0,Tt.jsxs)("td",{className:"px-6 py-4 font-bold",children:[e.total_amount," \u062c.\u0645"]}),(0,Tt.jsx)("td",{className:"px-6 py-4 text-center",children:(0,Tt.jsx)("button",{className:"btn-info text-xs px-3 py-1",children:"\u062a\u0641\u0627\u0635\u064a\u0644"})})]},e.id)))})]})})})]}),m&&o&&(0,Tt.jsx)(ua,{order:o,onClose:()=>{x(!1),u(null)},onApprove:e=>y(o.id,"approve",e),onReject:e=>y(o.id,"reject",e),canApprove:S(o),userRole:t.role})]})})},ua=e=>{let{order:t,onClose:s,onApprove:a,onReject:l,canApprove:r,userRole:i}=e;const[c,o]=(0,n.useState)(""),[d,u]=(0,n.useState)(""),[m,x]=(0,n.useState)(!1),h=e=>{u(e),x(!0)},p=e=>({rep_submitted:"\ud83d\udcdd",accounting_review:"\ud83d\udcb0",warehouse_approval:"\ud83d\udce6",completed:"\u2705",rejected:"\u274c"}[e]||"\u23f3"),g=e=>({rep_submitted:"\u062a\u0645 \u062a\u0642\u062f\u064a\u0645 \u0627\u0644\u0637\u0644\u0628",accounting_review:"\u0645\u0631\u0627\u062c\u0639\u0629 \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629",warehouse_approval:"\u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0645\u062e\u0632\u0646",completed:"\u0645\u0643\u062a\u0645\u0644",rejected:"\u0645\u0631\u0641\u0648\u0636"}[e]||e);return(0,Tt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Tt.jsxs)("div",{className:"modal-modern p-8 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Tt.jsxs)("h3",{className:"text-2xl font-bold text-gradient",children:["\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0637\u0644\u0628: ",t.order_number]}),(0,Tt.jsx)("button",{onClick:s,className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\u2715"})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0637\u0644\u0628"}),(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628:"}),(0,Tt.jsx)("span",{className:"font-bold",children:t.order_number})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628:"}),(0,Tt.jsx)("span",{className:"font-bold",children:t.sales_rep})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0631\u0633\u0627\u0644:"}),(0,Tt.jsx)("span",{className:"text-sm",children:new Date(t.submitted_at).toLocaleDateString("ar-EG")})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0623\u0648\u0644\u0648\u064a\u0629:"}),(0,Tt.jsx)("span",{className:"px-2 py-1 rounded text-xs font-bold ".concat("high"===t.urgency?"bg-red-100 text-red-800":"medium"===t.urgency?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:"high"===t.urgency?"\u0639\u0627\u062c\u0644":"medium"===t.urgency?"\u0645\u062a\u0648\u0633\u0637":"\u0639\u0627\u062f\u064a"})]})]})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0639\u0645\u064a\u0644"}),(0,Tt.jsxs)("div",{className:"space-y-3",children:[(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0637\u0628\u064a\u0628:"}),(0,Tt.jsx)("span",{className:"font-bold",children:t.doctor_name})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629:"}),(0,Tt.jsx)("span",{className:"text-sm",children:t.clinic_name})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0639\u062f\u062f \u0627\u0644\u0623\u0635\u0646\u0627\u0641:"}),(0,Tt.jsx)("span",{className:"text-sm",children:t.items.length})]}),(0,Tt.jsxs)("div",{className:"flex justify-between border-t pt-2",children:[(0,Tt.jsx)("span",{className:"font-bold",children:"\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a:"}),(0,Tt.jsxs)("span",{className:"text-lg font-bold text-green-600",children:[t.total_amount," \u062c.\u0645"]})]})]})]})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl mb-6",children:[(0,Tt.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u062d\u0627\u0644\u0629 \u0633\u064a\u0631 \u0627\u0644\u0639\u0645\u0644"}),(0,Tt.jsx)("div",{className:"flex justify-between items-center",children:Object.entries(t.workflow_status).map(((e,s)=>{let[a,n]=e;return(0,Tt.jsxs)("div",{className:"flex flex-col items-center flex-1",children:[(0,Tt.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-lg ".concat("completed"===n.status?"bg-green-500 text-white":"pending"===n.status?"bg-blue-500 text-white":"bg-gray-400 text-white"),children:p(a)}),(0,Tt.jsx)("div",{className:"text-sm mt-2 text-center font-bold",children:g(a)}),"completed"===n.status&&(0,Tt.jsxs)("div",{className:"text-xs mt-1 text-center",style:{color:"var(--text-secondary)"},children:[n.user,(0,Tt.jsx)("br",{}),new Date(n.date).toLocaleDateString("ar-EG")]}),s<Object.entries(t.workflow_status).length-1&&(0,Tt.jsx)("div",{className:"absolute top-6 w-8 h-0.5 transform translate-x-12 ".concat("completed"===n.status?"bg-green-500":"bg-gray-400")})]},a)}))})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl mb-6",children:[(0,Tt.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0639\u0646\u0627\u0635\u0631 \u0627\u0644\u0637\u0644\u0628"}),(0,Tt.jsx)("div",{className:"table-modern overflow-x-auto",children:(0,Tt.jsxs)("table",{className:"min-w-full",children:[(0,Tt.jsx)("thead",{children:(0,Tt.jsxs)("tr",{children:[(0,Tt.jsx)("th",{className:"px-4 py-2 text-right",children:"\u0627\u0644\u0645\u0646\u062a\u062c"}),(0,Tt.jsx)("th",{className:"px-4 py-2 text-center",children:"\u0627\u0644\u0643\u0645\u064a\u0629"}),(0,Tt.jsx)("th",{className:"px-4 py-2 text-right",children:"\u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0629"}),(0,Tt.jsx)("th",{className:"px-4 py-2 text-right",children:"\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a"})]})}),(0,Tt.jsx)("tbody",{children:t.items.map(((e,t)=>(0,Tt.jsxs)("tr",{children:[(0,Tt.jsx)("td",{className:"px-4 py-2 font-bold",children:e.product_name}),(0,Tt.jsx)("td",{className:"px-4 py-2 text-center",children:e.quantity}),(0,Tt.jsxs)("td",{className:"px-4 py-2",children:[e.unit_price," \u062c.\u0645"]}),(0,Tt.jsxs)("td",{className:"px-4 py-2 font-bold",children:[(e.quantity*e.unit_price).toFixed(2)," \u062c.\u0645"]})]},t)))})]})})]}),t.notes&&(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl mb-6",children:[(0,Tt.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0627\u0644\u0637\u0644\u0628"}),(0,Tt.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:t.notes})]}),r&&!m&&(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl mb-6",children:[(0,Tt.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0625\u062c\u0631\u0627\u0621 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629"}),(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a (\u0627\u062e\u062a\u064a\u0627\u0631\u064a\u0629):"}),(0,Tt.jsx)("textarea",{value:c,onChange:e=>o(e.target.value),className:"form-modern w-full h-20",placeholder:"\u0623\u0636\u0641 \u0623\u064a \u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0623\u0648 \u062a\u0639\u0644\u064a\u0642\u0627\u062a..."})]}),(0,Tt.jsxs)("div",{className:"flex gap-4",children:[(0,Tt.jsxs)("button",{onClick:()=>h("approve"),className:"btn-success flex-1 flex items-center justify-center gap-2",children:[(0,Tt.jsx)("span",{children:"\u2705"}),(0,Tt.jsx)("span",{children:"\u0645\u0648\u0627\u0641\u0642\u0629"})]}),(0,Tt.jsxs)("button",{onClick:()=>h("reject"),className:"btn-danger flex-1 flex items-center justify-center gap-2",children:[(0,Tt.jsx)("span",{children:"\u274c"}),(0,Tt.jsx)("span",{children:"\u0631\u0641\u0636"})]})]})]})]}),m&&(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl mb-6 border-2 border-yellow-500",children:[(0,Tt.jsx)("h4",{className:"text-lg font-bold mb-4 text-yellow-600",children:"\u062a\u0623\u0643\u064a\u062f \u0627\u0644\u0625\u062c\u0631\u0627\u0621"}),(0,Tt.jsxs)("p",{className:"mb-4",children:["\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 ","approve"===d?"\u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649":"\u0631\u0641\u0636"," \u0647\u0630\u0627 \u0627\u0644\u0637\u0644\u0628\u061f"]}),c&&(0,Tt.jsxs)("div",{className:"mb-4 p-3 bg-gray-100 rounded-lg",children:[(0,Tt.jsx)("strong",{children:"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a:"})," ",c]}),(0,Tt.jsxs)("div",{className:"flex gap-4",children:[(0,Tt.jsxs)("button",{onClick:()=>{"approve"===d?a(c):"reject"===d&&l(c),x(!1),o(""),u("")},className:"flex-1 ".concat("approve"===d?"btn-success":"btn-danger"),children:["\u062a\u0623\u0643\u064a\u062f ","approve"===d?"\u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629":"\u0627\u0644\u0631\u0641\u0636"]}),(0,Tt.jsx)("button",{onClick:()=>x(!1),className:"btn-secondary flex-1",children:"\u0625\u0644\u063a\u0627\u0621"})]})]}),(0,Tt.jsx)("div",{className:"flex justify-end",children:(0,Tt.jsx)("button",{onClick:s,className:"btn-secondary px-6 py-2",children:"\u0625\u063a\u0644\u0627\u0642"})})]})})},ma=()=>{const{t:e}=It(),{user:t}=Yt(),[s,a]=(0,n.useState)([]),[l,r]=(0,n.useState)([]),[i,c]=(0,n.useState)([]),[o,d]=(0,n.useState)(null),[u,m]=(0,n.useState)(!1),[x,h]=(0,n.useState)(!1),[p,g]=(0,n.useState)(!1),[f,v]=(0,n.useState)(null),[b,j]=(0,n.useState)(!1),[y,N]=(0,n.useState)("all"),[w,_]=(0,n.useState)("all"),[k,S]=(0,n.useState)("");(0,n.useEffect)((()=>{C()}),[]);const C=async()=>{j(!0);try{const e=localStorage.getItem("access_token"),t=await Pt.get("".concat(Dt,"/users"),{headers:{Authorization:"Bearer ".concat(e)}});a(t.data);const s=await Pt.get("".concat(Dt,"/areas"),{headers:{Authorization:"Bearer ".concat(e)}});r(s.data);const n=t.data,l=["admin","gm","line_manager","area_manager","district_manager","manager"],i=n.filter((e=>l.includes(e.role)));c(i)}catch(e){console.error("Error loading user data:",e),a([{id:"user-001",username:"ahmed.mohamed",full_name:"\u0623\u062d\u0645\u062f \u0645\u062d\u0645\u062f \u0639\u0644\u064a",email:"ahmed@company.com",phone:"01234567890",role:"medical_rep",region_id:"region-001",region_name:"\u0627\u0644\u0642\u0627\u0647\u0631\u0629",direct_manager_id:"manager-001",direct_manager_name:"\u0645\u062d\u0645\u062f \u0627\u0644\u0633\u064a\u062f",profile_photo:null,address:"\u0645\u062f\u064a\u0646\u0629 \u0646\u0635\u0631\u060c \u0627\u0644\u0642\u0627\u0647\u0631\u0629",national_id:"12345678901234",hire_date:"2023-01-15",is_active:!0,performance_score:85,total_visits:156,total_orders:89},{id:"user-002",username:"fatma.ahmed",full_name:"\u0641\u0627\u0637\u0645\u0629 \u0623\u062d\u0645\u062f \u062d\u0633\u0646",email:"fatma@company.com",phone:"01098765432",role:"warehouse_keeper",region_id:"region-002",region_name:"\u0627\u0644\u062c\u064a\u0632\u0629",direct_manager_id:"manager-002",direct_manager_name:"\u0623\u0645\u064a\u0646\u0629 \u0627\u0644\u0645\u062e\u0632\u0646",profile_photo:null,address:"\u0627\u0644\u0645\u0647\u0646\u062f\u0633\u064a\u0646\u060c \u0627\u0644\u062c\u064a\u0632\u0629",national_id:"98765432109876",hire_date:"2023-03-20",is_active:!0,performance_score:92,total_visits:0,total_orders:0}]),r([{id:"region-001",name:"\u0627\u0644\u0642\u0627\u0647\u0631\u0629",manager_id:"manager-001"},{id:"region-002",name:"\u0627\u0644\u062c\u064a\u0632\u0629",manager_id:"manager-002"},{id:"region-003",name:"\u0627\u0644\u0625\u0633\u0643\u0646\u062f\u0631\u064a\u0629",manager_id:"manager-003"}]),c([{id:"manager-001",name:"\u0645\u062d\u0645\u062f \u0627\u0644\u0633\u064a\u062f",role:"area_manager"},{id:"manager-002",name:"\u0623\u0645\u064a\u0646\u0629 \u0627\u0644\u0645\u062e\u0632\u0646",role:"warehouse_manager"},{id:"manager-003",name:"\u0633\u0639\u062f \u0623\u062d\u0645\u062f",role:"district_manager"}])}finally{j(!1)}},E=s.filter((e=>{const t="all"===y||e.region_id===y,s="all"===w||e.role===w,a=""===k||e.full_name.toLowerCase().includes(k.toLowerCase())||e.username.toLowerCase().includes(k.toLowerCase())||e.email.toLowerCase().includes(k.toLowerCase());return t&&s&&a}));return(0,Tt.jsx)("div",{style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh"},children:(0,Tt.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Tt.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center",children:[(0,Tt.jsx)("div",{className:"w-12 h-12 md:w-16 md:h-16 card-gradient-purple rounded-full flex items-center justify-center ml-4 glow-pulse",children:(0,Tt.jsx)(Wt,{name:"users",size:32})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h2",{className:"text-2xl md:text-4xl font-bold text-gradient",children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0627\u0644\u0645\u062a\u0642\u062f\u0645\u0629"}),(0,Tt.jsx)("p",{className:"text-sm md:text-lg",style:{color:"var(--text-secondary)"},children:"\u0625\u062f\u0627\u0631\u0629 \u0634\u0627\u0645\u0644\u0629 \u0644\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0645\u0639 \u0631\u0628\u0637 \u0627\u0644\u0645\u0646\u0627\u0637\u0642 \u0648\u0627\u0644\u0645\u062f\u064a\u0631\u064a\u0646"})]})]}),(0,Tt.jsxs)("button",{onClick:()=>m(!0),className:"btn-primary flex items-center gap-2",children:[(0,Tt.jsx)(Wt,{name:"add",size:20}),(0,Tt.jsxs)("span",{children:[e("add")," ",e("user")]})]})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,Tt.jsx)("div",{className:"glass-effect p-6 rounded-xl",children:(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold",children:s.length}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"})]}),(0,Tt.jsx)("div",{className:"text-3xl",children:"\ud83d\udc65"})]})}),(0,Tt.jsx)("div",{className:"glass-effect p-6 rounded-xl",children:(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold",children:s.filter((e=>e.is_active)).length}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0646\u0634\u0637"})]}),(0,Tt.jsx)("div",{className:"text-3xl",children:"\u2705"})]})}),(0,Tt.jsx)("div",{className:"glass-effect p-6 rounded-xl",children:(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold",children:l.length}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0645\u0646\u0627\u0637\u0642"})]}),(0,Tt.jsx)("div",{className:"text-3xl",children:"\ud83d\uddfa\ufe0f"})]})}),(0,Tt.jsx)("div",{className:"glass-effect p-6 rounded-xl",children:(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("div",{className:"text-2xl font-bold",children:[Math.round(s.reduce(((e,t)=>e+(t.performance_score||0)),0)/s.length)||0,"%"]}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u062a\u0648\u0633\u0637 \u0627\u0644\u0623\u062f\u0627\u0621"})]}),(0,Tt.jsx)("div",{className:"text-3xl",children:"\ud83d\udcca"})]})})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl mb-8",children:[(0,Tt.jsx)("h3",{className:"text-lg font-bold mb-4",children:"\u0641\u0644\u0627\u062a\u0631 \u0627\u0644\u0628\u062d\u062b:"}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Tt.jsx)("div",{children:(0,Tt.jsx)("input",{type:"text",placeholder:"\u0627\u0644\u0628\u062d\u062b \u0628\u0627\u0644\u0625\u0633\u0645 \u0623\u0648 \u0627\u0644\u0625\u064a\u0645\u064a\u0644...",value:k,onChange:e=>S(e.target.value),className:"form-modern w-full"})}),(0,Tt.jsx)("div",{children:(0,Tt.jsxs)("select",{value:y,onChange:e=>N(e.target.value),className:"form-modern w-full",children:[(0,Tt.jsx)("option",{value:"all",children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u0646\u0627\u0637\u0642"}),l.map((e=>(0,Tt.jsx)("option",{value:e.id,children:e.name},e.id)))]})}),(0,Tt.jsx)("div",{children:(0,Tt.jsxs)("select",{value:w,onChange:e=>_(e.target.value),className:"form-modern w-full",children:[(0,Tt.jsx)("option",{value:"all",children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0623\u062f\u0648\u0627\u0631"}),(0,Tt.jsx)("option",{value:"admin",children:"\u0645\u062f\u064a\u0631 \u0627\u0644\u0646\u0638\u0627\u0645"}),(0,Tt.jsx)("option",{value:"area_manager",children:"\u0645\u062f\u064a\u0631 \u0627\u0644\u0645\u0646\u0637\u0642\u0629"}),(0,Tt.jsx)("option",{value:"medical_rep",children:"\u0645\u0646\u062f\u0648\u0628 \u0637\u0628\u064a"}),(0,Tt.jsx)("option",{value:"warehouse_keeper",children:"\u0623\u0645\u064a\u0646 \u0627\u0644\u0645\u062e\u0632\u0646"}),(0,Tt.jsx)("option",{value:"accounting",children:"\u0645\u062d\u0627\u0633\u0628"})]})}),(0,Tt.jsx)("div",{children:(0,Tt.jsx)("button",{onClick:()=>{S(""),N("all"),_("all")},className:"btn-secondary w-full",children:"\u0645\u0633\u062d \u0627\u0644\u0641\u0644\u0627\u062a\u0631"})})]})]}),(0,Tt.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:E.map((e=>{return(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl hover:scale-105 transition-transform",children:[(0,Tt.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold",children:e.profile_photo?(0,Tt.jsx)("img",{src:e.profile_photo,alt:e.full_name,className:"w-12 h-12 rounded-full object-cover"}):e.full_name.charAt(0).toUpperCase()}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h4",{className:"font-bold text-lg",children:e.full_name}),(0,Tt.jsxs)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["@",e.username]})]})]}),(0,Tt.jsx)("div",{className:"flex gap-2",children:(0,Tt.jsx)("span",{className:"px-2 py-1 rounded text-xs font-bold ".concat(e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.is_active?"\u0646\u0634\u0637":"\u063a\u064a\u0631 \u0646\u0634\u0637"})})]}),(0,Tt.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u062f\u0648\u0631:"}),(0,Tt.jsx)("span",{className:"text-sm font-bold",children:(t=e.role,{admin:"\u0645\u062f\u064a\u0631 \u0627\u0644\u0646\u0638\u0627\u0645",gm:"\u0627\u0644\u0645\u062f\u064a\u0631 \u0627\u0644\u0639\u0627\u0645",line_manager:"\u0645\u062f\u064a\u0631 \u0627\u0644\u062e\u0637",area_manager:"\u0645\u062f\u064a\u0631 \u0627\u0644\u0645\u0646\u0637\u0642\u0629",district_manager:"\u0645\u062f\u064a\u0631 \u0627\u0644\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u0645\u062d\u0644\u064a\u0629",key_account:"\u062d\u0633\u0627\u0628\u0627\u062a \u0631\u0626\u064a\u0633\u064a\u0629",medical_rep:"\u0645\u0646\u062f\u0648\u0628 \u0637\u0628\u064a",warehouse_keeper:"\u0623\u0645\u064a\u0646 \u0627\u0644\u0645\u062e\u0632\u0646",sales_rep:"\u0645\u0646\u062f\u0648\u0628 \u0645\u0628\u064a\u0639\u0627\u062a",accounting:"\u0645\u062d\u0627\u0633\u0628"}[t]||t)})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0645\u0646\u0637\u0642\u0629:"}),(0,Tt.jsx)("span",{className:"text-sm",children:e.region_name})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0645\u062f\u064a\u0631 \u0627\u0644\u0645\u0628\u0627\u0634\u0631:"}),(0,Tt.jsx)("span",{className:"text-sm",children:e.direct_manager_name})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0625\u064a\u0645\u064a\u0644:"}),(0,Tt.jsx)("span",{className:"text-sm",children:e.email})]}),(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0647\u0627\u062a\u0641:"}),(0,Tt.jsx)("span",{className:"text-sm",children:e.phone})]}),e.performance_score&&(0,Tt.jsxs)("div",{className:"flex justify-between",children:[(0,Tt.jsx)("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0646\u0642\u0627\u0637 \u0627\u0644\u0623\u062f\u0627\u0621:"}),(0,Tt.jsxs)("span",{className:"text-sm font-bold ".concat(e.performance_score>=80?"text-green-600":e.performance_score>=60?"text-yellow-600":"text-red-600"),children:[e.performance_score,"%"]})]})]}),e.performance_score&&(0,Tt.jsxs)("div",{className:"mb-4",children:[(0,Tt.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,Tt.jsx)("span",{children:"\u0627\u0644\u0623\u062f\u0627\u0621"}),(0,Tt.jsxs)("span",{children:[e.performance_score,"%"]})]}),(0,Tt.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,Tt.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(e.performance_score>=80?"bg-green-500":e.performance_score>=60?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(e.performance_score,"%")}})})]}),(0,Tt.jsxs)("div",{className:"flex gap-2",children:[(0,Tt.jsx)("button",{onClick:()=>{d(e),h(!0)},className:"btn-primary flex-1 text-xs py-2",children:"\u062a\u0639\u062f\u064a\u0644"}),(0,Tt.jsx)("button",{onClick:()=>{v(e),g(!0)},className:"btn-secondary flex-1 text-xs py-2",children:"\ud83d\udcca \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a"}),(0,Tt.jsx)("button",{onClick:()=>(async(e,t)=>{try{const s=localStorage.getItem("access_token");await Pt.patch("".concat(Dt,"/users/").concat(e,"/status"),{is_active:!t},{headers:{Authorization:"Bearer ".concat(s)}}),await C()}catch(s){console.error("Error toggling user status:",s)}})(e.id,e.is_active),className:"flex-1 text-xs py-2 ".concat(e.is_active?"btn-danger":"btn-success"),children:e.is_active?"\u0625\u064a\u0642\u0627\u0641":"\u062a\u0641\u0639\u064a\u0644"})]})]},e.id);var t}))}),0===E.length&&(0,Tt.jsxs)("div",{className:"glass-effect p-12 rounded-xl text-center",children:[(0,Tt.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udc64"}),(0,Tt.jsx)("h3",{className:"text-xl font-bold mb-2",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"}),(0,Tt.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:k||"all"!==y||"all"!==w?"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u062a\u0637\u0627\u0628\u0642 \u0645\u0639\u0627\u064a\u064a\u0631 \u0627\u0644\u0628\u062d\u062b":"\u0627\u0628\u062f\u0623 \u0628\u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062a\u062e\u062f\u0645 \u062c\u062f\u064a\u062f"})]}),u&&(0,Tt.jsx)(Kt,{mode:"add",regions:l,managers:i,onClose:()=>m(!1),onSave:async e=>{try{const t=localStorage.getItem("access_token");await Pt.post("".concat(Dt,"/users"),e,{headers:{Authorization:"Bearer ".concat(t)}}),await C(),m(!1),alert("\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0646\u062c\u0627\u062d")}catch(a){var t,s;console.error("Error adding user:",a),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645: "+((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.detail)||a.message))}}}),x&&o&&(0,Tt.jsx)(Kt,{mode:"edit",user:o,regions:l,managers:i,onClose:()=>{h(!1),d(null)},onSave:async e=>{try{const t=localStorage.getItem("access_token");await Pt.patch("".concat(Dt,"/users/").concat(o.id),e,{headers:{Authorization:"Bearer ".concat(t)}}),await C(),h(!1),d(null)}catch(t){console.error("Error updating user:",t)}}}),p&&f&&(0,Tt.jsx)(vs,{user:f,onClose:()=>{g(!1),v(null)}})]})})},xa=()=>{const{t:e}=It(),{user:t}=Yt(),[s,a]=(0,n.useState)("dashboard"),[l,r]=(0,n.useState)([]),[i,c]=(0,n.useState)([]),[o,u]=(0,n.useState)([]),[m,x]=(0,n.useState)((new Date).toISOString().slice(0,7)),[h,p]=(0,n.useState)(null),[g,f]=(0,n.useState)(!1),[v,b]=(0,n.useState)(""),[j,y]=(0,n.useState)(""),[N,w]=(0,n.useState)(!1),[_,k]=(0,n.useState)(!1),[S,C]=(0,n.useState)({rep_id:"",month:(new Date).toISOString().slice(0,7),objectives:[],visits:[],targets:{total_visits:0,new_clients:0,demos:0,sales:0},notes:""}),[E,A]=(0,n.useState)({totalPlans:0,completedPlans:0,averageCompletion:0,topPerformers:[],weeklyProgress:[]}),[L,z]=(0,n.useState)([{id:"template-1",name:"\u062e\u0637\u0629 \u0645\u0646\u062f\u0648\u0628 \u062c\u062f\u064a\u062f",description:"\u062e\u0637\u0629 \u0634\u0627\u0645\u0644\u0629 \u0644\u0644\u0645\u0646\u062f\u0648\u0628\u064a\u0646 \u0627\u0644\u062c\u062f\u062f",targets:{total_visits:15,new_clients:5,demos:10,sales:3},objectives:["\u0627\u0644\u062a\u0639\u0631\u0641 \u0639\u0644\u0649 \u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a \u0641\u064a \u0627\u0644\u0645\u0646\u0637\u0642\u0629","\u0628\u0646\u0627\u0621 \u0639\u0644\u0627\u0642\u0627\u062a \u0645\u0639 \u0627\u0644\u0623\u0637\u0628\u0627\u0621","\u062a\u0642\u062f\u064a\u0645 \u0627\u0644\u0639\u064a\u0646\u0627\u062a \u0627\u0644\u0645\u062c\u0627\u0646\u064a\u0629","\u062c\u0645\u0639 \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0633\u0648\u0642"]},{id:"template-2",name:"\u062e\u0637\u0629 \u0645\u0646\u062f\u0648\u0628 \u0645\u062a\u0642\u062f\u0645",description:"\u062e\u0637\u0629 \u0644\u0644\u0645\u0646\u062f\u0648\u0628\u064a\u0646 \u0630\u0648\u064a \u0627\u0644\u062e\u0628\u0631\u0629",targets:{total_visits:25,new_clients:8,demos:15,sales:12},objectives:["\u0632\u064a\u0627\u062f\u0629 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a \u0641\u064a \u0627\u0644\u0645\u0646\u0637\u0642\u0629","\u062a\u0637\u0648\u064a\u0631 \u0639\u0645\u0644\u0627\u0621 \u062c\u062f\u062f","\u0645\u062a\u0627\u0628\u0639\u0629 \u0627\u0644\u0639\u0645\u0644\u0627\u0621 \u0627\u0644\u062d\u0627\u0644\u064a\u064a\u0646","\u062a\u062d\u0644\u064a\u0644 \u0627\u0644\u0645\u0646\u0627\u0641\u0633\u0629 \u0648\u062a\u0642\u062f\u064a\u0645 \u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631"]}]);(0,n.useEffect)((()=>{P()}),[m]);const P=async()=>{f(!0),b("");try{var e;const s=localStorage.getItem("access_token"),a=await Pt.get("".concat(Dt,"/planning/monthly"),{headers:{Authorization:"Bearer ".concat(s)},params:{month:m}});r(a.data||[]);let n=[];if("admin"===t.role||"gm"===t.role){n=(await Pt.get("".concat(Dt,"/users"),{headers:{Authorization:"Bearer ".concat(s)}})).data.filter((e=>"medical_rep"===e.role||"sales_rep"===e.role))}else{n=(await Pt.get("".concat(Dt,"/users/my-team"),{headers:{Authorization:"Bearer ".concat(s)}})).data||[]}c(n);const l=await Pt.get("".concat(Dt,"/clinics/my-region"),{headers:{Authorization:"Bearer ".concat(s)}});u((null===(e=l.data)||void 0===e?void 0:e.clinics)||[]),T(a.data||[])}catch(v){console.error("Error loading planning data:",v),b("\u0641\u0634\u0644 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u062a\u062e\u0637\u064a\u0637")}finally{f(!1)}},T=e=>{const t=e.length,s=e.filter((e=>"completed"===e.status)).length,a=t>0?e.reduce(((e,t)=>e+(t.completion_rate||0)),0)/t:0,n=e.sort(((e,t)=>(t.completion_rate||0)-(e.completion_rate||0))).slice(0,5).map((e=>({name:e.rep_name,completion:e.completion_rate||0,visits:e.total_visits_completed||0})));A({totalPlans:t,completedPlans:s,averageCompletion:Math.round(a),topPerformers:n,weeklyProgress:O(e)})},O=e=>["\u0627\u0644\u0623\u0633\u0628\u0648\u0639 1","\u0627\u0644\u0623\u0633\u0628\u0648\u0639 2","\u0627\u0644\u0623\u0633\u0628\u0648\u0639 3","\u0627\u0644\u0623\u0633\u0628\u0648\u0639 4"].map(((e,t)=>({week:e,planned:Math.floor(50*Math.random())+20,completed:Math.floor(40*Math.random())+15}))),M=(e,t,s)=>{C(d(d({},S),{},{visits:S.visits.map((a=>a.id===e?d(d({},a),{},{[t]:s}):a))}))};return g&&0===l.length?(0,Tt.jsxs)("div",{className:"flex items-center justify-center h-64",children:[(0,Tt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"}),(0,Tt.jsx)("span",{className:"mr-3",children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0646\u0638\u0627\u0645 \u0627\u0644\u062a\u062e\u0637\u064a\u0637 \u0627\u0644\u0634\u0647\u0631\u064a..."})]}):(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-lg",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("h2",{className:"text-2xl font-bold flex items-center gap-3",children:[(0,Tt.jsx)("span",{className:"text-3xl",children:"\ud83d\udcca"}),"\u0646\u0638\u0627\u0645 \u0627\u0644\u062a\u062e\u0637\u064a\u0637 \u0627\u0644\u0634\u0647\u0631\u064a \u0627\u0644\u0645\u062a\u0642\u062f\u0645"]}),(0,Tt.jsx)("p",{className:"text-sm mt-2",style:{color:"var(--text-secondary)"},children:"\u0625\u062f\u0627\u0631\u0629 \u0634\u0627\u0645\u0644\u0629 \u0648\u0627\u062d\u062a\u0631\u0627\u0641\u064a\u0629 \u0644\u0644\u062e\u0637\u0637 \u0627\u0644\u0634\u0647\u0631\u064a\u0629 \u0648\u0627\u0644\u0623\u0647\u062f\u0627\u0641"})]}),(0,Tt.jsxs)("div",{className:"text-right",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold",children:l.length}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u062e\u0637\u0629 \u0646\u0634\u0637\u0629"})]})]}),(0,Tt.jsx)("div",{className:"flex flex-wrap gap-2",children:[{id:"dashboard",label:"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645",icon:"\ud83d\udcca"},{id:"create",label:"\u0625\u0646\u0634\u0627\u0621 \u062e\u0637\u0629",icon:"\u2795"},{id:"manage",label:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u062e\u0637\u0637",icon:"\ud83d\udccb"},{id:"analytics",label:"\u0627\u0644\u062a\u062d\u0644\u064a\u0644\u0627\u062a",icon:"\ud83d\udcc8"}].map((e=>(0,Tt.jsxs)("button",{onClick:()=>a(e.id),className:"px-4 py-2 rounded-lg text-sm transition-all ".concat(s===e.id?"bg-blue-500 text-white":"bg-gray-100 bg-opacity-20 hover:bg-gray-100 hover:bg-opacity-30"),children:[(0,Tt.jsx)("span",{className:"text-lg mr-2",children:e.icon}),e.label]},e.id)))}),(0,Tt.jsxs)("div",{className:"mt-4 flex items-center gap-4",children:[(0,Tt.jsx)("label",{className:"text-sm font-bold",children:"\u0627\u0644\u0634\u0647\u0631:"}),(0,Tt.jsx)("input",{type:"month",value:m,onChange:e=>x(e.target.value),className:"px-3 py-2 rounded-lg border border-gray-300 border-opacity-30"})]})]}),v&&(0,Tt.jsx)("div",{className:"bg-red-100 bg-opacity-30 border border-red-300 text-red-600 p-4 rounded-lg",children:(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"text-xl",children:"\u274c"}),(0,Tt.jsx)("span",{children:v})]})}),j&&(0,Tt.jsx)("div",{className:"bg-green-100 bg-opacity-30 border border-green-300 text-green-600 p-4 rounded-lg",children:(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:"text-xl",children:"\u2705"}),(0,Tt.jsx)("span",{children:j})]})}),"dashboard"===s&&(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Tt.jsxs)("div",{className:"glass-effect p-4 rounded-lg text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl mb-2",children:"\ud83d\udcca"}),(0,Tt.jsx)("div",{className:"text-2xl font-bold",children:E.totalPlans}),(0,Tt.jsx)("div",{className:"text-sm text-gray-600",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u062e\u0637\u0637"})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-4 rounded-lg text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl mb-2",children:"\u2705"}),(0,Tt.jsx)("div",{className:"text-2xl font-bold",children:E.completedPlans}),(0,Tt.jsx)("div",{className:"text-sm text-gray-600",children:"\u062e\u0637\u0637 \u0645\u0643\u062a\u0645\u0644\u0629"})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-4 rounded-lg text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl mb-2",children:"\ud83d\udcc8"}),(0,Tt.jsxs)("div",{className:"text-2xl font-bold",children:[E.averageCompletion,"%"]}),(0,Tt.jsx)("div",{className:"text-sm text-gray-600",children:"\u0645\u062a\u0648\u0633\u0637 \u0627\u0644\u0625\u0646\u062c\u0627\u0632"})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-4 rounded-lg text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl mb-2",children:"\ud83d\udc65"}),(0,Tt.jsx)("div",{className:"text-2xl font-bold",children:i.length}),(0,Tt.jsx)("div",{className:"text-sm text-gray-600",children:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628\u064a\u0646"})]})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-lg",children:[(0,Tt.jsx)("h3",{className:"text-lg font-bold mb-4",children:"\u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0633\u0631\u064a\u0639\u0629"}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Tt.jsxs)("button",{onClick:()=>a("create"),className:"btn-primary p-4 text-center",children:[(0,Tt.jsx)("div",{className:"text-2xl mb-2",children:"\u2795"}),(0,Tt.jsx)("div",{className:"font-bold",children:"\u0625\u0646\u0634\u0627\u0621 \u062e\u0637\u0629 \u062c\u062f\u064a\u062f\u0629"})]}),(0,Tt.jsxs)("button",{onClick:()=>a("analytics"),className:"btn-secondary p-4 text-center",children:[(0,Tt.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udcc8"}),(0,Tt.jsx)("div",{className:"font-bold",children:"\u0639\u0631\u0636 \u0627\u0644\u062a\u062d\u0644\u064a\u0644\u0627\u062a"})]}),(0,Tt.jsxs)("button",{onClick:P,className:"btn-secondary p-4 text-center",children:[(0,Tt.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udd04"}),(0,Tt.jsx)("div",{className:"font-bold",children:"\u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a"})]})]})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-lg",children:[(0,Tt.jsx)("h3",{className:"text-lg font-bold mb-4",children:"\u0627\u0644\u062e\u0637\u0637 \u0627\u0644\u062d\u062f\u064a\u062b\u0629"}),l.length>0?(0,Tt.jsx)("div",{className:"space-y-3",children:l.slice(0,5).map((e=>(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-100 bg-opacity-20 rounded-lg",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"font-bold",children:e.rep_name}),(0,Tt.jsxs)("div",{className:"text-sm text-gray-600",children:[e.total_visits_completed||0," / ",e.total_visits_planned||0," \u0632\u064a\u0627\u0631\u0629"]})]}),(0,Tt.jsxs)("div",{className:"text-right",children:[(0,Tt.jsxs)("div",{className:"text-lg font-bold",children:[e.completion_rate||0,"%"]}),(0,Tt.jsx)("div",{className:"text-sm px-2 py-1 rounded ".concat((e.completion_rate||0)>=80?"bg-green-100 text-green-600":(e.completion_rate||0)>=60?"bg-yellow-100 text-yellow-600":"bg-red-100 text-red-600"),children:"completed"===e.status?"\u0645\u0643\u062a\u0645\u0644":"active"===e.status?"\u0646\u0634\u0637":"\u0645\u0639\u0644\u0642"})]})]},e.id)))}):(0,Tt.jsx)("div",{className:"text-center py-6 text-gray-500",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u062e\u0637\u0637 \u0634\u0647\u0631\u064a\u0629 \u0645\u062a\u0627\u062d\u0629"})]})]}),"create"===s&&(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-lg",children:[(0,Tt.jsx)("h3",{className:"text-lg font-bold mb-4",children:"\u0642\u0648\u0627\u0644\u0628 \u0627\u0644\u062e\u0637\u0637 \u0627\u0644\u062c\u0627\u0647\u0632\u0629"}),(0,Tt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:L.map((e=>(0,Tt.jsxs)("div",{className:"p-4 border border-gray-300 border-opacity-30 rounded-lg",children:[(0,Tt.jsx)("div",{className:"font-bold mb-2",children:e.name}),(0,Tt.jsx)("div",{className:"text-sm text-gray-600 mb-3",children:e.description}),(0,Tt.jsxs)("div",{className:"text-xs space-y-1 mb-3",children:[(0,Tt.jsxs)("div",{children:["\u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a: ",e.targets.total_visits]}),(0,Tt.jsxs)("div",{children:["\u0639\u0645\u0644\u0627\u0621 \u062c\u062f\u062f: ",e.targets.new_clients]}),(0,Tt.jsxs)("div",{children:["\u062f\u064a\u0645\u0648: ",e.targets.demos]}),(0,Tt.jsxs)("div",{children:["\u0645\u0628\u064a\u0639\u0627\u062a: ",e.targets.sales]})]}),(0,Tt.jsx)("button",{onClick:()=>(e=>{C(d(d({},S),{},{targets:e.targets,objectives:e.objectives}))})(e),className:"btn-secondary text-sm px-3 py-1 w-full",children:"\u062a\u0637\u0628\u064a\u0642 \u0627\u0644\u0642\u0627\u0644\u0628"})]},e.id)))})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-lg",children:[(0,Tt.jsx)("h3",{className:"text-lg font-bold mb-4",children:"\u0625\u0646\u0634\u0627\u0621 \u062e\u0637\u0629 \u0634\u0647\u0631\u064a\u0629 \u062c\u062f\u064a\u062f\u0629"}),(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0645\u0646\u062f\u0648\u0628"}),(0,Tt.jsxs)("select",{value:S.rep_id,onChange:e=>C(d(d({},S),{},{rep_id:e.target.value})),className:"w-full p-3 rounded-lg border border-gray-300 border-opacity-30",children:[(0,Tt.jsx)("option",{value:"",children:"-- \u0627\u062e\u062a\u0631 \u0627\u0644\u0645\u0646\u062f\u0648\u0628 --"}),i.map((e=>(0,Tt.jsxs)("option",{value:e.id,children:[e.full_name," - ",e.region_id]},e.id)))]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0634\u0647\u0631"}),(0,Tt.jsx)("input",{type:"month",value:S.month,onChange:e=>C(d(d({},S),{},{month:e.target.value})),className:"w-full p-3 rounded-lg border border-gray-300 border-opacity-30"})]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h4",{className:"font-bold mb-3",children:"\u0627\u0644\u0623\u0647\u062f\u0627\u0641 \u0627\u0644\u0631\u0642\u0645\u064a\u0629"}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm mb-1",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a"}),(0,Tt.jsx)("input",{type:"number",min:"0",value:S.targets.total_visits,onChange:e=>C(d(d({},S),{},{targets:d(d({},S.targets),{},{total_visits:parseInt(e.target.value)||0})})),className:"w-full p-2 rounded border border-gray-300 border-opacity-30"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm mb-1",children:"\u0639\u0645\u0644\u0627\u0621 \u062c\u062f\u062f"}),(0,Tt.jsx)("input",{type:"number",min:"0",value:S.targets.new_clients,onChange:e=>C(d(d({},S),{},{targets:d(d({},S.targets),{},{new_clients:parseInt(e.target.value)||0})})),className:"w-full p-2 rounded border border-gray-300 border-opacity-30"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm mb-1",children:"\u0639\u0631\u0648\u0636 \u062a\u0648\u0636\u064a\u062d\u064a\u0629"}),(0,Tt.jsx)("input",{type:"number",min:"0",value:S.targets.demos,onChange:e=>C(d(d({},S),{},{targets:d(d({},S.targets),{},{demos:parseInt(e.target.value)||0})})),className:"w-full p-2 rounded border border-gray-300 border-opacity-30"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm mb-1",children:"\u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u0647\u062f\u0641\u0629"}),(0,Tt.jsx)("input",{type:"number",min:"0",value:S.targets.sales,onChange:e=>C(d(d({},S),{},{targets:d(d({},S.targets),{},{sales:parseInt(e.target.value)||0})})),className:"w-full p-2 rounded border border-gray-300 border-opacity-30"})]})]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Tt.jsx)("h4",{className:"font-bold",children:"\u0627\u0644\u0623\u0647\u062f\u0627\u0641 \u0627\u0644\u0646\u0648\u0639\u064a\u0629"}),(0,Tt.jsx)("button",{onClick:()=>{C(d(d({},S),{},{objectives:[...S.objectives,""]}))},className:"btn-secondary text-sm px-3 py-1",children:"\u2795 \u0625\u0636\u0627\u0641\u0629 \u0647\u062f\u0641"})]}),(0,Tt.jsx)("div",{className:"space-y-2",children:S.objectives.map(((e,t)=>(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("input",{type:"text",value:e,onChange:e=>((e,t)=>{const s=[...S.objectives];s[e]=t,C(d(d({},S),{},{objectives:s}))})(t,e.target.value),placeholder:"\u0627\u0643\u062a\u0628 \u0627\u0644\u0647\u062f\u0641...",className:"flex-1 p-2 rounded border border-gray-300 border-opacity-30"}),(0,Tt.jsx)("button",{onClick:()=>(e=>{C(d(d({},S),{},{objectives:S.objectives.filter(((t,s)=>s!==e))}))})(t),className:"text-red-500 hover:text-red-700 px-2",children:"\ud83d\uddd1\ufe0f"})]},t)))})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Tt.jsx)("h4",{className:"font-bold",children:"\u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u0645\u062e\u0637\u0637\u0629"}),(0,Tt.jsx)("button",{onClick:()=>{const e={id:"visit-".concat(Date.now()),clinic_id:"",planned_date:"",objectives:"",expected_outcome:"",priority:"normal"};C(d(d({},S),{},{visits:[...S.visits,e]}))},className:"btn-secondary text-sm px-3 py-1",children:"\u2795 \u0625\u0636\u0627\u0641\u0629 \u0632\u064a\u0627\u0631\u0629"})]}),S.visits.length>0&&(0,Tt.jsx)("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:S.visits.map((e=>(0,Tt.jsxs)("div",{className:"p-3 bg-gray-100 bg-opacity-20 rounded-lg",children:[(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-xs mb-1",children:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629"}),(0,Tt.jsxs)("select",{value:e.clinic_id,onChange:t=>M(e.id,"clinic_id",t.target.value),className:"w-full p-2 text-sm rounded border border-gray-300 border-opacity-30",children:[(0,Tt.jsx)("option",{value:"",children:"-- \u0627\u062e\u062a\u0631 \u0627\u0644\u0639\u064a\u0627\u062f\u0629 --"}),o.map((e=>(0,Tt.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-xs mb-1",children:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0645\u062e\u0637\u0637"}),(0,Tt.jsx)("input",{type:"date",value:e.planned_date,onChange:t=>M(e.id,"planned_date",t.target.value),className:"w-full p-2 text-sm rounded border border-gray-300 border-opacity-30"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-xs mb-1",children:"\u0627\u0644\u0623\u0648\u0644\u0648\u064a\u0629"}),(0,Tt.jsxs)("select",{value:e.priority,onChange:t=>M(e.id,"priority",t.target.value),className:"w-full p-2 text-sm rounded border border-gray-300 border-opacity-30",children:[(0,Tt.jsx)("option",{value:"normal",children:"\u0639\u0627\u062f\u064a\u0629"}),(0,Tt.jsx)("option",{value:"high",children:"\u0645\u0647\u0645\u0629"}),(0,Tt.jsx)("option",{value:"urgent",children:"\u0639\u0627\u062c\u0644\u0629"})]})]})]}),(0,Tt.jsxs)("div",{className:"mt-2 flex justify-between items-center",children:[(0,Tt.jsx)("input",{type:"text",value:e.objectives,onChange:t=>M(e.id,"objectives",t.target.value),placeholder:"\u0623\u0647\u062f\u0627\u0641 \u0627\u0644\u0632\u064a\u0627\u0631\u0629...",className:"flex-1 p-2 text-sm rounded border border-gray-300 border-opacity-30"}),(0,Tt.jsx)("button",{onClick:()=>{return t=e.id,void C(d(d({},S),{},{visits:S.visits.filter((e=>e.id!==t))}));var t},className:"text-red-500 hover:text-red-700 px-2 ml-2",children:"\ud83d\uddd1\ufe0f"})]})]},e.id)))})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0625\u0636\u0627\u0641\u064a\u0629"}),(0,Tt.jsx)("textarea",{value:S.notes,onChange:e=>C(d(d({},S),{},{notes:e.target.value})),rows:3,className:"w-full p-3 rounded-lg border border-gray-300 border-opacity-30",placeholder:"\u0623\u0636\u0641 \u0623\u064a \u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0623\u0648 \u062a\u0639\u0644\u064a\u0645\u0627\u062a \u062e\u0627\u0635\u0629..."})]}),(0,Tt.jsxs)("div",{className:"flex gap-4",children:[(0,Tt.jsx)("button",{onClick:async()=>{if(S.rep_id){f(!0);try{const e=localStorage.getItem("access_token"),s=d(d({},S),{},{created_by:t.id,status:"active",created_at:(new Date).toISOString()});await Pt.post("".concat(Dt,"/planning/monthly"),s,{headers:{Authorization:"Bearer ".concat(e)}}),y("\u062a\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u062e\u0637\u0629 \u0627\u0644\u0634\u0647\u0631\u064a\u0629 \u0628\u0646\u062c\u0627\u062d"),a("dashboard"),P(),C({rep_id:"",month:(new Date).toISOString().slice(0,7),objectives:[],visits:[],targets:{total_visits:0,new_clients:0,demos:0,sales:0},notes:""})}catch(v){b("\u0641\u0634\u0644 \u0641\u064a \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u062e\u0637\u0629 \u0627\u0644\u0634\u0647\u0631\u064a\u0629")}finally{f(!1)}}else b("\u064a\u062c\u0628 \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0645\u0646\u062f\u0648\u0628")},disabled:g||!S.rep_id,className:"btn-primary px-6 py-3 flex-1 disabled:opacity-50",children:g?"\u062c\u0627\u0631\u064a \u0627\u0644\u0625\u0646\u0634\u0627\u0621...":"\u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u062e\u0637\u0629 \u0627\u0644\u0634\u0647\u0631\u064a\u0629"}),(0,Tt.jsx)("button",{onClick:()=>a("dashboard"),className:"btn-secondary px-6 py-3",children:"\u0625\u0644\u063a\u0627\u0621"})]})]})]})]}),"manage"===s&&(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-lg",children:[(0,Tt.jsx)("h3",{className:"text-lg font-bold mb-4",children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u062e\u0637\u0637 \u0627\u0644\u0634\u0647\u0631\u064a\u0629"}),l.length>0?(0,Tt.jsx)("div",{className:"overflow-x-auto",children:(0,Tt.jsxs)("table",{className:"w-full",children:[(0,Tt.jsx)("thead",{children:(0,Tt.jsxs)("tr",{className:"border-b border-gray-300 border-opacity-30",children:[(0,Tt.jsx)("th",{className:"py-3 px-4 text-right",children:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628"}),(0,Tt.jsx)("th",{className:"py-3 px-4 text-right",children:"\u0627\u0644\u0634\u0647\u0631"}),(0,Tt.jsx)("th",{className:"py-3 px-4 text-right",children:"\u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a"}),(0,Tt.jsx)("th",{className:"py-3 px-4 text-right",children:"\u0645\u0639\u062f\u0644 \u0627\u0644\u0625\u0646\u062c\u0627\u0632"}),(0,Tt.jsx)("th",{className:"py-3 px-4 text-right",children:"\u0627\u0644\u062d\u0627\u0644\u0629"}),(0,Tt.jsx)("th",{className:"py-3 px-4 text-right",children:"\u0625\u062c\u0631\u0627\u0621\u0627\u062a"})]})}),(0,Tt.jsx)("tbody",{children:l.map((e=>(0,Tt.jsxs)("tr",{className:"border-b border-gray-300 border-opacity-20",children:[(0,Tt.jsx)("td",{className:"py-3 px-4",children:e.rep_name}),(0,Tt.jsx)("td",{className:"py-3 px-4",children:e.month}),(0,Tt.jsxs)("td",{className:"py-3 px-4",children:[e.total_visits_completed||0," / ",e.total_visits_planned||0]}),(0,Tt.jsx)("td",{className:"py-3 px-4",children:(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:(0,Tt.jsx)("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"".concat(Math.min(100,e.completion_rate||0),"%")}})}),(0,Tt.jsxs)("span",{className:"text-sm",children:[e.completion_rate||0,"%"]})]})}),(0,Tt.jsx)("td",{className:"py-3 px-4",children:(0,Tt.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("completed"===e.status?"bg-green-100 text-green-600":"active"===e.status?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"),children:"completed"===e.status?"\u0645\u0643\u062a\u0645\u0644":"active"===e.status?"\u0646\u0634\u0637":"\u0645\u0639\u0644\u0642"})}),(0,Tt.jsxs)("td",{className:"py-3 px-4",children:[(0,Tt.jsx)("button",{onClick:()=>p(e),className:"btn-primary text-xs px-3 py-1 mr-2",children:"\u0639\u0631\u0636"}),(0,Tt.jsx)("button",{className:"btn-secondary text-xs px-3 py-1",children:"\u062a\u0639\u062f\u064a\u0644"})]})]},e.id)))})]})}):(0,Tt.jsx)("div",{className:"text-center py-8 text-gray-500",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u062e\u0637\u0637 \u0634\u0647\u0631\u064a\u0629 \u0644\u0644\u0639\u0631\u0636"})]}),"analytics"===s&&(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-lg",children:[(0,Tt.jsx)("h3",{className:"text-lg font-bold mb-4",children:"\u0623\u0641\u0636\u0644 \u0627\u0644\u0645\u0624\u062f\u064a\u0646"}),E.topPerformers.length>0?(0,Tt.jsx)("div",{className:"space-y-3",children:E.topPerformers.map(((e,t)=>(0,Tt.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-100 bg-opacity-20 rounded-lg",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white font-bold ".concat(0===t?"bg-yellow-500":1===t?"bg-gray-400":2===t?"bg-orange-500":"bg-blue-500"),children:t+1}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"font-bold",children:e.name}),(0,Tt.jsxs)("div",{className:"text-sm text-gray-600",children:[e.visits," \u0632\u064a\u0627\u0631\u0629"]})]})]}),(0,Tt.jsx)("div",{className:"text-right",children:(0,Tt.jsxs)("div",{className:"text-lg font-bold",children:[e.completion,"%"]})})]},t)))}):(0,Tt.jsx)("div",{className:"text-center py-4 text-gray-500",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a \u0623\u062f\u0627\u0621 \u0645\u062a\u0627\u062d\u0629"})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-lg",children:[(0,Tt.jsx)("h3",{className:"text-lg font-bold mb-4",children:"\u0627\u0644\u062a\u0642\u062f\u0645 \u0627\u0644\u0623\u0633\u0628\u0648\u0639\u064a"}),(0,Tt.jsx)("div",{className:"space-y-3",children:E.weeklyProgress.map(((e,t)=>(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsx)("div",{className:"font-medium",children:e.week}),(0,Tt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Tt.jsxs)("div",{className:"text-sm text-gray-600",children:["\u0645\u062e\u0637\u0637: ",e.planned," | \u0645\u0643\u062a\u0645\u0644: ",e.completed]}),(0,Tt.jsx)("div",{className:"w-32 bg-gray-200 rounded-full h-3",children:(0,Tt.jsx)("div",{className:"bg-green-500 h-3 rounded-full",style:{width:"".concat(Math.min(100,e.completed/e.planned*100),"%")}})})]})]},t)))})]})]})]})},ha=e=>{let{user:t}=e;const{t:s}=It(),{user:a}=Yt(),l=t||a,[r,i]=(0,n.useState)({name:"",address:"",phone:"",doctor_name:"",clinic_class:"Class A",credit_status:"green",latitude:null,longitude:null,classification:"class_c"}),[c,o]=(0,n.useState)(null),[u,m]=(0,n.useState)(!1),[x,h]=(0,n.useState)(""),[p,g]=(0,n.useState)(""),[f,v]=(0,n.useState)("");(0,n.useEffect)((()=>{b()}),[]);const b=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((e=>{o({latitude:e.coords.latitude,longitude:e.coords.longitude,accuracy:e.coords.accuracy,timestamp:(new Date).toISOString()}),console.log("\u062a\u0645 \u0627\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u0645\u0648\u0642\u0639 \u0627\u0644\u0645\u0646\u062f\u0648\u0628 \u0628\u0646\u062c\u0627\u062d (\u0645\u062e\u0641\u064a \u0644\u0644\u0623\u062f\u0645\u0646)")}),(e=>{console.error("\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u0627\u0644\u0645\u0648\u0642\u0639:",e),v("\u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u0627\u0644\u0645\u0648\u0642\u0639 \u0627\u0644\u062d\u0627\u0644\u064a")}),{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5}):v("\u0627\u0644\u0645\u062a\u0635\u0641\u062d \u0644\u0627 \u064a\u062f\u0639\u0645 \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0645\u0648\u0642\u0639")},j=e=>{const{name:t,value:s}=e.target;i((e=>d(d({},e),{},{[t]:s})))},y=(e,t)=>{let s,a;"object"===typeof e&&void 0!==e.lat?(s=e.lat,a=e.lng):(s=e,a=t),console.log("Map clicked at:",s,a),i((e=>d(d({},e),{},{latitude:s,longitude:a}))),g("\u062a\u0645 \u062a\u062d\u062f\u064a\u062f \u0645\u0648\u0642\u0639 \u0627\u0644\u0639\u064a\u0627\u062f\u0629 \u0628\u0646\u062c\u0627\u062d! \u0627\u0644\u0625\u062d\u062f\u0627\u062b\u064a\u0627\u062a: ".concat(s.toFixed(6),", ").concat(a.toFixed(6))),setTimeout((()=>g("")),3e3)};return(0,Tt.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,Tt.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,Tt.jsxs)("div",{className:"text-center mb-8",children:[(0,Tt.jsx)("h1",{className:"text-4xl font-bold mb-2 text-gradient",children:"\ud83c\udfe5\u2795 \u062a\u0633\u062c\u064a\u0644 \u0639\u064a\u0627\u062f\u0629 \u062c\u062f\u064a\u062f\u0629"}),(0,Tt.jsx)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:"\u0633\u062c\u0644 \u0639\u064a\u0627\u062f\u0629 \u062c\u062f\u064a\u062f\u0629 \u0628\u0643\u0644 \u0633\u0647\u0648\u0644\u0629 - \u064a\u062a\u0645 \u062d\u0641\u0638 \u062c\u0645\u064a\u0639 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0648\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0645\u0648\u0642\u0639 \u062a\u0644\u0642\u0627\u0626\u064a\u0627\u064b"}),(0,Tt.jsxs)("div",{className:"flex justify-center items-center gap-4 mt-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-2 text-sm",style:{color:"var(--text-success)"},children:[(0,Tt.jsx)("span",{children:"\u2705"}),(0,Tt.jsx)("span",{children:"\u062a\u0633\u062c\u064a\u0644 \u062a\u0644\u0642\u0627\u0626\u064a \u0644\u0644\u0623\u062d\u062f\u0627\u062b"})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2 text-sm",style:{color:"var(--text-success)"},children:[(0,Tt.jsx)("span",{children:"\u26a1"}),(0,Tt.jsx)("span",{children:"\u0627\u0639\u062a\u0645\u0627\u062f \u0641\u0648\u0631\u064a"})]})]})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-4 rounded-xl mb-6",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tt.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,Tt.jsx)("span",{children:"\ud83d\udccd"}),(0,Tt.jsx)("span",{children:"\u062d\u0627\u0644\u0629 \u0645\u0648\u0642\u0639\u0643 \u0627\u0644\u062d\u0627\u0644\u064a"})]}),(0,Tt.jsx)("div",{className:"flex items-center gap-2",children:c?(0,Tt.jsxs)("div",{className:"flex items-center gap-2 text-green-600",children:[(0,Tt.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),(0,Tt.jsx)("span",{className:"text-sm font-medium",children:"\u062a\u0645 \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0645\u0648\u0642\u0639 \u0628\u0646\u062c\u0627\u062d"})]}):(0,Tt.jsxs)("div",{className:"flex items-center gap-2 text-yellow-600",children:[(0,Tt.jsx)("div",{className:"w-3 h-3 bg-yellow-500 rounded-full animate-pulse"}),(0,Tt.jsx)("span",{className:"text-sm font-medium",children:"\u062c\u0627\u0631\u064a \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0645\u0648\u0642\u0639..."})]})})]}),c&&(0,Tt.jsxs)("div",{className:"mt-2 text-sm",style:{color:"var(--text-secondary)"},children:[(0,Tt.jsxs)("span",{children:["\u062f\u0642\u0629 \u0627\u0644\u0645\u0648\u0642\u0639: ",Math.round(c.accuracy),"\u0645"]}),(0,Tt.jsx)("span",{className:"mx-2",children:"\u2022"}),(0,Tt.jsxs)("span",{children:["\u062a\u0645 \u0627\u0644\u062a\u062d\u062f\u064a\u062b: ",new Date(c.timestamp).toLocaleTimeString("ar-EG")]})]})]}),f&&(0,Tt.jsx)("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded mb-6",children:(0,Tt.jsxs)("div",{className:"flex items-center",children:[(0,Tt.jsx)("span",{className:"text-xl mr-2",children:"\u26a0\ufe0f"}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u062a\u062d\u0630\u064a\u0631:"})," ",f,(0,Tt.jsx)("button",{onClick:b,className:"btn-secondary text-sm px-3 py-1 mr-3",children:"\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629"})]})]})}),x&&(0,Tt.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:x}),p&&(0,Tt.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6",children:p}),(0,Tt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),r.latitude&&r.longitude)if(c){m(!0),h(""),g("");try{const e=localStorage.getItem("access_token"),t={clinic_name:r.name,address:r.address,phone:r.phone,doctor_name:r.doctor_name,classification:r.clinic_class||r.classification,credit_status:r.credit_status,latitude:r.latitude,longitude:r.longitude,status:"approved",added_by:null===l||void 0===l?void 0:l.id,approved_by:null,rep_location_at_registration:{latitude:c.latitude,longitude:c.longitude,accuracy:c.accuracy,timestamp:c.timestamp},registration_metadata:{registered_by:null===l||void 0===l?void 0:l.id,registered_by_name:(null===l||void 0===l?void 0:l.full_name)||(null===l||void 0===l?void 0:l.username),registration_time:(new Date).toISOString(),clinic_chosen_location:{latitude:r.latitude,longitude:r.longitude},rep_actual_location:c}};await Pt.post("".concat(Dt,"/clinics"),t,{headers:{Authorization:"Bearer ".concat(e)}});await(async e=>{try{const t=localStorage.getItem("access_token");await Pt.post("".concat(Dt,"/admin/events"),e,{headers:{Authorization:"Bearer ".concat(t)}})}catch(x){console.error("\u062e\u0637\u0623 \u0641\u064a \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062d\u062f\u062b:",x)}})({action:"clinic_registration",user_id:null===l||void 0===l?void 0:l.id,user_name:(null===l||void 0===l?void 0:l.full_name)||(null===l||void 0===l?void 0:l.username),details:{clinic_name:r.name,clinic_location:{latitude:r.latitude,longitude:r.longitude},rep_location:c,doctor_name:r.doctor_name,address:r.address,phone:r.phone},timestamp:(new Date).toISOString()}),await(async e=>{try{const t=localStorage.getItem("access_token");await Pt.post("".concat(Dt,"/admin/secret-tracking"),e,{headers:{Authorization:"Bearer ".concat(t)}})}catch(x){console.error("\u062e\u0637\u0623 \u0641\u064a \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062a\u062a\u0628\u0639 \u0627\u0644\u0633\u0631\u064a:",x)}})({type:"clinic_registration",user_id:null===l||void 0===l?void 0:l.id,user_name:(null===l||void 0===l?void 0:l.full_name)||(null===l||void 0===l?void 0:l.username),clinic_name:r.name,clinic_location:{latitude:r.latitude,longitude:r.longitude},rep_location:c,timestamp:(new Date).toISOString()}),g("\u062a\u0645 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0639\u064a\u0627\u062f\u0629 \u0628\u0646\u062c\u0627\u062d! \u062a\u0645 \u062d\u0641\u0638 \u062c\u0645\u064a\u0639 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0648\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062d\u062f\u062b"),i({name:"",address:"",phone:"",doctor_name:"",latitude:null,longitude:null,classification:"class_c"})}catch(x){var t,s,a,n,o;console.error("\u062e\u0637\u0623 \u0641\u064a \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0639\u064a\u0627\u062f\u0629:",x);let l="\u0641\u0634\u0644 \u0641\u064a \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0639\u064a\u0627\u062f\u0629";null!==(t=x.response)&&void 0!==t&&null!==(s=t.data)&&void 0!==s&&s.detail?l=x.response.data.detail:403===(null===(a=x.response)||void 0===a?void 0:a.status)?l="\u0644\u064a\u0633 \u0644\u062f\u064a\u0643 \u0635\u0644\u0627\u062d\u064a\u0629 \u0644\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a":401===(null===(n=x.response)||void 0===n?void 0:n.status)?l="\u064a\u0631\u062c\u0649 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649":(null===(o=x.response)||void 0===o?void 0:o.status)>=500?l="\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u062e\u0627\u062f\u0645. \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649 \u0644\u0627\u062d\u0642\u0627\u064b":x.message&&(l="\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0634\u0628\u0643\u0629: ".concat(x.message)),h(l)}finally{m(!1)}}else h("\u0644\u0627 \u064a\u0645\u0643\u0646 \u062a\u062d\u062f\u064a\u062f \u0645\u0648\u0642\u0639\u0643 \u0627\u0644\u062d\u0627\u0644\u064a. \u064a\u0631\u062c\u0649 \u0627\u0644\u0633\u0645\u0627\u062d \u0628\u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0645\u0648\u0642\u0639");else h("\u064a\u0631\u062c\u0649 \u0627\u062e\u062a\u064a\u0627\u0631 \u0645\u0648\u0642\u0639 \u0627\u0644\u0639\u064a\u0627\u062f\u0629 \u0639\u0644\u0649 \u0627\u0644\u062e\u0631\u064a\u0637\u0629")},className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsx)("h3",{className:"text-lg font-semibold",children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0639\u064a\u0627\u062f\u0629"}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0627\u0633\u0645 \u0627\u0644\u0639\u064a\u0627\u062f\u0629 *"}),(0,Tt.jsx)("input",{type:"text",name:"name",value:r.name,onChange:j,className:"input-glass w-full",placeholder:"\u0645\u062b\u0627\u0644: \u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u062f\u0643\u062a\u0648\u0631 \u0623\u062d\u0645\u062f",required:!0})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0627\u0633\u0645 \u0627\u0644\u0637\u0628\u064a\u0628 *"}),(0,Tt.jsx)("input",{type:"text",name:"doctor_name",value:r.doctor_name,onChange:j,className:"input-glass w-full",placeholder:"\u0645\u062b\u0627\u0644: \u062f. \u0623\u062d\u0645\u062f \u0645\u062d\u0645\u062f",required:!0})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646 *"}),(0,Tt.jsx)("textarea",{name:"address",value:r.address,onChange:j,className:"input-glass w-full h-24",placeholder:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u062a\u0641\u0635\u064a\u0644\u064a \u0644\u0644\u0639\u064a\u0627\u062f\u0629",required:!0})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641 *"}),(0,Tt.jsx)("input",{type:"tel",name:"phone",value:r.phone,onChange:j,className:"input-glass w-full",placeholder:"\u0645\u062b\u0627\u0644: +966501234567",required:!0})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-4",children:"\u062a\u0635\u0646\u064a\u0641 \u0627\u0644\u0639\u064a\u0627\u062f\u0629 *"}),(0,Tt.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[{value:"Class A Star",label:"Class A Star",icon:"\u2b50",color:"from-yellow-400 to-yellow-600"},{value:"Class A",label:"Class A",icon:"\ud83e\udd47",color:"from-blue-500 to-blue-600"},{value:"Class B",label:"Class B",icon:"\ud83e\udd48",color:"from-green-500 to-green-600"},{value:"Class C",label:"Class C",icon:"\ud83e\udd49",color:"from-orange-500 to-orange-600"},{value:"Class D",label:"Class D",icon:"\ud83d\udccb",color:"from-gray-500 to-gray-600"}].map((e=>(0,Tt.jsxs)("div",{className:"clinic-class-card ".concat(r.clinic_class===e.value?"selected":""),onClick:()=>i(d(d({},r),{},{clinic_class:e.value})),children:[(0,Tt.jsx)("div",{className:"clinic-class-icon bg-gradient-to-br ".concat(e.color),children:e.icon}),(0,Tt.jsx)("div",{className:"clinic-class-label",children:e.label})]},e.value)))})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-4",children:"\u0627\u0644\u062a\u0635\u0646\u064a\u0641 \u0627\u0644\u0627\u0626\u062a\u0645\u0627\u0646\u064a \u0644\u0644\u0639\u064a\u0627\u062f\u0629"}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,Tt.jsxs)("div",{className:"credit-status-card green ".concat("green"===r.credit_status?"selected":""),onClick:()=>i(d(d({},r),{},{credit_status:"green"})),children:[(0,Tt.jsx)("div",{className:"credit-status-icon",children:"\ud83d\udfe2"}),(0,Tt.jsxs)("div",{className:"credit-status-content",children:[(0,Tt.jsx)("div",{className:"credit-status-title",children:"\u0639\u064a\u0627\u062f\u0629 \u062c\u062f\u064a\u062f\u0629"}),(0,Tt.jsx)("div",{className:"credit-status-desc",children:"\u0623\u0648 \u0627\u0626\u062a\u0645\u0627\u0646 \u062c\u064a\u062f"})]})]}),(0,Tt.jsxs)("div",{className:"credit-status-card yellow ".concat("yellow"===r.credit_status?"selected":""),onClick:()=>i(d(d({},r),{},{credit_status:"yellow"})),children:[(0,Tt.jsx)("div",{className:"credit-status-icon",children:"\ud83d\udfe1"}),(0,Tt.jsxs)("div",{className:"credit-status-content",children:[(0,Tt.jsx)("div",{className:"credit-status-title",children:"\u064a\u0648\u062c\u062f \u0645\u062f\u064a\u0648\u0646\u064a\u0627\u062a"}),(0,Tt.jsx)("div",{className:"credit-status-desc",children:"\u0645\u0631\u0628\u0648\u0637 \u0628\u0642\u0633\u0645 \u0627\u0644\u062d\u0633\u0627\u0628\u0627\u062a"})]})]}),(0,Tt.jsxs)("div",{className:"credit-status-card red ".concat("red"===r.credit_status?"selected":""),onClick:()=>i(d(d({},r),{},{credit_status:"red"})),children:[(0,Tt.jsx)("div",{className:"credit-status-icon",children:"\ud83d\udd34"}),(0,Tt.jsxs)("div",{className:"credit-status-content",children:[(0,Tt.jsx)("div",{className:"credit-status-title",children:"\u0645\u062f\u064a\u0648\u0646\u064a\u0629 \u0645\u062a\u0623\u062e\u0631\u0629"}),(0,Tt.jsx)("div",{className:"credit-status-desc",children:"\u064a\u0633\u062a\u062d\u0642 \u0627\u0644\u062a\u062d\u0630\u064a\u0631"})]})]})]})]})]}),(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsx)("h3",{className:"text-lg font-semibold",children:"\u0645\u0648\u0642\u0639 \u0627\u0644\u0639\u064a\u0627\u062f\u0629 \u0639\u0644\u0649 \u0627\u0644\u062e\u0631\u064a\u0637\u0629"}),(0,Tt.jsxs)("div",{className:"bg-gray-100 rounded-lg p-4 h-[450px]",children:[(0,Tt.jsx)(Ot,{latitude:r.latitude,longitude:r.longitude,onLocationSelect:y,showCurrentLocation:!0}),(0,Tt.jsxs)("div",{className:"mt-3 text-center",children:[(0,Tt.jsx)("p",{className:"text-sm text-gray-600",children:"\u0627\u0646\u0642\u0631 \u0639\u0644\u0649 \u0627\u0644\u062e\u0631\u064a\u0637\u0629 \u0623\u0648 \u0627\u0633\u062d\u0628 \u0627\u0644\u062f\u0628\u0648\u0633 \u0627\u0644\u0623\u062d\u0645\u0631 \u0644\u062a\u062d\u062f\u064a\u062f \u0645\u0648\u0642\u0639 \u0627\u0644\u0639\u064a\u0627\u062f\u0629"}),(0,Tt.jsxs)("div",{className:"flex justify-center gap-4 mt-2 text-xs text-gray-500",children:[(0,Tt.jsx)("span",{children:'\ud83c\udfaf \u0627\u0633\u062a\u062e\u062f\u0645 "\u062f\u0642\u0629 \u0639\u0627\u0644\u064a\u0629" \u0644\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u0645\u0648\u0642\u0639 \u0623\u0643\u062b\u0631 \u062f\u0642\u0629'}),(0,Tt.jsx)("span",{children:'\ud83d\uddfa\ufe0f \u062c\u0631\u0628 \u0639\u0631\u0636 "\u0645\u062e\u062a\u0644\u0637" \u0644\u0631\u0624\u064a\u0629 \u0623\u0648\u0636\u062d'})]}),(!r.latitude||!r.longitude)&&(0,Tt.jsx)("p",{className:"text-xs text-red-600 mt-2",children:"\u26a0\ufe0f \u064a\u062c\u0628 \u062a\u062d\u062f\u064a\u062f \u0645\u0648\u0642\u0639 \u0627\u0644\u0639\u064a\u0627\u062f\u0629 \u0644\u0625\u0643\u0645\u0627\u0644 \u0627\u0644\u062a\u0633\u062c\u064a\u0644"}),c&&c.accuracy&&(0,Tt.jsxs)("div",{className:"mt-2 text-xs",children:[(0,Tt.jsx)("span",{className:"text-gray-500",children:"\u062f\u0642\u0629 GPS \u0627\u0644\u062d\u0627\u0644\u064a\u0629: "}),(0,Tt.jsxs)("span",{className:"font-bold ".concat(c.accuracy<=10?"text-green-600":c.accuracy<=50?"text-yellow-600":"text-red-600"),children:[Math.round(c.accuracy)," \u0645\u062a\u0631"]}),c.accuracy>50&&(0,Tt.jsx)("span",{className:"text-red-500 block mt-1",children:'\ud83d\udca1 \u0644\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u062f\u0642\u0629 \u0623\u0641\u0636\u0644\u060c \u0627\u0633\u062a\u062e\u062f\u0645 \u0632\u0631 "\u062f\u0642\u0629 \u0639\u0627\u0644\u064a\u0629" \u0623\u0648 \u0627\u0646\u062a\u0642\u0644 \u0644\u0645\u0643\u0627\u0646 \u0645\u0641\u062a\u0648\u062d'})]})]})]}),r.latitude&&r.longitude&&(0,Tt.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded p-3",children:[(0,Tt.jsx)("p",{className:"text-sm text-green-700 font-medium",children:"\u2705 \u062a\u0645 \u062a\u062d\u062f\u064a\u062f \u0645\u0648\u0642\u0639 \u0627\u0644\u0639\u064a\u0627\u062f\u0629 \u0628\u0646\u062c\u0627\u062d"}),(0,Tt.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:["\u0627\u0644\u0625\u062d\u062f\u0627\u062b\u064a\u0627\u062a: ",r.latitude.toFixed(6),", ",r.longitude.toFixed(6)]}),(0,Tt.jsx)("button",{type:"button",onClick:()=>i((e=>d(d({},e),{},{latitude:null,longitude:null}))),className:"text-xs text-red-600 hover:text-red-800 mt-2 underline",children:"\u0625\u0639\u0627\u062f\u0629 \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0645\u0648\u0642\u0639"})]}),(0,Tt.jsxs)("button",{type:"button",onClick:()=>{c?y({lat:c.latitude,lng:c.longitude}):h("\u0644\u0627 \u064a\u0645\u0643\u0646 \u062a\u062d\u062f\u064a\u062f \u0645\u0648\u0642\u0639\u0643 \u0627\u0644\u062d\u0627\u0644\u064a")},className:"w-full mt-3 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-2",disabled:!c,children:[(0,Tt.jsx)("span",{children:"\ud83d\udccd"}),(0,Tt.jsx)("span",{children:"\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0645\u0648\u0642\u0639\u064a \u0627\u0644\u062d\u0627\u0644\u064a \u0644\u0644\u0639\u064a\u0627\u062f\u0629"})]}),!r.latitude&&(0,Tt.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:(0,Tt.jsx)("p",{className:"text-sm text-blue-700",children:"\ud83d\udccd \u0627\u0636\u063a\u0637 \u0639\u0644\u0649 \u0627\u0644\u062e\u0631\u064a\u0637\u0629 \u0644\u0627\u062e\u062a\u064a\u0627\u0631 \u0645\u0648\u0642\u0639 \u0627\u0644\u0639\u064a\u0627\u062f\u0629"})})]})]}),(0,Tt.jsx)("div",{className:"flex justify-end gap-4",children:(0,Tt.jsx)("button",{type:"submit",disabled:u||!r.latitude||!c,className:"btn-primary px-8 py-3",children:u?(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)("span",{className:"loading-shimmer w-4 h-4 rounded-full mr-2"}),"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u0633\u062c\u064a\u0644..."]}):"\ud83c\udfe5\u2795 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0639\u064a\u0627\u062f\u0629"})})]}),(0,Tt.jsxs)("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,Tt.jsx)("h4",{className:"font-semibold text-blue-800 mb-2",children:"\ud83d\udccb \u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0645\u0647\u0645\u0629:"}),(0,Tt.jsxs)("ul",{className:"text-sm text-blue-700 space-y-1",children:[(0,Tt.jsx)("li",{children:"\u2022 \u0627\u0644\u0639\u064a\u0627\u062f\u0629 \u0633\u062a\u0643\u0648\u0646 \u0645\u0639\u062a\u0645\u062f\u0629 \u062a\u0644\u0642\u0627\u0626\u064a\u0627\u064b \u0628\u062f\u0648\u0646 \u0627\u0646\u062a\u0638\u0627\u0631 \u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0645\u062f\u064a\u0631"}),(0,Tt.jsx)("li",{children:"\u2022 \u0644\u0627 \u064a\u0645\u0643\u0646 \u062d\u0630\u0641 \u0627\u0644\u0639\u064a\u0627\u062f\u0629 \u0628\u0639\u062f \u0627\u0644\u062a\u0633\u062c\u064a\u0644"}),(0,Tt.jsx)("li",{children:"\u2022 \u062a\u0623\u0643\u062f \u0645\u0646 \u062f\u0642\u0629 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0642\u0628\u0644 \u0627\u0644\u062a\u0633\u062c\u064a\u0644"})]})]})]})})},pa=()=>{var e,t,s,a,l,r,i,c,o,d,u,m,x;const{t:h}=It(),[p,g]=(0,n.useState)([]),[f,v]=(0,n.useState)(!0),[b,j]=(0,n.useState)(""),[y,N]=(0,n.useState)(null),[w,_]=(0,n.useState)(!1),[k,S]=(0,n.useState)("");(0,n.useEffect)((()=>{C()}),[]);const C=async()=>{try{v(!0);const e=localStorage.getItem("access_token"),t=await Pt.get("".concat(Dt,"/admin/clinics-with-tracking"),{headers:{Authorization:"Bearer ".concat(e)}});g(t.data.clinics||[])}catch(b){console.error("Error fetching clinics with tracking:",b),j("\u0641\u0634\u0644 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a")}finally{v(!1)}},E=p.filter((e=>{var t,s,a,n,l,r;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(k.toLowerCase()))||(null===(s=e.doctor_name)||void 0===s?void 0:s.toLowerCase().includes(k.toLowerCase()))||(null===(a=e.address)||void 0===a?void 0:a.toLowerCase().includes(k.toLowerCase()))||(null===(n=e.tracking_info)||void 0===n||null===(l=n.registered_by_user)||void 0===l||null===(r=l.name)||void 0===r?void 0:r.toLowerCase().includes(k.toLowerCase()))})),A=e=>e?e<1?"".concat(Math.round(1e3*e),"\u0645"):"".concat(e.toFixed(2)," \u0643\u0645"):"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f";return f?(0,Tt.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsx)("div",{className:"loading-shimmer w-20 h-20 rounded-full mx-auto mb-4"}),(0,Tt.jsx)("p",{children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a \u0645\u0639 \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062a\u062a\u0628\u0639..."})]})}):(0,Tt.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Tt.jsxs)("div",{className:"text-center mb-8",children:[(0,Tt.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"\ud83c\udfe5\ud83d\udcca \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a \u0645\u0639 \u0627\u0644\u062a\u062a\u0628\u0639"}),(0,Tt.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0639\u0631\u0636 \u062c\u0645\u064a\u0639 \u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a \u0645\u0639 \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062a\u062a\u0628\u0639 \u0627\u0644\u062a\u0641\u0635\u064a\u0644\u064a\u0629 (\u0644\u0644\u0623\u062f\u0645\u0646 \u0641\u0642\u0637)"})]}),b&&(0,Tt.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:b}),(0,Tt.jsx)("div",{className:"mb-6",children:(0,Tt.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,Tt.jsx)("div",{className:"flex-1",children:(0,Tt.jsx)("input",{type:"text",placeholder:"\u0627\u0644\u0628\u062d\u062b \u0641\u064a \u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a (\u0627\u0644\u0627\u0633\u0645\u060c \u0627\u0644\u0637\u0628\u064a\u0628\u060c \u0627\u0644\u0639\u0646\u0648\u0627\u0646\u060c \u0627\u0644\u0645\u0633\u062c\u0644)...",value:k,onChange:e=>S(e.target.value),className:"input-glass w-full"})}),(0,Tt.jsx)("button",{onClick:C,className:"btn-secondary px-4 py-2",children:"\ud83d\udd04 \u062a\u062d\u062f\u064a\u062b"})]})}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[(0,Tt.jsxs)("div",{className:"glass-effect p-4 rounded-lg text-center",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-blue-500",children:p.length}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a"})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-4 rounded-lg text-center",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-green-500",children:p.filter((e=>e.added_by)).length}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u0633\u062c\u0644\u0629 \u0628\u0648\u0627\u0633\u0637\u0629 \u0645\u0646\u0627\u062f\u064a\u0628"})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-4 rounded-lg text-center",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-purple-500",children:p.filter((e=>e.rep_location_at_registration)).length}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0628\u0647\u0627 \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u062a\u062a\u0628\u0639"})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-4 rounded-lg text-center",children:[(0,Tt.jsx)("div",{className:"text-2xl font-bold text-orange-500",children:p.filter((e=>"approved"===e.status)).length}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u0639\u062a\u0645\u062f\u0629"})]})]}),(0,Tt.jsxs)("div",{className:"glass-effect rounded-lg overflow-hidden",children:[(0,Tt.jsx)("div",{className:"overflow-x-auto",children:(0,Tt.jsxs)("table",{className:"w-full",children:[(0,Tt.jsx)("thead",{className:"bg-gray-50",children:(0,Tt.jsxs)("tr",{children:[(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-sm font-semibold",children:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629"}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-sm font-semibold",children:"\u0627\u0644\u0637\u0628\u064a\u0628"}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-sm font-semibold",children:"\u0645\u0633\u062c\u0644\u0629 \u0628\u0648\u0627\u0633\u0637\u0629"}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-sm font-semibold",children:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u0633\u062c\u064a\u0644"}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-sm font-semibold",children:"\u0627\u0644\u062d\u0627\u0644\u0629"}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-sm font-semibold",children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062a\u062a\u0628\u0639"}),(0,Tt.jsx)("th",{className:"px-4 py-3 text-right text-sm font-semibold",children:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a"})]})}),(0,Tt.jsx)("tbody",{children:E.map(((e,t)=>{var s,a,n,l,r,i;return(0,Tt.jsxs)("tr",{className:t%2===0?"bg-white":"bg-gray-50",children:[(0,Tt.jsx)("td",{className:"px-4 py-3",children:(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"font-medium",children:e.name}),(0,Tt.jsx)("div",{className:"text-xs text-gray-500",children:e.address}),(0,Tt.jsx)("div",{className:"text-xs text-blue-600",children:e.phone})]})}),(0,Tt.jsx)("td",{className:"px-4 py-3",children:(0,Tt.jsx)("span",{className:"font-medium",children:e.doctor_name||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})}),(0,Tt.jsx)("td",{className:"px-4 py-3",children:(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"font-medium",children:(null===(s=e.tracking_info)||void 0===s||null===(a=s.registered_by_user)||void 0===a?void 0:a.name)||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"}),(0,Tt.jsx)("div",{className:"text-xs text-gray-500",children:(null===(n=e.tracking_info)||void 0===n||null===(l=n.registered_by_user)||void 0===l?void 0:l.role)||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})]})}),(0,Tt.jsx)("td",{className:"px-4 py-3",children:(0,Tt.jsx)("div",{className:"text-sm",children:e.created_at?new Date(e.created_at).toLocaleDateString("ar-EG"):"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})}),(0,Tt.jsx)("td",{className:"px-4 py-3",children:(0,Tt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat((i=e.status,{approved:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",rejected:"bg-red-100 text-red-800"}[i]||"bg-gray-100 text-gray-800")),children:"approved"===e.status?"\u0645\u0639\u062a\u0645\u062f\u0629":e.status})}),(0,Tt.jsx)("td",{className:"px-4 py-3",children:(0,Tt.jsx)("div",{className:"text-xs space-y-1",children:e.rep_location_at_registration?(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)("div",{className:"text-green-600",children:"\u2705 \u0645\u062a\u0648\u0641\u0631"}),(0,Tt.jsxs)("div",{children:["\u0627\u0644\u0645\u0633\u0627\u0641\u0629: ",A(null===(r=e.registration_metadata)||void 0===r?void 0:r.distance_between_locations)]})]}):(0,Tt.jsx)("div",{className:"text-gray-500",children:"\u274c \u063a\u064a\u0631 \u0645\u062a\u0648\u0641\u0631"})})}),(0,Tt.jsx)("td",{className:"px-4 py-3",children:(0,Tt.jsx)("div",{className:"flex gap-2",children:(0,Tt.jsx)("button",{onClick:()=>(e=>{N(e),_(!0)})(e),className:"btn-secondary text-xs px-2 py-1",title:"\u0639\u0631\u0636 \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062a\u062a\u0628\u0639 \u0627\u0644\u062a\u0641\u0635\u064a\u0644\u064a\u0629",children:"\ud83d\udd0d \u062a\u062a\u0628\u0639"})})})]},e.id)}))})]})}),0===E.length&&(0,Tt.jsxs)("div",{className:"text-center py-8",children:[(0,Tt.jsx)("div",{className:"text-4xl mb-4",children:"\ud83c\udfe5"}),(0,Tt.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0639\u064a\u0627\u062f\u0627\u062a"}),(0,Tt.jsx)("p",{className:"text-gray-600",children:"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0639\u064a\u0627\u062f\u0627\u062a \u0645\u0637\u0627\u0628\u0642\u0629 \u0644\u0644\u0628\u062d\u062b"})]})]}),w&&y&&(0,Tt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Tt.jsx)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-90vh overflow-y-auto",children:(0,Tt.jsxs)("div",{className:"p-6",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Tt.jsx)("h2",{className:"text-2xl font-bold",children:"\ud83d\udcca \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062a\u062a\u0628\u0639 \u0627\u0644\u062a\u0641\u0635\u064a\u0644\u064a\u0629"}),(0,Tt.jsx)("button",{onClick:()=>_(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\xd7"})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,Tt.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,Tt.jsx)("h3",{className:"font-semibold text-blue-800 mb-3",children:"\ud83c\udfe5 \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0639\u064a\u0627\u062f\u0629"}),(0,Tt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u0627\u0644\u0627\u0633\u0645:"})," ",y.name]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u0627\u0644\u0637\u0628\u064a\u0628:"})," ",y.doctor_name]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646:"})," ",y.address]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u0627\u0644\u0647\u0627\u062a\u0641:"})," ",y.phone]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u0627\u0644\u062a\u0635\u0646\u064a\u0641:"})," ",y.classification]})]})]}),(0,Tt.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,Tt.jsx)("h3",{className:"font-semibold text-green-800 mb-3",children:"\ud83d\udc64 \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0645\u0633\u062c\u0644"}),(0,Tt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u0627\u0644\u0627\u0633\u0645:"})," ",null===(e=y.tracking_info)||void 0===e||null===(t=e.registered_by_user)||void 0===t?void 0:t.name]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645:"})," ",null===(s=y.tracking_info)||void 0===s||null===(a=s.registered_by_user)||void 0===a?void 0:a.username]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u0627\u0644\u062f\u0648\u0631:"})," ",null===(l=y.tracking_info)||void 0===l||null===(r=l.registered_by_user)||void 0===r?void 0:r.role]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u0648\u0642\u062a \u0627\u0644\u062a\u0633\u062c\u064a\u0644:"})," ",y.created_at?new Date(y.created_at).toLocaleString("ar-EG"):"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"]})]})]})]}),y.rep_location_at_registration&&(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,Tt.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4",children:[(0,Tt.jsx)("h3",{className:"font-semibold text-purple-800 mb-3",children:"\ud83d\udccd \u0645\u0648\u0642\u0639 \u0627\u0644\u0645\u0646\u062f\u0648\u0628 \u0623\u062b\u0646\u0627\u0621 \u0627\u0644\u062a\u0633\u062c\u064a\u0644"}),(0,Tt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u062e\u0637 \u0627\u0644\u0639\u0631\u0636:"})," ",null===(i=y.rep_location_at_registration.latitude)||void 0===i?void 0:i.toFixed(6)]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u062e\u0637 \u0627\u0644\u0637\u0648\u0644:"})," ",null===(c=y.rep_location_at_registration.longitude)||void 0===c?void 0:c.toFixed(6)]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u0627\u0644\u062f\u0642\u0629:"})," ",y.rep_location_at_registration.accuracy,"\u0645"]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u0627\u0644\u0648\u0642\u062a:"})," ",new Date(y.rep_location_at_registration.timestamp).toLocaleString("ar-EG")]})]})]}),(0,Tt.jsxs)("div",{className:"bg-orange-50 rounded-lg p-4",children:[(0,Tt.jsx)("h3",{className:"font-semibold text-orange-800 mb-3",children:"\ud83c\udfe5 \u0645\u0648\u0642\u0639 \u0627\u0644\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0645\u062e\u062a\u0627\u0631"}),(0,Tt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u062e\u0637 \u0627\u0644\u0639\u0631\u0636:"})," ",null===(o=y.latitude)||void 0===o?void 0:o.toFixed(6)]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u062e\u0637 \u0627\u0644\u0637\u0648\u0644:"})," ",null===(d=y.longitude)||void 0===d?void 0:d.toFixed(6)]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u0627\u0644\u0645\u0633\u0627\u0641\u0629 \u0645\u0646 \u0627\u0644\u0645\u0646\u062f\u0648\u0628:"})," ",A(null===(u=y.registration_metadata)||void 0===u?void 0:u.distance_between_locations)]})]})]})]}),y.rep_location_at_registration&&(0,Tt.jsxs)("div",{className:"mb-6",children:[(0,Tt.jsx)("h3",{className:"font-semibold mb-3",children:"\ud83d\uddfa\ufe0f \u062e\u0631\u064a\u0637\u0629 \u0627\u0644\u0645\u0648\u0627\u0642\u0639"}),(0,Tt.jsx)("div",{className:"bg-gray-100 rounded-lg h-64",children:(0,Tt.jsx)(Ot,{latitude:y.latitude,longitude:y.longitude,repLocation:y.rep_location_at_registration,showBothLocations:!0})}),(0,Tt.jsxs)("div",{className:"mt-2 text-xs text-gray-600 flex gap-4",children:[(0,Tt.jsxs)("div",{children:["\ud83c\udfe5 ",(0,Tt.jsx)("strong",{children:"\u0623\u0632\u0631\u0642:"})," \u0645\u0648\u0642\u0639 \u0627\u0644\u0639\u064a\u0627\u062f\u0629"]}),(0,Tt.jsxs)("div",{children:["\ud83d\udc64 ",(0,Tt.jsx)("strong",{children:"\u0623\u062d\u0645\u0631:"})," \u0645\u0648\u0642\u0639 \u0627\u0644\u0645\u0646\u062f\u0648\u0628 \u0623\u062b\u0646\u0627\u0621 \u0627\u0644\u062a\u0633\u062c\u064a\u0644"]})]})]}),(0,Tt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,Tt.jsx)("h3",{className:"font-semibold mb-3",children:"\u2139\ufe0f \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0625\u0636\u0627\u0641\u064a\u0629"}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u0645\u0635\u062f\u0631 \u0627\u0644\u062a\u0633\u062c\u064a\u0644:"})," ",(null===(m=y.tracking_info)||void 0===m?void 0:m.registered_via)||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"\u064a\u0645\u0643\u0646 \u0644\u0644\u0645\u0646\u062f\u0648\u0628 \u0627\u0644\u062d\u0630\u0641:"})," ",null!==(x=y.registration_metadata)&&void 0!==x&&x.can_be_deleted_by_rep?"\u0646\u0639\u0645":"\u0644\u0627"]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("strong",{children:"ID \u0627\u0644\u0639\u064a\u0627\u062f\u0629:"})," ",y.id]})]})]})]})})})]})},ga=()=>{const[e,t]=(0,n.useState)("overview"),[s,a]=(0,n.useState)([]),[l,r]=(0,n.useState)([]),[i,c]=(0,n.useState)([]),[o,d]=(0,n.useState)([]),[u,m]=(0,n.useState)([]),[x,h]=(0,n.useState)(!1),[p,g]=(0,n.useState)(""),[f,v]=(0,n.useState)(""),[b,j]=(0,n.useState)(!1),[y,N]=(0,n.useState)(!1),[w,_]=(0,n.useState)(null),{language:k,t:S,isRTL:C}=It();(0,n.useEffect)((()=>{E()}),[]);const E=async()=>{h(!0);try{var e;const t=localStorage.getItem("access_token"),s={Authorization:"Bearer ".concat(t)},[n,l,i,c]=await Promise.all([Pt.get("".concat(Dt,"/lines"),{headers:s}),Pt.get("".concat(Dt,"/areas"),{headers:s}),Pt.get("".concat(Dt,"/users"),{headers:s}),Pt.get("".concat(Dt,"/products"),{headers:s})]);a(n.data||[]),r(l.data||[]),d((null===(e=i.data)||void 0===e?void 0:e.users)||[]),m(c.data||[])}catch(p){console.error("Error loading data:",p),g("\u0641\u0634\u0644 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a")}finally{h(!1)}},A=async(e,t)=>{try{const s=localStorage.getItem("access_token");await Pt.put("".concat(Dt,"/lines/").concat(e),t,{headers:{Authorization:"Bearer ".concat(s)}}),v("\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u062e\u0637 \u0628\u0646\u062c\u0627\u062d"),E()}catch(p){console.error("Error updating line:",p),g("\u0641\u0634\u0644 \u0641\u064a \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u062e\u0637")}},L=async(e,t)=>{try{const s=localStorage.getItem("access_token");await Pt.put("".concat(Dt,"/areas/").concat(e),t,{headers:{Authorization:"Bearer ".concat(s)}}),v("\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0645\u0646\u0637\u0642\u0629 \u0628\u0646\u062c\u0627\u062d"),E()}catch(p){console.error("Error updating area:",p),g("\u0641\u0634\u0644 \u0641\u064a \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0645\u0646\u0637\u0642\u0629")}},z=async e=>{if(window.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0645\u0646\u0637\u0642\u0629\u061f"))try{const t=localStorage.getItem("access_token");await Pt.delete("".concat(Dt,"/areas/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),v("\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0645\u0646\u0637\u0642\u0629 \u0628\u0646\u062c\u0627\u062d"),E()}catch(p){console.error("Error deleting area:",p),g("\u0641\u0634\u0644 \u0641\u064a \u062d\u0630\u0641 \u0627\u0644\u0645\u0646\u0637\u0642\u0629")}},P=async e=>{if(window.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u062e\u0637\u061f"))try{const t=localStorage.getItem("access_token");await Pt.delete("".concat(Dt,"/lines/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),v("\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u062e\u0637 \u0628\u0646\u062c\u0627\u062d"),E()}catch(p){console.error("Error deleting line:",p),g("\u0641\u0634\u0644 \u0641\u064a \u062d\u0630\u0641 \u0627\u0644\u062e\u0637")}},T=()=>o.filter((e=>"line_manager"===e.role));return(0,Tt.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Tt.jsxs)("div",{className:"text-center mb-8",children:[(0,Tt.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"\ud83d\uddfa\ufe0f \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u062e\u0637\u0648\u0637 \u0648\u0627\u0644\u0645\u0646\u0627\u0637\u0642"}),(0,Tt.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062f\u0627\u0631\u0629 \u0634\u0627\u0645\u0644\u0629 \u0644\u0644\u062e\u0637\u0648\u0637 \u0648\u0627\u0644\u0645\u0646\u0627\u0637\u0642 \u0648\u0627\u0644\u0645\u0642\u0627\u0637\u0639\u0627\u062a \u0645\u0639 \u0631\u0628\u0637 \u0627\u0644\u0645\u062f\u064a\u0631\u064a\u0646 \u0648\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"})]}),p&&(0,Tt.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:p}),f&&(0,Tt.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6",children:f}),(0,Tt.jsx)("div",{className:"flex gap-2 mb-8 overflow-x-auto",children:[{id:"overview",label:"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629",icon:"\ud83d\udcca"},{id:"lines",label:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u062e\u0637\u0648\u0637 \u0648\u0627\u0644\u0645\u0646\u0627\u0637\u0642",icon:"\ud83d\uddfa\ufe0f"},{id:"districts",label:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0642\u0627\u0637\u0639\u0627\u062a",icon:"\ud83c\udfe2"}].map((s=>(0,Tt.jsxs)("button",{onClick:()=>t(s.id),className:"px-6 py-3 rounded-lg font-medium transition-all whitespace-nowrap ".concat(e===s.id?"bg-blue-600 text-white shadow-lg":"glass-effect hover:bg-white hover:bg-opacity-10"),children:[(0,Tt.jsx)("span",{className:"mr-2",children:s.icon}),s.label]},s.id)))}),"overview"===e&&(0,Tt.jsxs)("div",{className:"space-y-8",children:[(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl font-bold text-blue-500",children:s.length}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u062e\u0637\u0648\u0637 \u0625\u062c\u0645\u0627\u0644\u064a\u0629"})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl font-bold text-green-500",children:l.length}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u0646\u0627\u0637\u0642 \u0625\u062c\u0645\u0627\u0644\u064a\u0629"})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl font-bold text-purple-500",children:T().length}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u062f\u064a\u0631\u0648 \u062e\u0637\u0648\u0637"})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl text-center",children:[(0,Tt.jsx)("div",{className:"text-3xl font-bold text-orange-500",children:o.filter((e=>"area_manager"===e.role)).length}),(0,Tt.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u062f\u064a\u0631\u0648 \u0645\u0646\u0627\u0637\u0642"})]})]}),(0,Tt.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Tt.jsx)("h3",{className:"text-xl font-bold mb-4",children:"\ud83d\udcca \u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0627\u0644\u062e\u0637\u0648\u0637"}),(0,Tt.jsx)("div",{className:"space-y-4",children:s.map((e=>{var t,s,a,n,l,r;return(0,Tt.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,Tt.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h4",{className:"font-bold text-lg",children:e.name}),(0,Tt.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]}),(0,Tt.jsx)("div",{className:"text-right",children:(0,Tt.jsxs)("div",{className:"text-sm text-gray-500",children:["\u0627\u0644\u0645\u062f\u064a\u0631: ",(null===(t=e.manager_info)||void 0===t?void 0:t.full_name)||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"]})})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Tt.jsxs)("div",{className:"bg-blue-50 rounded p-3",children:[(0,Tt.jsx)("div",{className:"text-sm font-medium text-blue-800",children:"\u0627\u0644\u0645\u0646\u0627\u0637\u0642 \u0627\u0644\u0645\u063a\u0637\u0627\u0629"}),(0,Tt.jsx)("div",{className:"text-xl font-bold text-blue-600",children:(null===(s=e.areas_details)||void 0===s?void 0:s.length)||0}),(0,Tt.jsx)("div",{className:"text-xs text-blue-600",children:(null===(a=e.areas_details)||void 0===a?void 0:a.map((e=>e.name)).join(", "))||"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0646\u0627\u0637\u0642"})]}),(0,Tt.jsxs)("div",{className:"bg-green-50 rounded p-3",children:[(0,Tt.jsx)("div",{className:"text-sm font-medium text-green-800",children:"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"}),(0,Tt.jsx)("div",{className:"text-xl font-bold text-green-600",children:(null===(n=e.products_details)||void 0===n?void 0:n.length)||0}),(0,Tt.jsxs)("div",{className:"text-xs text-green-600",children:[(null===(l=e.products_details)||void 0===l?void 0:l.slice(0,2).map((e=>e.name)).join(", "))||"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0646\u062a\u062c\u0627\u062a",((null===(r=e.products_details)||void 0===r?void 0:r.length)||0)>2&&"..."]})]}),(0,Tt.jsxs)("div",{className:"bg-purple-50 rounded p-3",children:[(0,Tt.jsx)("div",{className:"text-sm font-medium text-purple-800",children:"\u0627\u0644\u062d\u0627\u0644\u0629"}),(0,Tt.jsx)("div",{className:"text-sm font-bold text-purple-600",children:e.is_active?"\u2705 \u0646\u0634\u0637":"\u274c \u063a\u064a\u0631 \u0646\u0634\u0637"}),(0,Tt.jsxs)("div",{className:"text-xs text-purple-600",children:["\u062a\u0645 \u0627\u0644\u0625\u0646\u0634\u0627\u0621: ",new Date(e.created_at).toLocaleDateString("ar-EG")]})]})]})]},e.id)}))})]})]}),"lines"===e&&(0,Tt.jsxs)("div",{className:"space-y-8",children:[(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Tt.jsx)("h3",{className:"text-xl font-bold",children:"\ud83d\uddfa\ufe0f \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u062e\u0637\u0648\u0637"}),(0,Tt.jsx)("button",{onClick:()=>{console.log("\u0625\u0636\u0627\u0641\u0629 \u062e\u0637 \u062c\u062f\u064a\u062f - \u0641\u062a\u062d \u0627\u0644\u0646\u0645\u0648\u0630\u062c"),j(!0)},className:"btn-primary px-6 py-2 rounded-lg shadow-lg hover:shadow-xl transition-all",style:{background:"var(--primary-gradient)",color:"white",border:"none",fontSize:"14px",fontWeight:"bold"},children:"\u2795 \u0625\u0636\u0627\u0641\u0629 \u062e\u0637 \u062c\u062f\u064a\u062f"})]}),x?(0,Tt.jsxs)("div",{className:"text-center py-8",children:[(0,Tt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,Tt.jsx)("p",{className:"mt-2",children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u062e\u0637\u0648\u0637..."})]}):(0,Tt.jsx)("div",{className:"grid grid-cols-1 gap-6",children:0===s.length?(0,Tt.jsxs)("div",{className:"text-center py-12 glass-effect rounded-xl",children:[(0,Tt.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\uddfa\ufe0f"}),(0,Tt.jsx)("h3",{className:"text-lg font-medium mb-2",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u062e\u0637\u0648\u0637 \u0645\u0636\u0627\u0641\u0629 \u0628\u0639\u062f"}),(0,Tt.jsx)("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:"\u0627\u0628\u062f\u0623 \u0628\u0625\u0636\u0627\u0641\u0629 \u0623\u0648\u0644 \u062e\u0637 \u0644\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0646\u0627\u0637\u0642 \u0648\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"}),(0,Tt.jsx)("button",{onClick:()=>j(!0),className:"btn-primary px-6 py-2",children:"\u2795 \u0625\u0636\u0627\u0641\u0629 \u0623\u0648\u0644 \u062e\u0637"})]}):s.map((e=>(0,Tt.jsx)(fa,{line:e,users:o,products:u,onUpdate:A,onDelete:P},e.id)))})]}),(0,Tt.jsxs)("div",{className:"space-y-6 border-t pt-8",children:[(0,Tt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Tt.jsx)("h3",{className:"text-xl font-bold",children:"\ud83c\udfd8\ufe0f \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0646\u0627\u0637\u0642"}),(0,Tt.jsx)("button",{onClick:()=>N(!0),className:"btn-secondary px-6 py-2 rounded-lg shadow-lg hover:shadow-xl transition-all",style:{background:"var(--secondary-gradient)",color:"white",border:"none",fontSize:"14px",fontWeight:"bold"},children:"\u2795 \u0625\u0636\u0627\u0641\u0629 \u0645\u0646\u0637\u0642\u0629 \u062c\u062f\u064a\u062f\u0629"})]}),(0,Tt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:0===l.length?(0,Tt.jsxs)("div",{className:"text-center py-12 glass-effect rounded-xl col-span-full",children:[(0,Tt.jsx)("div",{className:"text-4xl mb-4",children:"\ud83c\udfd8\ufe0f"}),(0,Tt.jsx)("h3",{className:"text-lg font-medium mb-2",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0646\u0627\u0637\u0642 \u0645\u0636\u0627\u0641\u0629 \u0628\u0639\u062f"}),(0,Tt.jsx)("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:"\u0627\u0628\u062f\u0623 \u0628\u0625\u0636\u0627\u0641\u0629 \u0623\u0648\u0644 \u0645\u0646\u0637\u0642\u0629 \u0645\u0631\u062a\u0628\u0637\u0629 \u0628\u062e\u0637 \u0645\u0639\u064a\u0646"}),(0,Tt.jsx)("button",{onClick:()=>N(!0),className:"btn-secondary px-6 py-2",children:"\u2795 \u0625\u0636\u0627\u0641\u0629 \u0623\u0648\u0644 \u0645\u0646\u0637\u0642\u0629"})]}):l.map((e=>(0,Tt.jsx)(ba,{area:e,lines:s,onUpdate:L,onDelete:z},e.id)))})]})]}),"districts"===e&&(0,Tt.jsxs)("div",{className:"space-y-6",children:[(0,Tt.jsx)("div",{className:"flex justify-between items-center",children:(0,Tt.jsx)("h3",{className:"text-xl font-bold",children:"\ud83c\udfe2 \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0642\u0627\u0637\u0639\u0627\u062a"})}),(0,Tt.jsxs)("div",{className:"text-center py-12 glass-effect rounded-xl",children:[(0,Tt.jsx)("div",{className:"text-4xl mb-4",children:"\ud83c\udfe2"}),(0,Tt.jsx)("h3",{className:"text-lg font-medium mb-2",children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0642\u0627\u0637\u0639\u0627\u062a \u0642\u064a\u062f \u0627\u0644\u062a\u0637\u0648\u064a\u0631"}),(0,Tt.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0633\u062a\u0643\u0648\u0646 \u0645\u062a\u0627\u062d\u0629 \u0642\u0631\u064a\u0628\u0627\u064b \u0644\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0642\u0627\u0637\u0639\u0627\u062a \u062a\u062d\u062a \u0627\u0644\u0645\u0646\u0627\u0637\u0642"})]})]}),b&&(0,Tt.jsx)(va,{users:T(),products:u,areas:l,onClose:()=>j(!1),onCreate:async e=>{try{const t=localStorage.getItem("access_token");await Pt.post("".concat(Dt,"/lines"),e,{headers:{Authorization:"Bearer ".concat(t)}}),v("\u062a\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u062e\u0637 \u0628\u0646\u062c\u0627\u062d"),E(),j(!1)}catch(p){console.error("Error creating line:",p),g("\u0641\u0634\u0644 \u0641\u064a \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u062e\u0637")}}})]})},fa=e=>{var t,s,a;let{line:l,users:r,products:i,onUpdate:c,onDelete:o}=e;const[u,m]=(0,n.useState)(!1),[x,h]=(0,n.useState)({name:l.name,description:l.description,line_manager_id:l.line_manager_id,products:l.products||[]}),p=r.filter((e=>"line_manager"===e.role));return(0,Tt.jsx)("div",{className:"glass-effect p-6 rounded-xl",children:u?(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0627\u0633\u0645 \u0627\u0644\u062e\u0637"}),(0,Tt.jsx)("input",{type:"text",value:x.name,onChange:e=>h(d(d({},x),{},{name:e.target.value})),className:"input-glass w-full"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0645\u062f\u064a\u0631 \u0627\u0644\u062e\u0637"}),(0,Tt.jsxs)("select",{value:x.line_manager_id,onChange:e=>h(d(d({},x),{},{line_manager_id:e.target.value})),className:"input-glass w-full",children:[(0,Tt.jsx)("option",{value:"",children:"\u0627\u062e\u062a\u0627\u0631 \u0645\u062f\u064a\u0631 \u0627\u0644\u062e\u0637"}),p.map((e=>(0,Tt.jsx)("option",{value:e.id,children:e.full_name},e.id)))]})]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0627\u0644\u0648\u0635\u0641"}),(0,Tt.jsx)("textarea",{value:x.description,onChange:e=>h(d(d({},x),{},{description:e.target.value})),className:"input-glass w-full h-20"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"}),(0,Tt.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 max-h-40 overflow-y-auto",children:i.map((e=>(0,Tt.jsxs)("label",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[(0,Tt.jsx)("input",{type:"checkbox",checked:x.products.includes(e.id),onChange:t=>{t.target.checked?h(d(d({},x),{},{products:[...x.products,e.id]})):h(d(d({},x),{},{products:x.products.filter((t=>t!==e.id))}))},className:"form-checkbox"}),(0,Tt.jsx)("span",{className:"text-sm",children:e.name})]},e.id)))})]}),(0,Tt.jsxs)("div",{className:"flex gap-2",children:[(0,Tt.jsx)("button",{onClick:()=>{c(l.id,x),m(!1)},className:"btn-primary",children:"\u062d\u0641\u0638 \u0627\u0644\u062a\u063a\u064a\u064a\u0631\u0627\u062a"}),(0,Tt.jsx)("button",{onClick:()=>m(!1),className:"btn-secondary",children:"\u0625\u0644\u063a\u0627\u0621"})]})]}):(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h4",{className:"text-xl font-bold",children:l.name}),(0,Tt.jsx)("p",{className:"text-gray-600",children:l.description})]}),(0,Tt.jsxs)("div",{className:"flex gap-2",children:[(0,Tt.jsx)("button",{onClick:()=>m(!0),className:"btn-secondary text-sm px-3 py-1",children:"\u270f\ufe0f \u062a\u0639\u062f\u064a\u0644"}),(0,Tt.jsx)("button",{onClick:()=>o(l.id),className:"btn-danger text-sm px-3 py-1",children:"\ud83d\uddd1\ufe0f \u062d\u0630\u0641"})]})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Tt.jsxs)("div",{className:"bg-blue-50 rounded p-3",children:[(0,Tt.jsx)("div",{className:"text-sm font-medium text-blue-800",children:"\u0645\u062f\u064a\u0631 \u0627\u0644\u062e\u0637"}),(0,Tt.jsx)("div",{className:"font-bold text-blue-600",children:(null===(t=l.manager_info)||void 0===t?void 0:t.full_name)||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})]}),(0,Tt.jsxs)("div",{className:"bg-green-50 rounded p-3",children:[(0,Tt.jsx)("div",{className:"text-sm font-medium text-green-800",children:"\u0627\u0644\u0645\u0646\u0627\u0637\u0642"}),(0,Tt.jsxs)("div",{className:"font-bold text-green-600",children:[(null===(s=l.areas_details)||void 0===s?void 0:s.length)||0," \u0645\u0646\u0637\u0642\u0629"]})]}),(0,Tt.jsxs)("div",{className:"bg-purple-50 rounded p-3",children:[(0,Tt.jsx)("div",{className:"text-sm font-medium text-purple-800",children:"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"}),(0,Tt.jsxs)("div",{className:"font-bold text-purple-600",children:[(null===(a=l.products_details)||void 0===a?void 0:a.length)||0," \u0645\u0646\u062a\u062c"]})]})]}),l.areas_details&&l.areas_details.length>0&&(0,Tt.jsxs)("div",{className:"mt-4",children:[(0,Tt.jsx)("div",{className:"text-sm font-medium mb-2",children:"\u0627\u0644\u0645\u0646\u0627\u0637\u0642 \u0627\u0644\u0645\u063a\u0637\u0627\u0629:"}),(0,Tt.jsx)("div",{className:"flex flex-wrap gap-2",children:l.areas_details.map((e=>(0,Tt.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm",children:e.name},e.id)))})]})]})})},va=e=>{let{users:t,products:s,areas:a,onClose:l,onCreate:r}=e;const[i,c]=(0,n.useState)({name:"",name_en:"",code:"",description:"",manager_id:"",assigned_products:[],coverage_areas:[],color:"#3B82F6",priority:1});return(0,Tt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Tt.jsx)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,Tt.jsxs)("div",{className:"p-6",children:[(0,Tt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Tt.jsx)("h2",{className:"text-2xl font-bold",children:"\u2795 \u0625\u0646\u0634\u0627\u0621 \u062e\u0637 \u062c\u062f\u064a\u062f"}),(0,Tt.jsx)("button",{onClick:l,className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\xd7"})]}),(0,Tt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),console.log("\u0625\u0631\u0633\u0627\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u062e\u0637:",i),r(i)},className:"space-y-4",children:[(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0627\u0633\u0645 \u0627\u0644\u062e\u0637 *"}),(0,Tt.jsx)("input",{type:"text",value:i.name,onChange:e=>c(d(d({},i),{},{name:e.target.value})),className:"input-glass w-full",placeholder:"\u0645\u062b\u0627\u0644: \u062e\u0637 \u0627\u0644\u0642\u0627\u0647\u0631\u0629 \u0627\u0644\u0643\u0628\u0631\u0649",required:!0})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0631\u0645\u0632 \u0627\u0644\u062e\u0637 *"}),(0,Tt.jsx)("input",{type:"text",value:i.code,onChange:e=>c(d(d({},i),{},{code:e.target.value})),className:"input-glass w-full",placeholder:"\u0645\u062b\u0627\u0644: CAIRO_01",required:!0})]})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0645\u062f\u064a\u0631 \u0627\u0644\u062e\u0637 *"}),(0,Tt.jsxs)("select",{value:i.manager_id,onChange:e=>c(d(d({},i),{},{manager_id:e.target.value})),className:"input-glass w-full",required:!0,children:[(0,Tt.jsx)("option",{value:"",children:"\u0627\u062e\u062a\u0627\u0631 \u0645\u062f\u064a\u0631 \u0627\u0644\u062e\u0637"}),t.map((e=>(0,Tt.jsx)("option",{value:e.id,children:e.full_name},e.id)))]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0644\u0648\u0646 \u0627\u0644\u062e\u0637"}),(0,Tt.jsx)("input",{type:"color",value:i.color,onChange:e=>c(d(d({},i),{},{color:e.target.value})),className:"input-glass w-full h-10"})]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0627\u0644\u0648\u0635\u0641"}),(0,Tt.jsx)("textarea",{value:i.description,onChange:e=>c(d(d({},i),{},{description:e.target.value})),className:"input-glass w-full h-20",placeholder:"\u0648\u0635\u0641 \u0627\u0644\u062e\u0637 \u0648\u0627\u0644\u0645\u0646\u0627\u0637\u0642 \u0627\u0644\u0645\u063a\u0637\u0627\u0629..."})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u0645\u062e\u0635\u0635\u0629"}),(0,Tt.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 max-h-40 overflow-y-auto border rounded p-2",children:s.map((e=>(0,Tt.jsxs)("label",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[(0,Tt.jsx)("input",{type:"checkbox",checked:i.assigned_products.includes(e.id),onChange:t=>{t.target.checked?c(d(d({},i),{},{assigned_products:[...i.assigned_products,e.id]})):c(d(d({},i),{},{assigned_products:i.assigned_products.filter((t=>t!==e.id))}))},className:"form-checkbox"}),(0,Tt.jsx)("span",{className:"text-sm",children:e.name})]},e.id)))}),0===s.length&&(0,Tt.jsx)("p",{className:"text-sm text-gray-500 bg-gray-100 rounded p-2",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0646\u062a\u062c\u0627\u062a \u0645\u062a\u0627\u062d\u0629. \u064a\u0631\u062c\u0649 \u0625\u0636\u0627\u0641\u0629 \u0645\u0646\u062a\u062c\u0627\u062a \u0623\u0648\u0644\u0627\u064b \u0645\u0646 \u0642\u0633\u0645 \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a."})]}),(0,Tt.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,Tt.jsx)("button",{type:"submit",className:"btn-primary flex-1",disabled:!i.name||!i.line_manager_id,children:"\u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u062e\u0637"}),(0,Tt.jsx)("button",{type:"button",onClick:l,className:"btn-secondary flex-1",children:"\u0625\u0644\u063a\u0627\u0621"})]})]})]})})})},ba=e=>{let{area:t,lines:s,onUpdate:a,onDelete:l}=e;const[r,i]=(0,n.useState)(!1),[c,o]=(0,n.useState)({name:t.name||"",code:t.code||"",description:t.description||"",parent_line_id:t.parent_line_id||"",region_type:t.region_type||"urban"});return(0,Tt.jsx)("div",{className:"glass-effect p-6 rounded-xl",children:r?(0,Tt.jsxs)("div",{className:"space-y-4",children:[(0,Tt.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u0637\u0642\u0629"}),(0,Tt.jsx)("input",{type:"text",value:c.name,onChange:e=>o(d(d({},c),{},{name:e.target.value})),className:"input-glass w-full"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0631\u0645\u0632 \u0627\u0644\u0645\u0646\u0637\u0642\u0629"}),(0,Tt.jsx)("input",{type:"text",value:c.code,onChange:e=>o(d(d({},c),{},{code:e.target.value})),className:"input-glass w-full"})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0627\u0644\u062e\u0637 \u0627\u0644\u0631\u0626\u064a\u0633\u064a"}),(0,Tt.jsxs)("select",{value:c.parent_line_id,onChange:e=>o(d(d({},c),{},{parent_line_id:e.target.value})),className:"input-glass w-full",children:[(0,Tt.jsx)("option",{value:"",children:"\u0627\u062e\u062a\u0627\u0631 \u0627\u0644\u062e\u0637"}),(s||[]).map((e=>(0,Tt.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0646\u0648\u0639 \u0627\u0644\u0645\u0646\u0637\u0642\u0629"}),(0,Tt.jsxs)("select",{value:c.region_type,onChange:e=>o(d(d({},c),{},{region_type:e.target.value})),className:"input-glass w-full",children:[(0,Tt.jsx)("option",{value:"urban",children:"\u062d\u0636\u0631\u064a\u0629"}),(0,Tt.jsx)("option",{value:"rural",children:"\u0631\u064a\u0641\u064a\u0629"}),(0,Tt.jsx)("option",{value:"industrial",children:"\u0635\u0646\u0627\u0639\u064a\u0629"})]})]}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0627\u0644\u0648\u0635\u0641"}),(0,Tt.jsx)("textarea",{value:c.description,onChange:e=>o(d(d({},c),{},{description:e.target.value})),className:"input-glass w-full h-20"})]})]}),(0,Tt.jsxs)("div",{className:"flex gap-2",children:[(0,Tt.jsx)("button",{onClick:()=>{a(t.id,c),i(!1)},className:"btn-primary px-4 py-2",children:"\u062d\u0641\u0638"}),(0,Tt.jsx)("button",{onClick:()=>i(!1),className:"btn-secondary px-4 py-2",children:"\u0625\u0644\u063a\u0627\u0621"})]})]}):(0,Tt.jsxs)("div",{children:[(0,Tt.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h4",{className:"font-bold text-lg",children:t.name||"\u0645\u0646\u0637\u0642\u0629 \u0628\u062f\u0648\u0646 \u0627\u0633\u0645"}),(0,Tt.jsx)("p",{className:"text-sm text-gray-600",children:t.code||"\u0628\u062f\u0648\u0646 \u0631\u0645\u0632"}),(0,Tt.jsx)("p",{className:"text-sm text-gray-500",children:t.description||"\u0628\u062f\u0648\u0646 \u0648\u0635\u0641"})]}),(0,Tt.jsxs)("div",{className:"flex gap-2",children:[(0,Tt.jsx)("button",{onClick:()=>i(!0),className:"text-blue-600 hover:text-blue-800 text-sm",children:"\u062a\u062d\u0631\u064a\u0631"}),(0,Tt.jsx)("button",{onClick:()=>l&&l(t.id),className:"text-red-600 hover:text-red-800 text-sm",children:"\u062d\u0630\u0641"})]})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{className:"bg-blue-50 rounded p-3",children:[(0,Tt.jsx)("div",{className:"text-sm font-medium text-blue-800",children:"\u0627\u0644\u062e\u0637 \u0627\u0644\u0631\u0626\u064a\u0633\u064a"}),(0,Tt.jsx)("div",{className:"text-sm text-blue-600",children:t.parent_line_name||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})]}),(0,Tt.jsxs)("div",{className:"bg-green-50 rounded p-3",children:[(0,Tt.jsx)("div",{className:"text-sm font-medium text-green-800",children:"\u0646\u0648\u0639 \u0627\u0644\u0645\u0646\u0637\u0642\u0629"}),(0,Tt.jsx)("div",{className:"text-sm text-green-600",children:"urban"===t.region_type?"\u062d\u0636\u0631\u064a\u0629":"rural"===t.region_type?"\u0631\u064a\u0641\u064a\u0629":"industrial"===t.region_type?"\u0635\u0646\u0627\u0639\u064a\u0629":"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})]}),(0,Tt.jsxs)("div",{className:"bg-purple-50 rounded p-3",children:[(0,Tt.jsx)("div",{className:"text-sm font-medium text-purple-800",children:"\u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a"}),(0,Tt.jsx)("div",{className:"text-xl font-bold text-purple-600",children:t.total_clinics||0})]}),(0,Tt.jsxs)("div",{className:"bg-orange-50 rounded p-3",children:[(0,Tt.jsx)("div",{className:"text-sm font-medium text-orange-800",children:"\u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a"}),(0,Tt.jsx)("div",{className:"text-xl font-bold text-orange-600",children:t.total_visits||0})]})]})]})})},ja=()=>{const[e,t]=(0,n.useState)([]),[s,a]=(0,n.useState)(null),[l,r]=(0,n.useState)(!1),[i,c]=(0,n.useState)(!1),[o,d]=(0,n.useState)(""),[u,m]=(0,n.useState)("all"),{language:x,t:h,isRTL:p}=It();(0,n.useEffect)((()=>{g()}),[]);const g=async()=>{c(!0);try{const e=localStorage.getItem("access_token"),s=await Pt.get("".concat(Dt,"/clinics/enhanced"),{headers:{Authorization:"Bearer ".concat(e)}});t(s.data||[])}catch(e){console.error("Error loading enhanced clinics:",e)}finally{c(!1)}},f=async(e,t,s)=>{try{const a=localStorage.getItem("access_token");await Pt.put("".concat(Dt,"/clinics/").concat(e,"/classification"),{classification:t,notes:s},{headers:{Authorization:"Bearer ".concat(a)}}),g()}catch(a){console.error("Error updating clinic classification:",a)}},v=e=>{switch(e){case"new":return"green";case"premium":return"gold";case"debt":return"red";default:return"gray"}},b=e=>({new:"\ud83c\udd95 \u0639\u064a\u0627\u062f\u0629 \u062c\u062f\u064a\u062f\u0629",premium:"\u2b50 \u0639\u064a\u0627\u062f\u0629 \u0645\u0645\u064a\u0632\u0629",debt:"\u26a0\ufe0f \u0645\u062f\u064a\u0648\u0646\u064a\u0629 \u0645\u0633\u062a\u062d\u0642\u0629"}[e]||e),j=e.filter((e=>{var t,s,a;const n=(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(o.toLowerCase()))||(null===(s=e.doctor_name)||void 0===s?void 0:s.toLowerCase().includes(o.toLowerCase()))||(null===(a=e.address)||void 0===a?void 0:a.toLowerCase().includes(o.toLowerCase())),l="all"===u||e.classification===u;return n&&l}));return(0,Tt.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Tt.jsxs)("div",{className:"text-center mb-8",children:[(0,Tt.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"\ud83c\udfe5 \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a \u0627\u0644\u0627\u062d\u062a\u0631\u0627\u0641\u064a\u0629"}),(0,Tt.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062f\u0627\u0631\u0629 \u0634\u0627\u0645\u0644\u0629 \u0644\u0644\u0639\u064a\u0627\u062f\u0627\u062a \u0645\u0639 \u062a\u0635\u0646\u064a\u0641 \u0628\u0627\u0644\u0623\u0644\u0648\u0627\u0646 \u0648\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a \u062a\u0641\u0635\u064a\u0644\u064a\u0629 \u0648\u0645\u062f\u064a\u0648\u0646\u064a\u0629"})]}),(0,Tt.jsxs)("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Tt.jsxs)("div",{className:"relative",children:[(0,Tt.jsx)("input",{type:"text",placeholder:"\u0628\u062d\u062b \u0639\u0646 \u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a...",value:o,onChange:e=>d(e.target.value),className:"input-glass w-full pl-12"}),(0,Tt.jsx)("span",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:"\ud83d\udd0d"})]}),(0,Tt.jsxs)("select",{value:u,onChange:e=>m(e.target.value),className:"input-glass",children:[(0,Tt.jsx)("option",{value:"all",children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u062a\u0635\u0646\u064a\u0641\u0627\u062a"}),(0,Tt.jsx)("option",{value:"new",children:"\ud83c\udd95 \u0639\u064a\u0627\u062f\u0627\u062a \u062c\u062f\u064a\u062f\u0629"}),(0,Tt.jsx)("option",{value:"premium",children:"\u2b50 \u0639\u064a\u0627\u062f\u0627\u062a \u0645\u0645\u064a\u0632\u0629"}),(0,Tt.jsx)("option",{value:"debt",children:"\u26a0\ufe0f \u0645\u062f\u064a\u0648\u0646\u064a\u0629 \u0645\u0633\u062a\u062d\u0642\u0629"})]})]}),(0,Tt.jsxs)("div",{className:"mb-6 bg-white bg-opacity-10 backdrop-blur-md rounded-lg p-4",children:[(0,Tt.jsx)("h3",{className:"font-bold mb-3",children:"\ud83c\udfa8 \u062f\u0644\u064a\u0644 \u0627\u0644\u0623\u0644\u0648\u0627\u0646:"}),(0,Tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded-full"}),(0,Tt.jsx)("span",{className:"text-sm",children:"\ud83c\udd95 \u0639\u064a\u0627\u062f\u0627\u062a \u062c\u062f\u064a\u062f\u0629 - \u062d\u062f\u064a\u062b\u0629 \u0627\u0644\u062a\u0633\u062c\u064a\u0644"})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"w-4 h-4 bg-yellow-500 rounded-full"}),(0,Tt.jsx)("span",{className:"text-sm",children:"\u2b50 \u0639\u064a\u0627\u062f\u0627\u062a \u0645\u0645\u064a\u0632\u0629 - \u0639\u0627\u0644\u064a\u0629 \u0627\u0644\u0625\u064a\u0631\u0627\u062f\u0627\u062a"})]}),(0,Tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Tt.jsx)("div",{className:"w-4 h-4 bg-red-500 rounded-full"}),(0,Tt.jsx)("span",{className:"text-sm",children:"\u26a0\ufe0f \u0645\u062f\u064a\u0648\u0646\u064a\u0629 \u0645\u0633\u062a\u062d\u0642\u0629 - \u062a\u062d\u062a\u0627\u062c \u0645\u062a\u0627\u0628\u0639\u0629"})]})]})]}),i?(0,Tt.jsxs)("div",{className:"text-center py-8",children:[(0,Tt.jsx)("div",{className:"animate-spin inline-block w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full"}),(0,Tt.jsx)("p",{className:"mt-2",children:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644..."})]}):(0,Tt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map((e=>(0,Tt.jsx)(ya,{clinic:e,onViewProfile:()=>(async e=>{try{const t=localStorage.getItem("access_token"),s=await Pt.get("".concat(Dt,"/clinics/").concat(e.id,"/mini-profile"),{headers:{Authorization:"Bearer ".concat(t)}});a(s.data),r(!0)}catch(t){console.error("Error loading clinic profile:",t)}})(e),onUpdateClassification:f,getClassificationColor:v,getClassificationLabel:b},e.id)))}),l&&s&&(0,Tt.jsx)(ClinicMiniProfile,{clinicData:s,onClose:()=>r(!1),getClassificationColor:v,getClassificationLabel:b})]})},ya=e=>{var t,s;let{clinic:a,onViewProfile:l,onUpdateClassification:r,getClassificationColor:i,getClassificationLabel:c}=e;const[o,d]=(0,n.useState)(!1),u=i(a.classification),m={borderLeft:"6px solid ".concat("green"===u?"#10B981":"gold"===u?"#F59E0B":"red"===u?"#EF4444":"#6B7280"),background:"linear-gradient(135deg, ".concat("green"===u?"rgba(16, 185, 129, 0.05)":"gold"===u?"rgba(245, 158, 11, 0.05)":"red"===u?"rgba(239, 68, 68, 0.05)":"rgba(107, 114, 128, 0.05)",", transparent)"),boxShadow:"0 4px 6px ".concat("green"===u?"rgba(16, 185, 129, 0.1)":"gold"===u?"rgba(245, 158, 11, 0.1)":"red"===u?"rgba(239, 68, 68, 0.1)":"rgba(107, 114, 128, 0.1)")};return(0,Tt.jsxs)("div",{className:"glass-effect rounded-xl p-6 hover:shadow-lg transition-all",style:m,children:[(0,Tt.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("h3",{className:"font-bold text-lg",children:a.name}),(0,Tt.jsx)("p",{className:"text-sm text-gray-600",children:a.address}),a.doctor_name&&(0,Tt.jsxs)("p",{className:"text-sm text-blue-600",children:["\u062f. ",a.doctor_name]})]}),(0,Tt.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat("green"===u?"bg-green-100 text-green-800":"gold"===u?"bg-yellow-100 text-yellow-800":"red"===u?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:c(a.classification)})]}),(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[(0,Tt.jsxs)("div",{className:"bg-blue-50 rounded p-2 text-center",children:[(0,Tt.jsx)("div",{className:"text-lg font-bold text-blue-600",children:a.total_visits||0}),(0,Tt.jsx)("div",{className:"text-xs text-blue-800",children:"\u0632\u064a\u0627\u0631\u0627\u062a"})]}),(0,Tt.jsxs)("div",{className:"bg-green-50 rounded p-2 text-center",children:[(0,Tt.jsx)("div",{className:"text-lg font-bold text-green-600",children:a.total_orders||0}),(0,Tt.jsx)("div",{className:"text-xs text-green-800",children:"\u0637\u0644\u0628\u0627\u062a"})]}),(0,Tt.jsxs)("div",{className:"bg-purple-50 rounded p-2 text-center",children:[(0,Tt.jsx)("div",{className:"text-lg font-bold text-purple-600",children:(null===(t=a.total_revenue)||void 0===t?void 0:t.toFixed(0))||0}),(0,Tt.jsx)("div",{className:"text-xs text-purple-800",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0625\u064a\u0631\u0627\u062f\u0627\u062a"})]}),(0,Tt.jsxs)("div",{className:"rounded p-2 text-center ".concat(a.outstanding_debt>0?"bg-red-50":"bg-gray-50"),children:[(0,Tt.jsx)("div",{className:"text-lg font-bold ".concat(a.outstanding_debt>0?"text-red-600":"text-gray-600"),children:(null===(s=a.outstanding_debt)||void 0===s?void 0:s.toFixed(0))||0}),(0,Tt.jsx)("div",{className:"text-xs ".concat(a.outstanding_debt>0?"text-red-800":"text-gray-800"),children:"\u0627\u0644\u0645\u062f\u064a\u0648\u0646\u064a\u0629"})]})]}),a.assigned_rep_name&&(0,Tt.jsxs)("div",{className:"bg-gray-50 rounded p-2 mb-4",children:[(0,Tt.jsx)("div",{className:"text-xs text-gray-600",children:"\u0627\u0644\u0645\u0633\u0624\u0648\u0644:"}),(0,Tt.jsx)("div",{className:"text-sm font-medium",children:a.assigned_rep_name}),(0,Tt.jsx)("div",{className:"text-xs text-gray-500",children:a.assigned_rep_role})]}),(0,Tt.jsxs)("div",{className:"flex gap-2",children:[(0,Tt.jsx)("button",{onClick:l,className:"flex-1 btn-primary text-sm py-2",children:"\ud83d\udcca \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u062a\u0641\u0635\u064a\u0644\u064a"}),(0,Tt.jsx)("button",{onClick:()=>d(!0),className:"btn-secondary text-sm px-3 py-2",children:"\ud83c\udff7\ufe0f"})]}),o&&(0,Tt.jsx)(ClassificationModal,{clinic:a,onClose:()=>d(!1),onUpdate:r})]})},Na=()=>(0,Tt.jsx)(Bt,{children:(0,Tt.jsx)(Ht,{children:(0,Tt.jsx)(Jt,{children:(0,Tt.jsx)($s,{})})})});l.createRoot(document.getElementById("root")).render((0,Tt.jsx)(n.StrictMode,{children:(0,Tt.jsx)(Na,{})}))})();
//# sourceMappingURL=main.f65c2713.js.map