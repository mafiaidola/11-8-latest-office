"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[333],{333:(e,t,s)=>{s.r(t),s.d(t,{default:()=>d});var l=s(424),a=s(474),r=s(722),i=s(579);const n=e=>{let{order:t,onClose:s,language:l,user:a}=e;const r={pending:{color:"bg-yellow-500/20 text-yellow-300",text:"\u0645\u0639\u0644\u0642"},pending_manager:{color:"bg-blue-500/20 text-blue-300",text:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u062f\u064a\u0631"},pending_accounting:{color:"bg-purple-500/20 text-purple-300",text:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629"},pending_warehouse:{color:"bg-orange-500/20 text-orange-300",text:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u062e\u0632\u0646"},approved:{color:"bg-green-500/20 text-green-300",text:"\u0645\u0639\u062a\u0645\u062f"},rejected:{color:"bg-red-500/20 text-red-300",text:"\u0645\u0631\u0641\u0648\u0636"},completed:{color:"bg-teal-500/20 text-teal-300",text:"\u0645\u0643\u062a\u0645\u0644"}}[t.status]||{color:"bg-gray-500/20 text-gray-300",text:t.status},n="accounting"===(null===a||void 0===a?void 0:a.role)||"admin"===(null===a||void 0===a?void 0:a.role)||"gm"===(null===a||void 0===a?void 0:a.role),c={id:t.clinic_id||"clinic-001",name:t.clinic_name,total_orders:15,total_debt:2500,remaining_debt:1200,region:t.clinic_region||"\u0627\u0644\u0642\u0627\u0647\u0631\u0629 \u0627\u0644\u0643\u0628\u0631\u0649",line:t.clinic_line||"\u062e\u0637 \u0648\u0633\u0637 \u0627\u0644\u0642\u0627\u0647\u0631\u0629"},d={id:t.sales_rep_id||"rep-001",name:t.sales_rep_name,total_orders:45,total_debt:8500,remaining_debt:3200,region:t.rep_region||"\u0627\u0644\u0642\u0627\u0647\u0631\u0629 \u0627\u0644\u0643\u0628\u0631\u0649",line:t.rep_line||"\u062e\u0637 \u0648\u0633\u0637 \u0627\u0644\u0642\u0627\u0647\u0631\u0629"};return(0,i.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,i.jsx)("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl max-w-7xl w-full max-h-[90vh] overflow-y-auto border border-white/20",children:(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center",children:(0,i.jsx)("span",{className:"text-2xl text-white",children:"\ud83d\uded2"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-2xl font-bold text-white",children:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0637\u0644\u0628\u064a\u0629"}),(0,i.jsx)("p",{className:"text-lg font-medium text-orange-300",children:t.id})]})]}),(0,i.jsx)("button",{onClick:s,className:"text-white/70 hover:text-white text-2xl",children:"\u2715"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,i.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,i.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:(0,i.jsx)("span",{className:"text-xl text-white",children:"\ud83c\udfe5"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"text-lg font-bold text-white",children:"\u0643\u0627\u0631\u062a \u0627\u0644\u0639\u064a\u0627\u062f\u0629"}),(0,i.jsx)("p",{className:"text-blue-300 font-medium",children:c.name})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,i.jsxs)("div",{className:"text-center bg-green-500/10 rounded-lg p-3 border border-green-500/20",children:[(0,i.jsx)("div",{className:"text-lg font-bold text-green-300",children:c.total_orders}),(0,i.jsx)("div",{className:"text-xs text-green-200",children:"\u0627\u0644\u0637\u0644\u0628\u064a\u0627\u062a"})]}),(0,i.jsxs)("div",{className:"text-center bg-red-500/10 rounded-lg p-3 border border-red-500/20",children:[(0,i.jsxs)("div",{className:"text-lg font-bold text-red-300",children:[c.total_debt.toFixed(2),"\u062c.\u0645"]}),(0,i.jsx)("div",{className:"text-xs text-red-200",children:"\u0627\u0644\u0645\u062f\u064a\u0648\u0646\u064a\u0627\u062a"})]})]}),(0,i.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("span",{className:"text-white/70",children:"\u0627\u0644\u0645\u0646\u0637\u0642\u0629:"}),(0,i.jsx)("span",{className:"text-white font-medium",children:c.region})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("span",{className:"text-white/70",children:"\u0627\u0644\u062e\u0637:"}),(0,i.jsx)("span",{className:"text-white font-medium",children:c.line})]})]})]}),(0,i.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,i.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,i.jsx)("span",{className:"text-xl text-white",children:"\ud83d\udc64"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"text-lg font-bold text-white",children:"\u0643\u0627\u0631\u062a \u0627\u0644\u0645\u0646\u062f\u0648\u0628"}),(0,i.jsx)("p",{className:"text-purple-300 font-medium",children:d.name})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,i.jsxs)("div",{className:"text-center bg-green-500/10 rounded-lg p-3 border border-green-500/20",children:[(0,i.jsx)("div",{className:"text-lg font-bold text-green-300",children:d.total_orders}),(0,i.jsx)("div",{className:"text-xs text-green-200",children:"\u0627\u0644\u0637\u0644\u0628\u064a\u0627\u062a"})]}),(0,i.jsxs)("div",{className:"text-center bg-red-500/10 rounded-lg p-3 border border-red-500/20",children:[(0,i.jsxs)("div",{className:"text-lg font-bold text-red-300",children:[d.total_debt.toFixed(2),"\u062c.\u0645"]}),(0,i.jsx)("div",{className:"text-xs text-red-200",children:"\u0627\u0644\u0645\u062f\u064a\u0648\u0646\u064a\u0627\u062a"})]})]}),(0,i.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("span",{className:"text-white/70",children:"\u0627\u0644\u0645\u0646\u0637\u0642\u0629:"}),(0,i.jsx)("span",{className:"text-white font-medium",children:d.region})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("span",{className:"text-white/70",children:"\u0627\u0644\u062e\u0637:"}),(0,i.jsx)("span",{className:"text-white font-medium",children:d.line})]})]})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,i.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,i.jsxs)("h4",{className:"font-bold text-lg text-white mb-3 flex items-center gap-2",children:[(0,i.jsx)("span",{children:"\ud83d\udccb"}),"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0637\u0644\u0628\u064a\u0629"]}),(0,i.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-white/70",children:"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628\u064a\u0629:"}),(0,i.jsx)("span",{className:"font-medium text-white",children:t.id})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-white/70",children:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629:"}),(0,i.jsx)("span",{className:"font-medium text-white",children:t.clinic_name})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-white/70",children:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628:"}),(0,i.jsx)("span",{className:"font-medium text-white",children:t.sales_rep_name||"-"})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-white/70",children:"\u0627\u0644\u0645\u062e\u0632\u0646:"}),(0,i.jsx)("span",{className:"font-medium text-white",children:t.warehouse_name||"-"})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("span",{className:"text-white/70",children:"\u0627\u0644\u062d\u0627\u0644\u0629:"}),(0,i.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium border ".concat(r.color),children:r.text})]})]})]}),(0,i.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,i.jsxs)("h4",{className:"font-bold text-lg text-white mb-3 flex items-center gap-2",children:[(0,i.jsx)("span",{children:"\ud83d\udcb0"}),"\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0645\u0627\u0644\u064a\u0629",!n&&(0,i.jsx)("span",{className:"text-xs text-orange-300 bg-orange-500/20 px-2 py-1 rounded-full",children:"\ud83d\udd12 \u0645\u062d\u062c\u0648\u0628\u0629"})]}),(0,i.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-white/70",children:"\u0639\u062f\u062f \u0627\u0644\u0639\u0646\u0627\u0635\u0631:"}),(0,i.jsx)("span",{className:"font-medium text-white",children:t.items_count})]}),n?(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-white/70",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0628\u0644\u063a:"}),(0,i.jsxs)("span",{className:"font-medium text-green-300",children:[t.total_amount," \u062c.\u0645"]})]}):(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-white/70",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0628\u0644\u063a:"}),(0,i.jsx)("span",{className:"text-orange-300",children:"\ud83d\udd12 \u0645\u062a\u0627\u062d \u0644\u0644\u062d\u0633\u0627\u0628\u0627\u062a \u0641\u0642\u0637"})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-white/70",children:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0646\u0634\u0627\u0621:"}),(0,i.jsx)("span",{className:"font-medium text-white",children:new Date(t.created_at).toLocaleDateString("ar")})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-white/70",children:"\u0648\u0642\u062a \u0627\u0644\u0625\u0646\u0634\u0627\u0621:"}),(0,i.jsx)("span",{className:"font-medium text-white",children:new Date(t.created_at).toLocaleTimeString("ar",{hour:"2-digit",minute:"2-digit"})})]})]})]})]}),(0,i.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,i.jsxs)("h4",{className:"font-bold text-lg text-white mb-3 flex items-center gap-2",children:[(0,i.jsx)("span",{children:"\ud83d\udce6"}),"\u0639\u0646\u0627\u0635\u0631 \u0627\u0644\u0637\u0644\u0628\u064a\u0629",!n&&(0,i.jsx)("span",{className:"text-xs text-orange-300 bg-orange-500/20 px-2 py-1 rounded-full",children:"\ud83d\udd12 \u0627\u0644\u0623\u0633\u0639\u0627\u0631 \u0645\u062d\u062c\u0648\u0628\u0629"})]}),t.items&&t.items.length>0?(0,i.jsxs)("div",{className:"overflow-x-auto",children:[(0,i.jsxs)("table",{className:"w-full text-sm",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{className:"border-b border-white/10",children:[(0,i.jsx)("th",{className:"text-right py-2 text-white/80",children:"\u0627\u0644\u0645\u0646\u062a\u062c"}),(0,i.jsx)("th",{className:"text-right py-2 text-white/80",children:"\u0627\u0644\u0643\u0645\u064a\u0629"}),n&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("th",{className:"text-right py-2 text-white/80",children:"\u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0629"}),(0,i.jsx)("th",{className:"text-right py-2 text-white/80",children:"\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a"})]})]})}),(0,i.jsx)("tbody",{children:t.items.map(((e,t)=>(0,i.jsxs)("tr",{className:"border-b border-white/5 hover:bg-white/5 transition-colors",children:[(0,i.jsx)("td",{className:"py-3 font-medium text-white",children:e.name}),(0,i.jsx)("td",{className:"py-3 text-white",children:(0,i.jsx)("span",{className:"bg-blue-500/20 text-blue-300 px-2 py-1 rounded-full text-xs font-medium",children:e.quantity})}),n&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("td",{className:"py-3 text-green-300",children:[e.price," \u062c.\u0645"]}),(0,i.jsxs)("td",{className:"py-3 font-medium text-green-300",children:[e.total," \u062c.\u0645"]})]})]},t)))})]}),n&&(0,i.jsx)("div",{className:"mt-4 pt-4 border-t border-white/10 text-right",children:(0,i.jsxs)("div",{className:"text-lg font-bold text-green-300",children:["\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0637\u0644\u0628\u064a\u0629: ",t.total_amount," \u062c.\u0645"]})})]}):(0,i.jsxs)("div",{className:"text-center py-8",children:[(0,i.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udce6"}),(0,i.jsx)("p",{className:"text-gray-400",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u062a\u0641\u0627\u0635\u064a\u0644 \u0639\u0646\u0627\u0635\u0631 \u0645\u062a\u0627\u062d\u0629"})]})]}),(0,i.jsx)("div",{className:"flex justify-end mt-6",children:(0,i.jsx)("button",{onClick:s,className:"bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition-colors font-medium",children:"\u0625\u063a\u0644\u0627\u0642"})})]})})})},c=e=>{let{onClose:t,onSubmit:s,language:l}=e;return(0,i.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,i.jsx)("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl max-w-2xl w-full border border-white/20",children:(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,i.jsx)("h3",{className:"text-2xl font-bold",children:"\u0625\u0646\u0634\u0627\u0621 \u0637\u0644\u0628\u064a\u0629 \u062c\u062f\u064a\u062f\u0629"}),(0,i.jsx)("button",{onClick:t,className:"text-white/70 hover:text-white text-2xl",children:"\u2715"})]}),(0,i.jsxs)("div",{className:"text-center py-12",children:[(0,i.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udea7"}),(0,i.jsx)("h4",{className:"text-xl font-bold mb-2",children:"\u0642\u064a\u062f \u0627\u0644\u062a\u0637\u0648\u064a\u0631"}),(0,i.jsx)("p",{className:"text-gray-400 mb-6",children:"\u0646\u0645\u0648\u0630\u062c \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0637\u0644\u0628\u064a\u0629 \u0642\u064a\u062f \u0627\u0644\u062a\u0637\u0648\u064a\u0631 \u0648\u0633\u064a\u0643\u0648\u0646 \u0645\u062a\u0627\u062d\u0627\u064b \u0642\u0631\u064a\u0628\u0627\u064b"}),(0,i.jsx)("button",{onClick:t,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"\u0625\u063a\u0644\u0627\u0642"})]})]})})})},d=e=>{let{user:t,language:s,isRTL:d}=e;const[o,x]=(0,l.useState)([]),[m,h]=(0,l.useState)(!0),[p,g]=(0,l.useState)(!1),[u,b]=(0,l.useState)(null),[j,N]=(0,l.useState)(!1),[v,f]=(0,l.useState)("all"),[w,y]=(0,l.useState)(""),{t:_}=(0,a.Bd)(s),k="https://d1397441-cae3-4bcf-ad67-36c0ba328d1b.preview.emergentagent.com";(0,l.useEffect)((()=>{C()}),[]);const C=async()=>{try{const e=localStorage.getItem("access_token"),t=await r.A.get("".concat(k,"/orders"),{headers:{Authorization:"Bearer ".concat(e)}});x(t.data||[])}catch(e){console.error("Error fetching orders:",e),x([{id:"ORD-001",clinic_id:"clinic-001",clinic_name:"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u062f\u0643\u062a\u0648\u0631 \u0623\u062d\u0645\u062f \u0645\u062d\u0645\u062f",clinic_region:"\u0627\u0644\u0642\u0627\u0647\u0631\u0629 \u0627\u0644\u0643\u0628\u0631\u0649",clinic_line:"\u062e\u0637 \u0648\u0633\u0637 \u0627\u0644\u0642\u0627\u0647\u0631\u0629",sales_rep_id:"rep-001",sales_rep_name:"\u0645\u062d\u0645\u062f \u0623\u062d\u0645\u062f \u0627\u0644\u0645\u0646\u062f\u0648\u0628",rep_region:"\u0627\u0644\u0642\u0627\u0647\u0631\u0629 \u0627\u0644\u0643\u0628\u0631\u0649",rep_line:"\u062e\u0637 \u0648\u0633\u0637 \u0627\u0644\u0642\u0627\u0647\u0631\u0629",warehouse_name:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0642\u0627\u0647\u0631\u0629 \u0627\u0644\u0631\u0626\u064a\u0633\u064a",total_amount:1500,items_count:5,status:"pending_manager",created_at:"2024-01-15T10:30:00Z",items:[{name:"\u0623\u0645\u0648\u0643\u0633\u064a\u0633\u064a\u0644\u064a\u0646 500mg",quantity:2,price:25.5,total:51},{name:"\u0641\u064a\u062a\u0627\u0645\u064a\u0646 \u062f3",quantity:1,price:120,total:120},{name:"\u0623\u0646\u0633\u0648\u0644\u064a\u0646 \u0637\u0648\u064a\u0644 \u0627\u0644\u0645\u0641\u0639\u0648\u0644",quantity:3,price:85,total:255},{name:"\u0645\u0633\u0643\u0646 \u0644\u0644\u0623\u0644\u0645",quantity:5,price:15,total:75},{name:"\u0634\u0631\u0627\u0628 \u0627\u0644\u0633\u0639\u0627\u0644",quantity:2,price:45.5,total:91}]},{id:"ORD-002",clinic_id:"clinic-002",clinic_name:"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u062f\u0643\u062a\u0648\u0631\u0629 \u0641\u0627\u0637\u0645\u0629 \u0633\u0639\u062f",clinic_region:"\u0627\u0644\u0625\u0633\u0643\u0646\u062f\u0631\u064a\u0629",clinic_line:"\u062e\u0637 \u0627\u0644\u0625\u0633\u0643\u0646\u062f\u0631\u064a\u0629 \u0627\u0644\u0634\u0631\u0642\u064a",sales_rep_id:"rep-002",sales_rep_name:"\u0623\u062d\u0645\u062f \u0645\u062d\u0645\u062f \u0627\u0644\u0633\u064a\u062f",rep_region:"\u0627\u0644\u0625\u0633\u0643\u0646\u062f\u0631\u064a\u0629",rep_line:"\u062e\u0637 \u0627\u0644\u0625\u0633\u0643\u0646\u062f\u0631\u064a\u0629 \u0627\u0644\u0634\u0631\u0642\u064a",warehouse_name:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0625\u0633\u0643\u0646\u062f\u0631\u064a\u0629",total_amount:890,items_count:3,status:"approved",created_at:"2024-01-14T14:20:00Z",items:[{name:"\u0623\u0646\u0633\u0648\u0644\u064a\u0646 \u0642\u0635\u064a\u0631 \u0627\u0644\u0645\u0641\u0639\u0648\u0644",quantity:1,price:85,total:85},{name:"\u0645\u0636\u0627\u062f \u062d\u064a\u0648\u064a",quantity:2,price:120,total:240},{name:"\u0641\u064a\u062a\u0627\u0645\u064a\u0646 \u062812",quantity:1,price:565,total:565}]},{id:"ORD-003",clinic_id:"clinic-003",clinic_name:"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u062f\u0643\u062a\u0648\u0631 \u0639\u0644\u064a \u062d\u0633\u0646",clinic_region:"\u0627\u0644\u062c\u064a\u0632\u0629",clinic_line:"\u062e\u0637 \u0627\u0644\u062c\u064a\u0632\u0629 \u0627\u0644\u0634\u0645\u0627\u0644\u064a",sales_rep_id:"rep-003",sales_rep_name:"\u0633\u0627\u0631\u0629 \u0623\u062d\u0645\u062f \u0645\u062d\u0645\u0648\u062f",rep_region:"\u0627\u0644\u062c\u064a\u0632\u0629",rep_line:"\u062e\u0637 \u0627\u0644\u062c\u064a\u0632\u0629 \u0627\u0644\u0634\u0645\u0627\u0644\u064a",warehouse_name:"\u0645\u062e\u0632\u0646 \u0627\u0644\u062c\u064a\u0632\u0629",total_amount:2100,items_count:7,status:"pending_accounting",created_at:"2024-01-13T09:15:00Z",items:[{name:"\u0645\u0636\u0627\u062f \u0627\u0644\u062a\u0647\u0627\u0628",quantity:3,price:200,total:600},{name:"\u0645\u0633\u0643\u0646 \u0642\u0648\u064a",quantity:2,price:150,total:300},{name:"\u0634\u0631\u0627\u0628 \u0644\u0644\u0623\u0637\u0641\u0627\u0644",quantity:4,price:80,total:320},{name:"\u0643\u0631\u064a\u0645 \u0645\u0648\u0636\u0639\u064a",quantity:5,price:60,total:300},{name:"\u0642\u0637\u0631\u0629 \u0644\u0644\u0639\u064a\u0646",quantity:2,price:90,total:180},{name:"\u0623\u0642\u0631\u0627\u0635 \u0641\u064a\u062a\u0627\u0645\u064a\u0646",quantity:3,price:120,total:360},{name:"\u0645\u0631\u0647\u0645 \u0637\u0628\u064a",quantity:1,price:40,total:40}]},{id:"ORD-004",clinic_id:"clinic-004",clinic_name:"\u0645\u0631\u0643\u0632 \u0627\u0644\u0637\u0628 \u0627\u0644\u062d\u062f\u064a\u062b",clinic_region:"\u0627\u0644\u0645\u0646\u0635\u0648\u0631\u0629",clinic_line:"\u062e\u0637 \u0627\u0644\u062f\u0642\u0647\u0644\u064a\u0629",sales_rep_id:"rep-001",sales_rep_name:"\u0645\u062d\u0645\u062f \u0623\u062d\u0645\u062f \u0627\u0644\u0645\u0646\u062f\u0648\u0628",rep_region:"\u0627\u0644\u0645\u0646\u0635\u0648\u0631\u0629",rep_line:"\u062e\u0637 \u0627\u0644\u062f\u0642\u0647\u0644\u064a\u0629",warehouse_name:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0645\u0646\u0635\u0648\u0631\u0629",total_amount:750.5,items_count:4,status:"completed",created_at:"2024-01-12T16:45:00Z",items:[{name:"\u0645\u0636\u0627\u062f \u062d\u0633\u0627\u0633\u064a\u0629",quantity:2,price:95,total:190},{name:"\u0634\u0631\u0627\u0628 \u0645\u0647\u062f\u0626",quantity:1,price:120.5,total:120.5},{name:"\u0643\u0628\u0633\u0648\u0644\u0627\u062a \u0637\u0628\u064a\u0639\u064a\u0629",quantity:3,price:80,total:240},{name:"\u0645\u0643\u0645\u0644 \u063a\u0630\u0627\u0626\u064a",quantity:1,price:200,total:200}]}])}finally{h(!1)}},q=o.filter((e=>{var t,s,l;const a=(null===(t=e.clinic_name)||void 0===t?void 0:t.toLowerCase().includes(w.toLowerCase()))||(null===(s=e.sales_rep_name)||void 0===s?void 0:s.toLowerCase().includes(w.toLowerCase()))||(null===(l=e.id)||void 0===l?void 0:l.toLowerCase().includes(w.toLowerCase())),r="all"===v||e.status===v;return a&&r})),S={total:o.length,pending:o.filter((e=>e.status.includes("pending"))).length,approved:o.filter((e=>"approved"===e.status)).length,completed:o.filter((e=>"completed"===e.status)).length};return m?(0,i.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,i.jsx)("p",{children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0637\u0644\u0628\u0627\u062a..."})]})}):(0,i.jsxs)("div",{className:"orders-management-container",children:[(0,i.jsx)("div",{className:"mb-8",children:(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center",children:(0,i.jsx)("span",{className:"text-2xl text-white",children:"\ud83d\uded2"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-3xl font-bold",children:_("orders","title")}),(0,i.jsx)("p",{className:"text-lg opacity-75",children:"\u0625\u062f\u0627\u0631\u0629 \u0648\u0645\u0631\u0627\u062c\u0639\u0629 \u062c\u0645\u064a\u0639 \u0627\u0644\u0637\u0644\u0628\u0627\u062a \u0645\u0639 \u0646\u0638\u0627\u0645 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0627\u062a"})]})]}),t&&["admin","gm","warehouse_manager","accounting"].includes(t.role)&&(0,i.jsxs)("button",{onClick:()=>N(!0),className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[(0,i.jsx)("span",{children:"\u2795"}),_("orders","createOrder")]})]})}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[(0,i.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20",children:[(0,i.jsx)("div",{className:"text-2xl font-bold",children:S.total}),(0,i.jsx)("div",{className:"text-sm opacity-75",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0637\u0644\u0628\u0627\u062a"})]}),(0,i.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20",children:[(0,i.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:S.pending}),(0,i.jsx)("div",{className:"text-sm opacity-75",children:"\u0637\u0644\u0628\u0627\u062a \u0645\u0639\u0644\u0642\u0629"})]}),(0,i.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20",children:[(0,i.jsx)("div",{className:"text-2xl font-bold text-green-400",children:S.approved}),(0,i.jsx)("div",{className:"text-sm opacity-75",children:"\u0637\u0644\u0628\u0627\u062a \u0645\u0639\u062a\u0645\u062f\u0629"})]}),(0,i.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20",children:[(0,i.jsx)("div",{className:"text-2xl font-bold text-teal-400",children:S.completed}),(0,i.jsx)("div",{className:"text-sm opacity-75",children:"\u0637\u0644\u0628\u0627\u062a \u0645\u0643\u062a\u0645\u0644\u0629"})]})]}),(0,i.jsx)("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20 mb-6",children:(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0627\u0644\u0628\u062d\u062b"}),(0,i.jsx)("input",{type:"text",placeholder:"\u0627\u0628\u062d\u062b \u0639\u0646 \u0627\u0644\u0637\u0644\u0628\u0627\u062a...",value:w,onChange:e=>y(e.target.value),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u062d\u0627\u0644\u0629 \u0627\u0644\u0637\u0644\u0628\u064a\u0629"}),(0,i.jsxs)("select",{value:v,onChange:e=>f(e.target.value),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[(0,i.jsx)("option",{value:"all",children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0627\u0644\u0627\u062a"}),(0,i.jsx)("option",{value:"pending",children:"\u0645\u0639\u0644\u0642"}),(0,i.jsx)("option",{value:"pending_manager",children:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u062f\u064a\u0631"}),(0,i.jsx)("option",{value:"pending_accounting",children:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629"}),(0,i.jsx)("option",{value:"pending_warehouse",children:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u062e\u0632\u0646"}),(0,i.jsx)("option",{value:"approved",children:"\u0645\u0639\u062a\u0645\u062f"}),(0,i.jsx)("option",{value:"rejected",children:"\u0645\u0631\u0641\u0648\u0636"}),(0,i.jsx)("option",{value:"completed",children:"\u0645\u0643\u062a\u0645\u0644"})]})]})]})}),(0,i.jsx)("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl border border-white/20 overflow-hidden",children:(0,i.jsx)("div",{className:"overflow-x-auto",children:(0,i.jsxs)("table",{className:"w-full",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{className:"border-b border-white/10 bg-white/5",children:[(0,i.jsx)("th",{className:"px-6 py-4 text-right text-sm font-medium",children:"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628\u064a\u0629"}),(0,i.jsx)("th",{className:"px-6 py-4 text-right text-sm font-medium",children:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629"}),(0,i.jsx)("th",{className:"px-6 py-4 text-right text-sm font-medium",children:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628"}),(0,i.jsx)("th",{className:"px-6 py-4 text-right text-sm font-medium",children:"\u0627\u0644\u0645\u062e\u0632\u0646"}),(0,i.jsx)("th",{className:"px-6 py-4 text-right text-sm font-medium",children:"\u0639\u062f\u062f \u0627\u0644\u0639\u0646\u0627\u0635\u0631"}),(0,i.jsx)("th",{className:"px-6 py-4 text-right text-sm font-medium",children:"\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a"}),(0,i.jsx)("th",{className:"px-6 py-4 text-right text-sm font-medium",children:"\u0627\u0644\u062d\u0627\u0644\u0629"}),(0,i.jsx)("th",{className:"px-6 py-4 text-right text-sm font-medium",children:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0646\u0634\u0627\u0621"}),(0,i.jsx)("th",{className:"px-6 py-4 text-right text-sm font-medium",children:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a"})]})}),(0,i.jsx)("tbody",{children:q.map((e=>{const t=(e=>{switch(e){case"pending":return{color:"bg-yellow-500/20 text-yellow-300",text:"\u0645\u0639\u0644\u0642"};case"pending_manager":return{color:"bg-blue-500/20 text-blue-300",text:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u062f\u064a\u0631"};case"pending_accounting":return{color:"bg-purple-500/20 text-purple-300",text:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629"};case"pending_warehouse":return{color:"bg-orange-500/20 text-orange-300",text:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u062e\u0632\u0646"};case"approved":return{color:"bg-green-500/20 text-green-300",text:"\u0645\u0639\u062a\u0645\u062f"};case"rejected":return{color:"bg-red-500/20 text-red-300",text:"\u0645\u0631\u0641\u0648\u0636"};case"completed":return{color:"bg-teal-500/20 text-teal-300",text:"\u0645\u0643\u062a\u0645\u0644"};default:return{color:"bg-gray-500/20 text-gray-300",text:e}}})(e.status);return(0,i.jsxs)("tr",{className:"border-b border-white/5 hover:bg-white/5 transition-colors",children:[(0,i.jsx)("td",{className:"px-6 py-4",children:(0,i.jsx)("div",{className:"font-medium text-blue-300",children:e.id})}),(0,i.jsx)("td",{className:"px-6 py-4",children:(0,i.jsx)("div",{className:"font-medium",children:e.clinic_name})}),(0,i.jsx)("td",{className:"px-6 py-4 text-sm",children:e.sales_rep_name||"-"}),(0,i.jsx)("td",{className:"px-6 py-4 text-sm",children:e.warehouse_name||"-"}),(0,i.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,i.jsx)("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 rounded text-center font-medium",children:e.items_count})}),(0,i.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,i.jsxs)("div",{className:"font-medium",children:[e.total_amount," \u062c.\u0645"]})}),(0,i.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,i.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-xs ".concat(t.color),children:t.text})}),(0,i.jsx)("td",{className:"px-6 py-4 text-sm opacity-75",children:new Date(e.created_at).toLocaleDateString("ar")}),(0,i.jsx)("td",{className:"px-6 py-4",children:(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)("button",{onClick:()=>{b(e),g(!0)},className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-xs",children:"\u0639\u0631\u0636"}),e.status.includes("pending")&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{onClick:()=>(async e=>{try{h(!0);const t=localStorage.getItem("access_token"),s=await r.A.patch("".concat(k,"/orders/").concat(e,"/review"),{approved:!0},{headers:{Authorization:"Bearer ".concat(t)}});console.log("\u2705 Order approved:",s.data),alert("\u062a\u0645 \u0627\u0639\u062a\u0645\u0627\u062f \u0627\u0644\u0637\u0644\u0628\u064a\u0629 \u0628\u0646\u062c\u0627\u062d"),C()}catch(l){var t,s;console.error("\u274c Error approving order:",l),alert("\u062e\u0637\u0623 \u0641\u064a \u0627\u0639\u062a\u0645\u0627\u062f \u0627\u0644\u0637\u0644\u0628\u064a\u0629: "+((null===(t=l.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.detail)||l.message))}finally{h(!1)}})(e.id),className:"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-xs",children:"\u0645\u0648\u0627\u0641\u0642\u0629"}),(0,i.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0631\u0641\u0636 \u0647\u0630\u0647 \u0627\u0644\u0637\u0644\u0628\u064a\u0629\u061f"))try{h(!0);const t=localStorage.getItem("access_token"),s=await r.A.patch("".concat(k,"/orders/").concat(e,"/review"),{approved:!1},{headers:{Authorization:"Bearer ".concat(t)}});console.log("\u2705 Order rejected:",s.data),alert("\u062a\u0645 \u0631\u0641\u0636 \u0627\u0644\u0637\u0644\u0628\u064a\u0629"),C()}catch(l){var t,s;console.error("\u274c Error rejecting order:",l),alert("\u062e\u0637\u0623 \u0641\u064a \u0631\u0641\u0636 \u0627\u0644\u0637\u0644\u0628\u064a\u0629: "+((null===(t=l.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.detail)||l.message))}finally{h(!1)}})(e.id),className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-xs",children:"\u0631\u0641\u0636"})]})]})})]},e.id)}))})]})})}),0===q.length&&(0,i.jsxs)("div",{className:"text-center py-12",children:[(0,i.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\uded2"}),(0,i.jsx)("h3",{className:"text-xl font-bold mb-2",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0637\u0644\u0628\u0627\u062a"}),(0,i.jsx)("p",{className:"text-gray-600",children:"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0637\u0644\u0628\u0627\u062a \u0645\u0637\u0627\u0628\u0642\u0629 \u0644\u0644\u0628\u062d\u062b"})]}),p&&u&&(0,i.jsx)(n,{order:u,onClose:()=>g(!1),language:s,user:t}),j&&(0,i.jsx)(c,{onClose:()=>N(!1),onSubmit:async e=>{try{h(!0);const t=localStorage.getItem("access_token"),s=await r.A.post("".concat(k,"/orders"),e,{headers:{Authorization:"Bearer ".concat(t)}});console.log("\u2705 Order created by admin:",s.data),alert("\u062a\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0637\u0644\u0628\u064a\u0629 \u0628\u0646\u062c\u0627\u062d \u0648\u062a\u0633\u062c\u064a\u0644\u0647\u0627 \u0643\u0645\u062f\u064a\u0648\u0646\u064a\u0629 \u0641\u064a \u0627\u0644\u0646\u0638\u0627\u0645"),N(!1),C()}catch(l){var t,s;console.error("\u274c Error creating order:",l),alert("\u062e\u0637\u0623 \u0641\u064a \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0637\u0644\u0628\u064a\u0629: "+((null===(t=l.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.detail)||l.message))}finally{h(!1)}},language:s})]})}}}]);
//# sourceMappingURL=333.35b6fdac.chunk.js.map