"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[351],{351:(e,a,s)=>{s.r(a),s.d(a,{default:()=>n});var r=s(555),l=s(424),t=s(579);const n=e=>{let{user:a,language:s="ar",isRTL:n=!0,onClose:d,onSave:i}=e;const[o,c]=(0,l.useState)({full_name:(null===a||void 0===a?void 0:a.full_name)||"",username:(null===a||void 0===a?void 0:a.username)||"",email:(null===a||void 0===a?void 0:a.email)||"",phone:(null===a||void 0===a?void 0:a.phone)||"",role:(null===a||void 0===a?void 0:a.role)||"",department:(null===a||void 0===a?void 0:a.department)||"",direct_manager:(null===a||void 0===a?void 0:a.direct_manager)||"",line:(null===a||void 0===a?void 0:a.line)||"",region:(null===a||void 0===a?void 0:a.region)||"",hire_date:(null===a||void 0===a?void 0:a.hire_date)||"",status:(null===a||void 0===a?void 0:a.status)||"active"}),[m,u]=(0,l.useState)(!1),[x,g]=(0,l.useState)(!1),b=(e,a)=>{c((s=>(0,r.A)((0,r.A)({},s),{},{[e]:a})))};return(0,t.jsx)("div",{className:"modal-overlay",children:(0,t.jsxs)("div",{className:"modal-content max-w-4xl",children:[(0,t.jsxs)("div",{className:"modal-header",children:[(0,t.jsx)("h3",{children:"ar"===s?"\u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a":"User Profile"}),(0,t.jsx)("button",{onClick:d,className:"modal-close",children:"\xd7"})]}),(0,t.jsx)("div",{className:"modal-body",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-1",children:[(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsx)("div",{className:"w-32 h-32 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-4xl font-bold mx-auto mb-4",children:(o.full_name||o.username||"U")[0].toUpperCase()}),(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:o.full_name||o.username}),(0,t.jsx)("p",{className:"text-gray-600",children:"ar"===s?"\u0627\u0644\u0645\u0646\u062f\u0648\u0628 \u0627\u0644\u0637\u0628\u064a":o.role}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ".concat("active"===o.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:"active"===o.status?"ar"===s?"\u0646\u0634\u0637":"Active":"ar"===s?"\u063a\u064a\u0631 \u0646\u0634\u0637":"Inactive"})})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"ar"===s?"\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a \u0633\u0631\u064a\u0639\u0629":"Quick Stats"}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"ar"===s?"\u0627\u0644\u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0645\u0643\u062a\u0645\u0644\u0629":"Completed Orders"}),(0,t.jsx)("span",{className:"font-semibold",children:"23"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"ar"===s?"\u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a \u0627\u0644\u0645\u0633\u062c\u0644\u0629":"Registered Clinics"}),(0,t.jsx)("span",{className:"font-semibold",children:"8"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"ar"===s?"\u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a \u0647\u0630\u0627 \u0627\u0644\u0634\u0647\u0631":"Visits This Month"}),(0,t.jsx)("span",{className:"font-semibold",children:"15"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"ar"===s?"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0645\u062d\u0635\u0644":"Amount Collected"}),(0,t.jsx)("span",{className:"font-semibold",children:"12,500 \u062c.\u0645"})]})]})]}),(0,t.jsxs)("div",{className:"lg:col-span-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:"ar"===s?"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a":"Profile Information"}),(0,t.jsx)("button",{onClick:()=>u(!m),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:m?"ar"===s?"\u0625\u0644\u063a\u0627\u0621":"Cancel":"ar"===s?"\u062a\u0639\u062f\u064a\u0644":"Edit"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ar"===s?"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644":"Full Name"}),(0,t.jsx)("input",{type:"text",value:o.full_name,onChange:e=>b("full_name",e.target.value),disabled:!m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:text-gray-600"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ar"===s?"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645":"Username"}),(0,t.jsx)("input",{type:"text",value:o.username,onChange:e=>b("username",e.target.value),disabled:!m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:text-gray-600"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ar"===s?"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a":"Email"}),(0,t.jsx)("input",{type:"email",value:o.email,onChange:e=>b("email",e.target.value),disabled:!m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:text-gray-600"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ar"===s?"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641":"Phone Number"}),(0,t.jsx)("input",{type:"tel",value:o.phone,onChange:e=>b("phone",e.target.value),disabled:!m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:text-gray-600"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ar"===s?"\u0627\u0644\u062f\u0648\u0631 \u0627\u0644\u0648\u0638\u064a\u0641\u064a":"Role"}),(0,t.jsxs)("select",{value:o.role,onChange:e=>b("role",e.target.value),disabled:!m||"admin"!==(null===a||void 0===a?void 0:a.role),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:text-gray-600",children:[(0,t.jsx)("option",{value:"medical_rep",children:"ar"===s?"\u0645\u0646\u062f\u0648\u0628 \u0637\u0628\u064a":"Medical Rep"}),(0,t.jsx)("option",{value:"line_manager",children:"ar"===s?"\u0645\u062f\u064a\u0631 \u062e\u0637":"Line Manager"}),(0,t.jsx)("option",{value:"area_manager",children:"ar"===s?"\u0645\u062f\u064a\u0631 \u0645\u0646\u0637\u0642\u0629":"Area Manager"}),(0,t.jsx)("option",{value:"accounting",children:"ar"===s?"\u0645\u062d\u0627\u0633\u0628":"Accounting"}),(0,t.jsx)("option",{value:"admin",children:"ar"===s?"\u0645\u062f\u064a\u0631 \u0627\u0644\u0646\u0638\u0627\u0645":"Admin"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ar"===s?"\u0627\u0644\u0642\u0633\u0645":"Department"}),(0,t.jsx)("input",{type:"text",value:o.department,onChange:e=>b("department",e.target.value),disabled:!m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:text-gray-600"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ar"===s?"\u0627\u0644\u0645\u062f\u064a\u0631 \u0627\u0644\u0645\u0628\u0627\u0634\u0631":"Direct Manager"}),(0,t.jsx)("input",{type:"text",value:o.direct_manager,onChange:e=>b("direct_manager",e.target.value),disabled:!m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:text-gray-600"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ar"===s?"\u0627\u0644\u062e\u0637":"Line"}),(0,t.jsx)("input",{type:"text",value:o.line,onChange:e=>b("line",e.target.value),disabled:!m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:text-gray-600"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ar"===s?"\u0627\u0644\u0645\u0646\u0637\u0642\u0629":"Region"}),(0,t.jsx)("input",{type:"text",value:o.region,onChange:e=>b("region",e.target.value),disabled:!m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:text-gray-600"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ar"===s?"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u0639\u064a\u064a\u0646":"Hire Date"}),(0,t.jsx)("input",{type:"date",value:o.hire_date,onChange:e=>b("hire_date",e.target.value),disabled:!m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:text-gray-600"})]})]}),(0,t.jsxs)("div",{className:"mt-8",children:[(0,t.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"ar"===s?"\u0633\u062c\u0644 \u0627\u0644\u0646\u0634\u0627\u0637":"Activity Log"}),(0,t.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 max-h-40 overflow-y-auto",children:(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"\u062a\u0633\u062c\u064a\u0644 \u062f\u062e\u0648\u0644 \u0644\u0644\u0646\u0638\u0627\u0645"}),(0,t.jsx)("span",{className:"text-gray-500",children:"\u0645\u0646\u0630 5 \u062f\u0642\u0627\u0626\u0642"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"\u062a\u062d\u062f\u064a\u062b \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0639\u064a\u0627\u062f\u0629"}),(0,t.jsx)("span",{className:"text-gray-500",children:"\u0645\u0646\u0630 \u0633\u0627\u0639\u0629"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"\u0625\u0646\u0634\u0627\u0621 \u0637\u0644\u0628\u064a\u0629 \u062c\u062f\u064a\u062f\u0629"}),(0,t.jsx)("span",{className:"text-gray-500",children:"\u0645\u0646\u0630 3 \u0633\u0627\u0639\u0627\u062a"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"\u0632\u064a\u0627\u0631\u0629 \u0639\u064a\u0627\u062f\u0629 \u062c\u062f\u064a\u062f\u0629"}),(0,t.jsx)("span",{className:"text-gray-500",children:"\u0623\u0645\u0633"})]})]})})]})]})]})}),(0,t.jsxs)("div",{className:"modal-footer",children:[(0,t.jsx)("button",{onClick:d,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors duration-200",children:"ar"===s?"\u0625\u063a\u0644\u0627\u0642":"Close"}),m&&(0,t.jsx)("button",{onClick:async()=>{try{g(!0);const e=localStorage.getItem("access_token"),r=await fetch("".concat("https://09220ea3-7f7d-4d97-b03e-0551b39b60b9.preview.emergentagent.com","/api/users/").concat(a.id),{method:"PUT",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify(o)});if(!r.ok)throw new Error("Failed to update profile");{const e=await r.json();i&&i(e),u(!1),alert("ar"===s?"\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u062a\u063a\u064a\u064a\u0631\u0627\u062a \u0628\u0646\u062c\u0627\u062d":"Changes saved successfully")}}catch(e){console.error("Error updating profile:",e),alert("ar"===s?"\u062e\u0637\u0623 \u0641\u064a \u062d\u0641\u0638 \u0627\u0644\u062a\u063a\u064a\u064a\u0631\u0627\u062a":"Error saving changes")}finally{g(!1)}},disabled:x,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50",children:x?"ar"===s?"\u062c\u0627\u0631\u064d \u0627\u0644\u062d\u0641\u0638...":"Saving...":"ar"===s?"\u062d\u0641\u0638 \u0627\u0644\u062a\u063a\u064a\u064a\u0631\u0627\u062a":"Save Changes"})]})]})})}}}]);
//# sourceMappingURL=351.8b846fce.chunk.js.map