/*! For license information please see main.68903b0f.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,s)=>{var n=s(853),a=s(43),r=s(950);function l(e){var t="https://d3e37f5d-d88d-4215-b21c-f8e57e4d5486.preview.emergentagent.com","/api"),Rt=(0,a.createContext)(),Dt=()=>{const e=(0,a.useContext)(Rt);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e},Mt={ar:{systemName:"EP Group System",login:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644",username:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",password:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",rememberMe:"\u062a\u0630\u0643\u0631\u0646\u064a",forgotPassword:"\u0646\u0633\u064a\u062a \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631\u061f",loginButton:"\u062f\u062e\u0648\u0644",loginLoading:"\u062c\u0627\u0631\u064a \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644...",welcome:"\u0645\u0631\u062d\u0628\u0627\u064b \u0628\u0643 \u0641\u064a",enterCredentials:"\u0623\u062f\u062e\u0644 \u0628\u064a\u0627\u0646\u0627\u062a\u0643 \u0644\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644",dashboard:"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645",statistics:"\u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a",users:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",userManagement:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",warehouse:"\u0627\u0644\u0645\u062e\u0627\u0632\u0646",warehouseManagement:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u062e\u0627\u0632\u0646",visits:"\u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a",visitsLog:"\u0633\u062c\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a",reports:"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631",chat:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a",settings:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a",secretReports:"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631 \u0627\u0644\u0633\u0631\u064a\u0629",logout:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c",totalUsers:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",totalClinics:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a",totalDoctors:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0623\u0637\u0628\u0627\u0621",totalVisits:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a",totalWarehouses:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u062e\u0627\u0632\u0646",totalProducts:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a",totalOrders:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0637\u0644\u0628\u0627\u062a",recentActivity:"\u0627\u0644\u0646\u0634\u0627\u0637 \u0627\u0644\u0623\u062e\u064a\u0631",viewAll:"\u0639\u0631\u0636 \u0627\u0644\u0643\u0644",addUser:"\u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062a\u062e\u062f\u0645",fullName:"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644",email:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",phone:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641",role:"\u0627\u0644\u062f\u0648\u0631",status:"\u0627\u0644\u062d\u0627\u0644\u0629",active:"\u0646\u0634\u0637",inactive:"\u063a\u064a\u0631 \u0646\u0634\u0637",actions:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a",edit:"\u062a\u0639\u062f\u064a\u0644",delete:"\u062d\u0630\u0641",save:"\u062d\u0641\u0638",cancel:"\u0625\u0644\u063a\u0627\u0621",gm:"\u0645\u062f\u064a\u0631 \u0639\u0627\u0645",admin:"\u0645\u062f\u064a\u0631",lineManager:"\u0645\u062f\u064a\u0631 \u062e\u0637",areaManager:"\u0645\u062f\u064a\u0631 \u0645\u0646\u0637\u0642\u0629",districtManager:"\u0645\u062f\u064a\u0631 \u0645\u0642\u0627\u0637\u0639\u0629",keyAccount:"\u062d\u0633\u0627\u0628 \u0631\u0626\u064a\u0633\u064a",medicalRep:"\u0645\u0646\u062f\u0648\u0628 \u0637\u0628\u064a",manager:"\u0645\u062f\u064a\u0631 \u0641\u0631\u0639",salesRep:"\u0645\u0646\u062f\u0648\u0628 \u0645\u0628\u064a\u0639\u0627\u062a",warehouse:"\u0645\u062e\u0632\u0646",accounting:"\u0645\u062d\u0627\u0633\u0628",line1:"\u0627\u0644\u062e\u0637 \u0627\u0644\u0623\u0648\u0644",line2:"\u0627\u0644\u062e\u0637 \u0627\u0644\u062b\u0627\u0646\u064a",regions:"\u0627\u0644\u0645\u0646\u0627\u0637\u0642",districts:"\u0627\u0644\u0645\u0642\u0627\u0637\u0639\u0627\u062a",regionManagement:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0646\u0627\u0637\u0642",districtManagement:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0642\u0627\u0637\u0639\u0627\u062a",lineManagement:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u062e\u0637\u0648\u0637",areaManagement:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0646\u0627\u0637\u0642",comprehensiveSettings:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0634\u0627\u0645\u0644\u0629",roleHierarchy:"\u0647\u064a\u0643\u0644 \u0627\u0644\u0623\u062f\u0648\u0627\u0631",systemHealth:"\u0635\u062d\u0629 \u0627\u0644\u0646\u0638\u0627\u0645",lineStatistics:"\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a \u0627\u0644\u062e\u0637\u0648\u0637",initializeSystem:"\u062a\u0647\u064a\u0626\u0629 \u0627\u0644\u0646\u0638\u0627\u0645",warehouseName:"\u0627\u0633\u0645 \u0627\u0644\u0645\u062e\u0632\u0646",location:"\u0627\u0644\u0645\u0648\u0642\u0639",capacity:"\u0627\u0644\u0633\u0639\u0629",currentStock:"\u0627\u0644\u0645\u062e\u0632\u0648\u0646 \u0627\u0644\u062d\u0627\u0644\u064a",products:"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a",orders:"\u0627\u0644\u0637\u0644\u0628\u0627\u062a",movement:"\u0627\u0644\u062d\u0631\u0643\u0629",inventory:"\u0627\u0644\u062c\u0631\u062f",orderNumber:"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628",orderDate:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0637\u0644\u0628",orderType:"\u0646\u0648\u0639 \u0627\u0644\u0637\u0644\u0628",quantity:"\u0627\u0644\u0643\u0645\u064a\u0629",unitPrice:"\u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0629",totalPrice:"\u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a",approved:"\u0645\u0639\u062a\u0645\u062f",pending:"\u0641\u064a \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631",rejected:"\u0645\u0631\u0641\u0648\u0636",visitDate:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0632\u064a\u0627\u0631\u0629",doctor:"\u0627\u0644\u0637\u0628\u064a\u0628",clinic:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629",salesRep:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628",notes:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a",gpsLocation:"\u0645\u0648\u0642\u0639 GPS",visitType:"\u0646\u0648\u0639 \u0627\u0644\u0632\u064a\u0627\u0631\u0629",search:"\u0628\u062d\u062b",searchPlaceholder:"\u0627\u0628\u062d\u062b \u0639\u0646 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646\u060c \u0627\u0644\u0623\u0637\u0628\u0627\u0621\u060c \u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a\u060c \u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631...",searchResults:"\u0646\u062a\u0627\u0626\u062c \u0627\u0644\u0628\u062d\u062b",noResults:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0646\u062a\u0627\u0626\u062c",systemSettings:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0646\u0638\u0627\u0645",companyInfo:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0634\u0631\u0643\u0629",companyName:"\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629",logo:"\u0627\u0644\u0634\u0639\u0627\u0631",primaryColor:"\u0627\u0644\u0644\u0648\u0646 \u0627\u0644\u0623\u0633\u0627\u0633\u064a",secondaryColor:"\u0627\u0644\u0644\u0648\u0646 \u0627\u0644\u062b\u0627\u0646\u0648\u064a",adminSettings:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0625\u062f\u0627\u0631\u0629",permissions:"\u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a",dashboardConfig:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645",systemHealth:"\u0635\u062d\u0629 \u0627\u0644\u0646\u0638\u0627\u0645",security:"\u0627\u0644\u0623\u0645\u0627\u0646",activityLogs:"\u0633\u062c\u0644\u0627\u062a \u0627\u0644\u0623\u0646\u0634\u0637\u0629",loading:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644...",error:"\u062e\u0637\u0623",success:"\u0646\u062c\u062d",warning:"\u062a\u062d\u0630\u064a\u0631",info:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a",confirm:"\u062a\u0623\u0643\u064a\u062f",yes:"\u0646\u0639\u0645",no:"\u0644\u0627",close:"\u0625\u063a\u0644\u0627\u0642",back:"\u0631\u062c\u0648\u0639",next:"\u0627\u0644\u062a\u0627\u0644\u064a",previous:"\u0627\u0644\u0633\u0627\u0628\u0642",submit:"\u0625\u0631\u0633\u0627\u0644",footerAbout:"\u0639\u0646 \u0627\u0644\u0634\u0631\u0643\u0629",footerServices:"\u062e\u062f\u0645\u0627\u062a\u0646\u0627",footerContact:"\u0627\u062a\u0635\u0644 \u0628\u0646\u0627",footerPrivacy:"\u0633\u064a\u0627\u0633\u0629 \u0627\u0644\u062e\u0635\u0648\u0635\u064a\u0629",footerTerms:"\u0627\u0644\u0634\u0631\u0648\u0637 \u0648\u0627\u0644\u0623\u062d\u0643\u0627\u0645",footerSupport:"\u0627\u0644\u062f\u0639\u0645 \u0627\u0644\u0641\u0646\u064a",footerQuickLinks:"\u0631\u0648\u0627\u0628\u0637 \u0633\u0631\u064a\u0639\u0629",footerLegal:"\u0642\u0627\u0646\u0648\u0646\u064a",footerContactUs:"\u062a\u0648\u0627\u0635\u0644 \u0645\u0639\u0646\u0627",footerCopyright:"\u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0642\u0648\u0642 \u0645\u062d\u0641\u0648\u0638\u0629",footerDescription:"\u0646\u0638\u0627\u0645 \u0625\u062f\u0627\u0631\u0629 \u0634\u0627\u0645\u0644 \u0644\u0644\u0645\u0624\u0633\u0633\u0627\u062a \u0648\u0627\u0644\u0634\u0631\u0643\u0627\u062a \u0645\u0639 \u0623\u062d\u062f\u062b \u0627\u0644\u062a\u0642\u0646\u064a\u0627\u062a",footerLocation:"\u0627\u0644\u0642\u0627\u0647\u0631\u0629\u060c \u0645\u0635\u0631",themeLight:"\u0641\u0627\u062a\u062d",themeDark:"\u063a\u0627\u0645\u0642",themeMinimal:"\u0628\u0633\u064a\u0637",themeModern:"\u062d\u062f\u064a\u062b",themeFancy:"\u0641\u0627\u062e\u0631",themeCyber:"\u0633\u0627\u064a\u0628\u0631",themeSunset:"\u063a\u0631\u0648\u0628",themeOcean:"\u0645\u062d\u064a\u0637",themeForest:"\u063a\u0627\u0628\u0629"},en:{systemName:"EP Group System",login:"Login",username:"Username",password:"Password",rememberMe:"Remember Me",forgotPassword:"Forgot Password?",loginButton:"Login",loginLoading:"Logging in...",welcome:"Welcome to",enterCredentials:"Enter your credentials to login",dashboard:"Dashboard",statistics:"Statistics",users:"Users",userManagement:"User Management",warehouse:"Warehouse",warehouseManagement:"Warehouse Management",visits:"Visits",visitsLog:"Visits Log",reports:"Reports",chat:"Chat",settings:"Settings",secretReports:"Secret Reports",logout:"Logout",totalUsers:"Total Users",totalClinics:"Total Clinics",totalDoctors:"Total Doctors",totalVisits:"Total Visits",totalWarehouses:"Total Warehouses",totalProducts:"Total Products",totalOrders:"Total Orders",recentActivity:"Recent Activity",viewAll:"View All",addUser:"Add User",fullName:"Full Name",email:"Email",phone:"Phone",role:"Role",status:"Status",active:"Active",inactive:"Inactive",actions:"Actions",edit:"Edit",delete:"Delete",save:"Save",cancel:"Cancel",gm:"General Manager",admin:"Admin",lineManager:"Line Manager",areaManager:"Area Manager",districtManager:"District Manager",keyAccount:"Key Account",medicalRep:"Medical Rep",manager:"Manager",salesRep:"Sales Rep",warehouse:"Warehouse",accounting:"Accounting",line1:"Line 1",line2:"Line 2",regions:"Regions",districts:"Districts",regionManagement:"Region Management",districtManagement:"District Management",lineManagement:"Line Management",areaManagement:"Area Management",comprehensiveSettings:"Comprehensive Settings",roleHierarchy:"Role Hierarchy",systemHealth:"System Health",lineStatistics:"Line Statistics",initializeSystem:"Initialize System",warehouseName:"Warehouse Name",location:"Location",capacity:"Capacity",currentStock:"Current Stock",products:"Products",orders:"Orders",movement:"Movement",inventory:"Inventory",orderNumber:"Order Number",orderDate:"Order Date",orderType:"Order Type",quantity:"Quantity",unitPrice:"Unit Price",totalPrice:"Total Price",approved:"Approved",pending:"Pending",rejected:"Rejected",visitDate:"Visit Date",doctor:"Doctor",clinic:"Clinic",salesRep:"Sales Rep",notes:"Notes",gpsLocation:"GPS Location",visitType:"Visit Type",search:"Search",searchPlaceholder:"Search users, doctors, clinics, invoices...",searchResults:"Search Results",noResults:"No Results",systemSettings:"System Settings",companyInfo:"Company Information",companyName:"Company Name",logo:"Logo",primaryColor:"Primary Color",secondaryColor:"Secondary Color",adminSettings:"Admin Settings",permissions:"Permissions",dashboardConfig:"Dashboard Configuration",systemHealth:"System Health",security:"Security",activityLogs:"Activity Logs",loading:"Loading...",error:"Error",success:"Success",warning:"Warning",info:"Information",confirm:"Confirm",yes:"Yes",no:"No",close:"Close",back:"Back",next:"Next",previous:"Previous",submit:"Submit",footerAbout:"About Us",footerServices:"Our Services",footerContact:"Contact Us",footerPrivacy:"Privacy Policy",footerTerms:"Terms & Conditions",footerSupport:"Technical Support",footerQuickLinks:"Quick Links",footerLegal:"Legal",footerContactUs:"Contact",footerCopyright:"All rights reserved",footerDescription:"Comprehensive enterprise management system with latest technologies",footerLocation:"Cairo, Egypt",themeLight:"Light",themeDark:"Dark",themeMinimal:"Minimal",themeModern:"Modern",themeFancy:"Fancy",themeCyber:"Cyber",themeSunset:"Sunset",themeOcean:"Ocean",themeForest:"Forest"}},It=e=>{let{children:t}=e;const[s,n]=(0,a.useState)((()=>localStorage.getItem("language")||"en"));return(0,a.useEffect)((()=>{document.documentElement.dir="ar"===s?"rtl":"ltr",document.documentElement.lang=s,document.body.classList.add("ar"===s?"arabic":"english")}),[s]),(0,Ot.jsx)(Rt.Provider,{value:{language:s,changeLanguage:e=>{n(e),localStorage.setItem("language",e),document.documentElement.dir="ar"===e?"rtl":"ltr",document.documentElement.lang=e,document.body.className=document.body.className.replace(/\b(arabic|english)\b/g,""),document.body.classList.add("ar"===e?"arabic":"english")},t:e=>{var t;return(null===(t=Mt[s])||void 0===t?void 0:t[e])||e},isRTL:"ar"===s},children:t})},Ft=e=>{let{className:t="",position:s="header"}=e;const{language:n,changeLanguage:a,t:r}=Dt(),l=()=>{a("ar"===n?"en":"ar")};return"login"===s?(0,Ot.jsx)("div",{className:"language-toggle ".concat(t," ").concat("ar"===n?"rtl":""),children:(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("button",{onClick:l,className:"language-option ".concat("ar"===n?"active":""),children:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629"}),(0,Ot.jsx)("button",{onClick:l,className:"language-option ".concat("en"===n?"active":""),children:"English"})]})}):(0,Ot.jsx)("div",{className:"language-toggle",children:(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("button",{onClick:l,className:"language-option ".concat("ar"===n?"active":""),children:"\u0639"}),(0,Ot.jsx)("button",{onClick:l,className:"language-option ".concat("en"===n?"active":""),children:"EN"})]})})},Bt=(0,a.createContext)(),Ut=()=>{const e=(0,a.useContext)(Bt);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},qt=e=>{let{children:t}=e;const[s,n]=(0,a.useState)("dark"),r=["light","dark","minimal","modern","fancy","cyber","sunset","ocean","forest"];(0,a.useEffect)((()=>{const e=localStorage.getItem("theme")||"dark";n(e),document.documentElement.setAttribute("data-theme",e),document.body.setAttribute("data-theme",e),l(e)}),[]);const l=e=>{const t=document.documentElement,s={light:{"--primary-bg":"#ffffff","--secondary-bg":"#f8fafc","--accent-bg":"#e2e8f0","--card-bg":"rgba(255, 255, 255, 0.95)","--glass-bg":"rgba(248, 250, 252, 0.8)","--text-primary":"#1e293b","--text-secondary":"#475569","--text-muted":"#64748b","--gradient-dark":"linear-gradient(135deg, #ffffff 0%, #f8fafc 50%, #e2e8f0 100%)","--border-color":"#e2e8f0","--hover-bg":"rgba(0, 0, 0, 0.05)","--shadow":"0 4px 6px -1px rgba(0, 0, 0, 0.1)","--primary-color":"#3b82f6","--success-color":"#10b981","--warning-color":"#f59e0b","--error-color":"#ef4444","--glow-primary":"none","--glow-secondary":"none"},dark:{"--primary-bg":"#0f172a","--secondary-bg":"#1e293b","--accent-bg":"#334155","--card-bg":"rgba(30, 41, 59, 0.95)","--glass-bg":"rgba(15, 23, 42, 0.8)","--text-primary":"#f8fafc","--text-secondary":"#cbd5e1","--text-muted":"#94a3b8","--gradient-dark":"linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%)","--border-color":"#334155","--hover-bg":"rgba(255, 255, 255, 0.05)","--shadow":"0 4px 6px -1px rgba(0, 0, 0, 0.3)","--primary-color":"#60a5fa","--success-color":"#34d399","--warning-color":"#fbbf24","--error-color":"#f87171","--glow-primary":"none","--glow-secondary":"none"},minimal:{"--primary-bg":"#fefefe","--secondary-bg":"#f9f9f9","--accent-bg":"#f0f0f0","--card-bg":"rgba(255, 255, 255, 0.98)","--glass-bg":"rgba(249, 249, 249, 0.95)","--text-primary":"#2d3748","--text-secondary":"#4a5568","--text-muted":"#718096","--gradient-dark":"linear-gradient(135deg, #fefefe 0%, #f9f9f9 100%)","--border-color":"#e2e8f0","--hover-bg":"rgba(0, 0, 0, 0.03)","--shadow":"0 1px 3px rgba(0, 0, 0, 0.1)","--primary-color":"#4a5568","--success-color":"#48bb78","--warning-color":"#ed8936","--error-color":"#e53e3e","--glow-primary":"none","--glow-secondary":"none"},modern:{"--primary-bg":"#0a0a0a","--secondary-bg":"#1a1a1a","--accent-bg":"#2d2d2d","--card-bg":"rgba(26, 26, 26, 0.95)","--glass-bg":"rgba(10, 10, 10, 0.8)","--text-primary":"#ffffff","--text-secondary":"#d1d5db","--text-muted":"#9ca3af","--gradient-dark":"linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #2d2d2d 100%)","--border-color":"#404040","--hover-bg":"rgba(255, 255, 255, 0.08)","--shadow":"0 8px 32px rgba(0, 0, 0, 0.4)","--primary-color":"#00d4ff","--success-color":"#00ff88","--warning-color":"#ffaa00","--error-color":"#ff4757","--glow-primary":"0 0 20px rgba(0, 212, 255, 0.3)","--glow-secondary":"0 0 10px rgba(0, 255, 136, 0.2)"},fancy:{"--primary-bg":"#1a1a2e","--secondary-bg":"#16213e","--accent-bg":"#0f3460","--card-bg":"rgba(22, 33, 62, 0.95)","--glass-bg":"rgba(26, 26, 46, 0.8)","--text-primary":"#eee6ff","--text-secondary":"#b8b5ff","--text-muted":"#8a87ff","--gradient-dark":"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)","--border-color":"#533483","--hover-bg":"rgba(238, 230, 255, 0.1)","--shadow":"0 8px 32px rgba(83, 52, 131, 0.3)","--primary-color":"#bb86fc","--success-color":"#4ade80","--warning-color":"#fbbf24","--error-color":"#f87171","--glow-primary":"0 0 20px rgba(187, 134, 252, 0.5)","--glow-secondary":"0 0 10px rgba(184, 181, 255, 0.3)"},cyber:{"--primary-bg":"#0d1117","--secondary-bg":"#161b22","--accent-bg":"#21262d","--card-bg":"rgba(22, 27, 34, 0.95)","--glass-bg":"rgba(13, 17, 23, 0.8)","--text-primary":"#00ff41","--text-secondary":"#58a6ff","--text-muted":"#7d8590","--gradient-dark":"linear-gradient(135deg, #0d1117 0%, #161b22 50%, #21262d 100%)","--border-color":"#30363d","--hover-bg":"rgba(0, 255, 65, 0.1)","--shadow":"0 8px 32px rgba(0, 255, 65, 0.2)","--primary-color":"#00ff41","--success-color":"#00ff41","--warning-color":"#ffab00","--error-color":"#ff4757","--glow-primary":"0 0 20px rgba(0, 255, 65, 0.4)","--glow-secondary":"0 0 10px rgba(88, 166, 255, 0.3)"},sunset:{"--primary-bg":"#2d1b3d","--secondary-bg":"#3d2858","--accent-bg":"#4a3566","--card-bg":"rgba(61, 40, 88, 0.95)","--glass-bg":"rgba(45, 27, 61, 0.8)","--text-primary":"#fff4e6","--text-secondary":"#ffd6a5","--text-muted":"#ffab76","--gradient-dark":"linear-gradient(135deg, #2d1b3d 0%, #3d2858 50%, #ff6b6b 100%)","--border-color":"#ff8a80","--hover-bg":"rgba(255, 116, 116, 0.1)","--shadow":"0 8px 32px rgba(255, 107, 107, 0.3)","--primary-color":"#ff6b6b","--success-color":"#51cf66","--warning-color":"#ffd43b","--error-color":"#ff6b6b","--glow-primary":"0 0 20px rgba(255, 107, 107, 0.4)","--glow-secondary":"0 0 10px rgba(255, 214, 165, 0.3)"},ocean:{"--primary-bg":"#0f2027","--secondary-bg":"#203a43","--accent-bg":"#2c5364","--card-bg":"rgba(32, 58, 67, 0.95)","--glass-bg":"rgba(15, 32, 39, 0.8)","--text-primary":"#e6fffa","--text-secondary":"#9decf9","--text-muted":"#4dd0e1","--gradient-dark":"linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%)","--border-color":"#26a69a","--hover-bg":"rgba(38, 166, 154, 0.1)","--shadow":"0 8px 32px rgba(0, 188, 212, 0.3)","--primary-color":"#00bcd4","--success-color":"#26a69a","--warning-color":"#ffa726","--error-color":"#ef5350","--glow-primary":"0 0 20px rgba(0, 188, 212, 0.4)","--glow-secondary":"0 0 10px rgba(157, 236, 249, 0.3)"},forest:{"--primary-bg":"#1b2f1e","--secondary-bg":"#2d4a32","--accent-bg":"#3e5c42","--card-bg":"rgba(45, 74, 50, 0.95)","--glass-bg":"rgba(27, 47, 30, 0.8)","--text-primary":"#f1f8e9","--text-secondary":"#c8e6c9","--text-muted":"#a5d6a7","--gradient-dark":"linear-gradient(135deg, #1b2f1e 0%, #2d4a32 50%, #3e5c42 100%)","--border-color":"#4caf50","--hover-bg":"rgba(76, 175, 80, 0.1)","--shadow":"0 8px 32px rgba(76, 175, 80, 0.3)","--primary-color":"#4caf50","--success-color":"#66bb6a","--warning-color":"#ffb74d","--error-color":"#ef5350","--glow-primary":"0 0 20px rgba(76, 175, 80, 0.4)","--glow-secondary":"0 0 10px rgba(200, 230, 201, 0.3)"}},n=s[e]||s.dark;Object.entries(n).forEach((e=>{let[s,n]=e;t.style.setProperty(s,n)}))},i=e=>{r.includes(e)&&(n(e),localStorage.setItem("theme",e),document.documentElement.setAttribute("data-theme",e),document.body.setAttribute("data-theme",e),l(e))};return(0,Ot.jsx)(Bt.Provider,{value:{theme:s,toggleTheme:()=>{i("dark"===s?"light":"dark")},cycleTheme:()=>{const e=(r.indexOf(s)+1)%r.length,t=r[e];n(t),localStorage.setItem("theme",t),document.documentElement.setAttribute("data-theme",t),document.body.setAttribute("data-theme",t),l(t)},setSpecificTheme:i,availableThemes:r},children:(0,Ot.jsx)("div",{"data-theme":s,style:{minHeight:"100vh",background:"var(--gradient-dark)",color:"var(--text-primary)"},children:t})})},Vt={dashboard:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z" fill="currentColor"/>\n  </svg>',users:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" fill="currentColor"/>\n  </svg>',settings:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M12 15a3 3 0 100-6 3 3 0 000 6z" fill="currentColor"/>\n    <path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z" fill="currentColor"/>\n  </svg>',organization:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" stroke="currentColor" stroke-width="2" fill="none"/>\n  </svg>',regions:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z" stroke="currentColor" stroke-width="2" fill="none"/>\n    <circle cx="12" cy="10" r="3" stroke="currentColor" stroke-width="2" fill="none"/>\n  </svg>',analytics:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M3 3v18h18M9 9l4 4 4-4" stroke="currentColor" stroke-width="2" fill="none"/>\n    <path d="M19 9v6M15 13v6M11 17v6M7 21v6" stroke="currentColor" stroke-width="2" fill="none"/>\n  </svg>',maps:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M14.5 2a5.5 5.5 0 105.5 5.5c0-1.61-.59-3.09-1.56-4.24L14.5 2z" fill="currentColor"/>\n    <path d="M14.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3z" fill="white"/>\n    <path d="M5 12h14l-1 9H6l-1-9z" stroke="currentColor" stroke-width="2" fill="none"/>\n  </svg>',gps:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M12 8a3 3 0 100 6 3 3 0 000-6z" fill="currentColor"/>\n    <path d="M12 1v6M12 17v6M4.93 4.93l4.24 4.24M14.83 14.83l4.24 4.24M1 12h6M17 12h6M4.93 19.07l4.24-4.24M14.83 9.17l4.24-4.24" stroke="currentColor" stroke-width="2"/>\n  </svg>',security:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" stroke="currentColor" stroke-width="2" fill="none"/>\n  </svg>',theme:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M12 3a6.364 6.364 0 004.5 1.5c1.454 0 2.765-.46 3.75-1.238A9.001 9.001 0 0112 21c-4.97 0-9-4.03-9-9s4.03-9 9-9z" fill="currentColor"/>\n  </svg>',language:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none"/>\n    <path d="M2 12h20M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z" stroke="currentColor" stroke-width="2" fill="none"/>\n  </svg>',chat:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2v10z" stroke="currentColor" stroke-width="2" fill="none"/>\n  </svg>',notifications:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9M13.73 21a2 2 0 01-3.46 0" stroke="currentColor" stroke-width="2" fill="none"/>\n  </svg>',accounting:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2" stroke="currentColor" stroke-width="2" fill="none"/>\n    <rect x="8" y="2" width="8" height="4" rx="1" ry="1" stroke="currentColor" stroke-width="2" fill="none"/>\n    <path d="M9 12h6M9 16h6" stroke="currentColor" stroke-width="2"/>\n  </svg>',reports:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z" stroke="currentColor" stroke-width="2" fill="none"/>\n    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2" fill="none"/>\n    <line x1="16" y1="13" x2="8" y2="13" stroke="currentColor" stroke-width="2"/>\n    <line x1="16" y1="17" x2="8" y2="17" stroke="currentColor" stroke-width="2"/>\n  </svg>',gamification:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" fill="currentColor"/>\n  </svg>',scanner:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M3 7V5a2 2 0 012-2h2M17 3h2a2 2 0 012 2v2M21 17v2a2 2 0 01-2 2h-2M7 21H5a2 2 0 01-2-2v-2" stroke="currentColor" stroke-width="2" fill="none"/>\n    <rect x="7" y="7" width="10" height="10" rx="1" stroke="currentColor" stroke-width="2" fill="none"/>\n  </svg>',visits:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0016.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 002 8.5c0 2.29 1.51 4.04 3 5.5l7 7 7-7z" fill="currentColor"/>\n  </svg>',products:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83 0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z" stroke="currentColor" stroke-width="2" fill="none"/>\n    <line x1="7" y1="7" x2="7.01" y2="7" stroke="currentColor" stroke-width="2"/>\n  </svg>',warehouse:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M3 21h18M5 21V7l8-4v18M19 21V7l-6-4" stroke="currentColor" stroke-width="2" fill="none"/>\n    <path d="M9 9v4M15 9v4" stroke="currentColor" stroke-width="2"/>\n  </svg>',features:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2" fill="none"/>\n    <path d="M12 1v6M12 17v6M4.22 4.22l4.24 4.24M15.54 15.54l4.24 4.24M1 12h6M17 12h6M4.22 19.78l4.24-4.24M15.54 8.46l4.24-4.24" stroke="currentColor" stroke-width="2"/>\n  </svg>',performance:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M3 18v-6a9 9 0 0118 0v6M3 18a2 2 0 002 2h14a2 2 0 002-2" stroke="currentColor" stroke-width="2" fill="none"/>\n    <path d="M12 8v4l2 2" stroke="currentColor" stroke-width="2" fill="none"/>\n  </svg>',success:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M22 11.08V12a10 10 0 11-5.93-9.14" stroke="currentColor" stroke-width="2" fill="none"/>\n    <polyline points="22,4 12,14.01 9,11.01" stroke="currentColor" stroke-width="2" fill="none"/>\n  </svg>',warning:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z" stroke="currentColor" stroke-width="2" fill="none"/>\n    <line x1="12" y1="9" x2="12" y2="13" stroke="currentColor" stroke-width="2"/>\n    <line x1="12" y1="17" x2="12.01" y2="17" stroke="currentColor" stroke-width="2"/>\n  </svg>',error:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none"/>\n    <line x1="15" y1="9" x2="9" y2="15" stroke="currentColor" stroke-width="2"/>\n    <line x1="9" y1="9" x2="15" y2="15" stroke="currentColor" stroke-width="2"/>\n  </svg>'},Ht=e=>{let{name:t,size:s=24,className:n="",color:a="currentColor",style:r={}}=e;const l=Vt[t];return l?(0,Ot.jsx)("span",{className:"inline-flex items-center justify-center icon-svg ".concat(n),style:d({width:s,height:s,color:a,filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.1))",transition:"all 0.3s ease"},r),dangerouslySetInnerHTML:{__html:l.replace(/currentColor/g,a||"var(--icon-color, currentColor)")}}):(console.warn('Icon "'.concat(t,'" not found in IconLibrary')),(0,Ot.jsx)("span",{className:"inline-block ".concat(n),style:d({width:s,height:s},r),children:"\u2753"}))},Gt=e=>{let{isOpen:t,onClose:s}=e;const[n,r]=(0,a.useState)(""),[l,i]=(0,a.useState)("all"),[o,c]=(0,a.useState)({}),[d,u]=(0,a.useState)(!1),[m,h]=(0,a.useState)(!1),[x,f]=(0,a.useState)(null),p=async()=>{if(n.trim()){u(!0);try{const e=localStorage.getItem("token"),t=/^\d+$/.test(n.trim()),s=await Tt.get("".concat(Lt,"/search/comprehensive"),{params:{q:n,search_type:t?"invoice":l},headers:{Authorization:"Bearer ".concat(e)}});if(c(s.data.results),t&&s.data.results.invoices&&s.data.results.invoices.length>0){const e=s.data.results.invoices[0];f(e),h(!0)}}catch(e){console.error("Search error:",e)}finally{u(!1)}}};return t?(0,Ot.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-start justify-center pt-10",children:[(0,Ot.jsxs)("div",{className:"glass-effect w-full max-w-5xl max-h-[90vh] overflow-hidden rounded-2xl shadow-2xl",children:[(0,Ot.jsxs)("div",{className:"p-6 border-b border-white border-opacity-20",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h2",{className:"text-2xl font-bold text-gradient",children:"\u0627\u0644\u0628\u062d\u062b \u0627\u0644\u0634\u0627\u0645\u0644"}),(0,Ot.jsx)("button",{onClick:s,className:"p-2 hover:bg-gray-100 hover:bg-opacity-10 rounded-full transition-colors",children:(0,Ot.jsx)(Ht,{name:"close",size:24})})]}),(0,Ot.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,Ot.jsxs)("div",{className:"flex-1 relative",children:[(0,Ot.jsx)("input",{type:"text",value:n,onChange:e=>r(e.target.value),onKeyPress:e=>{"Enter"===e.key&&p()},placeholder:"\u0627\u0628\u062d\u062b \u0639\u0646 \u0645\u0646\u062f\u0648\u0628\u060c \u0637\u0628\u064a\u0628\u060c \u0639\u064a\u0627\u062f\u0629\u060c \u0631\u0642\u0645 \u0641\u0627\u062a\u0648\u0631\u0629\u060c \u0623\u0648 \u0645\u0646\u062a\u062c...",className:"w-full p-4 pr-12 rounded-xl border-2 focus:outline-none focus:ring-2 focus:ring-blue-500 glass-effect",style:{borderColor:"var(--border-color)",color:"var(--text-primary)"}}),(0,Ot.jsx)("div",{className:"absolute right-4 top-4",children:(0,Ot.jsx)(Ht,{name:"search",size:20})})]}),(0,Ot.jsxs)("button",{onClick:p,className:"btn-modern px-8 py-4 flex items-center gap-2",disabled:d,children:[(0,Ot.jsx)(Ht,{name:"search",size:18}),"\u0628\u062d\u062b"]})]}),(0,Ot.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[{value:"all",label:"\u0627\u0644\u0628\u062d\u062b \u0627\u0644\u0634\u0627\u0645\u0644",icon:"search"},{value:"representative",label:"\u0627\u0644\u0645\u0646\u0627\u062f\u064a\u0628",icon:"user"},{value:"doctor",label:"\u0627\u0644\u0623\u0637\u0628\u0627\u0621",icon:"user"},{value:"clinic",label:"\u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a",icon:"warehouse"},{value:"invoice",label:"\u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631",icon:"reports"},{value:"product",label:"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a",icon:"warehouse"}].map((e=>(0,Ot.jsxs)("button",{onClick:()=>i(e.value),className:"px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 whitespace-nowrap flex items-center gap-2 ".concat(l===e.value?"bg-blue-500 text-white shadow-lg":"glass-effect hover:bg-gray-100 hover:bg-opacity-10"),children:[(0,Ot.jsx)(Ht,{name:e.icon,size:16}),e.label]},e.value)))})]}),(0,Ot.jsx)("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:d?(0,Ot.jsxs)("div",{className:"text-center py-12",children:[(0,Ot.jsx)("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,Ot.jsx)("p",{style:{color:"var(--text-secondary)"},children:"\u062c\u0627\u0631\u064a \u0627\u0644\u0628\u062d\u062b..."})]}):o&&0!==Object.keys(o).length?(0,Ot.jsxs)("div",{className:"space-y-8",children:[o.representatives&&o.representatives.length>0&&(0,Ot.jsxs)("div",{className:"search-section",children:[(0,Ot.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-3",children:[(0,Ot.jsx)(Ht,{name:"user",size:24}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0645\u0646\u0627\u062f\u064a\u0628 (",o.representatives.length,")"]})]}),(0,Ot.jsx)("div",{className:"grid gap-4",children:o.representatives.map((e=>{var t,s,n,a,r,l;return(0,Ot.jsx)("div",{className:"glass-effect p-4 hover:shadow-lg transition-all duration-300",children:(0,Ot.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Ot.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:e.photo?(0,Ot.jsx)("img",{src:e.photo,alt:e.name,className:"w-full h-full rounded-full object-cover"}):e.name.charAt(0)}),(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Ot.jsx)("h4",{className:"font-bold text-lg",children:e.name}),(0,Ot.jsx)("span",{className:"text-sm px-3 py-1 bg-blue-100 bg-opacity-20 rounded-full",children:"\u0645\u0646\u062f\u0648\u0628"})]}),(0,Ot.jsxs)("p",{className:"text-sm mb-3",style:{color:"var(--text-secondary)"},children:[e.username," \u2022 ",e.email]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a: ",(null===(t=e.statistics)||void 0===t||null===(s=t.visits)||void 0===s?void 0:s.total)||0]})]}),(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0637\u0644\u0628\u0627\u062a: ",(null===(n=e.statistics)||void 0===n||null===(a=n.orders)||void 0===a?void 0:a.total)||0]})]}),(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u062a\u0627\u0631\u062c\u064a\u062a: ",(null===(r=e.statistics)||void 0===r?void 0:r.target)||0," \u062c.\u0645"]})]}),(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0645\u062f\u064a\u0648\u0646\u064a\u0629: ",(null===(l=e.statistics)||void 0===l?void 0:l.pending_debt)||0," \u062c.\u0645"]})]})]})]})]})},e.id)}))})]}),o.doctors&&o.doctors.length>0&&(0,Ot.jsxs)("div",{className:"search-section",children:[(0,Ot.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-3",children:[(0,Ot.jsx)(Ht,{name:"user",size:24}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0623\u0637\u0628\u0627\u0621 (",o.doctors.length,")"]})]}),(0,Ot.jsx)("div",{className:"grid gap-4",children:o.doctors.map((e=>{var t;return(0,Ot.jsx)("div",{className:"glass-effect p-4 hover:shadow-lg transition-all duration-300",children:(0,Ot.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Ot.jsxs)("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-teal-600 rounded-full flex items-center justify-center text-white font-bold",children:["\u062f.",e.name.charAt(0)]}),(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Ot.jsxs)("h4",{className:"font-bold text-lg",children:["\u062f. ",e.name]}),(0,Ot.jsx)("span",{className:"text-sm px-3 py-1 bg-green-100 bg-opacity-20 rounded-full",children:"\u0637\u0628\u064a\u0628"})]}),(0,Ot.jsxs)("p",{className:"text-sm mb-3",style:{color:"var(--text-secondary)"},children:[e.specialty," \u2022 ",e.phone]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0639\u064a\u0627\u062f\u0629: ",(null===(t=e.clinic)||void 0===t?void 0:t.name)||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"]})]}),(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0637\u0644\u0628\u0627\u062a: ",e.total_orders||0]})]}),(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0645\u062f\u064a\u0648\u0646\u064a\u0629: ",e.pending_debt||0," \u062c.\u0645"]})]})]})]})]})},e.id)}))})]}),o.clinics&&o.clinics.length>0&&(0,Ot.jsxs)("div",{className:"search-section",children:[(0,Ot.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-3",children:[(0,Ot.jsx)(Ht,{name:"warehouse",size:24}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a (",o.clinics.length,")"]})]}),(0,Ot.jsx)("div",{className:"grid gap-4",children:o.clinics.map((e=>{var t;return(0,Ot.jsx)("div",{className:"glass-effect p-4 hover:shadow-lg transition-all duration-300",children:(0,Ot.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Ot.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center text-white font-bold",children:e.name.charAt(0)}),(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Ot.jsx)("h4",{className:"font-bold text-lg",children:e.name}),(0,Ot.jsx)("span",{className:"text-sm px-3 py-1 bg-purple-100 bg-opacity-20 rounded-full",children:"\u0639\u064a\u0627\u062f\u0629"})]}),(0,Ot.jsxs)("p",{className:"text-sm mb-3",style:{color:"var(--text-secondary)"},children:[e.address," \u2022 ",e.phone]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{className:"w-2 h-2 bg-indigo-500 rounded-full"}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0645\u062f\u064a\u0631: ",e.manager_name||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"]})]}),(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0623\u0637\u0628\u0627\u0621: ",(null===(t=e.doctors)||void 0===t?void 0:t.length)||0]})]}),(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0637\u0644\u0628\u0627\u062a: ",e.total_orders||0]})]}),(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0645\u062f\u064a\u0648\u0646\u064a\u0629: ",e.pending_debt||0," \u062c.\u0645"]})]})]})]})]})},e.id)}))})]}),o.invoices&&o.invoices.length>0&&(0,Ot.jsxs)("div",{className:"search-section",children:[(0,Ot.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-3",children:[(0,Ot.jsx)(Ht,{name:"reports",size:24}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631 (",o.invoices.length,")"]})]}),(0,Ot.jsx)("div",{className:"grid gap-4",children:o.invoices.map((e=>(0,Ot.jsx)("div",{className:"glass-effect p-4 hover:shadow-lg transition-all duration-300 cursor-pointer",onClick:()=>(e=>{f(e),h(!0)})(e),children:(0,Ot.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Ot.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-red-600 rounded-full flex items-center justify-center text-white font-bold",children:"#"}),(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Ot.jsxs)("h4",{className:"font-bold text-lg",children:["\u0641\u0627\u062a\u0648\u0631\u0629 #",e.id.slice(-8)]}),(0,Ot.jsx)("span",{className:"text-sm px-3 py-1 rounded-full ".concat("APPROVED"===e.status?"bg-green-100 bg-opacity-20 text-green-300":"PENDING"===e.status?"bg-yellow-100 bg-opacity-20 text-yellow-300":"bg-gray-100 bg-opacity-20 text-gray-300"),children:e.status})]}),(0,Ot.jsxs)("p",{className:"text-sm mb-3",style:{color:"var(--text-secondary)"},children:[e.sales_rep_name," \u2022 ",e.doctor_name," \u2022 ",e.clinic_name]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u062a\u0627\u0631\u064a\u062e: ",new Date(e.created_at).toLocaleDateString("ar-EG")]})]}),(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0642\u064a\u0645\u0629: ",e.total_amount," \u062c.\u0645"]})]})]})]})]})},e.id)))})]}),o.products&&o.products.length>0&&(0,Ot.jsxs)("div",{className:"search-section",children:[(0,Ot.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-3",children:[(0,Ot.jsx)(Ht,{name:"warehouse",size:24}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a (",o.products.length,")"]})]}),(0,Ot.jsx)("div",{className:"grid gap-4",children:o.products.map((e=>(0,Ot.jsx)("div",{className:"glass-effect p-4 hover:shadow-lg transition-all duration-300",children:(0,Ot.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Ot.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-blue-600 rounded-full flex items-center justify-center text-white font-bold",children:e.image?(0,Ot.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-full rounded-full object-cover"}):e.name.charAt(0)}),(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Ot.jsx)("h4",{className:"font-bold text-lg",children:e.name}),(0,Ot.jsx)("span",{className:"text-sm px-3 py-1 bg-indigo-100 bg-opacity-20 rounded-full",children:"\u0645\u0646\u062a\u062c"})]}),(0,Ot.jsxs)("p",{className:"text-sm mb-3",style:{color:"var(--text-secondary)"},children:[e.description," \u2022 ",e.category]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0633\u0639\u0631: ",e.price," \u062c.\u0645"]})]}),(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0648\u062d\u062f\u0629: ",e.unit]})]}),(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),(0,Ot.jsxs)("span",{children:["\u062a\u0645 \u0637\u0644\u0628\u0647: ",e.total_ordered||0," \u0645\u0631\u0629"]})]})]})]})]})},e.id)))})]}),n&&0===Object.keys(o).length&&(0,Ot.jsxs)("div",{className:"text-center py-12",children:[(0,Ot.jsx)(Ht,{name:"search",size:64,className:"mx-auto mb-4 text-gray-400"}),(0,Ot.jsxs)("p",{className:"text-lg mb-2",style:{color:"var(--text-secondary)"},children:['\u0644\u0627 \u062a\u0648\u062c\u062f \u0646\u062a\u0627\u0626\u062c \u0644\u0640 "',n,'"']}),(0,Ot.jsx)("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:"\u062c\u0631\u0628 \u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0643\u0644\u0645\u0627\u062a \u0623\u062e\u0631\u0649 \u0623\u0648 \u0623\u0631\u0642\u0627\u0645 \u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631"})]})]}):(0,Ot.jsxs)("div",{className:"text-center py-12",children:[(0,Ot.jsx)(Ht,{name:"search",size:64,className:"mx-auto mb-4 text-gray-400"}),(0,Ot.jsx)("p",{style:{color:"var(--text-secondary)"},children:"\u0627\u0628\u062f\u0623 \u0627\u0644\u0628\u062d\u062b \u0644\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u0627\u0644\u0646\u062a\u0627\u0626\u062c"}),(0,Ot.jsx)("p",{className:"text-xs mt-2",style:{color:"var(--text-muted)"},children:"\u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0628\u062d\u062b \u0628\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0623\u0633\u0645\u0627\u0621 \u0623\u0648 \u0623\u0631\u0642\u0627\u0645 \u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631"})]})})]}),m&&x&&(0,Ot.jsx)(Wt,{invoice:x,onClose:()=>h(!1)})]}):null},Wt=e=>{let{invoice:t,onClose:s}=e;return(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-60 flex items-center justify-center p-4",children:(0,Ot.jsxs)("div",{className:"glass-effect w-full max-w-4xl max-h-[95vh] overflow-hidden rounded-2xl shadow-2xl",children:[(0,Ot.jsxs)("div",{className:"p-6 border-b border-white border-opacity-20 flex items-center justify-between",children:[(0,Ot.jsxs)("h3",{className:"text-2xl font-bold text-gradient",children:["\u0641\u0627\u062a\u0648\u0631\u0629 \u0631\u0642\u0645 #",t.id.slice(-8)]}),(0,Ot.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ot.jsxs)("button",{onClick:()=>{document.getElementById("enhanced-invoice-content"),"\u0641\u0627\u062a\u0648\u0631\u0629-".concat(t.id.slice(-8),".pdf");alert("\u0633\u064a\u062a\u0645 \u062a\u0646\u0632\u064a\u0644 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629 \u0642\u0631\u064a\u0628\u0627\u064b")},className:"btn-modern px-4 py-2 flex items-center gap-2",children:[(0,Ot.jsx)(Ht,{name:"download",size:16}),"\u062a\u0646\u0632\u064a\u0644 PDF"]}),(0,Ot.jsxs)("button",{onClick:()=>{const e=document.getElementById("enhanced-invoice-content"),t=document.body.innerHTML;document.body.innerHTML=e.outerHTML,window.print(),document.body.innerHTML=t,window.location.reload()},className:"btn-modern px-4 py-2 flex items-center gap-2",children:[(0,Ot.jsx)(Ht,{name:"print",size:16}),"\u0637\u0628\u0627\u0639\u0629"]}),(0,Ot.jsx)("button",{onClick:s,className:"p-2 hover:bg-gray-100 hover:bg-opacity-10 rounded-full transition-colors",children:(0,Ot.jsx)(Ht,{name:"close",size:20})})]})]}),(0,Ot.jsx)("div",{className:"p-6 overflow-y-auto max-h-[80vh]",id:"enhanced-invoice-content",children:(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"text-center mb-8",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-center gap-4 mb-4",children:[(0,Ot.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,Ot.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"white",children:(0,Ot.jsx)("path",{d:"M12 2L2 7v10c0 5.55 3.84 9.74 9 11 5.16-1.26 9-5.45 9-11V7l-10-5z"})})}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h1",{className:"text-3xl font-bold",children:"\u0646\u0638\u0627\u0645 \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a"}),(0,Ot.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Sales Management System"})]})]}),(0,Ot.jsx)("div",{className:"w-full h-1 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full"})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Ot.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)(Ht,{name:"reports",size:20}),"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629"]}),(0,Ot.jsxs)("div",{className:"space-y-3",children:[(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{className:"font-semibold",children:"\u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629:"}),(0,Ot.jsxs)("span",{className:"font-mono",children:["#",t.id.slice(-8)]})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{className:"font-semibold",children:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0646\u0634\u0627\u0621:"}),(0,Ot.jsx)("span",{children:new Date(t.created_at).toLocaleDateString("ar-EG")})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{className:"font-semibold",children:"\u0627\u0644\u0648\u0642\u062a:"}),(0,Ot.jsx)("span",{children:new Date(t.created_at).toLocaleTimeString("ar-EG")})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{className:"font-semibold",children:"\u0627\u0644\u062d\u0627\u0644\u0629:"}),(0,Ot.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat("APPROVED"===t.status?"bg-green-100 bg-opacity-20 text-green-300":"PENDING"===t.status?"bg-yellow-100 bg-opacity-20 text-yellow-300":"bg-gray-100 bg-opacity-20 text-gray-300"),children:t.status})]}),(0,Ot.jsxs)("div",{className:"flex justify-between border-t pt-3 mt-3",children:[(0,Ot.jsx)("span",{className:"font-bold text-lg",children:"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a:"}),(0,Ot.jsxs)("span",{className:"font-bold text-lg text-green-500",children:[t.total_amount," \u062c.\u0645"]})]})]})]}),(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Ot.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)(Ht,{name:"user",size:20}),"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0639\u0645\u064a\u0644"]}),(0,Ot.jsxs)("div",{className:"space-y-3",children:[(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{className:"font-semibold",children:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628:"}),(0,Ot.jsx)("span",{children:t.sales_rep_name})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{className:"font-semibold",children:"\u0627\u0644\u0637\u0628\u064a\u0628:"}),(0,Ot.jsxs)("span",{children:["\u062f. ",t.doctor_name]})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{className:"font-semibold",children:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629:"}),(0,Ot.jsx)("span",{children:t.clinic_name})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{className:"font-semibold",children:"\u0627\u0644\u0645\u062e\u0632\u0646:"}),(0,Ot.jsx)("span",{children:t.warehouse_name})]})]})]})]}),t.items&&t.items.length>0&&(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Ot.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)(Ht,{name:"warehouse",size:20}),"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a (",t.items.length,")"]}),(0,Ot.jsx)("div",{className:"overflow-x-auto",children:(0,Ot.jsxs)("table",{className:"w-full",children:[(0,Ot.jsx)("thead",{children:(0,Ot.jsxs)("tr",{className:"border-b",style:{borderColor:"var(--border-color)"},children:[(0,Ot.jsx)("th",{className:"text-right py-3 px-4 font-bold",children:"#"}),(0,Ot.jsx)("th",{className:"text-right py-3 px-4 font-bold",children:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c"}),(0,Ot.jsx)("th",{className:"text-right py-3 px-4 font-bold",children:"\u0627\u0644\u0643\u0645\u064a\u0629"}),(0,Ot.jsx)("th",{className:"text-right py-3 px-4 font-bold",children:"\u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0629"}),(0,Ot.jsx)("th",{className:"text-right py-3 px-4 font-bold",children:"\u0627\u0644\u062e\u0635\u0645"}),(0,Ot.jsx)("th",{className:"text-right py-3 px-4 font-bold",children:"\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a"})]})}),(0,Ot.jsx)("tbody",{children:t.items.map(((e,t)=>(0,Ot.jsxs)("tr",{className:"border-b border-opacity-20",style:{borderColor:"var(--border-color)"},children:[(0,Ot.jsx)("td",{className:"py-3 px-4 text-center",children:t+1}),(0,Ot.jsxs)("td",{className:"py-3 px-4",children:[(0,Ot.jsx)("div",{className:"font-medium",children:e.product_name}),e.product_description&&(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:e.product_description})]}),(0,Ot.jsx)("td",{className:"py-3 px-4 text-center",children:e.quantity}),(0,Ot.jsxs)("td",{className:"py-3 px-4 text-center",children:[e.unit_price," \u062c.\u0645"]}),(0,Ot.jsx)("td",{className:"py-3 px-4 text-center",children:e.discount_amount?"".concat(e.discount_amount," \u062c.\u0645"):"-"}),(0,Ot.jsxs)("td",{className:"py-3 px-4 text-center font-bold",children:[(e.quantity*e.unit_price-(e.discount_amount||0)).toFixed(2)," \u062c.\u0645"]})]},t)))}),(0,Ot.jsx)("tfoot",{children:(0,Ot.jsxs)("tr",{className:"border-t-2 border-blue-500",children:[(0,Ot.jsx)("td",{colSpan:"5",className:"py-3 px-4 text-right font-bold text-lg",children:"\u0627\u0644\u0645\u062c\u0645\u0648\u0639 \u0627\u0644\u0643\u0644\u064a:"}),(0,Ot.jsxs)("td",{className:"py-3 px-4 text-center font-bold text-lg text-green-500",children:[t.total_amount," \u062c.\u0645"]})]})})]})})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.notes&&(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Ot.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)(Ht,{name:"chat",size:20}),"\u0645\u0644\u0627\u062d\u0638\u0627\u062a"]}),(0,Ot.jsx)("p",{className:"text-sm leading-relaxed",children:t.notes})]}),(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Ot.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)(Ht,{name:"reports",size:20}),"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062f\u0641\u0639"]}),(0,Ot.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{children:"\u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u062f\u0641\u0639:"}),(0,Ot.jsx)("span",{children:t.payment_method||"\u0622\u062c\u0644"})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{children:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0633\u062a\u062d\u0642\u0627\u0642:"}),(0,Ot.jsx)("span",{children:t.due_date?new Date(t.due_date).toLocaleDateString("ar-EG"):"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{children:"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0645\u062f\u0641\u0648\u0639:"}),(0,Ot.jsxs)("span",{className:"text-green-500",children:[t.paid_amount||0," \u062c.\u0645"]})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{children:"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0645\u062a\u0628\u0642\u064a:"}),(0,Ot.jsxs)("span",{className:"text-red-500",children:[(t.total_amount-(t.paid_amount||0)).toFixed(2)," \u062c.\u0645"]})]})]})]})]}),(0,Ot.jsxs)("div",{className:"text-center mt-8 pt-6 border-t border-white border-opacity-20",children:[(0,Ot.jsx)("p",{className:"text-sm mb-2",style:{color:"var(--text-secondary)"},children:"\u0634\u0643\u0631\u0627\u064b \u0644\u0643 \u0639\u0644\u0649 \u062b\u0642\u062a\u0643 \u0641\u064a \u0646\u0638\u0627\u0645 \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a"}),(0,Ot.jsxs)("p",{className:"text-xs",style:{color:"var(--text-muted)"},children:["\u062a\u0645 \u0625\u0646\u0634\u0627\u0621 \u0647\u0630\u0647 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629 \u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a\u0627\u064b \u0641\u064a ",(new Date).toLocaleString("ar-EG")]}),(0,Ot.jsxs)("div",{className:"mt-4 flex items-center justify-center gap-4",children:[(0,Ot.jsx)("div",{className:"w-16 h-1 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full"}),(0,Ot.jsx)("span",{className:"text-xs font-bold",children:"Sales Management System"}),(0,Ot.jsx)("div",{className:"w-16 h-1 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full"})]})]})]})})]})})},$t=e=>{let{showLabel:t=!1,isDropdown:s=!1}=e;const{theme:n,cycleTheme:a,availableThemes:r,setSpecificTheme:l}=Ut(),i=e=>({light:"sun",dark:"moon",minimal:"theme",modern:"theme",fancy:"theme"}[e]||"theme"),o=e=>({light:"\u0641\u0627\u062a\u062d",dark:"\u062f\u0627\u0643\u0646",minimal:"\u0628\u0633\u064a\u0637",modern:"\u0639\u0635\u0631\u064a",fancy:"\u0641\u0627\u062e\u0631",cyber:"\u0633\u0627\u064a\u0628\u0631",sunset:"\u063a\u0631\u0648\u0628",ocean:"\u0645\u062d\u064a\u0637",forest:"\u063a\u0627\u0628\u0629"}[e]||e);return s?(0,Ot.jsxs)("div",{className:"relative group",children:[(0,Ot.jsxs)("button",{className:"theme-toggle flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 hover:bg-opacity-10 transition-all duration-200",title:"\u0627\u0644\u062b\u064a\u0645 \u0627\u0644\u062d\u0627\u0644\u064a: ".concat(o(n)),children:[(0,Ot.jsx)(Ht,{name:i(n),size:20}),t&&(0,Ot.jsx)("span",{children:o(n)})]}),(0,Ot.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white bg-opacity-95 backdrop-blur-sm rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:r.map((e=>(0,Ot.jsxs)("button",{onClick:()=>l(e),className:"w-full flex items-center gap-3 px-4 py-2 text-right hover:bg-gray-100 hover:bg-opacity-20 transition-colors ".concat(n===e?"bg-blue-500 bg-opacity-20":""),children:[(0,Ot.jsx)(Ht,{name:i(e),size:16}),(0,Ot.jsx)("span",{children:o(e)})]},e)))})]}):(0,Ot.jsxs)("button",{onClick:a,className:"theme-toggle flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 hover:bg-opacity-10 transition-all duration-200",title:"\u0627\u0644\u062b\u064a\u0645 \u0627\u0644\u062d\u0627\u0644\u064a: ".concat(o(n)," - \u0627\u0636\u063a\u0637 \u0644\u0644\u062a\u0628\u062f\u064a\u0644"),children:[(0,Ot.jsx)(Ht,{name:i(n),size:20}),t&&(0,Ot.jsx)("span",{children:o(n)})]})},Qt=(0,a.createContext)(),Kt=()=>{const e=(0,a.useContext)(Qt);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Xt=e=>{let{children:t}=e;const[s,n]=(0,a.useState)(null),[r,l]=(0,a.useState)(!0);(0,a.useEffect)((()=>{const e=localStorage.getItem("token");e?i(e):l(!1)}),[]);const i=async e=>{try{const t=await Tt.get("".concat(Lt,"/auth/me"),{headers:{Authorization:"Bearer ".concat(e)}});n(t.data)}catch(t){localStorage.removeItem("token")}finally{l(!1)}},o={user:s,login:async(e,t)=>{try{const s=await Tt.post("".concat(Lt,"/auth/login"),{username:e,password:t}),{token:a,user:r}=s.data;return localStorage.setItem("token",a),n(r),{success:!0}}catch(r){var s,a;return{success:!1,error:(null===(s=r.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.detail)||"\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644"}}},logout:()=>{localStorage.removeItem("token"),n(null)},loading:r};return(0,Ot.jsx)(Qt.Provider,{value:o,children:t})},Yt=()=>{var e;const[t,s]=(0,a.useState)(""),[n,r]=(0,a.useState)(""),[l,i]=(0,a.useState)(""),[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(null),[m,h]=(0,a.useState)(!1),{login:x}=Kt(),{language:f,changeLanguage:p,t:g,isRTL:b}=Dt(),{theme:v,changeTheme:y}=Ut(),j=[{id:"light",name:g("themeLight"),icon:"\u2600\ufe0f"},{id:"dark",name:g("themeDark"),icon:"\ud83c\udf19"},{id:"minimal",name:g("themeMinimal"),icon:"\u26aa"},{id:"modern",name:g("themeModern"),icon:"\ud83d\udd2e"},{id:"fancy",name:g("themeFancy"),icon:"\u2728"},{id:"cyber",name:g("themeCyber"),icon:"\ud83d\udc9a"},{id:"sunset",name:g("themeSunset"),icon:"\ud83c\udf05"},{id:"ocean",name:g("themeOcean"),icon:"\ud83c\udf0a"},{id:"forest",name:g("themeForest"),icon:"\ud83c\udf32"}];(0,a.useEffect)((()=>{N()}),[]);const N=async()=>{try{const e=await Tt.get("".concat(Lt,"/settings"));u(e.data)}catch(l){console.error("Error fetching settings:",l)}};return(0,Ot.jsxs)("div",{className:"".concat(b?"rtl":"ltr"),style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh"},children:[(0,Ot.jsx)("div",{className:"login-language-toggle ".concat(b?"rtl":""),children:(0,Ot.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ot.jsx)(Ft,{position:"login"}),(0,Ot.jsxs)("div",{className:"relative",children:[(0,Ot.jsx)("button",{onClick:()=>h(!m),className:"glass-effect p-3 rounded-full hover:scale-105 transition-transform",title:"ar"===f?"\u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u062b\u064a\u0645":"Change Theme",children:(0,Ot.jsx)(Ht,{name:"theme",size:20,className:"svg-icon-animated"})}),m&&(0,Ot.jsxs)("div",{className:"absolute top-full right-0 mt-2 glass-effect rounded-xl p-2 min-w-48 border border-white border-opacity-20 z-50",children:[(0,Ot.jsx)("div",{className:"grid grid-cols-3 gap-2",children:j.map((e=>(0,Ot.jsx)("button",{onClick:()=>{y(e.id),h(!1)},className:"theme-option ".concat(e.id," ").concat(v===e.id?"active":""),title:e.name,children:(0,Ot.jsx)("span",{className:"text-lg",children:e.icon})},e.id)))}),(0,Ot.jsx)("div",{className:"mt-2 pt-2 border-t border-white border-opacity-20",children:(0,Ot.jsxs)("div",{className:"text-xs text-center",style:{color:"var(--text-secondary)"},children:["ar"===f?"\u0627\u0644\u062b\u064a\u0645 \u0627\u0644\u062d\u0627\u0644\u064a:":"Current:"," ",(0,Ot.jsx)("strong",{children:null===(e=j.find((e=>e.id===v)))||void 0===e?void 0:e.name})]})})]})]})]})}),(0,Ot.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,Ot.jsx)("div",{className:"floating",children:(0,Ot.jsxs)("div",{className:"card-modern w-full max-w-md p-8 fade-in-up glass-effect",children:[(0,Ot.jsxs)("div",{className:"text-center mb-8",children:[(0,Ot.jsx)("div",{className:"mb-6",children:null!==d&&void 0!==d&&d.logo_image?(0,Ot.jsx)("img",{src:d.logo_image,alt:g("logo"),className:"w-24 h-24 mx-auto rounded-full object-cover glow-pulse"}):(0,Ot.jsx)("div",{className:"w-24 h-24 mx-auto card-gradient-orange rounded-full flex items-center justify-center glow-pulse",children:(0,Ot.jsx)("span",{className:"text-4xl",children:"\ud83c\udfe5"})})}),(0,Ot.jsx)("h1",{className:"text-4xl font-bold text-gradient mb-3 system-brand ".concat(b?"arabic":"english"),children:g("systemName")}),(0,Ot.jsx)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:g("footerDescription")}),(0,Ot.jsx)("p",{className:"text-sm mt-2",style:{color:"var(--text-muted)"},children:g("enterCredentials")})]}),(0,Ot.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(!0),i("");const s=await x(t,n);s.success||i(s.error),c(!1)},className:"space-y-8 form-modern",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{children:(0,Ot.jsxs)("span",{className:"text-shadow-glow",children:["\ud83e\uddd1\u200d\ud83d\udcbc ",g("username")]})}),(0,Ot.jsx)("input",{type:"text",value:t,onChange:e=>s(e.target.value),className:"w-full focus-visible",placeholder:g("username"),style:{textAlign:b?"right":"left"},required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{children:(0,Ot.jsxs)("span",{className:"text-shadow-glow",children:["\ud83d\udd12 ",g("password")]})}),(0,Ot.jsx)("input",{type:"password",value:n,onChange:e=>r(e.target.value),className:"w-full focus-visible",placeholder:g("password"),style:{textAlign:b?"right":"left"},required:!0})]}),l&&(0,Ot.jsxs)("div",{className:"alert-modern alert-error scale-in",children:[(0,Ot.jsx)("span",{className:"".concat(b?"mr-2":"ml-2"),children:"\u26a0\ufe0f"}),l]}),(0,Ot.jsx)("button",{type:"submit",disabled:o,className:"w-full btn-primary neon-glow",children:o?(0,Ot.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,Ot.jsx)("div",{className:"loading-shimmer w-6 h-6 rounded-full"}),(0,Ot.jsx)("span",{children:g("loginLoading")})]}):(0,Ot.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\ude80"}),(0,Ot.jsx)("span",{children:g("loginButton")})]})})]}),(0,Ot.jsx)("div",{className:"mt-8",children:(0,Ot.jsxs)("div",{className:"card-gradient-blue p-6 rounded-2xl text-center",children:[(0,Ot.jsxs)("h3",{className:"font-bold mb-3 flex items-center justify-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udca1"}),(0,Ot.jsx)("span",{children:"ar"===f?"\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u062a\u062c\u0631\u0628\u0629":"Demo Credentials"})]}),(0,Ot.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Ot.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ot.jsx)("span",{className:"font-bold",children:"ar"===f?"\u0623\u062f\u0645\u0646:":"Admin:"}),(0,Ot.jsx)("span",{children:"admin / admin123"})]}),(0,Ot.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ot.jsx)("span",{className:"font-bold",children:"ar"===f?"\u0645\u0646\u062f\u0648\u0628:":"Sales Rep:"}),(0,Ot.jsx)("span",{children:"ar"===f?"\u0623\u0646\u0634\u0626 \u0645\u0646 \u0644\u0648\u062d\u0629 \u0627\u0644\u0623\u062f\u0645\u0646":"Create from Admin Panel"})]})]})]})}),(0,Ot.jsx)("div",{className:"mt-6 text-center",children:(0,Ot.jsxs)("p",{className:"text-xs",style:{color:"var(--text-muted)"},children:["\xa9 ",(new Date).getFullYear()," ",g("systemName")," - ",g("footerCopyright")]})})]})})})]})},Jt=()=>{const[e,t]=(0,a.useState)("permissions"),[s,n]=(0,a.useState)(null),[r,l]=(0,a.useState)(null),[i,o]=(0,a.useState)(null),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)(!1);(0,a.useEffect)((()=>{h()}),[]);const h=async()=>{m(!0);try{const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)},s=await Tt.get("".concat(Lt,"/admin/permissions"),{headers:t});n(s.data);const a=await Tt.get("".concat(Lt,"/admin/dashboard-config"),{headers:t});l(a.data);const r=await Tt.get("".concat(Lt,"/admin/system-health"),{headers:t});o(r.data);const i=await Tt.get("".concat(Lt,"/admin/activity-logs"),{headers:t});d(i.data)}catch(e){console.error("Error loading admin data:",e)}finally{m(!1)}},x=async e=>{m(!0);try{const t=localStorage.getItem("token");await Tt.post("".concat(Lt,"/admin/dashboard-config"),e,{headers:{Authorization:"Bearer ".concat(t)}}),l(e),alert("\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0628\u0646\u062c\u0627\u062d")}catch(t){console.error("Error updating dashboard config:",t),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u062f\u064a\u062b \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645")}finally{m(!1)}};return u&&!s?(0,Ot.jsxs)("div",{className:"glass-effect p-8 text-center",children:[(0,Ot.jsx)("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,Ot.jsx)("p",{style:{color:"var(--text-secondary)"},children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0625\u062f\u0627\u0631\u0629..."})]}):(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"glass-effect p-6",children:[(0,Ot.jsx)("h2",{className:"text-3xl font-bold mb-4 text-gradient",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0634\u0627\u0645\u0644\u0629"}),(0,Ot.jsx)("p",{style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u062a\u062d\u0643\u0645 \u0627\u0644\u0643\u0627\u0645\u0644 \u0641\u064a \u0627\u0644\u0646\u0638\u0627\u0645\u060c \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a\u060c \u0648\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645"})]}),(0,Ot.jsx)("div",{className:"glass-effect p-2",children:(0,Ot.jsx)("div",{className:"flex space-x-2 overflow-x-auto",children:[{id:"permissions",label:"\u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a",icon:"user"},{id:"dashboard",label:"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645",icon:"dashboard"},{id:"system",label:"\u0627\u0644\u0646\u0638\u0627\u0645",icon:"settings"},{id:"security",label:"\u0627\u0644\u0623\u0645\u0627\u0646",icon:"settings"},{id:"logs",label:"\u0627\u0644\u0633\u062c\u0644\u0627\u062a",icon:"reports"}].map((s=>(0,Ot.jsxs)("button",{onClick:()=>t(s.id),className:"flex items-center gap-2 px-6 py-3 rounded-lg transition-all duration-300 whitespace-nowrap ".concat(e===s.id?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"hover:bg-white hover:bg-opacity-10"),children:[(0,Ot.jsx)(Ht,{name:s.icon,size:20}),(0,Ot.jsx)("span",{children:s.label})]},s.id)))})}),(0,Ot.jsxs)("div",{className:"glass-effect p-8",children:["permissions"===e&&(0,Ot.jsx)(Zt,{permissions:s,onUpdate:async e=>{m(!0);try{const t=localStorage.getItem("token");await Tt.post("".concat(Lt,"/admin/permissions"),e,{headers:{Authorization:"Bearer ".concat(t)}}),n(e),alert("\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a \u0628\u0646\u062c\u0627\u062d")}catch(t){console.error("Error updating permissions:",t),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a")}finally{m(!1)}},loading:u}),"dashboard"===e&&(0,Ot.jsx)(es,{config:r,onUpdate:x,loading:u}),"system"===e&&(0,Ot.jsx)(ts,{health:i,onRefresh:h,loading:u}),"security"===e&&(0,Ot.jsx)(ss,{config:r,onUpdate:x,loading:u}),"logs"===e&&(0,Ot.jsx)(ns,{logs:c,onRefresh:h,loading:u})]})]})},Zt=e=>{let{permissions:t,onUpdate:s,loading:n}=e;const[r,l]=(0,a.useState)(t);(0,a.useEffect)((()=>{l(t)}),[t]);if(!r)return null;const i=Object.keys(r.roles_config);return(0,Ot.jsxs)("div",{className:"space-y-8",children:[(0,Ot.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a"}),(0,Ot.jsxs)("div",{className:"glass-effect p-6",children:[(0,Ot.jsx)("h4",{className:"text-xl font-bold mb-6",children:"\u0635\u0644\u0627\u062d\u064a\u0627\u062a \u0627\u0644\u0623\u062f\u0648\u0627\u0631"}),(0,Ot.jsx)("div",{className:"overflow-x-auto",children:(0,Ot.jsxs)("table",{className:"w-full",children:[(0,Ot.jsx)("thead",{children:(0,Ot.jsxs)("tr",{className:"border-b border-white border-opacity-20",children:[(0,Ot.jsx)("th",{className:"text-right p-4",children:"\u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0629"}),i.map((e=>(0,Ot.jsx)("th",{className:"text-center p-4 min-w-20",children:"admin"===e?"\u0645\u062f\u064a\u0631":"manager"===e?"\u0645\u062f\u064a\u0631 \u0641\u0631\u0639":"sales_rep"===e?"\u0645\u0646\u062f\u0648\u0628":"warehouse"===e?"\u0645\u062e\u0632\u0646":"\u0645\u062d\u0627\u0633\u0628"},e)))]})}),(0,Ot.jsx)("tbody",{children:Object.entries({dashboard_access:"\u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645",user_management:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",warehouse_management:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u062e\u0627\u0632\u0646",visits_management:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a",reports_access:"\u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u062a\u0642\u0627\u0631\u064a\u0631",chat_access:"\u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a",settings_access:"\u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a",secret_reports:"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631 \u0627\u0644\u0633\u0631\u064a\u0629",financial_reports:"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631 \u0627\u0644\u0645\u0627\u0644\u064a\u0629",system_logs:"\u0633\u062c\u0644\u0627\u062a \u0627\u0644\u0646\u0638\u0627\u0645"}).map((e=>{let[t,s]=e;return(0,Ot.jsxs)("tr",{className:"border-b border-white border-opacity-10",children:[(0,Ot.jsx)("td",{className:"p-4 font-medium",children:s}),i.map((e=>{var s,n,a;return(0,Ot.jsx)("td",{className:"p-4 text-center",children:(0,Ot.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,Ot.jsx)("input",{type:"checkbox",checked:(null===(s=r.roles_config[e])||void 0===s?void 0:s[t])||!1,onChange:s=>((e,t,s)=>{const n=d(d({},r),{},{roles_config:d(d({},r.roles_config),{},{[e]:d(d({},r.roles_config[e]),{},{[t]:s})})});l(n)})(e,t,s.target.checked),className:"sr-only"}),(0,Ot.jsx)("div",{className:"relative w-6 h-6 rounded border-2 transition-colors ".concat(null!==(n=r.roles_config[e])&&void 0!==n&&n[t]?"bg-blue-600 border-blue-600":"border-gray-400"),children:(null===(a=r.roles_config[e])||void 0===a?void 0:a[t])&&(0,Ot.jsx)("div",{className:"absolute inset-1 bg-white rounded-sm"})})]})},e)}))]},t)}))})]})})]}),(0,Ot.jsxs)("div",{className:"glass-effect p-6",children:[(0,Ot.jsx)("h4",{className:"text-xl font-bold mb-6",children:"\u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0627\u0644\u0648\u0627\u062c\u0647\u0629"}),(0,Ot.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(r.ui_controls||{}).map((e=>{let[t,s]=e;return(0,Ot.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,Ot.jsx)("span",{className:"text-sm",children:"show_statistics_cards"===t?"\u0639\u0631\u0636 \u0628\u0637\u0627\u0642\u0627\u062a \u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a":"show_charts"===t?"\u0639\u0631\u0636 \u0627\u0644\u0645\u062e\u0637\u0637\u0627\u062a":"show_recent_activities"===t?"\u0639\u0631\u0636 \u0627\u0644\u0623\u0646\u0634\u0637\u0629 \u0627\u0644\u0623\u062e\u064a\u0631\u0629":"show_user_photos"===t?"\u0639\u0631\u0636 \u0635\u0648\u0631 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646":"show_themes_selector"===t?"\u0639\u0631\u0636 \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u062b\u064a\u0645":"show_language_selector"===t?"\u0639\u0631\u0636 \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0644\u063a\u0629":"enable_dark_mode"===t?"\u062a\u0645\u0643\u064a\u0646 \u0627\u0644\u0648\u0636\u0639 \u0627\u0644\u0644\u064a\u0644\u064a":"enable_notifications"===t?"\u062a\u0645\u0643\u064a\u0646 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a":"enable_search"===t?"\u062a\u0645\u0643\u064a\u0646 \u0627\u0644\u0628\u062d\u062b":t}),(0,Ot.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Ot.jsx)("input",{type:"checkbox",checked:s,onChange:e=>((e,t)=>{const s=d(d({},r),{},{ui_controls:d(d({},r.ui_controls),{},{[e]:t})});l(s)})(t,e.target.checked),className:"sr-only peer"}),(0,Ot.jsx)("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},t)}))})]}),(0,Ot.jsxs)("div",{className:"glass-effect p-6",children:[(0,Ot.jsx)("h4",{className:"text-xl font-bold mb-6",children:"\u0645\u0641\u0627\u062a\u064a\u062d \u0627\u0644\u0645\u0645\u064a\u0632\u0627\u062a"}),(0,Ot.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(r.feature_toggles||{}).map((e=>{let[t,s]=e;return(0,Ot.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,Ot.jsx)("span",{className:"text-sm",children:"gamification_enabled"===t?"\u0627\u0644\u062a\u062d\u0641\u064a\u0632 \u0648\u0627\u0644\u0623\u0644\u0639\u0627\u0628":"gps_tracking_enabled"===t?"\u062a\u062a\u0628\u0639 GPS":"voice_notes_enabled"===t?"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0627\u0644\u0635\u0648\u062a\u064a\u0629":"file_uploads_enabled"===t?"\u0631\u0641\u0639 \u0627\u0644\u0645\u0644\u0641\u0627\u062a":"print_reports_enabled"===t?"\u0637\u0628\u0627\u0639\u0629 \u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631":"export_data_enabled"===t?"\u062a\u0635\u062f\u064a\u0631 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a":"email_notifications_enabled"===t?"\u0625\u0634\u0639\u0627\u0631\u0627\u062a \u0627\u0644\u0628\u0631\u064a\u062f":"sms_notifications_enabled"===t?"\u0625\u0634\u0639\u0627\u0631\u0627\u062a SMS":t}),(0,Ot.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Ot.jsx)("input",{type:"checkbox",checked:s,onChange:e=>((e,t)=>{const s=d(d({},r),{},{feature_toggles:d(d({},r.feature_toggles),{},{[e]:t})});l(s)})(t,e.target.checked),className:"sr-only peer"}),(0,Ot.jsx)("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},t)}))})]}),(0,Ot.jsx)("button",{onClick:()=>s(r),disabled:n,className:"w-full py-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold rounded-lg transition-all duration-300 disabled:opacity-50",children:n?"\u062c\u0627\u0631\u064a \u0627\u0644\u062d\u0641\u0638...":"\u062d\u0641\u0638 \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a"})]})},es=e=>{var t,s,n,r;let{config:l,onUpdate:i,loading:o}=e;const[c,u]=(0,a.useState)(l);(0,a.useEffect)((()=>{u(l)}),[l]);if(!c)return null;const m=["admin","manager","sales_rep","warehouse","accounting"];return(0,Ot.jsxs)("div",{className:"space-y-8",children:[(0,Ot.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645"}),(0,Ot.jsxs)("div",{className:"glass-effect p-6",children:[(0,Ot.jsx)("h4",{className:"text-xl font-bold mb-6",children:"\u062a\u0628\u0648\u064a\u0628\u0627\u062a \u0627\u0644\u062a\u0646\u0642\u0644"}),(0,Ot.jsx)("div",{className:"overflow-x-auto",children:(0,Ot.jsxs)("table",{className:"w-full",children:[(0,Ot.jsx)("thead",{children:(0,Ot.jsxs)("tr",{className:"border-b border-white border-opacity-20",children:[(0,Ot.jsx)("th",{className:"text-right p-4",children:"\u0627\u0644\u062a\u0628\u0648\u064a\u0628"}),m.map((e=>(0,Ot.jsx)("th",{className:"text-center p-4 min-w-20",children:"admin"===e?"\u0645\u062f\u064a\u0631":"manager"===e?"\u0645\u062f\u064a\u0631 \u0641\u0631\u0639":"sales_rep"===e?"\u0645\u0646\u062f\u0648\u0628":"warehouse"===e?"\u0645\u062e\u0632\u0646":"\u0645\u062d\u0627\u0633\u0628"},e)))]})}),(0,Ot.jsx)("tbody",{children:Object.entries({statistics_tab:"\u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a",users_tab:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",warehouse_tab:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u062e\u0627\u0632\u0646",visits_tab:"\u0633\u062c\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a",reports_tab:"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631",chat_tab:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a",settings_tab:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a"}).map((e=>{let[t,s]=e;return(0,Ot.jsxs)("tr",{className:"border-b border-white border-opacity-10",children:[(0,Ot.jsx)("td",{className:"p-4 font-medium",children:s}),m.map((e=>{var s,n,a,r,l,i,o,m,h;return(0,Ot.jsx)("td",{className:"p-4 text-center",children:(0,Ot.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,Ot.jsx)("input",{type:"checkbox",checked:((null===(s=c.dashboard_sections)||void 0===s||null===(n=s.navigation_tabs)||void 0===n||null===(a=n[t])||void 0===a?void 0:a.roles)||[]).includes(e),onChange:s=>((e,t,s)=>{const n=d(d({},c),{},{dashboard_sections:d(d({},c.dashboard_sections),{},{navigation_tabs:d(d({},c.dashboard_sections.navigation_tabs),{},{[e]:d(d({},c.dashboard_sections.navigation_tabs[e]),{},{roles:s?[...c.dashboard_sections.navigation_tabs[e].roles||[],t]:(c.dashboard_sections.navigation_tabs[e].roles||[]).filter((e=>e!==t))})})})});u(n)})(t,e,s.target.checked),className:"sr-only"}),(0,Ot.jsx)("div",{className:"relative w-6 h-6 rounded border-2 transition-colors ".concat(((null===(r=c.dashboard_sections)||void 0===r||null===(l=r.navigation_tabs)||void 0===l||null===(i=l[t])||void 0===i?void 0:i.roles)||[]).includes(e)?"bg-blue-600 border-blue-600":"border-gray-400"),children:((null===(o=c.dashboard_sections)||void 0===o||null===(m=o.navigation_tabs)||void 0===m||null===(h=m[t])||void 0===h?void 0:h.roles)||[]).includes(e)&&(0,Ot.jsx)("div",{className:"absolute inset-1 bg-white rounded-sm"})})]})},e)}))]},t)}))})]})})]}),(0,Ot.jsxs)("div",{className:"glass-effect p-6",children:[(0,Ot.jsx)("h4",{className:"text-xl font-bold mb-6",children:"\u062a\u062e\u0635\u064a\u0635 \u0627\u0644\u0648\u0627\u062c\u0647\u0629"}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium mb-3",children:"\u0627\u0644\u0644\u0648\u0646 \u0627\u0644\u0623\u0633\u0627\u0633\u064a"}),(0,Ot.jsx)("input",{type:"color",value:(null===(t=c.ui_customization)||void 0===t||null===(s=t.company_branding)||void 0===s?void 0:s.primary_color)||"#3b82f6",onChange:e=>{var t;return u(d(d({},c),{},{ui_customization:d(d({},c.ui_customization),{},{company_branding:d(d({},null===(t=c.ui_customization)||void 0===t?void 0:t.company_branding),{},{primary_color:e.target.value})})}))},className:"w-full h-12 glass-effect border border-white border-opacity-20 rounded-lg"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium mb-3",children:"\u0627\u0644\u0644\u0648\u0646 \u0627\u0644\u062b\u0627\u0646\u0648\u064a"}),(0,Ot.jsx)("input",{type:"color",value:(null===(n=c.ui_customization)||void 0===n||null===(r=n.company_branding)||void 0===r?void 0:r.secondary_color)||"#1e293b",onChange:e=>{var t;return u(d(d({},c),{},{ui_customization:d(d({},c.ui_customization),{},{company_branding:d(d({},null===(t=c.ui_customization)||void 0===t?void 0:t.company_branding),{},{secondary_color:e.target.value})})}))},className:"w-full h-12 glass-effect border border-white border-opacity-20 rounded-lg"})]})]})]}),(0,Ot.jsx)("button",{onClick:()=>i(c),disabled:o,className:"w-full py-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold rounded-lg transition-all duration-300 disabled:opacity-50",children:o?"\u062c\u0627\u0631\u064a \u0627\u0644\u062d\u0641\u0638...":"\u062d\u0641\u0638 \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a"})]})},ts=e=>{var t,s,n,a;let{health:r,onRefresh:l,loading:i}=e;return r?(0,Ot.jsxs)("div",{className:"space-y-8",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u0635\u062d\u0629 \u0627\u0644\u0646\u0638\u0627\u0645"}),(0,Ot.jsx)("button",{onClick:l,disabled:i,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-300 disabled:opacity-50",children:i?"\u062a\u062d\u062f\u064a\u062b...":"\u062a\u062d\u062f\u064a\u062b"})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Ot.jsxs)("div",{className:"glass-effect p-6 text-center",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:(null===(t=r.users)||void 0===t?void 0:t.total)||0}),(0,Ot.jsx)("div",{className:"text-sm text-gray-400",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"})]}),(0,Ot.jsxs)("div",{className:"glass-effect p-6 text-center",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-green-400 mb-2",children:(null===(s=r.users)||void 0===s?void 0:s.active)||0}),(0,Ot.jsx)("div",{className:"text-sm text-gray-400",children:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0627\u0644\u0646\u0634\u0637\u064a\u0646"})]}),(0,Ot.jsxs)("div",{className:"glass-effect p-6 text-center",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:(null===(n=r.system_metrics)||void 0===n?void 0:n.total_visits)||0}),(0,Ot.jsx)("div",{className:"text-sm text-gray-400",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a"})]}),(0,Ot.jsxs)("div",{className:"glass-effect p-6 text-center",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-orange-400 mb-2",children:(null===(a=r.system_metrics)||void 0===a?void 0:a.total_orders)||0}),(0,Ot.jsx)("div",{className:"text-sm text-gray-400",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0637\u0644\u0628\u0627\u062a"})]})]}),(0,Ot.jsxs)("div",{className:"glass-effect p-6",children:[(0,Ot.jsx)("h4",{className:"text-xl font-bold mb-6",children:"\u062d\u0627\u0644\u0629 \u0642\u0648\u0627\u0639\u062f \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a"}),(0,Ot.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(r.collections_health||{}).map((e=>{let[t,s]=e;return(0,Ot.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,Ot.jsx)("span",{className:"font-medium capitalize",children:t}),(0,Ot.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ot.jsx)("span",{className:"text-sm text-gray-400",children:s.count||0}),(0,Ot.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("healthy"===s.status?"bg-green-400":"bg-red-400")})]})]},t)}))})]}),(0,Ot.jsxs)("div",{className:"glass-effect p-6",children:[(0,Ot.jsx)("h4",{className:"text-xl font-bold mb-6",children:"\u062d\u0627\u0644\u0629 \u0642\u0627\u0639\u062f\u0629 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a"}),(0,Ot.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ot.jsx)("div",{className:"w-4 h-4 rounded-full ".concat("connected"===r.database_status?"bg-green-400":"bg-red-400")}),(0,Ot.jsx)("span",{className:"font-medium",children:"connected"===r.database_status?"\u0645\u062a\u0635\u0644":"\u063a\u064a\u0631 \u0645\u062a\u0635\u0644"}),(0,Ot.jsxs)("span",{className:"text-sm text-gray-400 mr-auto",children:["\u0622\u062e\u0631 \u0641\u062d\u0635: ",new Date(r.checked_at).toLocaleString("ar-EG")]})]})]})]}):null},ss=e=>{var t,s,n,r,l;let{config:i,onUpdate:o,loading:c}=e;const[u,m]=(0,a.useState)(i);if((0,a.useEffect)((()=>{m(i)}),[i]),!u)return null;const h=(e,t)=>{const s=d(d({},u),{},{security_settings:d(d({},u.security_settings),{},{[e]:t})});m(s)};return(0,Ot.jsxs)("div",{className:"space-y-8",children:[(0,Ot.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0623\u0645\u0627\u0646"}),(0,Ot.jsxs)("div",{className:"glass-effect p-6",children:[(0,Ot.jsx)("h4",{className:"text-xl font-bold mb-6",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium mb-3",children:"\u0641\u062a\u0631\u0629 \u0627\u0646\u062a\u0647\u0627\u0621 \u0635\u0644\u0627\u062d\u064a\u0629 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 (\u0623\u064a\u0627\u0645)"}),(0,Ot.jsx)("input",{type:"number",value:(null===(t=u.security_settings)||void 0===t?void 0:t.password_expiry_days)||90,onChange:e=>h("password_expiry_days",parseInt(e.target.value)),className:"w-full p-4 glass-effect border border-white border-opacity-20 rounded-lg text-white",min:"1",max:"365"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium mb-3",children:"\u0639\u062f\u062f \u0645\u062d\u0627\u0648\u0644\u0627\u062a \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0627\u0644\u0645\u0633\u0645\u0648\u062d"}),(0,Ot.jsx)("input",{type:"number",value:(null===(s=u.security_settings)||void 0===s?void 0:s.max_login_attempts)||5,onChange:e=>h("max_login_attempts",parseInt(e.target.value)),className:"w-full p-4 glass-effect border border-white border-opacity-20 rounded-lg text-white",min:"1",max:"10"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium mb-3",children:"\u0645\u0647\u0644\u0629 \u0627\u0646\u062a\u0647\u0627\u0621 \u0627\u0644\u062c\u0644\u0633\u0629 (\u062f\u0642\u064a\u0642\u0629)"}),(0,Ot.jsx)("input",{type:"number",value:(null===(n=u.security_settings)||void 0===n?void 0:n.session_timeout_minutes)||480,onChange:e=>h("session_timeout_minutes",parseInt(e.target.value)),className:"w-full p-4 glass-effect border border-white border-opacity-20 rounded-lg text-white",min:"30",max:"1440"})]})]}),(0,Ot.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"font-medium",children:"\u0625\u062c\u0628\u0627\u0631 \u062a\u063a\u064a\u064a\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"}),(0,Ot.jsx)("div",{className:"text-sm text-gray-400",children:"\u0625\u062c\u0628\u0627\u0631 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0639\u0644\u0649 \u062a\u063a\u064a\u064a\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0639\u0646\u062f \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0627\u0644\u062a\u0627\u0644\u064a"})]}),(0,Ot.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Ot.jsx)("input",{type:"checkbox",checked:(null===(r=u.security_settings)||void 0===r?void 0:r.force_password_change)||!1,onChange:e=>h("force_password_change",e.target.checked),className:"sr-only peer"}),(0,Ot.jsx)("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),(0,Ot.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"font-medium",children:"\u0627\u0644\u062a\u062d\u0642\u0642 \u0628\u062e\u0637\u0648\u062a\u064a\u0646 (2FA)"}),(0,Ot.jsx)("div",{className:"text-sm text-gray-400",children:"\u062a\u0645\u0643\u064a\u0646 \u0627\u0644\u062a\u062d\u0642\u0642 \u0628\u062e\u0637\u0648\u062a\u064a\u0646 \u0644\u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"})]}),(0,Ot.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Ot.jsx)("input",{type:"checkbox",checked:(null===(l=u.security_settings)||void 0===l?void 0:l.require_2fa)||!1,onChange:e=>h("require_2fa",e.target.checked),className:"sr-only peer"}),(0,Ot.jsx)("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),(0,Ot.jsx)("button",{onClick:()=>o(u),disabled:c,className:"w-full py-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold rounded-lg transition-all duration-300 disabled:opacity-50",children:c?"\u062c\u0627\u0631\u064a \u0627\u0644\u062d\u0641\u0638...":"\u062d\u0641\u0638 \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0623\u0645\u0627\u0646"})]})},ns=e=>{let{logs:t,onRefresh:s,loading:n}=e;return(0,Ot.jsxs)("div",{className:"space-y-8",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u0633\u062c\u0644\u0627\u062a \u0627\u0644\u0623\u0646\u0634\u0637\u0629"}),(0,Ot.jsx)("button",{onClick:s,disabled:n,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-300 disabled:opacity-50",children:n?"\u062a\u062d\u062f\u064a\u062b...":"\u062a\u062d\u062f\u064a\u062b"})]}),(0,Ot.jsx)("div",{className:"glass-effect p-6",children:(0,Ot.jsx)("div",{className:"space-y-4",children:t&&t.length>0?t.map((e=>(0,Ot.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,Ot.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("user_management"===e.category?"bg-blue-400":"visits"===e.category?"bg-green-400":"orders"===e.category?"bg-orange-400":"bg-gray-400")}),(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsx)("div",{className:"font-medium",children:e.description}),(0,Ot.jsxs)("div",{className:"text-sm text-gray-400",children:[e.user_name," \u2022 ",new Date(e.timestamp).toLocaleString("ar-EG")]})]}),(0,Ot.jsx)("div",{className:"text-xs px-2 py-1 bg-white bg-opacity-10 rounded-full",children:"user_management"===e.category?"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646":"visits"===e.category?"\u0632\u064a\u0627\u0631\u0627\u062a":"orders"===e.category?"\u0637\u0644\u0628\u0627\u062a":e.category})]},e.id))):(0,Ot.jsxs)("div",{className:"text-center py-12",children:[(0,Ot.jsx)(Ht,{name:"reports",size:64,className:"mx-auto mb-4 text-gray-400"}),(0,Ot.jsx)("p",{style:{color:"var(--text-secondary)"},children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0633\u062c\u0644\u0627\u062a \u0644\u0644\u0623\u0646\u0634\u0637\u0629"})]})})})]})},as=()=>{var e;const[t,s]=(0,a.useState)([]),[n,r]=(0,a.useState)(null),[l,i]=(0,a.useState)([]),[o,c]=(0,a.useState)(""),[u,m]=(0,a.useState)([]),[h,x]=(0,a.useState)(!1),[f,p]=(0,a.useState)(""),[g,b]=(0,a.useState)(!1),[v,y]=(0,a.useState)(null),{user:j}=Kt();(0,a.useEffect)((()=>{N(),w()}),[]),(0,a.useEffect)((()=>{if(n){k(n.id);const e=setInterval((()=>k(n.id)),5e3);return()=>clearInterval(e)}}),[n]);const N=async()=>{try{const e=localStorage.getItem("token"),t=await Tt.get("".concat(Lt,"/conversations"),{headers:{Authorization:"Bearer ".concat(e)}});s(t.data)}catch(e){console.error("Error fetching conversations:",e)}},w=async()=>{try{const e=localStorage.getItem("token"),t=await Tt.get("".concat(Lt,"/users"),{headers:{Authorization:"Bearer ".concat(e)}});m(t.data.filter((e=>e.id!==j.id)))}catch(e){console.error("Error fetching users:",e)}},k=async e=>{try{const t=localStorage.getItem("token"),s=await Tt.get("".concat(Lt,"/conversations/").concat(e,"/messages"),{headers:{Authorization:"Bearer ".concat(t)}});i(s.data)}catch(t){console.error("Error fetching messages:",t)}},_=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"TEXT",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!n)return;const s=d(d({message_type:e},"TEXT"===e?{message_text:o}:{}),"VOICE"===e?{voice_note:t}:{});if("TEXT"!==e||o.trim())try{const t=localStorage.getItem("token");await Tt.post("".concat(Lt,"/conversations/").concat(n.id,"/messages"),s,{headers:{Authorization:"Bearer ".concat(t)}}),"TEXT"===e&&c(""),k(n.id)}catch(a){console.error("Error sending message:",a)}};return(0,Ot.jsxs)("div",{style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh"},children:[(0,Ot.jsx)($t,{}),(0,Ot.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Ot.jsxs)("div",{className:"flex items-center mb-8",children:[(0,Ot.jsx)("div",{className:"w-16 h-16 card-gradient-blue rounded-full flex items-center justify-center ml-4 glow-pulse",children:(0,Ot.jsx)("span",{className:"text-3xl",children:"\ud83d\udcac"})}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h2",{className:"text-3xl font-bold text-gradient",children:"\u0646\u0638\u0627\u0645 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a"}),(0,Ot.jsx)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:"\u062a\u0648\u0627\u0635\u0644 \u0645\u0639 \u0627\u0644\u0645\u0646\u0627\u062f\u064a\u0628 \u0648\u0627\u0644\u0645\u062f\u064a\u0631\u064a\u0646"})]})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-96",children:[(0,Ot.jsxs)("div",{className:"card-modern p-4",children:[(0,Ot.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ot.jsx)("h3",{className:"text-lg font-bold",children:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a"}),(0,Ot.jsx)("button",{onClick:()=>x(!0),className:"btn-primary text-sm py-2 px-4",children:"+ \u0645\u062d\u0627\u062f\u062b\u0629 \u062c\u062f\u064a\u062f\u0629"})]}),(0,Ot.jsx)("div",{className:"space-y-2 overflow-y-auto max-h-80",children:t.map((e=>{var t,s;return(0,Ot.jsxs)("div",{onClick:()=>r(e),className:"p-3 rounded-lg cursor-pointer transition-colors ".concat((null===n||void 0===n?void 0:n.id)===e.id?"bg-orange-100 bg-opacity-20":"hover:bg-gray-100 hover:bg-opacity-10"),children:[(0,Ot.jsx)("div",{className:"font-semibold",children:null===(t=e.participant_names)||void 0===t?void 0:t.join(", ")}),(0,Ot.jsx)("div",{className:"text-sm text-gray-500 truncate",children:(null===(s=e.last_message)||void 0===s?void 0:s.message_text)||"\u0631\u0633\u0627\u0644\u0629 \u0635\u0648\u062a\u064a\u0629"}),(0,Ot.jsx)("div",{className:"text-xs text-gray-400",children:new Date(e.last_message_at).toLocaleTimeString("ar-EG")})]},e.id)}))})]}),(0,Ot.jsx)("div",{className:"lg:col-span-2 card-modern flex flex-col",children:n?(0,Ot.jsxs)(Ot.Fragment,{children:[(0,Ot.jsx)("div",{className:"p-4 border-b",style:{borderColor:"var(--accent-bg)"},children:(0,Ot.jsx)("h3",{className:"font-bold",children:null===(e=n.participant_names)||void 0===e?void 0:e.join(", ")})}),(0,Ot.jsx)("div",{className:"flex-1 p-4 overflow-y-auto space-y-3",children:l.map((e=>(0,Ot.jsx)("div",{className:"flex ".concat(e.sender_id===j.id?"justify-end":"justify-start"),children:(0,Ot.jsxs)("div",{className:"max-w-xs lg:max-w-md px-4 py-2 rounded-lg ".concat(e.sender_id===j.id?"bg-orange-500 text-white":"glass-effect"),children:["TEXT"===e.message_type?(0,Ot.jsx)("p",{children:e.message_text}):(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83c\udfb5"}),(0,Ot.jsx)("audio",{controls:!0,className:"w-32",children:(0,Ot.jsx)("source",{src:e.voice_note,type:"audio/wav"})})]}),(0,Ot.jsx)("div",{className:"text-xs opacity-75 mt-1",children:new Date(e.created_at).toLocaleTimeString("ar-EG")})]})},e.id)))}),(0,Ot.jsx)("div",{className:"p-4 border-t",style:{borderColor:"var(--accent-bg)"},children:(0,Ot.jsxs)("div",{className:"flex gap-2",children:[(0,Ot.jsx)("input",{type:"text",value:o,onChange:e=>c(e.target.value),onKeyPress:e=>"Enter"===e.key&&_(),placeholder:"\u0627\u0643\u062a\u0628 \u0631\u0633\u0627\u0644\u062a\u0643...",className:"flex-1 form-modern"}),(0,Ot.jsx)("button",{onClick:()=>_(),className:"btn-primary px-4",children:"\ud83d\udce4"}),(0,Ot.jsx)("button",{onClick:g?()=>{v&&g&&(v.stop(),b(!1),y(null))}:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=new MediaRecorder(e),s=[];t.ondataavailable=e=>s.push(e.data),t.onstop=()=>{const t=new Blob(s,{type:"audio/wav"}),n=new FileReader;n.onloadend=()=>{const e=n.result;_("VOICE",e)},n.readAsDataURL(t),e.getTracks().forEach((e=>e.stop()))},t.start(),y(t),b(!0)}catch(e){console.error("Error starting recording:",e)}},className:"px-4 py-2 rounded-lg ".concat(g?"bg-red-500 text-white":"btn-success"),children:g?"\ud83d\uded1":"\ud83c\udfa4"})]})})]}):(0,Ot.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,Ot.jsxs)("div",{className:"text-center",style:{color:"var(--text-secondary)"},children:[(0,Ot.jsx)("span",{className:"text-6xl block mb-4",children:"\ud83d\udcac"}),(0,Ot.jsx)("p",{children:"\u0627\u062e\u062a\u0631 \u0645\u062d\u0627\u062f\u062b\u0629 \u0644\u0644\u0628\u062f\u0621"})]})})})]}),h&&(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Ot.jsxs)("div",{className:"modal-modern p-6 w-full max-w-md",children:[(0,Ot.jsx)("h3",{className:"text-lg font-bold mb-4",children:"\u0645\u062d\u0627\u062f\u062b\u0629 \u062c\u062f\u064a\u062f\u0629"}),(0,Ot.jsxs)("div",{className:"mb-4",children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u062e\u062a\u0631 \u0645\u0633\u062a\u062e\u062f\u0645:"}),(0,Ot.jsxs)("select",{value:f,onChange:e=>p(e.target.value),className:"w-full form-modern",children:[(0,Ot.jsx)("option",{value:"",children:"\u0627\u062e\u062a\u0631 \u0645\u0633\u062a\u062e\u062f\u0645"}),u.map((e=>(0,Ot.jsxs)("option",{value:e.id,children:[e.full_name," (",e.role,")"]},e.id)))]})]}),(0,Ot.jsxs)("div",{className:"flex gap-3",children:[(0,Ot.jsx)("button",{onClick:async()=>{if(f)try{const e=localStorage.getItem("token");await Tt.post("".concat(Lt,"/conversations"),{participants:[f]},{headers:{Authorization:"Bearer ".concat(e)}}),x(!1),p(""),N()}catch(e){console.error("Error creating conversation:",e)}},className:"btn-primary flex-1",children:"\u0628\u062f\u0621 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629"}),(0,Ot.jsx)("button",{onClick:()=>x(!1),className:"btn-warning flex-1",children:"\u0625\u0644\u063a\u0627\u0621"})]})]})})]})]})},rs=()=>{const[e,t]=(0,a.useState)(!0),[s,n]=(0,a.useState)(""),[r,l]=(0,a.useState)("performance"),[i,o]=(0,a.useState)("week"),[c,u]=(0,a.useState)(""),[m,h]=(0,a.useState)("sales_performance"),[x,f]=(0,a.useState)(null),[p,g]=(0,a.useState)(null),{language:b}=Dt();(0,a.useEffect)((()=>{"performance"===r?v():y()}),[r,i,c,m]);const v=async()=>{t(!0),n("");try{const e=localStorage.getItem("token"),t=new URLSearchParams(d({time_range:i},c&&{user_filter:c})),s=await Tt.get("".concat(Lt,"/analytics/performance-dashboard?").concat(t),{headers:{Authorization:"Bearer ".concat(e)}});f(s.data)}catch(s){n("\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0623\u062f\u0627\u0621"),console.error("Performance dashboard error:",s)}finally{t(!1)}},y=async()=>{t(!0),n("");try{const e=localStorage.getItem("token"),t=new URLSearchParams({kpi_type:m,period:i}),s=await Tt.get("".concat(Lt,"/analytics/kpi-metrics?").concat(t),{headers:{Authorization:"Bearer ".concat(e)}});g(s.data)}catch(s){n("\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0645\u0624\u0634\u0631\u0627\u062a \u0627\u0644\u0623\u062f\u0627\u0621"),console.error("KPI metrics error:",s)}finally{t(!1)}},j=e=>e>0?"text-green-400":e<0?"text-red-400":"text-gray-400",N=e=>e>0?"\ud83d\udcc8":e<0?"\ud83d\udcc9":"\ud83d\udcca",w=e=>{const t={excellent:"bg-green-500 bg-opacity-20 text-green-400 border-green-500",good:"bg-blue-500 bg-opacity-20 text-blue-400 border-blue-500",average:"bg-yellow-500 bg-opacity-20 text-yellow-400 border-yellow-500",needs_improvement:"bg-red-500 bg-opacity-20 text-red-400 border-red-500",no_data:"bg-gray-500 bg-opacity-20 text-gray-400 border-gray-500"};return t[e]||t.no_data},k=e=>{const t={excellent:"\u0645\u0645\u062a\u0627\u0632",good:"\u062c\u064a\u062f",average:"\u0645\u062a\u0648\u0633\u0637",needs_improvement:"\u064a\u062d\u062a\u0627\u062c \u062a\u062d\u0633\u064a\u0646",no_data:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"};return t[e]||t.no_data},_=e=>{let{title:t,value:s,unit:n,growth:a,icon:r,description:l}=e;return(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl hover:bg-white hover:bg-opacity-10 transition-all duration-300",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ot.jsx)("div",{className:"text-2xl",children:r}),(0,Ot.jsxs)("div",{className:"text-sm font-medium ".concat(j(a)),children:[N(a)," ",a>0?"+":"",a.toFixed(1),"%"]})]}),(0,Ot.jsxs)("div",{className:"mb-2",children:[(0,Ot.jsxs)("div",{className:"text-3xl font-bold mb-1",style:{color:"var(--text-primary)"},children:[s.toLocaleString(),n]}),(0,Ot.jsx)("div",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:t})]}),l&&(0,Ot.jsx)("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:l})]})},S=e=>{let{title:t,data:s}=e;return(0,Ot.jsxs)("div",{className:"p-6 rounded-xl border-2 ".concat(w(s.status)),children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ot.jsx)("h3",{className:"text-lg font-bold",children:t}),(0,Ot.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(w(s.status)),children:k(s.status)})]}),(0,Ot.jsxs)("div",{className:"space-y-4",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:[s.value,s.unit]}),(0,Ot.jsxs)("div",{className:"text-sm",style:{color:"var(--text-muted)"},children:["\u0627\u0644\u0647\u062f\u0641: ",s.target,s.unit]})]}),(0,Ot.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,Ot.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat("excellent"===s.status?"bg-green-500":"good"===s.status?"bg-blue-500":"average"===s.status?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(Math.min(100,s.achievement),"%")}})}),(0,Ot.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Ot.jsxs)("span",{style:{color:"var(--text-secondary)"},children:["\u0627\u0644\u062a\u062d\u0642\u064a\u0642: ",s.achievement,"%"]}),(0,Ot.jsxs)("span",{className:"font-medium ".concat("up"===s.trend?"text-green-400":"down"===s.trend?"text-red-400":"text-gray-400"),children:["up"===s.trend?"\u2197\ufe0f":"down"===s.trend?"\u2198\ufe0f":"\u27a1\ufe0f"," ",s.trend]})]}),(0,Ot.jsx)("p",{className:"text-xs",style:{color:"var(--text-muted)"},children:s.description})]})]})};return(0,Ot.jsxs)("div",{className:"space-y-8",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsx)("h2",{className:"text-3xl font-bold text-gradient",children:"\ud83d\udcca \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0644\u064a\u0644\u0627\u062a \u0627\u0644\u0645\u062a\u0642\u062f\u0645\u0629"}),(0,Ot.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ot.jsxs)("select",{value:i,onChange:e=>o(e.target.value),className:"px-4 py-2 glass-effect border border-white border-opacity-20 rounded-lg text-white",children:[(0,Ot.jsx)("option",{value:"today",children:"\u0627\u0644\u064a\u0648\u0645"}),(0,Ot.jsx)("option",{value:"week",children:"\u0647\u0630\u0627 \u0627\u0644\u0623\u0633\u0628\u0648\u0639"}),(0,Ot.jsx)("option",{value:"month",children:"\u0647\u0630\u0627 \u0627\u0644\u0634\u0647\u0631"}),(0,Ot.jsx)("option",{value:"quarter",children:"\u0647\u0630\u0627 \u0627\u0644\u0631\u0628\u0639"}),(0,Ot.jsx)("option",{value:"year",children:"\u0647\u0630\u0627 \u0627\u0644\u0639\u0627\u0645"})]}),"performance"===r&&(0,Ot.jsxs)("select",{value:c,onChange:e=>u(e.target.value),className:"px-4 py-2 glass-effect border border-white border-opacity-20 rounded-lg text-white",children:[(0,Ot.jsx)("option",{value:"",children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"}),(0,Ot.jsx)("option",{value:"sales_rep",children:"\u0645\u0646\u0627\u062f\u064a\u0628 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a"}),(0,Ot.jsx)("option",{value:"manager",children:"\u0627\u0644\u0645\u062f\u0631\u0627\u0621"}),(0,Ot.jsx)("option",{value:"warehouse_manager",children:"\u0645\u062f\u0631\u0627\u0621 \u0627\u0644\u0645\u062e\u0627\u0632\u0646"})]}),"kpis"===r&&(0,Ot.jsxs)("select",{value:m,onChange:e=>h(e.target.value),className:"px-4 py-2 glass-effect border border-white border-opacity-20 rounded-lg text-white",children:[(0,Ot.jsx)("option",{value:"sales_performance",children:"\u0623\u062f\u0627\u0621 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a"}),(0,Ot.jsx)("option",{value:"team_efficiency",children:"\u0643\u0641\u0627\u0621\u0629 \u0627\u0644\u0641\u0631\u064a\u0642"}),(0,Ot.jsx)("option",{value:"customer_satisfaction",children:"\u0631\u0636\u0627 \u0627\u0644\u0639\u0645\u0644\u0627\u0621"})]})]})]}),(0,Ot.jsxs)("div",{className:"glass-effect p-2 rounded-xl inline-flex",children:[(0,Ot.jsx)("button",{onClick:()=>l("performance"),className:"px-6 py-3 rounded-lg transition-all duration-300 ".concat("performance"===r?"bg-blue-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white hover:bg-opacity-10"),children:"\ud83d\udcc8 \u0644\u0648\u062d\u0629 \u0627\u0644\u0623\u062f\u0627\u0621"}),(0,Ot.jsx)("button",{onClick:()=>l("kpis"),className:"px-6 py-3 rounded-lg transition-all duration-300 ".concat("kpis"===r?"bg-purple-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white hover:bg-opacity-10"),children:"\ud83c\udfaf \u0645\u0624\u0634\u0631\u0627\u062a \u0627\u0644\u0623\u062f\u0627\u0621"})]}),s&&(0,Ot.jsx)("div",{className:"p-4 bg-red-500 bg-opacity-20 border border-red-500 rounded-lg text-red-400",children:s}),e?(0,Ot.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map((e=>(0,Ot.jsx)("div",{className:"glass-effect p-6 rounded-xl animate-pulse",children:(0,Ot.jsxs)("div",{className:"space-y-4",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsx)("div",{className:"w-8 h-8 bg-gray-600 rounded"}),(0,Ot.jsx)("div",{className:"w-16 h-4 bg-gray-600 rounded"})]}),(0,Ot.jsx)("div",{className:"w-24 h-8 bg-gray-600 rounded"}),(0,Ot.jsx)("div",{className:"w-32 h-4 bg-gray-700 rounded"})]})},e)))}):(0,Ot.jsxs)(Ot.Fragment,{children:["performance"===r&&x&&(0,Ot.jsxs)("div",{className:"space-y-8",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Ot.jsx)(_,{title:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a",value:x.core_metrics.visits.current,unit:"",growth:x.core_metrics.visits.growth,icon:"\ud83d\ude97",description:"\u0645\u0642\u0627\u0631\u0646\u0629 \u0628\u0627\u0644\u0641\u062a\u0631\u0629 \u0627\u0644\u0633\u0627\u0628\u0642\u0629"}),(0,Ot.jsx)(_,{title:"\u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u0641\u0639\u0627\u0644\u0629",value:x.core_metrics.effective_visits.current,unit:"",growth:x.core_metrics.effective_visits.growth,icon:"\u2705",description:"\u0632\u064a\u0627\u0631\u0627\u062a \u062d\u0642\u0642\u062a \u0646\u062a\u0627\u0626\u062c \u0625\u064a\u062c\u0627\u0628\u064a\u0629"}),(0,Ot.jsx)(_,{title:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0637\u0644\u0628\u0627\u062a",value:x.core_metrics.orders.current,unit:"",growth:x.core_metrics.orders.growth,icon:"\ud83d\udce6",description:"\u0637\u0644\u0628\u0627\u062a \u062a\u0645 \u0625\u0646\u0634\u0627\u0624\u0647\u0627"}),(0,Ot.jsx)(_,{title:"\u0645\u0639\u062f\u0644 \u0627\u0644\u062a\u062d\u0648\u064a\u0644",value:x.core_metrics.conversion_rate.current,unit:"%",growth:x.core_metrics.conversion_rate.growth,icon:"\ud83c\udfaf",description:"\u0645\u0639\u062f\u0644 \u0646\u062c\u0627\u062d \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a"})]}),x.top_performers.length>0&&(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83c\udfc6"}),(0,Ot.jsx)("span",{children:"\u0623\u0641\u0636\u0644 \u0627\u0644\u0645\u0624\u062f\u064a\u0646"})]}),(0,Ot.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.top_performers.map(((e,t)=>(0,Ot.jsxs)("div",{className:"p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,Ot.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white font-bold ".concat(0===t?"bg-yellow-500":1===t?"bg-gray-400":2===t?"bg-amber-600":"bg-blue-500"),children:t+1}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:e.user_info.full_name}),(0,Ot.jsxs)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["@",e.user_info.username]})]})]}),(0,Ot.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a:"}),(0,Ot.jsx)("span",{className:"font-medium text-blue-400",children:e.total_visits})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u0641\u0639\u0627\u0644\u0629:"}),(0,Ot.jsx)("span",{className:"font-medium text-green-400",children:e.effective_visits})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0645\u0639\u062f\u0644 \u0627\u0644\u0641\u0639\u0627\u0644\u064a\u0629:"}),(0,Ot.jsxs)("span",{className:"font-medium text-purple-400",children:[e.effectiveness_rate.toFixed(1),"%"]})]})]})]},t)))})]}),x.daily_trends.length>0&&(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udcc8"}),(0,Ot.jsx)("span",{children:"\u0627\u062a\u062c\u0627\u0647\u0627\u062a \u0627\u0644\u0623\u062f\u0627\u0621 \u0627\u0644\u064a\u0648\u0645\u064a\u0629"})]}),(0,Ot.jsx)("div",{className:"space-y-4",children:x.daily_trends.slice(-7).map(((e,t)=>(0,Ot.jsxs)("div",{className:"flex items-center gap-4 p-3 bg-white bg-opacity-5 rounded-lg",children:[(0,Ot.jsx)("div",{className:"w-24 text-sm",style:{color:"var(--text-secondary)"},children:new Date(e.date).toLocaleDateString("ar-EG",{weekday:"short",day:"numeric",month:"short"})}),(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,Ot.jsxs)("span",{className:"text-blue-400",children:["\ud83d\ude97 ",e.visits]}),(0,Ot.jsxs)("span",{className:"text-green-400",children:["\u2705 ",e.effective_visits]}),(0,Ot.jsxs)("span",{className:"text-purple-400",children:["\ud83d\udce6 ",e.orders]}),(0,Ot.jsxs)("span",{className:"text-yellow-400",children:["\ud83c\udfaf ",e.effectiveness_rate.toFixed(1),"%"]})]}),(0,Ot.jsx)("div",{className:"mt-2",children:(0,Ot.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,Ot.jsx)("div",{className:"h-2 bg-gradient-to-r from-blue-500 to-green-500 rounded-full transition-all duration-300",style:{width:"".concat(Math.min(100,e.effectiveness_rate),"%")}})})})]})]},t)))})]}),x.team_summary.length>0&&(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udc65"}),(0,Ot.jsx)("span",{children:"\u0645\u0644\u062e\u0635 \u0627\u0644\u0641\u0631\u0642"})]}),(0,Ot.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.team_summary.map(((e,t)=>(0,Ot.jsxs)("div",{className:"p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,Ot.jsx)("div",{className:"font-medium mb-3",style:{color:"var(--text-primary)"},children:e.manager_name}),(0,Ot.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u062d\u062c\u0645 \u0627\u0644\u0641\u0631\u064a\u0642:"}),(0,Ot.jsx)("span",{className:"font-medium",children:e.team_size})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a:"}),(0,Ot.jsx)("span",{className:"font-medium text-blue-400",children:e.total_visits})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u0641\u0639\u0627\u0644\u0629:"}),(0,Ot.jsx)("span",{className:"font-medium text-green-400",children:e.effective_visits})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0645\u0639\u062f\u0644 \u0627\u0644\u0641\u0639\u0627\u0644\u064a\u0629:"}),(0,Ot.jsxs)("span",{className:"font-medium text-purple-400",children:[e.effectiveness_rate.toFixed(1),"%"]})]})]})]},t)))})]}),x.insights&&(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udca1"}),(0,Ot.jsx)("span",{children:"\u0631\u0624\u0649 \u0630\u0643\u064a\u0629"})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Ot.jsxs)("div",{className:"text-center p-4 bg-blue-500 bg-opacity-20 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-2xl mb-2",children:"\ud83c\udf1f"}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0623\u0641\u0636\u0644 \u064a\u0648\u0645 \u0623\u062f\u0627\u0621"}),(0,Ot.jsx)("div",{className:"font-bold",style:{color:"var(--text-primary)"},children:x.insights.best_performing_day?new Date(x.insights.best_performing_day).toLocaleDateString("ar-EG"):"\u063a\u064a\u0631 \u0645\u062a\u0627\u062d"})]}),(0,Ot.jsxs)("div",{className:"text-center p-4 bg-green-500 bg-opacity-20 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udc65"}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0639\u062f\u062f \u0627\u0644\u0645\u0624\u062f\u064a\u0646 \u0627\u0644\u0641\u0631\u064a\u062f\u064a\u0646"}),(0,Ot.jsx)("div",{className:"font-bold",style:{color:"var(--text-primary)"},children:x.insights.total_unique_performers})]}),(0,Ot.jsxs)("div",{className:"text-center p-4 bg-purple-500 bg-opacity-20 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udcca"}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u062a\u0648\u0633\u0637 \u0627\u0644\u0641\u0639\u0627\u0644\u064a\u0629"}),(0,Ot.jsxs)("div",{className:"font-bold",style:{color:"var(--text-primary)"},children:[x.insights.average_effectiveness,"%"]})]})]})]})]}),"kpis"===r&&p&&(0,Ot.jsxs)("div",{className:"space-y-8",children:[(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h3",{className:"text-xl font-bold",children:"\u0645\u0644\u062e\u0635 \u0645\u0624\u0634\u0631\u0627\u062a \u0627\u0644\u0623\u062f\u0627\u0621"}),(0,Ot.jsx)("div",{className:"flex items-center gap-4",children:(0,Ot.jsxs)("div",{className:"px-4 py-2 rounded-full text-sm font-medium ".concat("excellent"===p.summary.overall_performance?"bg-green-500 bg-opacity-20 text-green-400":"bg-blue-500 bg-opacity-20 text-blue-400"),children:["\u0627\u0644\u0623\u062f\u0627\u0621 \u0627\u0644\u0639\u0627\u0645: ","excellent"===p.summary.overall_performance?"\u0645\u0645\u062a\u0627\u0632":"\u062c\u064a\u062f"]})})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Ot.jsxs)("div",{className:"text-center p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:p.summary.total_kpis}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0624\u0634\u0631\u0627\u062a"})]}),(0,Ot.jsxs)("div",{className:"text-center p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-green-400",children:p.summary.excellent_kpis}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u0624\u0634\u0631\u0627\u062a \u0645\u0645\u062a\u0627\u0632\u0629"})]}),(0,Ot.jsxs)("div",{className:"text-center p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-red-400",children:p.summary.needs_improvement}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u062a\u062d\u062a\u0627\u062c \u062a\u062d\u0633\u064a\u0646"})]}),(0,Ot.jsxs)("div",{className:"text-center p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:new Date(p.generated_at).toLocaleDateString("ar-EG")}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0622\u062e\u0631 \u062a\u062d\u062f\u064a\u062b"})]})]})]}),(0,Ot.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(p.metrics).map((e=>{let[t,s]=e;return(0,Ot.jsx)(S,{title:s.description,data:s},t)}))})]})]})]})},ls=e=>{let{stats:t,user:s}=e;const[n,r]=(0,a.useState)("week"),[l,i]=(0,a.useState)({}),[o,c]=(0,a.useState)([]),[u,m]=(0,a.useState)(t),[h,x]=(0,a.useState)(!1),{analytics:f,loading:p}=ps(),{language:g}=(0,a.useContext)(Bt),b={en:{title:"\ud83d\udcca Comprehensive Statistics Dashboard",subtitle:"Complete overview of system and team performance",today:"Today",week:"Week",month:"Month",quarter:"Quarter",live:"Live",quickActions:"\u26a1 Quick Actions",liveStats:"\ud83d\udd34 Live Statistics",updatesEvery30:"(Updates every 30 seconds)",visitsToday:"Visits Today",activeSalesReps:"Active Sales Reps",pendingOrders:"Pending Orders",totalUsers:"Total Users",totalClinics:"Total Clinics",totalVisits:"Total Visits",totalWarehouses:"Total Warehouses",lowStockItems:"Low Stock Items",todayVisits:"Today's Visits",lastUpdated:"Last updated:"},ar:{title:"\ud83d\udcca \u0644\u0648\u062d\u0629 \u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a \u0627\u0644\u0634\u0627\u0645\u0644\u0629",subtitle:"\u0646\u0638\u0631\u0629 \u0634\u0627\u0645\u0644\u0629 \u0639\u0644\u0649 \u0623\u062f\u0627\u0621 \u0627\u0644\u0646\u0638\u0627\u0645 \u0648\u0627\u0644\u0641\u0631\u064a\u0642",today:"\u0627\u0644\u064a\u0648\u0645",week:"\u0627\u0644\u0623\u0633\u0628\u0648\u0639",month:"\u0627\u0644\u0634\u0647\u0631",quarter:"\u0627\u0644\u0631\u0628\u0639",live:"\u0645\u0628\u0627\u0634\u0631",quickActions:"\u26a1 \u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0633\u0631\u064a\u0639\u0629",liveStats:"\ud83d\udd34 \u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a \u0627\u0644\u0645\u0628\u0627\u0634\u0631\u0629",updatesEvery30:"(\u064a\u062a\u0645 \u0627\u0644\u062a\u062d\u062f\u064a\u062b \u0643\u0644 30 \u062b\u0627\u0646\u064a\u0629)",visitsToday:"\u0632\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u064a\u0648\u0645",activeSalesReps:"\u0645\u0646\u0627\u062f\u064a\u0628 \u0646\u0634\u0637\u064a\u0646 \u0627\u0644\u0622\u0646",pendingOrders:"\u0637\u0644\u0628\u064a\u0627\u062a \u0645\u0639\u0644\u0642\u0629",totalUsers:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",totalClinics:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a",totalVisits:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a",totalWarehouses:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u062e\u0627\u0632\u0646",lowStockItems:"\u0645\u0646\u062a\u062c\u0627\u062a \u0646\u0642\u0635 \u0645\u062e\u0632\u0648\u0646",todayVisits:"\u0632\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u064a\u0648\u0645",lastUpdated:"\u0622\u062e\u0631 \u062a\u062d\u062f\u064a\u062b:"}},v=b[g]||b.en;(0,a.useEffect)((()=>{y(),N(),j()}),[n]);const y=async()=>{x(!0);try{let e=d({},t);switch(n){case"today":const t=localStorage.getItem("token");e=(await Tt.get("".concat(Lt,"/dashboard/stats?period=today"),{headers:{Authorization:"Bearer ".concat(t)}})).data;break;case"week":break;case"month":e=(await Tt.get("".concat(Lt,"/dashboard/stats?period=month"),{headers:{Authorization:"Bearer ".concat(t)}})).data;break;case"quarter":e=(await Tt.get("".concat(Lt,"/dashboard/stats?period=quarter"),{headers:{Authorization:"Bearer ".concat(t)}})).data}m(e),i({users_growth:"+12%",visits_growth:"+8%",clinics_growth:"+15%",revenue_growth:"+22%"})}catch(e){console.error("Error fetching time-filtered data:",e),m(t)}finally{x(!1)}},j=async()=>{await y()},N=async()=>{const e=[];u.pending_reviews>0&&e.push({type:"reviews",count:u.pending_reviews,text:"ar"===g?"\u0645\u0631\u0627\u062c\u0639\u0627\u062a \u062a\u062d\u062a\u0627\u062c \u0645\u0648\u0627\u0641\u0642\u0629":"Reviews Need Approval"}),u.low_stock_items>0&&e.push({type:"stock",count:u.low_stock_items,text:"ar"===g?"\u0645\u0646\u062a\u062c\u0627\u062a \u0646\u0642\u0635 \u0645\u062e\u0632\u0648\u0646":"Low Stock Items"}),u.pending_clinics>0&&e.push({type:"clinics",count:u.pending_clinics,text:"ar"===g?"\u0639\u064a\u0627\u062f\u0627\u062a \u062a\u062d\u062a\u0627\u062c \u0645\u0648\u0627\u0641\u0642\u0629":"Clinics Need Approval"}),c(e)},w=[{key:"total_users",title:v.totalUsers,icon:"\ud83d\udc65",color:"bg-blue-500",growth:l.users_growth},{key:"total_clinics",title:v.totalClinics,icon:"\ud83c\udfe5",color:"bg-green-500",growth:l.clinics_growth},{key:"total_visits",title:v.totalVisits,icon:"\ud83d\udccb",color:"bg-indigo-500",growth:l.visits_growth},{key:"total_warehouses",title:v.totalWarehouses,icon:"\ud83c\udfea",color:"bg-pink-500",growth:"+0%"},{key:"today_visits",title:v.todayVisits,icon:"\ud83d\udcc5",color:"bg-teal-500",growth:"+18%"},{key:"low_stock_items",title:v.lowStockItems,icon:"\u26a0\ufe0f",color:"bg-red-500",isAlert:!0}];return(0,Ot.jsx)("div",{style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh"},children:(0,Ot.jsxs)("div",{className:"space-y-8",children:[(0,Ot.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Ot.jsx)("h2",{className:"text-3xl font-bold text-gradient",children:v.title}),f&&(0,Ot.jsxs)("div",{className:"flex items-center gap-2 bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm animate-pulse",children:[(0,Ot.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,Ot.jsx)("span",{children:v.live})]})]}),(0,Ot.jsxs)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:[v.subtitle," - ",v.lastUpdated," ",null!==f&&void 0!==f&&f.timestamp?new Date(f.timestamp).toLocaleTimeString("ar"===g?"ar-EG":"en-US"):"ar"===g?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644...":"Loading..."]})]}),(0,Ot.jsx)("div",{className:"flex gap-2",children:["today","week","month","quarter"].map((e=>(0,Ot.jsx)("button",{onClick:()=>{r(e)},disabled:h,className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat(n===e?"btn-primary":"btn-secondary"," ").concat(h?"opacity-50 cursor-not-allowed":""),children:h&&n===e?(0,Ot.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):v[e]},e)))})]}),f&&(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udd34"}),(0,Ot.jsx)("span",{children:v.liveStats}),(0,Ot.jsx)("span",{className:"text-sm text-green-600 animate-pulse",children:v.updatesEvery30})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Ot.jsxs)("div",{className:"glass-effect p-4 rounded-lg border-l-4 border-blue-500",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:f.live_stats.visits_today}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:v.visitsToday})]}),(0,Ot.jsxs)("div",{className:"glass-effect p-4 rounded-lg border-l-4 border-green-500",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-green-600",children:f.live_stats.active_sales_reps}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:v.activeSalesReps})]}),(0,Ot.jsxs)("div",{className:"glass-effect p-4 rounded-lg border-l-4 border-orange-500",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-orange-600",children:f.live_stats.pending_orders}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:v.pendingOrders})]})]})]}),o.length>0&&(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\u26a1"}),(0,Ot.jsx)("span",{children:v.quickActions})]}),(0,Ot.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:o.map(((e,t)=>(0,Ot.jsx)("div",{className:"glass-effect p-4 rounded-lg border-l-4 border-orange-500",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:e.text}),(0,Ot.jsx)("p",{className:"text-2xl font-bold text-orange-500",children:e.count})]}),(0,Ot.jsx)("button",{className:"btn-warning text-sm",children:"ar"===g?"\u0639\u0631\u0636":"View"})]})},t)))})]}),(0,Ot.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:w.map((e=>{const s=t[e.key]||0;return(0,Ot.jsxs)("div",{className:"card-modern p-6 relative overflow-hidden",children:[(0,Ot.jsx)("div",{className:"absolute top-0 right-0 w-20 h-20 rounded-full opacity-10 -mr-10 -mt-10",style:{background:e.color.replace("bg-","")}}),(0,Ot.jsxs)("div",{className:"relative z-10",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ot.jsx)("div",{className:"w-12 h-12 ".concat(e.color," rounded-lg flex items-center justify-center text-white text-xl"),children:e.icon}),e.growth&&(0,Ot.jsx)("span",{className:"text-sm font-medium px-2 py-1 rounded-lg ".concat(e.isAlert?"bg-red-100 text-red-600":"bg-green-100 text-green-600"),children:e.growth})]}),(0,Ot.jsx)("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--text-secondary)"},children:e.title}),(0,Ot.jsx)("p",{className:"text-3xl font-bold ".concat(e.isAlert?"text-red-500":""),style:{color:e.isAlert?void 0:"var(--text-primary)"},children:s})]})]},e.key)}))}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udcc8"}),(0,Ot.jsx)("span",{children:"ar"===g?"\u0623\u062f\u0627\u0621 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a":"Visits Performance"})]}),null!==f&&void 0!==f&&f.chart_data?(0,Ot.jsx)("div",{className:"h-64",children:(0,Ot.jsx)("div",{className:"flex items-center justify-center h-full bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg",children:(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udcca"}),(0,Ot.jsx)("p",{className:"text-gray-600 mb-2",children:"ar"===g?"\u0631\u0633\u0645 \u0628\u064a\u0627\u0646\u064a \u062a\u0641\u0627\u0639\u0644\u064a \u0644\u0644\u0623\u062f\u0627\u0621":"Interactive Performance Chart"}),(0,Ot.jsx)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:f.chart_data.slice(-4).map(((e,t)=>(0,Ot.jsxs)("div",{className:"bg-white p-3 rounded-lg shadow",children:[(0,Ot.jsx)("div",{className:"text-sm text-gray-500",children:new Date(e.date).toLocaleDateString()}),(0,Ot.jsxs)("div",{className:"text-lg font-bold text-blue-600",children:[e.visits," ","ar"===g?"\u0632\u064a\u0627\u0631\u0629":"visits"]})]},t)))})]})})}):(0,Ot.jsx)("div",{className:"h-64 flex items-center justify-center glass-effect rounded-lg",children:(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udcca"}),(0,Ot.jsx)("p",{style:{color:"var(--text-secondary)"},children:"ar"===g?"\u0631\u0633\u0645 \u0628\u064a\u0627\u0646\u064a \u0644\u0623\u062f\u0627\u0621 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a":"Visits Performance Chart"}),(0,Ot.jsx)("p",{className:"text-sm mt-2",style:{color:"var(--text-muted)"},children:"ar"===g?"\u064a\u062a\u0645 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a...":"Loading data..."})]})})]}),(0,Ot.jsx)(is,{})]}),"admin"===s.role&&(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udc51"}),(0,Ot.jsx)("span",{children:"ar"===g?"\u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0627\u0644\u0645\u062f\u064a\u0631":"Admin Actions"})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Ot.jsx)(cs,{icon:"\ud83d\udcca",text:"ar"===g?"\u062a\u0635\u062f\u064a\u0631 \u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631":"Export Reports",onClick:()=>ms()}),(0,Ot.jsx)(cs,{icon:"\ud83d\udc65",text:"ar"===g?"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646":"User Management",onClick:()=>hs()}),(0,Ot.jsx)(cs,{icon:"\u2699\ufe0f",text:"ar"===g?"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0646\u0638\u0627\u0645":"System Settings",onClick:()=>xs()})]})]}),(0,Ot.jsx)("div",{className:"mt-8",children:(0,Ot.jsx)(is,{})})]})})},is=()=>{const[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)(!0),[r,l]=(0,a.useState)(null),[i,o]=(0,a.useState)(!1),{language:c}=Dt();(0,a.useEffect)((()=>{d()}),[]);const d=async()=>{try{const s=localStorage.getItem("token");try{const e=await Tt.get("".concat(Lt,"/activities/recent"),{headers:{Authorization:"Bearer ".concat(s)}});if(e.data&&e.data.activities){const s=e.data.activities.map(((e,t)=>({id:t+1,type:e.type||"general",message:"ar"===c?e.title:e.description||e.title,details:e.details||{},timestamp:e.timestamp||(new Date).toISOString(),color:e.color||u(e.type)})));if(s.length>0)return console.log("\u2705 Loaded ".concat(s.length," real activities from API")),void t(s)}}catch(e){console.error("Failed to load real activities from API:",e)}console.log("Using mock activities data"),t([{id:1,type:"visit",message:"ar"===c?"\u0632\u064a\u0627\u0631\u0629 \u062c\u062f\u064a\u062f\u0629 \u0644\u0644\u062f\u0643\u062a\u0648\u0631 \u0623\u062d\u0645\u062f \u0645\u0646 \u0627\u0644\u0645\u0646\u062f\u0648\u0628 \u0645\u062d\u0645\u0648\u062f":"New visit to Dr. Ahmed by sales rep Mahmoud",details:{doctor:"ar"===c?"\u062f. \u0623\u062d\u0645\u062f \u0645\u062d\u0645\u062f":"Dr. Ahmed Mohamed",sales_rep:"ar"===c?"\u0645\u062d\u0645\u0648\u062f \u0639\u0644\u064a":"Mahmoud Ali",clinic:"ar"===c?"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0646\u0648\u0631":"Al Nour Clinic",visit_time:"10:30 AM",effectiveness:!0},timestamp:new Date(Date.now()-3e5).toISOString(),color:"text-green-500"},{id:2,type:"clinic",message:"ar"===c?"\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0639\u064a\u0627\u062f\u0629 \u062c\u062f\u064a\u062f\u0629 \u0645\u0646 \u0627\u0644\u0645\u0646\u062f\u0648\u0628 \u0625\u0628\u0631\u0627\u0647\u064a\u0645":"New clinic added by sales rep Ibrahim",details:{clinic_name:"ar"===c?"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0634\u0641\u0627\u0621":"Al Shifa Clinic",sales_rep:"ar"===c?"\u0625\u0628\u0631\u0627\u0647\u064a\u0645 \u062d\u0633\u0646":"Ibrahim Hassan",address:"ar"===c?"\u0634\u0627\u0631\u0639 \u0627\u0644\u062c\u0645\u0647\u0648\u0631\u064a\u0629\u060c \u0627\u0644\u0645\u0646\u0635\u0648\u0631\u0629":"Gomhoria Street, Mansoura",status:"pending_approval"},timestamp:new Date(Date.now()-9e5).toISOString(),color:"text-blue-500"},{id:3,type:"order",message:"ar"===c?"\u0637\u0644\u0628\u064a\u0629 \u062c\u062f\u064a\u062f\u0629 \u0645\u0646 \u0627\u0644\u0645\u0646\u062f\u0648\u0628 \u0625\u0628\u0631\u0627\u0647\u064a\u0645 \u062a\u062d\u062a\u0627\u062c \u0644\u0644\u0645\u0648\u0627\u0641\u0642\u0629":"New order from sales rep Ibrahim needs approval",details:{order_id:"ORD-2024-001",sales_rep:"ar"===c?"\u0625\u0628\u0631\u0627\u0647\u064a\u0645 \u062d\u0633\u0646":"Ibrahim Hassan",clinic:"ar"===c?"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0623\u0645\u0644":"Al Amal Clinic",total_amount:2500,currency:"EGP",items_count:5,status:"pending_manager_approval"},timestamp:new Date(Date.now()-18e5).toISOString(),color:"text-orange-500"},{id:4,type:"user",message:"ar"===c?"\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062a\u062e\u062f\u0645 \u062c\u062f\u064a\u062f \u0645\u0646 \u0627\u0644\u0645\u062f\u064a\u0631 \u0639\u0644\u064a":"New user added by manager Ali",details:{user_name:"ar"===c?"\u062e\u0627\u0644\u062f \u0645\u062d\u0645\u062f":"Khaled Mohamed",role:"sales_rep",manager:"ar"===c?"\u0639\u0644\u064a \u0623\u062d\u0645\u062f":"Ali Ahmed",department:"ar"===c?"\u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a - \u0627\u0644\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u0634\u0631\u0642\u064a\u0629":"Sales - Eastern Region",employee_id:"EMP-2024-012"},timestamp:new Date(Date.now()-36e5).toISOString(),color:"text-purple-500"}])}catch(s){console.error("Error loading activities:",s)}finally{n(!1)}},u=e=>({visit:"text-green-500",clinic:"text-blue-500",order:"text-orange-500",user:"text-purple-500",approval:"text-yellow-500",warehouse:"text-indigo-500"}[e]||"text-gray-500");return(0,Ot.jsxs)(Ot.Fragment,{children:[(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udd50"}),(0,Ot.jsx)("span",{children:"ar"===c?"\u0627\u0644\u0646\u0634\u0627\u0637\u0627\u062a \u0627\u0644\u0623\u062e\u064a\u0631\u0629":"Recent Activities"})]}),s?(0,Ot.jsx)("div",{className:"space-y-3",children:[1,2,3,4].map((e=>(0,Ot.jsxs)("div",{className:"animate-pulse flex items-center gap-3 p-3",children:[(0,Ot.jsx)("div",{className:"w-8 h-8 bg-gray-600 rounded-full"}),(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsx)("div",{className:"h-4 bg-gray-600 rounded mb-2"}),(0,Ot.jsx)("div",{className:"h-3 bg-gray-700 rounded w-3/4"})]})]},e)))}):(0,Ot.jsxs)("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:[e.map((e=>{return(0,Ot.jsxs)("div",{className:"flex items-center gap-3 p-3 glass-effect rounded-lg cursor-pointer hover:bg-white hover:bg-opacity-10 transition-all duration-300 hover:scale-102",onClick:()=>(e=>{l(e),o(!0)})(e),children:[(0,Ot.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold ".concat("visit"===e.type?"bg-green-500":"clinic"===e.type?"bg-blue-500":"order"===e.type?"bg-orange-500":"bg-purple-500"),children:(t=e.type,{visit:"\ud83d\udc68\u200d\u2695\ufe0f",clinic:"\ud83c\udfe5",order:"\ud83d\udce6",user:"\ud83d\udc64",approval:"\u2705",warehouse:"\ud83c\udfea"}[t]||"\ud83d\udccb")}),(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsx)("p",{className:"text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:e.message}),(0,Ot.jsx)("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:new Date(e.timestamp).toLocaleString("ar"===c?"ar-EG":"en-US")})]}),(0,Ot.jsx)("div",{className:"text-gray-400 hover:text-blue-400 transition-colors",children:(0,Ot.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ot.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]},e.id);var t})),0===e.length&&(0,Ot.jsxs)("div",{className:"text-center py-8",children:[(0,Ot.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcdd"}),(0,Ot.jsx)("p",{style:{color:"var(--text-secondary)"},children:"ar"===c?"\u0644\u0627 \u062a\u0648\u062c\u062f \u0623\u0646\u0634\u0637\u0629 \u062d\u062f\u064a\u062b\u0629":"No recent activities"})]})]})]}),i&&r&&(0,Ot.jsx)(os,{activity:r,language:c,onClose:()=>o(!1)})]})},os=e=>{let{activity:t,language:s,onClose:n}=e;const a={en:{activityDetails:"Activity Details",visitDetails:"Visit Details",clinicDetails:"Clinic Details",orderDetails:"Order Details",userDetails:"User Details",close:"Close"},ar:{activityDetails:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0646\u0634\u0627\u0637",visitDetails:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0629",clinicDetails:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0639\u064a\u0627\u062f\u0629",orderDetails:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0637\u0644\u0628\u064a\u0629",userDetails:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",close:"\u0625\u063a\u0644\u0627\u0642"}},r=a[s]||a.en;return(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ot.jsxs)("div",{className:"modal-modern p-8 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:r.activityDetails}),(0,Ot.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\u2715"})]}),(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg",children:[(0,Ot.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white text-xl ".concat("visit"===t.type?"bg-green-500":"clinic"===t.type?"bg-blue-500":"order"===t.type?"bg-orange-500":"bg-purple-500"),children:"visit"===t.type?"\ud83d\udc68\u200d\u2695\ufe0f":"clinic"===t.type?"\ud83c\udfe5":"order"===t.type?"\ud83d\udce6":"\ud83d\udc64"}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h4",{className:"text-lg font-bold text-gray-800",children:t.message}),(0,Ot.jsx)("p",{className:"text-sm text-gray-600",children:new Date(t.timestamp).toLocaleString("ar"===s?"ar-EG":"en-US")})]})]}),(0,Ot.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(t.details||{}).map((e=>{let[t,s]=e;return(0,Ot.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-sm font-bold text-gray-600 capitalize mb-1",children:t.replace("_"," ")}),(0,Ot.jsx)("div",{className:"text-lg text-gray-800",children:"boolean"===typeof s?s?"\u2705":"\u274c":"number"===typeof s?s.toLocaleString():s})]},t)}))})]}),(0,Ot.jsx)("div",{className:"flex justify-end mt-6",children:(0,Ot.jsx)("button",{onClick:n,className:"btn-primary px-6 py-3",children:r.close})})]})})},cs=e=>{let{icon:t,text:s,onClick:n}=e;return(0,Ot.jsxs)("button",{onClick:n,className:"btn-primary flex items-center justify-center gap-2 py-3 hover:scale-105 transition-transform",children:[(0,Ot.jsx)("span",{className:"text-xl",children:t}),(0,Ot.jsx)("span",{children:s})]})},ds=e=>{let{onCapture:t,onSkip:s}=e;const n=(0,a.useRef)(null),r=(0,a.useRef)(null),[l,i]=(0,a.useState)(null),[o,c]=(0,a.useState)(!1),{language:d}=(0,a.useContext)(Bt),u={en:{title:"\ud83d\udcf7 Daily Check-in Selfie",subtitle:"Please take a selfie to verify your attendance",startCamera:"\ud83c\udfa5 Start Camera",takeSelfie:"\ud83d\udcf8 Take Selfie",retake:"\ud83d\udd04 Retake",confirm:"\u2705 Confirm",skip:"\u23ed\ufe0f Skip for Now",cameraError:"Cannot access camera. Please allow camera permissions."},ar:{title:"\ud83d\udcf7 \u0633\u064a\u0644\u0641\u064a \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062d\u0636\u0648\u0631 \u0627\u0644\u064a\u0648\u0645\u064a",subtitle:"\u064a\u0631\u062c\u0649 \u0623\u062e\u0630 \u0633\u064a\u0644\u0641\u064a \u0644\u0644\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0636\u0648\u0631\u0643",startCamera:"\ud83c\udfa5 \u062a\u0634\u063a\u064a\u0644 \u0627\u0644\u0643\u0627\u0645\u064a\u0631\u0627",takeSelfie:"\ud83d\udcf8 \u0627\u0644\u062a\u0642\u0627\u0637 \u0633\u064a\u0644\u0641\u064a",retake:"\ud83d\udd04 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u062a\u0642\u0627\u0637",confirm:"\u2705 \u062a\u0623\u0643\u064a\u062f",skip:"\u23ed\ufe0f \u062a\u062e\u0637\u064a \u0627\u0644\u0622\u0646",cameraError:"\u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0643\u0627\u0645\u064a\u0631\u0627. \u064a\u0631\u062c\u0649 \u0627\u0644\u0633\u0645\u0627\u062d \u0628\u0635\u0644\u0627\u062d\u064a\u0627\u062a \u0627\u0644\u0643\u0627\u0645\u064a\u0631\u0627."}},m=u[d]||u.en,h=async e=>{try{const s=localStorage.getItem("token");await Tt.post("".concat(Lt,"/users/selfie"),{selfie_image:e,timestamp:(new Date).toISOString(),location:await x()},{headers:{Authorization:"Bearer ".concat(s)}}),t&&t(e)}catch(s){console.error("Error saving selfie:",s)}},x=()=>new Promise((e=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((t=>e({latitude:t.coords.latitude,longitude:t.coords.longitude})),(()=>e({latitude:null,longitude:null}))):e({latitude:null,longitude:null})})),f=()=>{l&&(l.getTracks().forEach((e=>e.stop())),i(null))};return(0,a.useEffect)((()=>()=>f()),[]),(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",children:(0,Ot.jsxs)("div",{className:"modal-modern p-8 w-full max-w-md",children:[(0,Ot.jsxs)("div",{className:"text-center mb-6",children:[(0,Ot.jsx)("h3",{className:"text-2xl font-bold text-gradient mb-2",children:m.title}),(0,Ot.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:m.subtitle})]}),(0,Ot.jsxs)("div",{className:"space-y-4",children:[(0,Ot.jsx)("div",{className:"relative bg-black rounded-lg overflow-hidden",style:{aspectRatio:"4/3"},children:l?(0,Ot.jsxs)(Ot.Fragment,{children:[(0,Ot.jsx)("video",{ref:n,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),(0,Ot.jsx)("div",{className:"absolute inset-4 border-2 border-green-400 rounded-lg"})]}):(0,Ot.jsx)("div",{className:"flex items-center justify-center h-full text-white",children:(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcf7"}),(0,Ot.jsx)("button",{onClick:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:640,height:480}});i(e),n.current&&(n.current.srcObject=e)}catch(e){console.error("Error accessing camera:",e),alert(m.cameraError)}},className:"btn-primary",children:m.startCamera})]})})}),(0,Ot.jsx)("canvas",{ref:r,style:{display:"none"}}),l&&(0,Ot.jsx)("div",{className:"flex gap-3",children:(0,Ot.jsxs)("button",{onClick:()=>{if(r.current&&n.current){const e=r.current,t=n.current,s=e.getContext("2d");e.width=t.videoWidth,e.height=t.videoHeight,s.drawImage(t,0,0);const a=e.toDataURL("image/jpeg",.8);c(!0),h(a)}},className:"btn-success flex-1 flex items-center justify-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udcf8"}),(0,Ot.jsx)("span",{children:m.takeSelfie})]})}),(0,Ot.jsx)("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:(0,Ot.jsx)("button",{onClick:()=>{f(),s&&s()},className:"btn-secondary flex-1",children:m.skip})})]})]})})},us=e=>{var t,s,n,r;let{user:l,onClose:i}=e;const[o,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(!0),{language:m}=(0,a.useContext)(Bt),h={en:{title:"\ud83d\udccb Today's Plan",subtitle:"Your daily tasks and schedule",visits:"Visits Scheduled",orders:"Orders to Process",clinics:"Clinics to Visit",startDay:"\ud83d\ude80 Start Your Day",viewMap:"\ud83d\uddfa\ufe0f View on Map",noTasks:"No tasks scheduled for today",loading:"Loading your daily plan..."},ar:{title:"\ud83d\udccb \u062e\u0637\u0629 \u0627\u0644\u064a\u0648\u0645",subtitle:"\u0645\u0647\u0627\u0645\u0643 \u0648\u062c\u062f\u0648\u0644\u0643 \u0627\u0644\u064a\u0648\u0645\u064a",visits:"\u0632\u064a\u0627\u0631\u0627\u062a \u0645\u062c\u062f\u0648\u0644\u0629",orders:"\u0637\u0644\u0628\u0627\u062a \u0644\u0644\u0645\u0639\u0627\u0644\u062c\u0629",clinics:"\u0639\u064a\u0627\u062f\u0627\u062a \u0644\u0644\u0632\u064a\u0627\u0631\u0629",startDay:"\ud83d\ude80 \u0627\u0628\u062f\u0623 \u064a\u0648\u0645\u0643",viewMap:"\ud83d\uddfa\ufe0f \u0639\u0631\u0636 \u0639\u0644\u0649 \u0627\u0644\u062e\u0631\u064a\u0637\u0629",noTasks:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0647\u0627\u0645 \u0645\u062c\u062f\u0648\u0644\u0629 \u0644\u0644\u064a\u0648\u0645",loading:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u062e\u0637\u0629 \u0627\u0644\u064a\u0648\u0645..."}},x=h[m]||h.en;(0,a.useEffect)((()=>{f()}),[]);const f=async()=>{try{const e=localStorage.getItem("token"),t=await Tt.get("".concat(Lt,"/users/").concat(l.id,"/daily-plan"),{headers:{Authorization:"Bearer ".concat(e)}});c(t.data)}catch(e){c({visits:[{id:1,clinic_name:"ar"===m?"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0646\u0648\u0631":"Al Nour Clinic",doctor_name:"ar"===m?"\u062f. \u0623\u062d\u0645\u062f \u0645\u062d\u0645\u062f":"Dr. Ahmed Mohamed",time:"10:00 AM",address:"ar"===m?"\u0634\u0627\u0631\u0639 \u0627\u0644\u062c\u0645\u0647\u0648\u0631\u064a\u0629\u060c \u0627\u0644\u0645\u0646\u0635\u0648\u0631\u0629":"Gomhoria Street, Mansoura",status:"pending"},{id:2,clinic_name:"ar"===m?"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0634\u0641\u0627\u0621":"Al Shifa Clinic",doctor_name:"ar"===m?"\u062f. \u0641\u0627\u0637\u0645\u0629 \u0639\u0644\u064a":"Dr. Fatema Ali",time:"2:00 PM",address:"ar"===m?"\u0634\u0627\u0631\u0639 \u0627\u0644\u0645\u062d\u0637\u0629\u060c \u0627\u0644\u0645\u0646\u0635\u0648\u0631\u0629":"Station Street, Mansoura",status:"pending"}],orders:[{id:1,clinic_name:"ar"===m?"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0623\u0645\u0644":"Al Amal Clinic",items_count:5,total_amount:2500,status:"pending_delivery"}],route_optimized:!0,estimated_duration:"6 hours",total_distance:"45 km"})}finally{u(!1)}};return d?(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Ot.jsx)("div",{className:"modal-modern p-8 w-full max-w-2xl",children:(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsx)("div",{className:"w-16 h-16 loading-shimmer rounded-full mx-auto mb-4"}),(0,Ot.jsx)("p",{children:x.loading})]})})}):(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ot.jsxs)("div",{className:"modal-modern p-8 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:x.title}),(0,Ot.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:x.subtitle})]}),(0,Ot.jsx)("button",{onClick:i,className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\u2715"})]}),(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Ot.jsxs)("div",{className:"card-modern p-4 text-center",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null===o||void 0===o||null===(t=o.visits)||void 0===t?void 0:t.length)||0}),(0,Ot.jsx)("div",{className:"text-sm text-gray-600",children:x.visits})]}),(0,Ot.jsxs)("div",{className:"card-modern p-4 text-center",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(null===o||void 0===o||null===(s=o.orders)||void 0===s?void 0:s.length)||0}),(0,Ot.jsx)("div",{className:"text-sm text-gray-600",children:x.orders})]}),(0,Ot.jsxs)("div",{className:"card-modern p-4 text-center",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:(null===o||void 0===o?void 0:o.estimated_duration)||"N/A"}),(0,Ot.jsx)("div",{className:"text-sm text-gray-600",children:"ar"===m?"\u0645\u062f\u0629 \u0645\u062a\u0648\u0642\u0639\u0629":"Estimated Duration"})]})]}),(null===o||void 0===o?void 0:o.visits)&&o.visits.length>0&&(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udc68\u200d\u2695\ufe0f"}),(0,Ot.jsx)("span",{children:x.visits})]}),(0,Ot.jsx)("div",{className:"space-y-3",children:o.visits.map(((e,t)=>(0,Ot.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[(0,Ot.jsx)("div",{className:"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-bold",children:t+1}),(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsx)("div",{className:"font-medium text-lg",children:e.clinic_name}),(0,Ot.jsx)("div",{className:"text-sm text-gray-600",children:e.doctor_name}),(0,Ot.jsx)("div",{className:"text-xs text-gray-500",children:e.address})]}),(0,Ot.jsxs)("div",{className:"text-right",children:[(0,Ot.jsx)("div",{className:"text-lg font-bold text-blue-600",children:e.time}),(0,Ot.jsx)("div",{className:"text-xs text-gray-500",children:"ar"===m?"\u0645\u0639\u0644\u0642":"Pending"})]})]},e.id)))})]}),(null===o||void 0===o?void 0:o.orders)&&o.orders.length>0&&(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udce6"}),(0,Ot.jsx)("span",{children:x.orders})]}),(0,Ot.jsx)("div",{className:"space-y-3",children:o.orders.map((e=>(0,Ot.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"font-medium",children:e.clinic_name}),(0,Ot.jsxs)("div",{className:"text-sm text-gray-600",children:[e.items_count," ","ar"===m?"\u0639\u0646\u0627\u0635\u0631":"items"," \u2022 ",e.total_amount.toLocaleString()," EGP"]})]}),(0,Ot.jsx)("div",{className:"text-sm text-orange-600 font-medium",children:"ar"===m?"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u062a\u0633\u0644\u064a\u0645":"Pending Delivery"})]},e.id)))})]}),0===(null===o||void 0===o||null===(n=o.visits)||void 0===n?void 0:n.length)&&0===(null===o||void 0===o||null===(r=o.orders)||void 0===r?void 0:r.length)&&(0,Ot.jsxs)("div",{className:"text-center py-12",children:[(0,Ot.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udccb"}),(0,Ot.jsx)("p",{className:"text-lg text-gray-600",children:x.noTasks})]}),(0,Ot.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[(0,Ot.jsxs)("button",{onClick:i,className:"btn-primary flex-1 flex items-center justify-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\ude80"}),(0,Ot.jsx)("span",{children:x.startDay})]}),(0,Ot.jsxs)("button",{className:"btn-info flex items-center justify-center gap-2 px-6",children:[(0,Ot.jsx)("span",{children:"\ud83d\uddfa\ufe0f"}),(0,Ot.jsx)("span",{children:x.viewMap})]})]})]})]})})},ms=()=>{const e={generated_at:(new Date).toISOString(),type:"comprehensive",format:"pdf"},t="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e,null,2)),s=document.createElement("a");s.setAttribute("href",t),s.setAttribute("download","report_".concat(Date.now(),".json")),document.body.appendChild(s),s.click(),s.remove()},hs=()=>{const e=new CustomEvent("navigateToTab",{detail:"users"});window.dispatchEvent(e)},xs=()=>{const e=new CustomEvent("navigateToTab",{detail:"settings"});window.dispatchEvent(e)},fs=()=>{var e,t;const[s,n]=(0,a.useState)([]),[r,l]=(0,a.useState)(!0),[i,o]=(0,a.useState)(""),[c,u]=(0,a.useState)(""),[m,h]=(0,a.useState)(1),[x,f]=(0,a.useState)(1),[p,g]=(0,a.useState)(""),[b,v]=(0,a.useState)(""),[y,j]=(0,a.useState)(""),[N,w]=(0,a.useState)(null),[k,_]=(0,a.useState)(!1),[S,C]=(0,a.useState)(!1),[E,A]=(0,a.useState)(!1),[P,z]=(0,a.useState)(!1),[T,O]=(0,a.useState)(!1),[L,R]=(0,a.useState)({username:"",email:"",password:"",full_name:"",role:"",phone:"",manager_id:"",department:"",employee_id:""}),[D,M]=(0,a.useState)({}),[I,F]=(0,a.useState)("all"),[B,U]=(0,a.useState)("all"),[q,V]=(0,a.useState)("full_name"),[H]=(0,a.useState)(10),[G,W]=(0,a.useState)(""),[$,Q]=(0,a.useState)(new Set),{language:K}=Dt();(0,a.useEffect)((()=>{Y();const e=setInterval(X,3e4);return()=>clearInterval(e)}),[m,p,b,y]);const X=async()=>{try{const e=localStorage.getItem("token");await Tt.post("".concat(Lt,"/users/update-last-seen"),{},{headers:{Authorization:"Bearer ".concat(e)}})}catch(i){console.log("Failed to update last seen:",i)}},Y=async()=>{l(!0);try{const e=localStorage.getItem("token"),t=new URLSearchParams(d(d(d({page:m,limit:10},p&&{search:p}),b&&{role_filter:b}),y&&{status_filter:y})),s=await Tt.get("".concat(Lt,"/users/enhanced-list?").concat(t),{headers:{Authorization:"Bearer ".concat(e)}});n(s.data.users),f(s.data.total_pages)}catch(i){o("\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"),console.error("Error fetching users:",i)}finally{l(!1)}},J=Y,Z=e=>({admin:"\u0645\u062f\u064a\u0631",manager:"\u0645\u062f\u064a\u0631 \u0641\u0631\u0639",sales_rep:"\u0645\u0646\u062f\u0648\u0628 \u0645\u0628\u064a\u0639\u0627\u062a",warehouse_manager:"\u0645\u062f\u064a\u0631 \u0645\u062e\u0632\u0646",accounting:"\u0645\u062d\u0627\u0633\u0628"}[e]||e),ee=s.filter((e=>{const t=e.full_name.toLowerCase().includes(p.toLowerCase())||e.email.toLowerCase().includes(p.toLowerCase())||e.username.toLowerCase().includes(p.toLowerCase()),s="all"===I||e.role===I,n="all"===B||"active"===B&&e.is_active||"inactive"===B&&!e.is_active;return t&&s&&n}));return(0,Ot.jsxs)("div",{style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh"},children:[(0,Ot.jsx)($t,{}),(0,Ot.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,Ot.jsxs)("div",{className:"flex items-center",children:[(0,Ot.jsx)("div",{className:"w-16 h-16 card-gradient-blue rounded-full flex items-center justify-center ml-4 glow-pulse",children:(0,Ot.jsx)("span",{className:"text-3xl",children:"\ud83d\udc65"})}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h2",{className:"text-4xl font-bold text-gradient",children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0627\u0644\u0634\u0627\u0645\u0644\u0629"}),(0,Ot.jsx)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:"\u0625\u062f\u0627\u0631\u0629 \u0643\u0627\u0645\u0644\u0629 \u0644\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0645\u0639 \u062c\u0645\u064a\u0639 \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a \u0648\u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a"})]})]}),(0,Ot.jsxs)("button",{onClick:()=>O(!0),className:"btn-primary flex items-center gap-2 px-6 py-3 neon-glow",children:[(0,Ot.jsx)("span",{children:"\u2795"}),(0,Ot.jsx)("span",{children:"\u0645\u0633\u062a\u062e\u062f\u0645 \u062c\u062f\u064a\u062f"})]})]}),D.total_users&&(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,Ot.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:D.total_users}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"})]}),(0,Ot.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-green-600",children:(null===(e=D.active_distribution)||void 0===e?void 0:e.active)||0}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0646\u0634\u0637\u064a\u0646"})]}),(0,Ot.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-red-600",children:(null===(t=D.active_distribution)||void 0===t?void 0:t.inactive)||0}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0645\u0639\u0637\u0644\u064a\u0646"})]}),(0,Ot.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-purple-600",children:Object.keys(D.role_distribution||{}).length}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u0623\u062f\u0648\u0627\u0631"})]})]}),i&&(0,Ot.jsxs)("div",{className:"alert-modern alert-error mb-6 scale-in",children:[(0,Ot.jsx)("span",{className:"ml-2",children:"\u274c"}),i]}),c&&(0,Ot.jsxs)("div",{className:"alert-modern alert-success mb-6 scale-in",children:[(0,Ot.jsx)("span",{className:"ml-2",children:"\u2705"}),c]}),(0,Ot.jsx)("div",{className:"card-modern p-6 mb-8",children:(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0628\u062d\u062b:"}),(0,Ot.jsx)("input",{type:"text",value:p,onChange:e=>g(e.target.value),placeholder:"\u0627\u0628\u062d\u062b \u0628\u0627\u0644\u0627\u0633\u0645 \u0623\u0648 \u0627\u0644\u0628\u0631\u064a\u062f...",className:"form-modern w-full"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0641\u0644\u062a\u0631\u0629 \u0628\u0627\u0644\u062f\u0648\u0631:"}),(0,Ot.jsxs)("select",{value:I,onChange:e=>F(e.target.value),className:"form-modern w-full",children:[(0,Ot.jsx)("option",{value:"all",children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0623\u062f\u0648\u0627\u0631"}),(0,Ot.jsx)("option",{value:"admin",children:"\u0645\u062f\u064a\u0631 \u0627\u0644\u0646\u0638\u0627\u0645"}),(0,Ot.jsx)("option",{value:"manager",children:"\u0645\u062f\u064a\u0631"}),(0,Ot.jsx)("option",{value:"sales_rep",children:"\u0645\u0646\u062f\u0648\u0628 \u0645\u0628\u064a\u0639\u0627\u062a"}),(0,Ot.jsx)("option",{value:"warehouse_manager",children:"\u0645\u062f\u064a\u0631 \u0645\u062e\u0632\u0646"}),(0,Ot.jsx)("option",{value:"accounting",children:"\u0645\u062d\u0627\u0633\u0628"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0641\u0644\u062a\u0631\u0629 \u0628\u0627\u0644\u062d\u0627\u0644\u0629:"}),(0,Ot.jsxs)("select",{value:B,onChange:e=>U(e.target.value),className:"form-modern w-full",children:[(0,Ot.jsx)("option",{value:"all",children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0627\u0644\u0627\u062a"}),(0,Ot.jsx)("option",{value:"active",children:"\u0646\u0634\u0637"}),(0,Ot.jsx)("option",{value:"inactive",children:"\u063a\u064a\u0631 \u0646\u0634\u0637"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0625\u062c\u0631\u0627\u0621 \u062c\u0645\u0627\u0639\u064a:"}),(0,Ot.jsxs)("select",{value:G,onChange:e=>W(e.target.value),className:"form-modern w-full",children:[(0,Ot.jsx)("option",{value:"",children:"\u0627\u062e\u062a\u0631 \u0625\u062c\u0631\u0627\u0621"}),(0,Ot.jsx)("option",{value:"activate",children:"\u062a\u0646\u0634\u064a\u0637 \u0627\u0644\u0645\u062d\u062f\u062f"}),(0,Ot.jsx)("option",{value:"deactivate",children:"\u062a\u0639\u0637\u064a\u0644 \u0627\u0644\u0645\u062d\u062f\u062f"})]})]}),(0,Ot.jsxs)("div",{className:"flex items-end gap-2",children:[(0,Ot.jsxs)("button",{onClick:J,className:"btn-info flex-1 flex items-center justify-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udd04"}),(0,Ot.jsx)("span",{children:"\u062a\u062d\u062f\u064a\u062b"})]}),$.size>0&&G&&(0,Ot.jsxs)("button",{onClick:async()=>{if(!G||0===$.size)return;if(window.confirm('\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062a\u0637\u0628\u064a\u0642 "'.concat(G,'" \u0639\u0644\u0649 ').concat($.size," \u0645\u0633\u062a\u062e\u062f\u0645\u061f")))try{const e=localStorage.getItem("token"),t=Array.from($).map((t=>"activate"===G||"deactivate"===G?Tt.patch("".concat(Lt,"/users/").concat(t,"/toggle-status"),{},{headers:{Authorization:"Bearer ".concat(e)}}):void 0));await Promise.all(t),u("\u062a\u0645 \u062a\u0637\u0628\u064a\u0642 \u0627\u0644\u0625\u062c\u0631\u0627\u0621 \u0639\u0644\u0649 ".concat($.size," \u0645\u0633\u062a\u062e\u062f\u0645")),Q(new Set),W(""),J()}catch(i){o("\u062e\u0637\u0623 \u0641\u064a \u062a\u0637\u0628\u064a\u0642 \u0627\u0644\u0625\u062c\u0631\u0627\u0621 \u0627\u0644\u062c\u0645\u0627\u0639\u064a")}},className:"btn-warning flex-1 flex items-center justify-center gap-2",children:[(0,Ot.jsx)("span",{children:"\u26a1"}),(0,Ot.jsx)("span",{children:"\u062a\u0637\u0628\u064a\u0642"})]})]})]})}),(0,Ot.jsxs)("div",{className:"card-modern overflow-hidden",children:[(0,Ot.jsx)("div",{className:"p-6 border-b",style:{borderColor:"var(--accent-bg)"},children:(0,Ot.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-3",children:[(0,Ot.jsx)("span",{children:"\ud83d\udccb"}),(0,Ot.jsxs)("span",{children:["\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 (",ee.length,")"]}),$.size>0&&(0,Ot.jsxs)("span",{className:"badge-modern badge-info",children:[$.size," \u0645\u062d\u062f\u062f"]})]})}),r?(0,Ot.jsxs)("div",{className:"p-12 text-center",children:[(0,Ot.jsx)("div",{className:"loading-shimmer w-16 h-16 rounded-full mx-auto mb-4"}),(0,Ot.jsx)("p",{style:{color:"var(--text-secondary)"},children:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644..."})]}):(0,Ot.jsx)("div",{className:"table-modern",children:(0,Ot.jsxs)("table",{className:"min-w-full",children:[(0,Ot.jsx)("thead",{children:(0,Ot.jsxs)("tr",{children:[(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:(0,Ot.jsx)("input",{type:"checkbox",onChange:e=>{e.target.checked?Q(new Set(ee.map((e=>e.id)))):Q(new Set)},className:"rounded"})}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u062f\u0648\u0631"}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u062d\u0627\u0644\u0629"}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0622\u062e\u0631 \u062f\u062e\u0648\u0644"}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a"})]})}),(0,Ot.jsx)("tbody",{children:ee.map((e=>(0,Ot.jsxs)("tr",{className:"hover:bg-gray-50 hover:bg-opacity-5 transition-colors",children:[(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("input",{type:"checkbox",checked:$.has(e.id),onChange:t=>{const s=new Set($);t.target.checked?s.add(e.id):s.delete(e.id),Q(s)},className:"rounded"})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ot.jsxs)("div",{className:"relative",children:[e.profile_image?(0,Ot.jsx)("img",{src:e.profile_image,alt:e.full_name,className:"w-10 h-10 rounded-full object-cover border-2 border-gray-200"}):(0,Ot.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold ".concat(e.is_active?"bg-gradient-to-br from-blue-500 to-purple-600":"bg-gray-500"),children:e.full_name.charAt(0)}),(0,Ot.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white ".concat(e.is_active?"bg-green-500":"bg-red-500")})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:e.full_name}),(0,Ot.jsxs)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:[e.username," \u2022 ",e.email]}),e.phone&&(0,Ot.jsxs)("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:["\ud83d\udcf1 ",e.phone]})]})]})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("span",{className:"badge-modern ".concat("gm"===e.role||"admin"===e.role?"badge-danger":"line_manager"===e.role||"area_manager"===e.role?"badge-warning":"district_manager"===e.role||"key_account"===e.role?"badge-info":"medical_rep"===e.role?"badge-success":"manager"===e.role?"badge-warning":"sales_rep"===e.role?"badge-info":"warehouse_manager"===e.role?"badge-success":"badge-secondary"),children:Z(e.role)})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("span",{className:"badge-modern ".concat(e.is_active?"badge-success":"badge-danger"),children:e.is_active?"\u2705 \u0646\u0634\u0637":"\u274c \u0645\u0639\u0637\u0644"})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:e.last_login?new Date(e.last_login).toLocaleDateString("ar-EG"):"\u0644\u0645 \u064a\u0633\u062c\u0644 \u062f\u062e\u0648\u0644"})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsxs)("div",{className:"flex gap-2",children:[(0,Ot.jsx)("button",{onClick:()=>{w(e),_(!0)},className:"btn-info text-xs px-3 py-1",title:"\u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644",children:"\ud83d\udc41\ufe0f"}),(0,Ot.jsx)("button",{onClick:()=>{w(e),A(!0)},className:"btn-primary text-xs px-3 py-1",title:"\u062a\u0639\u062f\u064a\u0644",children:"\u270f\ufe0f"}),(0,Ot.jsx)("button",{onClick:()=>(async(e,t)=>{const s=t?"\u062a\u0639\u0637\u064a\u0644":"\u062a\u0646\u0634\u064a\u0637";if(window.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 ".concat(s," \u0647\u0630\u0627 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u061f")))try{const t=localStorage.getItem("token");await Tt.patch("".concat(Lt,"/users/").concat(e,"/toggle-status"),{},{headers:{Authorization:"Bearer ".concat(t)}}),u("\u062a\u0645 ".concat(s," \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0646\u062c\u0627\u062d")),J()}catch(i){o("\u062e\u0637\u0623 \u0641\u064a ".concat(s," \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"))}})(e.id,e.is_active),className:"text-xs px-3 py-1 rounded ".concat(e.is_active?"btn-warning":"btn-success"),title:e.is_active?"\u062a\u0639\u0637\u064a\u0644":"\u062a\u0646\u0634\u064a\u0637",children:e.is_active?"\u23f8\ufe0f":"\u25b6\ufe0f"}),(0,Ot.jsx)("button",{onClick:()=>(async(e,t)=>{if(window.confirm('\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 "'.concat(t,'"\u061f \u0647\u0630\u0627 \u0627\u0644\u0625\u062c\u0631\u0627\u0621 \u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u062a\u0631\u0627\u062c\u0639 \u0639\u0646\u0647.')))try{const s=localStorage.getItem("token");await Tt.delete("".concat(Lt,"/users/").concat(e),{headers:{Authorization:"Bearer ".concat(s)}}),u('\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 "'.concat(t,'" \u0628\u0646\u062c\u0627\u062d')),J()}catch(i){o("\u062e\u0637\u0623 \u0641\u064a \u062d\u0630\u0641 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645")}})(e.id,e.full_name),className:"btn-danger text-xs px-3 py-1",title:"\u062d\u0630\u0641",children:"\ud83d\uddd1\ufe0f"})]})})]},e.id)))})]})})]}),T&&(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ot.jsxs)("div",{className:"modal-modern p-8 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u2795 \u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062a\u062e\u062f\u0645 \u062c\u062f\u064a\u062f"}),(0,Ot.jsx)("button",{onClick:()=>O(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\u2715"})]}),(0,Ot.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=localStorage.getItem("token");await Tt.post("".concat(Lt,"/users"),L,{headers:{Authorization:"Bearer ".concat(e)}}),u('\u062a\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 "'.concat(L.full_name,'" \u0628\u0646\u062c\u0627\u062d')),O(!1),R({username:"",email:"",password:"",full_name:"",role:"",phone:"",manager_id:"",department:"",employee_id:""}),J()}catch(i){o("\u062e\u0637\u0623 \u0641\u064a \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645")}},className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 *"}),(0,Ot.jsx)("input",{type:"text",value:L.username,onChange:e=>R(d(d({},L),{},{username:e.target.value})),className:"form-modern w-full",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a *"}),(0,Ot.jsx)("input",{type:"email",value:L.email,onChange:e=>R(d(d({},L),{},{email:e.target.value})),className:"form-modern w-full",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 *"}),(0,Ot.jsx)("input",{type:"password",value:L.password,onChange:e=>R(d(d({},L),{},{password:e.target.value})),className:"form-modern w-full",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644 *"}),(0,Ot.jsx)("input",{type:"text",value:L.full_name,onChange:e=>R(d(d({},L),{},{full_name:e.target.value})),className:"form-modern w-full",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u062f\u0648\u0631 *"}),(0,Ot.jsxs)("select",{value:L.role,onChange:e=>R(d(d({},L),{},{role:e.target.value})),className:"form-modern w-full",required:!0,children:[(0,Ot.jsx)("option",{value:"",children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u062f\u0648\u0631"}),(0,Ot.jsx)("option",{value:"admin",children:"\u0645\u062f\u064a\u0631 \u0627\u0644\u0646\u0638\u0627\u0645"}),(0,Ot.jsx)("option",{value:"manager",children:"\u0645\u062f\u064a\u0631"}),(0,Ot.jsx)("option",{value:"sales_rep",children:"\u0645\u0646\u062f\u0648\u0628 \u0645\u0628\u064a\u0639\u0627\u062a"}),(0,Ot.jsx)("option",{value:"warehouse_manager",children:"\u0645\u062f\u064a\u0631 \u0645\u062e\u0632\u0646"}),(0,Ot.jsx)("option",{value:"accounting",children:"\u0645\u062d\u0627\u0633\u0628"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641"}),(0,Ot.jsx)("input",{type:"tel",value:L.phone,onChange:e=>R(d(d({},L),{},{phone:e.target.value})),className:"form-modern w-full"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0642\u0633\u0645"}),(0,Ot.jsx)("input",{type:"text",value:L.department,onChange:e=>R(d(d({},L),{},{department:e.target.value})),className:"form-modern w-full"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0631\u0642\u0645 \u0627\u0644\u0645\u0648\u0638\u0641"}),(0,Ot.jsx)("input",{type:"text",value:L.employee_id,onChange:e=>R(d(d({},L),{},{employee_id:e.target.value})),className:"form-modern w-full"})]})]}),(0,Ot.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Ot.jsx)("button",{type:"submit",disabled:r,className:"btn-primary flex-1",children:r?"\u062c\u0627\u0631\u064a \u0627\u0644\u0625\u0646\u0634\u0627\u0621...":"\u2705 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),(0,Ot.jsx)("button",{type:"button",onClick:()=>O(!1),className:"btn-secondary flex-1",children:"\u0625\u0644\u063a\u0627\u0621"})]})]})]})}),E&&N&&(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ot.jsxs)("div",{className:"modal-modern p-8 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u270f\ufe0f \u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),(0,Ot.jsx)("button",{onClick:()=>A(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\u2715"})]}),(0,Ot.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),N)try{const e=localStorage.getItem("token");await Tt.put("".concat(Lt,"/users/").concat(N.id),N,{headers:{Authorization:"Bearer ".concat(e)}}),u('\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 "'.concat(N.full_name,'" \u0628\u0646\u062c\u0627\u062d')),A(!1),w(null),J()}catch(i){o("\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645")}},className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),(0,Ot.jsx)("input",{type:"text",value:N.username,onChange:e=>w(d(d({},N),{},{username:e.target.value})),className:"form-modern w-full"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a"}),(0,Ot.jsx)("input",{type:"email",value:N.email,onChange:e=>w(d(d({},N),{},{email:e.target.value})),className:"form-modern w-full"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644"}),(0,Ot.jsx)("input",{type:"text",value:N.full_name,onChange:e=>w(d(d({},N),{},{full_name:e.target.value})),className:"form-modern w-full"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641"}),(0,Ot.jsx)("input",{type:"tel",value:N.phone||"",onChange:e=>w(d(d({},N),{},{phone:e.target.value})),className:"form-modern w-full"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u062f\u0648\u0631"}),(0,Ot.jsxs)("select",{value:N.role,onChange:e=>w(d(d({},N),{},{role:e.target.value})),className:"form-modern w-full",children:[(0,Ot.jsx)("option",{value:"admin",children:"\u0645\u062f\u064a\u0631 \u0627\u0644\u0646\u0638\u0627\u0645"}),(0,Ot.jsx)("option",{value:"manager",children:"\u0645\u062f\u064a\u0631"}),(0,Ot.jsx)("option",{value:"sales_rep",children:"\u0645\u0646\u062f\u0648\u0628 \u0645\u0628\u064a\u0639\u0627\u062a"}),(0,Ot.jsx)("option",{value:"warehouse_manager",children:"\u0645\u062f\u064a\u0631 \u0645\u062e\u0632\u0646"}),(0,Ot.jsx)("option",{value:"accounting",children:"\u0645\u062d\u0627\u0633\u0628"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0642\u0633\u0645"}),(0,Ot.jsx)("input",{type:"text",value:N.department||"",onChange:e=>w(d(d({},N),{},{department:e.target.value})),className:"form-modern w-full"})]})]}),(0,Ot.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Ot.jsx)("button",{type:"submit",disabled:r,className:"btn-primary flex-1",children:r?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u062f\u064a\u062b...":"\u2705 \u062d\u0641\u0638 \u0627\u0644\u062a\u063a\u064a\u064a\u0631\u0627\u062a"}),(0,Ot.jsx)("button",{type:"button",onClick:()=>A(!1),className:"btn-secondary flex-1",children:"\u0625\u0644\u063a\u0627\u0621"})]})]})]})}),k&&N&&(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ot.jsxs)("div",{className:"modal-modern p-8 w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\ud83d\udc41\ufe0f \u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),(0,Ot.jsx)("button",{onClick:()=>_(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\u2715"})]}),(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0623\u0633\u0627\u0633\u064a\u0629"}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"text-sm font-bold text-gray-500",children:"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644"}),(0,Ot.jsx)("p",{className:"text-lg font-medium",children:N.full_name})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"text-sm font-bold text-gray-500",children:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),(0,Ot.jsx)("p",{className:"text-lg font-medium",children:N.username})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"text-sm font-bold text-gray-500",children:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a"}),(0,Ot.jsx)("p",{className:"text-lg font-medium",children:N.email})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"text-sm font-bold text-gray-500",children:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641"}),(0,Ot.jsx)("p",{className:"text-lg font-medium",children:N.phone||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"text-sm font-bold text-gray-500",children:"\u0627\u0644\u062f\u0648\u0631"}),(0,Ot.jsx)("p",{className:"text-lg font-medium",children:(0,Ot.jsx)("span",{className:"badge-modern ".concat("admin"===N.role?"badge-danger":"manager"===N.role?"badge-warning":"sales_rep"===N.role?"badge-info":"badge-success"),children:Z(N.role)})})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"text-sm font-bold text-gray-500",children:"\u0627\u0644\u062d\u0627\u0644\u0629"}),(0,Ot.jsx)("p",{className:"text-lg font-medium",children:(0,Ot.jsx)("span",{className:"badge-modern ".concat(N.is_active?"badge-success":"badge-danger"),children:N.is_active?"\u2705 \u0646\u0634\u0637":"\u274c \u0645\u0639\u0637\u0644"})})]})]})]}),N.statistics&&(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a"}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[void 0!==N.statistics.total_visits&&(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"text-sm font-bold text-gray-500",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a"}),(0,Ot.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:N.statistics.total_visits})]}),void 0!==N.statistics.total_orders&&(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"text-sm font-bold text-gray-500",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0637\u0644\u0628\u0627\u062a"}),(0,Ot.jsx)("p",{className:"text-2xl font-bold text-green-600",children:N.statistics.total_orders})]})]})]}),(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0646\u0634\u0627\u0637"}),(0,Ot.jsxs)("div",{className:"space-y-2",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"text-sm font-bold text-gray-500",children:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0646\u0634\u0627\u0621"}),(0,Ot.jsx)("p",{className:"text-lg",children:new Date(N.created_at).toLocaleDateString("ar-EG")})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"text-sm font-bold text-gray-500",children:"\u0622\u062e\u0631 \u062f\u062e\u0648\u0644"}),(0,Ot.jsx)("p",{className:"text-lg",children:N.last_login?new Date(N.last_login).toLocaleString("ar-EG"):"\u0644\u0645 \u064a\u0633\u062c\u0644 \u062f\u062e\u0648\u0644 \u0628\u0639\u062f"})]})]})]})]}),(0,Ot.jsx)("div",{className:"flex justify-end mt-6",children:(0,Ot.jsx)("button",{onClick:()=>_(!1),className:"btn-primary px-6 py-3",children:"\u0625\u063a\u0644\u0627\u0642"})})]})})]})]})},ps=()=>{const[e,t]=(0,a.useState)(null),[s,n]=(0,a.useState)(!0);return(0,a.useEffect)((()=>{const e=async()=>{try{const e=localStorage.getItem("token"),s=await Tt.get("".concat(Lt,"/analytics/realtime"),{headers:{Authorization:"Bearer ".concat(e)}});t(s.data)}catch(e){console.error("Error fetching real-time analytics:",e)}finally{n(!1)}};e();const s=setInterval(e,3e4);return()=>clearInterval(s)}),[]),{analytics:e,loading:s}},gs=e=>{var t,s,n,r,l;let{user:i,onLogout:o,onSearchOpen:c}=e;const{theme:d,changeTheme:u}=Ut(),{language:m,changeLanguage:h,t:x,isRTL:f}=Dt(),[p,g]=(0,a.useState)(!1),b=[{id:"light",name:x("themeLight"),icon:"\u2600\ufe0f"},{id:"dark",name:x("themeDark"),icon:"\ud83c\udf19"},{id:"minimal",name:x("themeMinimal"),icon:"\u26aa"},{id:"modern",name:x("themeModern"),icon:"\ud83d\udd2e"},{id:"fancy",name:x("themeFancy"),icon:"\u2728"},{id:"cyber",name:x("themeCyber"),icon:"\ud83d\udc9a"},{id:"sunset",name:x("themeSunset"),icon:"\ud83c\udf05"},{id:"ocean",name:x("themeOcean"),icon:"\ud83c\udf0a"},{id:"forest",name:x("themeForest"),icon:"\ud83c\udf32"}];return(0,Ot.jsx)("header",{className:"header-enhanced sticky top-0 z-50 px-6 py-4",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ot.jsx)("div",{className:"w-12 h-12 glass-effect rounded-full flex items-center justify-center",children:(0,Ot.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:(0,Ot.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"white",children:(0,Ot.jsx)("path",{d:"M12 2L2 7v10c0 5.55 3.84 9.74 9 11 5.16-1.26 9-5.45 9-11V7l-10-5z"})})})}),(0,Ot.jsx)("h1",{className:"header-brand system-brand ".concat(f?"arabic":"english"),children:x("systemName")})]}),(0,Ot.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ot.jsx)("button",{onClick:c,className:"glass-effect p-3 rounded-full hover:scale-105 transition-transform",title:x("search"),children:(0,Ot.jsx)(Ht,{name:"search",size:20,className:"svg-icon-animated"})}),(0,Ot.jsx)(Ft,{}),(0,Ot.jsxs)("button",{onClick:()=>{const e=b.findIndex((e=>e.id===d)),t=(e+1)%b.length;u(b[t].id)},className:"theme-toggle-button glass-effect p-3 rounded-full hover:scale-105 transition-all duration-300 flex items-center gap-2",title:"ar"===m?"\u0627\u0644\u062b\u064a\u0645 \u0627\u0644\u062d\u0627\u0644\u064a: ".concat(null===(t=b.find((e=>e.id===d)))||void 0===t?void 0:t.name," - \u0627\u0636\u063a\u0637 \u0644\u0644\u062a\u0628\u062f\u064a\u0644"):"Current: ".concat(null===(s=b.find((e=>e.id===d)))||void 0===s?void 0:s.name," - Click to switch"),children:[(0,Ot.jsx)("span",{className:"text-lg transition-transform duration-300 hover:rotate-12",children:null===(n=b.find((e=>e.id===d)))||void 0===n?void 0:n.icon}),(0,Ot.jsx)(Ht,{name:"theme",size:16,className:"svg-icon-animated"})]}),(0,Ot.jsxs)("div",{className:"relative",children:[(0,Ot.jsxs)("button",{onClick:()=>g(!p),className:"flex items-center gap-3 glass-effect px-4 py-2 rounded-full hover:scale-105 transition-transform",children:[(0,Ot.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-orange-500 to-pink-500 flex items-center justify-center text-white font-bold text-sm",children:(null===(r=i.full_name)||void 0===r?void 0:r.charAt(0))||(null===(l=i.username)||void 0===l?void 0:l.charAt(0))||"U"}),(0,Ot.jsx)("span",{className:"font-medium hidden md:block",style:{color:"var(--text-primary)"},children:i.full_name||i.username}),(0,Ot.jsx)(Ht,{name:"user",size:16})]}),p&&(0,Ot.jsxs)("div",{className:"absolute top-full right-0 mt-2 glass-effect rounded-xl p-2 min-w-48 border border-white border-opacity-20",children:[(0,Ot.jsxs)("div",{className:"p-3 border-b border-white border-opacity-20",children:[(0,Ot.jsx)("div",{className:"font-semibold",style:{color:"var(--text-primary)"},children:i.full_name||i.username}),(0,Ot.jsxs)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:[x(i.role||"user")," \u2022 ",i.email]})]}),(0,Ot.jsxs)("div",{className:"py-2 space-y-1",children:[(0,Ot.jsxs)("button",{className:"w-full text-left px-3 py-2 rounded-lg hover:bg-white hover:bg-opacity-10 transition-colors flex items-center gap-3",style:{color:"var(--text-primary)"},children:[(0,Ot.jsx)(Ht,{name:"user",size:16}),(0,Ot.jsx)("span",{children:"ar"===m?"\u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a":"Profile"})]}),(0,Ot.jsxs)("button",{className:"w-full text-left px-3 py-2 rounded-lg hover:bg-white hover:bg-opacity-10 transition-colors flex items-center gap-3",style:{color:"var(--text-primary)"},children:[(0,Ot.jsx)(Ht,{name:"settings",size:16}),(0,Ot.jsx)("span",{children:x("settings")})]}),(0,Ot.jsx)("div",{className:"border-t border-white border-opacity-20 my-2"}),(0,Ot.jsxs)("button",{onClick:o,className:"w-full text-left px-3 py-2 rounded-lg hover:bg-red-500 hover:bg-opacity-20 transition-colors flex items-center gap-3 text-red-400",children:[(0,Ot.jsx)(Ht,{name:"close",size:16}),(0,Ot.jsx)("span",{children:x("logout")})]})]})]})]})]})]})})},bs=()=>{const{theme:e,language:t}=Ut(),s=(new Date).getFullYear();return(0,Ot.jsx)("footer",{className:"glass-effect border-t border-white border-opacity-20 py-8 px-6",style:{background:"var(--secondary-bg)"},children:(0,Ot.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,Ot.jsxs)("div",{className:"space-y-4",children:[(0,Ot.jsx)("h3",{className:"text-lg font-bold text-gradient",children:"EP Group System"}),(0,Ot.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"ar"===t?"\u0646\u0638\u0627\u0645 \u0625\u062f\u0627\u0631\u0629 \u0634\u0627\u0645\u0644 \u0644\u0644\u0645\u0624\u0633\u0633\u0627\u062a \u0645\u0639 \u0646\u0638\u0627\u0645 \u0645\u062d\u0627\u0633\u0628\u0629 \u0645\u062a\u0643\u0627\u0645\u0644\u060c \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0646\u0627\u062f\u064a\u0628\u060c \u0627\u0644\u0645\u062e\u0627\u0632\u0646\u060c \u0648\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631 \u0627\u0644\u0645\u0627\u0644\u064a\u0629":"Comprehensive enterprise management system with integrated accounting, sales rep management, warehouses, and financial reporting"}),(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{className:"text-green-400",children:"\u25cf"}),(0,Ot.jsx)("span",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"ar"===t?"\u0627\u0644\u0646\u0638\u0627\u0645 \u0645\u062a\u0627\u062d 24/7":"System Available 24/7"})]})]}),(0,Ot.jsxs)("div",{className:"space-y-4",children:[(0,Ot.jsx)("h4",{className:"font-semibold",style:{color:"var(--text-primary)"},children:"ar"===t?"\u0645\u0645\u064a\u0632\u0627\u062a \u0627\u0644\u0646\u0638\u0627\u0645":"System Features"}),(0,Ot.jsxs)("ul",{className:"space-y-2",children:[(0,Ot.jsx)("li",{children:(0,Ot.jsxs)("a",{href:"#accounting",className:"text-sm hover:text-blue-500 transition-colors",style:{color:"var(--text-secondary)"},children:["\ud83d\udcb0 ","ar"===t?"\u0646\u0638\u0627\u0645 \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629":"Accounting System"]})}),(0,Ot.jsx)("li",{children:(0,Ot.jsxs)("a",{href:"#sales",className:"text-sm hover:text-blue-500 transition-colors",style:{color:"var(--text-secondary)"},children:["\ud83d\udc65 ","ar"===t?"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0646\u0627\u062f\u064a\u0628":"Sales Management"]})}),(0,Ot.jsx)("li",{children:(0,Ot.jsxs)("a",{href:"#warehouse",className:"text-sm hover:text-blue-500 transition-colors",style:{color:"var(--text-secondary)"},children:["\ud83c\udfea ","ar"===t?"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u062e\u0627\u0632\u0646":"Warehouse Management"]})}),(0,Ot.jsx)("li",{children:(0,Ot.jsxs)("a",{href:"#reports",className:"text-sm hover:text-blue-500 transition-colors",style:{color:"var(--text-secondary)"},children:["\ud83d\udcca ","ar"===t?"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631 \u0627\u0644\u0645\u0627\u0644\u064a\u0629":"Financial Reports"]})})]})]}),(0,Ot.jsxs)("div",{className:"space-y-4",children:[(0,Ot.jsx)("h4",{className:"font-semibold",style:{color:"var(--text-primary)"},children:"ar"===t?"\u0627\u0644\u062f\u0639\u0645 \u0648\u0627\u0644\u0645\u0633\u0627\u0639\u062f\u0629":"Support & Help"}),(0,Ot.jsxs)("ul",{className:"space-y-2",children:[(0,Ot.jsx)("li",{children:(0,Ot.jsxs)("a",{href:"#help",className:"text-sm hover:text-blue-500 transition-colors",style:{color:"var(--text-secondary)"},children:["\ud83d\udcd6 ","ar"===t?"\u062f\u0644\u064a\u0644 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645":"User Guide"]})}),(0,Ot.jsx)("li",{children:(0,Ot.jsxs)("a",{href:"#support",className:"text-sm hover:text-blue-500 transition-colors",style:{color:"var(--text-secondary)"},children:["\ud83d\udee0\ufe0f ","ar"===t?"\u0627\u0644\u062f\u0639\u0645 \u0627\u0644\u0641\u0646\u064a":"Technical Support"]})}),(0,Ot.jsx)("li",{children:(0,Ot.jsxs)("a",{href:"#updates",className:"text-sm hover:text-blue-500 transition-colors",style:{color:"var(--text-secondary)"},children:["\ud83d\udd04 ","ar"===t?"\u0627\u0644\u062a\u062d\u062f\u064a\u062b\u0627\u062a":"System Updates"]})})]})]}),(0,Ot.jsxs)("div",{className:"space-y-4",children:[(0,Ot.jsx)("h4",{className:"font-semibold",style:{color:"var(--text-primary)"},children:"ar"===t?"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062a\u0648\u0627\u0635\u0644":"Contact Info"}),(0,Ot.jsxs)("div",{className:"space-y-2",children:[(0,Ot.jsxs)("p",{className:"text-sm flex items-center gap-2",style:{color:"var(--text-secondary)"},children:[(0,Ot.jsxs)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:[(0,Ot.jsx)("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),(0,Ot.jsx)("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]}),"support@epgroup.com"]}),(0,Ot.jsxs)("p",{className:"text-sm flex items-center gap-2",style:{color:"var(--text-secondary)"},children:[(0,Ot.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ot.jsx)("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})}),"+20 100 123 4567"]}),(0,Ot.jsxs)("p",{className:"text-sm flex items-center gap-2",style:{color:"var(--text-secondary)"},children:[(0,Ot.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ot.jsx)("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),"ar"===t?"\u0627\u0644\u0642\u0627\u0647\u0631\u0629\u060c \u0645\u0635\u0631":"Cairo, Egypt"]}),(0,Ot.jsxs)("div",{className:"flex items-center gap-2 pt-2",children:[(0,Ot.jsx)("span",{className:"text-xs",style:{color:"var(--text-muted)"},children:"ar"===t?"\u0633\u0627\u0639\u0627\u062a \u0627\u0644\u0639\u0645\u0644:":"Working Hours:"}),(0,Ot.jsx)("span",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"24/7"})]})]})]})]}),(0,Ot.jsxs)("div",{className:"mt-8 pt-8 border-t border-white border-opacity-20 flex flex-col md:flex-row justify-between items-center",children:[(0,Ot.jsxs)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["\xa9 ",s," EP Group System.","ar"===t?" \u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0642\u0648\u0642 \u0645\u062d\u0641\u0648\u0638\u0629.":" All rights reserved."]}),(0,Ot.jsx)("div",{className:"mt-6 md:mt-0 text-center md:text-right",children:(0,Ot.jsxs)("div",{className:"animated-copyright-section p-6 rounded-xl",style:{background:"linear-gradient(45deg, rgba(255,107,53,0.1), rgba(247,147,30,0.1), rgba(255,210,63,0.1), rgba(6,214,160,0.1), rgba(17,138,178,0.1), rgba(7,59,76,0.1))",backgroundSize:"300% 300%",animation:"gradientShift 4s ease infinite",border:"2px solid transparent",borderImage:"linear-gradient(45deg, #ff6b35, #f7931e, #ffd23f, #06d6a0, #118ab2, #073b4c) 1",borderImageSlice:1},children:[(0,Ot.jsx)("div",{className:"text-sm mb-3 font-semibold",style:{color:"var(--text-primary)",textShadow:"0 2px 4px rgba(0,0,0,0.3)"},children:"\u062c\u0645\u064a\u0639 \u062d\u0642\u0648\u0642 \u0627\u0644\u0645\u0644\u0643\u064a\u0647 \u0627\u0644\u0641\u0643\u0631\u064a\u0647 \u0645\u062d\u0641\u0648\u0638\u0647"}),(0,Ot.jsx)("div",{className:"text-xl font-bold mb-4",style:{fontFamily:'"Roboto", "Tajawal", sans-serif',letterSpacing:"2px",background:"linear-gradient(45deg, #ff6b35, #f7931e, #ffd23f, #06d6a0, #118ab2, #073b4c)",backgroundSize:"300% 300%",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",animation:"gradientShift 3s ease infinite, bounce 3s infinite",textShadow:"none"},children:"Mahmoud Elmnakhli"}),(0,Ot.jsxs)("a",{href:"https://facebook.com/mafiaidola",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-3 text-sm px-4 py-2 rounded-full transition-all duration-500 hover:scale-110 hover:rotate-3",style:{background:"linear-gradient(135deg, #1877f2, #42a5f5, #64b5f6)",color:"white",textDecoration:"none",boxShadow:"0 6px 20px rgba(24, 119, 242, 0.4)",animation:"socialPulse 4s ease-in-out infinite",border:"2px solid rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)"},children:[(0,Ot.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Ot.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),(0,Ot.jsx)("span",{style:{fontWeight:"600"},children:"Facebook Profile"}),(0,Ot.jsx)("div",{className:"w-2 h-2 rounded-full bg-white opacity-70",style:{animation:"pulse 2s infinite"}})]})]})})]})]})})},vs=()=>{const[e,t]=(0,a.useState)(!1),[s,n]=(0,a.useState)(""),[r,l]=(0,a.useState)(!1),[i,o]=(0,a.useState)(""),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)("all"),[h,x]=(0,a.useState)(""),[f,p]=(0,a.useState)(""),[g,b]=(0,a.useState)(""),[v,y]=(0,a.useState)([]);(0,a.useEffect)((()=>{const e=new Date,t=new Date(e.getTime()-2592e6);x(t.toISOString().split("T")[0]),p(e.toISOString().split("T")[0]),j()}),[]);const j=async()=>{try{const e=localStorage.getItem("token"),t=await Tt.get("".concat(Lt,"/users"),{headers:{Authorization:"Bearer ".concat(e)}});y(t.data)}catch(i){console.error("Error fetching users:",i)}},N=async()=>{l(!0),o("");try{const e=localStorage.getItem("token");(await Tt.post("".concat(Lt,"/reports/secret/access"),{password:s},{headers:{Authorization:"Bearer ".concat(e)}})).data.access_granted&&(t(!0),w())}catch(i){var e,n;o((null===(e=i.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.detail)||"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u0629")}finally{l(!1)}},w=async()=>{l(!0);try{const e=localStorage.getItem("token"),t=await Tt.get("".concat(Lt,"/reports/secret/comprehensive"),{params:{password:s,filter_type:u,start_date:h?"".concat(h,"T00:00:00"):void 0,end_date:f?"".concat(f,"T23:59:59"):void 0,user_filter:g||void 0},headers:{Authorization:"Bearer ".concat(e)}});d(t.data)}catch(i){o("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u062a\u0642\u0631\u064a\u0631")}finally{l(!1)}};return e?(0,Ot.jsx)("div",{className:"min-h-screen p-6",style:{background:"var(--gradient-dark)"},children:(0,Ot.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Ot.jsx)("div",{className:"glass-effect p-6 rounded-2xl mb-6",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ot.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500 to-orange-600 rounded-full flex items-center justify-center",children:(0,Ot.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"white",children:(0,Ot.jsx)("path",{d:"M12 1L3 5v6c0 5.55 3.84 9.74 9 11 5.16-1.26 9-5.45 9-11V5l-9-4z"})})}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h1",{className:"text-2xl font-bold text-red-500",children:"\u0627\u0644\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0633\u0631\u064a \u0627\u0644\u0634\u0627\u0645\u0644"}),(0,Ot.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0623\u0646\u0634\u0637\u0629 \u0648\u0627\u0644\u062d\u0631\u0643\u0627\u062a \u0641\u064a \u0627\u0644\u0646\u0638\u0627\u0645"})]})]}),(0,Ot.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ot.jsxs)("button",{onClick:()=>{const e=document.getElementById("secret-report-content"),t=document.body.innerHTML;document.body.innerHTML=e.outerHTML,window.print(),document.body.innerHTML=t,window.location.reload()},className:"btn-modern px-4 py-2 flex items-center gap-2",disabled:!c,children:[(0,Ot.jsx)(Ht,{name:"print",size:16}),"\u0637\u0628\u0627\u0639\u0629"]}),(0,Ot.jsxs)("button",{onClick:()=>t(!1),className:"btn-modern bg-red-500 hover:bg-red-600 px-4 py-2 flex items-center gap-2",children:[(0,Ot.jsx)(Ht,{name:"logout",size:16}),"\u062e\u0631\u0648\u062c"]})]})]})}),(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-2xl mb-6",children:[(0,Ot.jsx)("h3",{className:"text-lg font-bold mb-4",children:"\u0641\u0644\u0627\u062a\u0631 \u0627\u0644\u062a\u0642\u0631\u064a\u0631"}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0646\u0648\u0639 \u0627\u0644\u0646\u0634\u0627\u0637"}),(0,Ot.jsxs)("select",{value:u,onChange:e=>m(e.target.value),className:"w-full p-3 rounded-lg glass-effect border-2 focus:outline-none focus:ring-2 focus:ring-red-500",style:{borderColor:"var(--border-color)"},children:[(0,Ot.jsx)("option",{value:"all",children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0623\u0646\u0634\u0637\u0629"}),(0,Ot.jsx)("option",{value:"users",children:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"}),(0,Ot.jsx)("option",{value:"visits",children:"\u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a"}),(0,Ot.jsx)("option",{value:"orders",children:"\u0627\u0644\u0637\u0644\u0628\u0627\u062a"}),(0,Ot.jsx)("option",{value:"clinics",children:"\u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a"}),(0,Ot.jsx)("option",{value:"warehouse",children:"\u0627\u0644\u0645\u062e\u0627\u0632\u0646"}),(0,Ot.jsx)("option",{value:"system",children:"\u0627\u0644\u0646\u0638\u0627\u0645"}),(0,Ot.jsx)("option",{value:"login",children:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0645\u0646 \u062a\u0627\u0631\u064a\u062e"}),(0,Ot.jsx)("input",{type:"date",value:h,onChange:e=>x(e.target.value),className:"w-full p-3 rounded-lg glass-effect border-2 focus:outline-none focus:ring-2 focus:ring-red-500",style:{borderColor:"var(--border-color)"}})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0625\u0644\u0649 \u062a\u0627\u0631\u064a\u062e"}),(0,Ot.jsx)("input",{type:"date",value:f,onChange:e=>p(e.target.value),className:"w-full p-3 rounded-lg glass-effect border-2 focus:outline-none focus:ring-2 focus:ring-red-500",style:{borderColor:"var(--border-color)"}})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),(0,Ot.jsxs)("select",{value:g,onChange:e=>b(e.target.value),className:"w-full p-3 rounded-lg glass-effect border-2 focus:outline-none focus:ring-2 focus:ring-red-500",style:{borderColor:"var(--border-color)"},children:[(0,Ot.jsx)("option",{value:"",children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"}),v.map((e=>(0,Ot.jsx)("option",{value:e.id,children:e.full_name},e.id)))]})]})]}),(0,Ot.jsx)("div",{className:"mt-4",children:(0,Ot.jsxs)("button",{onClick:w,disabled:r,className:"btn-modern px-6 py-3 flex items-center gap-2",children:[(0,Ot.jsx)(Ht,{name:"search",size:16}),r?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644...":"\u062a\u062d\u062f\u064a\u062b \u0627\u0644\u062a\u0642\u0631\u064a\u0631"]})})]}),(0,Ot.jsx)("div",{id:"secret-report-content",className:"glass-effect p-6 rounded-2xl",children:c&&(0,Ot.jsxs)(Ot.Fragment,{children:[(0,Ot.jsxs)("div",{className:"mb-6",children:[(0,Ot.jsx)("h3",{className:"text-lg font-bold mb-4",children:"\u0645\u0644\u062e\u0635 \u0627\u0644\u062a\u0642\u0631\u064a\u0631"}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Ot.jsxs)("div",{className:"bg-blue-500 bg-opacity-20 p-4 rounded-lg text-center",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-blue-300",children:c.summary.total_activities}),(0,Ot.jsx)("div",{className:"text-sm",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0623\u0646\u0634\u0637\u0629"})]}),(0,Ot.jsxs)("div",{className:"bg-green-500 bg-opacity-20 p-4 rounded-lg text-center",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-green-300",children:c.summary.categories.visits}),(0,Ot.jsx)("div",{className:"text-sm",children:"\u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a"})]}),(0,Ot.jsxs)("div",{className:"bg-orange-500 bg-opacity-20 p-4 rounded-lg text-center",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-orange-300",children:c.summary.categories.orders}),(0,Ot.jsx)("div",{className:"text-sm",children:"\u0627\u0644\u0637\u0644\u0628\u0627\u062a"})]}),(0,Ot.jsxs)("div",{className:"bg-purple-500 bg-opacity-20 p-4 rounded-lg text-center",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-purple-300",children:c.summary.categories.users}),(0,Ot.jsx)("div",{className:"text-sm",children:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"})]})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("h3",{className:"text-lg font-bold mb-4",children:["\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0623\u0646\u0634\u0637\u0629 (",c.activities.length,")"]}),(0,Ot.jsx)("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:c.activities.map(((e,t)=>{return(0,Ot.jsx)("div",{className:"border-b border-white border-opacity-10 pb-3",children:(0,Ot.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Ot.jsx)("div",{className:"flex-shrink-0",children:(0,Ot.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center ".concat((n=e.category,{"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646":"bg-blue-500","\u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a":"bg-green-500","\u0627\u0644\u0637\u0644\u0628\u0627\u062a":"bg-orange-500","\u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a":"bg-purple-500","\u0627\u0644\u0645\u062e\u0627\u0632\u0646":"bg-red-500","\u0627\u0644\u0646\u0638\u0627\u0645":"bg-gray-500","\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644":"bg-indigo-500"}[n]||"bg-gray-500")),children:(0,Ot.jsx)(Ht,{name:(s=e.action,{USER_REGISTRATION:"user",VISIT_REGISTERED:"visits",ORDER_CREATED:"warehouse",CLINIC_ADDED:"warehouse",STOCK_MOVEMENT:"warehouse",USER_LOGIN:"user",SECRET_REPORTS_ACCESS:"settings"}[s]||"settings"),size:16})})}),(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h4",{className:"font-medium",children:e.description}),(0,Ot.jsxs)("div",{className:"flex items-center gap-4 text-sm",style:{color:"var(--text-secondary)"},children:[(0,Ot.jsxs)("span",{children:["\u0628\u0648\u0627\u0633\u0637\u0629: ",e.user_name]}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u062f\u0648\u0631: ",e.user_role]}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u062a\u0635\u0646\u064a\u0641: ",e.category]})]})]}),(0,Ot.jsxs)("div",{className:"text-sm text-right",style:{color:"var(--text-muted)"},children:[(0,Ot.jsx)("div",{children:new Date(e.timestamp).toLocaleDateString("ar-EG")}),(0,Ot.jsx)("div",{children:new Date(e.timestamp).toLocaleTimeString("ar-EG")})]})]}),(0,Ot.jsx)("div",{className:"mt-2 text-sm bg-gray-500 bg-opacity-20 p-3 rounded-lg",children:(0,Ot.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:Object.entries(e.details).map((e=>{let[t,s]=e;return(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsxs)("span",{className:"font-medium",children:[t,":"]}),(0,Ot.jsx)("span",{children:"object"===typeof s?JSON.stringify(s):String(s)})]},t)}))})})]})]})},e.id);var s,n}))})]}),(0,Ot.jsxs)("div",{className:"mt-6 pt-4 border-t border-white border-opacity-20 text-center",children:[(0,Ot.jsxs)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["\u062a\u0645 \u0625\u0646\u0634\u0627\u0621 \u0647\u0630\u0627 \u0627\u0644\u062a\u0642\u0631\u064a\u0631 \u0628\u0648\u0627\u0633\u0637\u0629: ",c.summary.generated_by]}),(0,Ot.jsxs)("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:["\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0646\u0634\u0627\u0621: ",new Date(c.summary.generated_at).toLocaleString("ar-EG")]})]})]})})]})}):(0,Ot.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{background:"var(--gradient-dark)"},children:(0,Ot.jsxs)("div",{className:"glass-effect p-8 rounded-2xl shadow-2xl w-full max-w-md",children:[(0,Ot.jsxs)("div",{className:"text-center mb-6",children:[(0,Ot.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-red-500 to-orange-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Ot.jsx)("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"white",children:(0,Ot.jsx)("path",{d:"M12 1L3 5v6c0 5.55 3.84 9.74 9 11 5.16-1.26 9-5.45 9-11V5l-9-4zM12 7c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})})}),(0,Ot.jsx)("h2",{className:"text-2xl font-bold text-red-500 mb-2",children:"\u0627\u0644\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0633\u0631\u064a"}),(0,Ot.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u064a\u062a\u0637\u0644\u0628 \u0643\u0644\u0645\u0629 \u0645\u0631\u0648\u0631 \u0644\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062d\u0633\u0627\u0633\u0629"})]}),(0,Ot.jsxs)("div",{className:"space-y-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"}),(0,Ot.jsx)("input",{type:"password",value:s,onChange:e=>n(e.target.value),placeholder:"\u0623\u062f\u062e\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",className:"w-full p-3 rounded-lg border-2 focus:outline-none focus:ring-2 focus:ring-red-500 glass-effect",style:{borderColor:"var(--border-color)",color:"var(--text-primary)"},onKeyPress:e=>"Enter"===e.key&&N()})]}),i&&(0,Ot.jsx)("div",{className:"bg-red-500 bg-opacity-20 text-red-300 p-3 rounded-lg text-sm",children:i}),(0,Ot.jsx)("button",{onClick:N,disabled:r||!s,className:"w-full btn-modern bg-red-500 hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed",children:r?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0642\u0642...":"\u062f\u062e\u0648\u0644"})]}),(0,Ot.jsx)("div",{className:"mt-6 text-center",children:(0,Ot.jsx)("p",{className:"text-xs",style:{color:"var(--text-muted)"},children:"\u26a0\ufe0f \u0647\u0630\u0627 \u0627\u0644\u0642\u0633\u0645 \u0645\u062e\u0635\u0635 \u0644\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062d\u0633\u0627\u0633\u0629 \u0648\u0627\u0644\u0633\u0631\u064a\u0629"})})]})})},ys=()=>{const[e,t]=(0,a.useState)("visits_performance"),[s,n]=(0,a.useState)(null),[r,l]=(0,a.useState)(!1),[i,o]=(0,a.useState)({start_date:new Date(Date.now()-2592e6).toISOString().split("T")[0],end_date:(new Date).toISOString().split("T")[0]}),c=async()=>{l(!0);try{const t=localStorage.getItem("token"),s=new URLSearchParams({report_type:e,start_date:i.start_date,end_date:i.end_date}),a=await Tt.get("".concat(Lt,"/reports/advanced?").concat(s),{headers:{Authorization:"Bearer ".concat(t)}});n(a.data)}catch(t){console.error("Error fetching report:",t)}finally{l(!1)}};(0,a.useEffect)((()=>{c()}),[e,i]);const u=e=>{let{data:t,type:s,title:n}=e;return t&&t.data?(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsx)("h3",{className:"text-xl font-bold mb-4 text-center",children:n}),(0,Ot.jsx)("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udcca"}),(0,Ot.jsx)("p",{className:"text-gray-600",children:"\u0631\u0633\u0645 \u0628\u064a\u0627\u0646\u064a \u062a\u0641\u0627\u0639\u0644\u064a"}),(0,Ot.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:[t.data.length," \u0646\u0642\u0637\u0629 \u0628\u064a\u0627\u0646\u0627\u062a"]}),(0,Ot.jsx)("div",{className:"mt-4 text-xs text-gray-400",children:t.data.slice(0,3).map(((e,t)=>(0,Ot.jsxs)("div",{children:[e._id,": ",e.total_visits||e.total_orders||"N/A"]},t)))})]})})]}):(0,Ot.jsx)("div",{children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a \u0644\u0644\u0639\u0631\u0636"})};return(0,Ot.jsx)("div",{style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh"},children:(0,Ot.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Ot.jsx)("div",{className:"flex items-center justify-between mb-8",children:(0,Ot.jsxs)("div",{className:"flex items-center",children:[(0,Ot.jsx)("div",{className:"w-16 h-16 card-gradient-green rounded-full flex items-center justify-center ml-4 glow-pulse",children:(0,Ot.jsx)("span",{className:"text-3xl",children:"\ud83d\udcc8"})}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h2",{className:"text-4xl font-bold text-gradient",children:"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631 \u0627\u0644\u062a\u0641\u0627\u0639\u0644\u064a\u0629 \u0627\u0644\u0645\u062a\u0642\u062f\u0645\u0629"}),(0,Ot.jsx)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:"\u062a\u062d\u0644\u064a\u0644\u0627\u062a \u0648\u062a\u0642\u0627\u0631\u064a\u0631 \u0634\u0627\u0645\u0644\u0629 \u0645\u0639 \u0631\u0633\u0648\u0645 \u0628\u064a\u0627\u0646\u064a\u0629 \u062a\u0641\u0627\u0639\u0644\u064a\u0629"})]})]})}),(0,Ot.jsx)("div",{className:"card-modern p-6 mb-8",children:(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0646\u0648\u0639 \u0627\u0644\u062a\u0642\u0631\u064a\u0631:"}),(0,Ot.jsxs)("select",{value:e,onChange:e=>t(e.target.value),className:"form-modern w-full",children:[(0,Ot.jsx)("option",{value:"visits_performance",children:"\u0623\u062f\u0627\u0621 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a"}),(0,Ot.jsx)("option",{value:"sales_by_rep",children:"\u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a \u0628\u0648\u0627\u0633\u0637\u0629 \u0627\u0644\u0645\u0646\u0627\u062f\u064a\u0628"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0645\u0646 \u062a\u0627\u0631\u064a\u062e:"}),(0,Ot.jsx)("input",{type:"date",value:i.start_date,onChange:e=>o(d(d({},i),{},{start_date:e.target.value})),className:"form-modern w-full"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0625\u0644\u0649 \u062a\u0627\u0631\u064a\u062e:"}),(0,Ot.jsx)("input",{type:"date",value:i.end_date,onChange:e=>o(d(d({},i),{},{end_date:e.target.value})),className:"form-modern w-full"})]}),(0,Ot.jsx)("div",{className:"flex items-end",children:(0,Ot.jsx)("button",{onClick:c,disabled:r,className:"btn-primary w-full flex items-center justify-center gap-2",children:r?(0,Ot.jsxs)(Ot.Fragment,{children:[(0,Ot.jsx)("div",{className:"loading-shimmer w-4 h-4 rounded-full"}),(0,Ot.jsx)("span",{children:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644..."})]}):(0,Ot.jsxs)(Ot.Fragment,{children:[(0,Ot.jsx)("span",{children:"\ud83d\udd04"}),(0,Ot.jsx)("span",{children:"\u062a\u062d\u062f\u064a\u062b \u0627\u0644\u062a\u0642\u0631\u064a\u0631"})]})})})]})}),s&&(0,Ot.jsx)(u,{data:s,type:s.type,title:s.title})]})})},js=e=>{let{onScan:t,onClose:s}=e;const[n,r]=(0,a.useState)(!1),l=(0,a.useRef)(null),i=(0,a.useRef)(null);return(0,a.useEffect)((()=>()=>(()=>{l.current&&l.current.srcObject&&l.current.srcObject.getTracks().forEach((e=>e.stop()));r(!1)})()),[]),(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",children:(0,Ot.jsxs)("div",{className:"modal-modern p-6 w-full max-w-md",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h3",{className:"text-xl font-bold text-gradient",children:"\ud83d\udcf1 \u0645\u0633\u062d QR Code"}),(0,Ot.jsx)("button",{onClick:s,className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\u2715"})]}),(0,Ot.jsxs)("div",{className:"space-y-4",children:[(0,Ot.jsx)("div",{className:"relative bg-black rounded-lg overflow-hidden",style:{aspectRatio:"1"},children:n?(0,Ot.jsxs)(Ot.Fragment,{children:[(0,Ot.jsx)("video",{ref:l,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),(0,Ot.jsx)("div",{className:"absolute inset-4 border-2 border-green-400 rounded-lg animate-pulse"}),(0,Ot.jsx)("div",{className:"absolute bottom-4 left-4 right-4",children:(0,Ot.jsxs)("button",{onClick:()=>{if(i.current&&l.current){const e=i.current,s=l.current,n=e.getContext("2d");e.width=s.videoWidth,e.height=s.videoHeight,n.drawImage(s,0,0);e.toDataURL();t({type:"clinic",id:"sample-clinic-id",name:"\u0639\u064a\u0627\u062f\u0629 \u062a\u062c\u0631\u064a\u0628\u064a\u0629",address:"\u0639\u0646\u0648\u0627\u0646 \u062a\u062c\u0631\u064a\u0628\u064a"})}},className:"btn-success w-full flex items-center justify-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udcf7"}),(0,Ot.jsx)("span",{children:"\u0645\u0633\u062d \u0627\u0644\u0643\u0648\u062f"})]})})]}):(0,Ot.jsx)("div",{className:"flex items-center justify-center h-full text-white",children:(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcf1"}),(0,Ot.jsx)("p",{className:"text-lg mb-4",children:"\u0627\u0636\u063a\u0637 \u0644\u0628\u062f\u0621 \u0627\u0644\u0645\u0633\u062d"}),(0,Ot.jsx)("button",{onClick:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});l.current&&(l.current.srcObject=e,r(!0))}catch(e){console.error("Error accessing camera:",e),alert("\u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0643\u0627\u0645\u064a\u0631\u0627. \u062a\u0623\u0643\u062f \u0645\u0646 \u0627\u0644\u0633\u0645\u0627\u062d \u0644\u0644\u0645\u0648\u0642\u0639 \u0628\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0643\u0627\u0645\u064a\u0631\u0627.")}},className:"btn-primary",children:"\ud83c\udfa5 \u062a\u0634\u063a\u064a\u0644 \u0627\u0644\u0643\u0627\u0645\u064a\u0631\u0627"})]})})}),(0,Ot.jsx)("canvas",{ref:i,style:{display:"none"}}),(0,Ot.jsx)("div",{className:"text-center",children:(0,Ot.jsx)("p",{className:"text-sm text-gray-500",children:"\ud83d\udccb \u0648\u062c\u0647 \u0627\u0644\u0643\u0627\u0645\u064a\u0631\u0627 \u0646\u062d\u0648 QR Code \u0644\u0644\u0639\u064a\u0627\u062f\u0629 \u0623\u0648 \u0627\u0644\u0645\u0646\u062a\u062c"})})]})]})})},Ns=()=>{const[e,t]=(0,a.useState)(navigator.onLine),[s,n]=(0,a.useState)([]);(0,a.useEffect)((()=>{const e=()=>{t(!0),r()},s=()=>t(!1);return window.addEventListener("online",e),window.addEventListener("offline",s),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}}),[]);const r=async()=>{const e=JSON.parse(localStorage.getItem("offline_data")||'{"visits": [], "orders": []}');if(0!==e.visits.length||0!==e.orders.length)try{const t=localStorage.getItem("token"),s=await Tt.post("".concat(Lt,"/offline/sync"),e,{headers:{Authorization:"Bearer ".concat(t)}});localStorage.removeItem("offline_data"),n([]),console.log("Offline data synced successfully:",s.data)}catch(t){console.error("Error syncing offline data:",t)}};return e?null:(0,Ot.jsx)("div",{className:"fixed bottom-4 left-4 right-4 bg-orange-100 border border-orange-400 text-orange-800 px-4 py-3 rounded-lg shadow-lg z-50",children:(0,Ot.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ot.jsx)("span",{className:"text-xl",children:"\ud83d\udce1"}),(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsx)("div",{className:"font-medium",children:"\u0648\u0636\u0639 \u0639\u062f\u0645 \u0627\u0644\u0627\u062a\u0635\u0627\u0644"}),(0,Ot.jsx)("div",{className:"text-sm",children:"\u0633\u064a\u062a\u0645 \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0639\u0646\u062f \u0639\u0648\u062f\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644"}),s.length>0&&(0,Ot.jsxs)("div",{className:"text-xs mt-1",children:[s.length," \u0639\u0646\u0627\u0635\u0631 \u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629"]})]})]})})},ws=()=>{const[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)([]),[r,l]=(0,a.useState)(!1),[i,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)("");(0,a.useEffect)((()=>{h()}),[]);const h=async()=>{l(!0);try{const e=localStorage.getItem("token"),s=await Tt.get("".concat(Lt,"/orders?status=MANAGER_APPROVED"),{headers:{Authorization:"Bearer ".concat(e)}});t(s.data);const a=await Tt.get("".concat(Lt,"/orders?status=ACCOUNTING_APPROVED"),{headers:{Authorization:"Bearer ".concat(e)}});n(a.data)}catch(e){console.error("Error fetching orders:",e)}finally{l(!1)}},x=e=>{var t;return(null===(t=e.items)||void 0===t?void 0:t.reduce(((e,t)=>e+t.price*t.quantity),0))||0};return(0,Ot.jsx)("div",{style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh"},children:(0,Ot.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Ot.jsx)("div",{className:"flex items-center justify-between mb-8",children:(0,Ot.jsxs)("div",{className:"flex items-center",children:[(0,Ot.jsx)("div",{className:"w-16 h-16 card-gradient-yellow rounded-full flex items-center justify-center ml-4 glow-pulse",children:(0,Ot.jsx)("span",{className:"text-3xl",children:"\ud83d\udcb0"})}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h2",{className:"text-4xl font-bold text-gradient",children:"\u0644\u0648\u062d\u0629 \u062a\u062d\u0643\u0645 \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629"}),(0,Ot.jsx)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:"\u0645\u0631\u0627\u062c\u0639\u0629 \u0648\u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0637\u0644\u0628\u064a\u0627\u062a \u0627\u0644\u0645\u0627\u0644\u064a\u0629"})]})]})}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,Ot.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-orange-600",children:e.length}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0637\u0644\u0628\u064a\u0627\u062a \u062a\u062d\u062a\u0627\u062c \u0645\u0648\u0627\u0641\u0642\u0629"})]}),(0,Ot.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-green-600",children:s.length}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0637\u0644\u0628\u064a\u0627\u062a \u062a\u0645\u062a \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u064a\u0647\u0627"})]}),(0,Ot.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,Ot.jsxs)("div",{className:"text-3xl font-bold text-blue-600",children:[e.reduce(((e,t)=>e+x(t)),0).toLocaleString()," \u0631\u064a\u0627\u0644"]}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0645\u0639\u0644\u0642\u0629"})]})]}),(0,Ot.jsxs)("div",{className:"card-modern mb-8",children:[(0,Ot.jsx)("div",{className:"p-6 border-b",style:{borderColor:"var(--accent-bg)"},children:(0,Ot.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-3",children:[(0,Ot.jsx)("span",{children:"\u23f3"}),(0,Ot.jsxs)("span",{children:["\u0637\u0644\u0628\u064a\u0627\u062a \u062a\u062d\u062a\u0627\u062c \u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629 (",e.length,")"]})]})}),r?(0,Ot.jsxs)("div",{className:"p-12 text-center",children:[(0,Ot.jsx)("div",{className:"loading-shimmer w-16 h-16 rounded-full mx-auto mb-4"}),(0,Ot.jsx)("p",{style:{color:"var(--text-secondary)"},children:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644..."})]}):(0,Ot.jsx)("div",{className:"table-modern",children:(0,Ot.jsxs)("table",{className:"min-w-full",children:[(0,Ot.jsx)("thead",{children:(0,Ot.jsxs)("tr",{children:[(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628\u064a\u0629"}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628"}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629"}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a\u0629"}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0646\u0634\u0627\u0621"}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a"})]})}),(0,Ot.jsx)("tbody",{children:e.map((e=>(0,Ot.jsxs)("tr",{className:"hover:bg-gray-50 hover:bg-opacity-5 transition-colors",children:[(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsxs)("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:["#",e.id.substring(0,8)]})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("div",{style:{color:"var(--text-primary)"},children:e.sales_rep_name||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("div",{style:{color:"var(--text-primary)"},children:e.clinic_name||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsxs)("div",{className:"text-lg font-bold text-green-600",children:[x(e).toLocaleString()," \u0631\u064a\u0627\u0644"]})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:new Date(e.created_at).toLocaleDateString("ar-EG")})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsxs)("div",{className:"flex gap-2",children:[(0,Ot.jsx)("button",{onClick:()=>{o(e),d(!0)},className:"btn-success text-xs px-3 py-1",title:"\u0645\u0648\u0627\u0641\u0642\u0629",children:"\u2705 \u0645\u0648\u0627\u0641\u0642\u0629"}),(0,Ot.jsx)("button",{className:"btn-info text-xs px-3 py-1",title:"\u062a\u0641\u0627\u0635\u064a\u0644",children:"\ud83d\udc41\ufe0f \u062a\u0641\u0627\u0635\u064a\u0644"})]})})]},e.id)))})]})})]}),(0,Ot.jsxs)("div",{className:"card-modern",children:[(0,Ot.jsx)("div",{className:"p-6 border-b",style:{borderColor:"var(--accent-bg)"},children:(0,Ot.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-3",children:[(0,Ot.jsx)("span",{children:"\u2705"}),(0,Ot.jsxs)("span",{children:["\u0637\u0644\u0628\u064a\u0627\u062a \u062a\u0645\u062a \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u064a\u0647\u0627 (",s.length,")"]})]})}),(0,Ot.jsx)("div",{className:"table-modern",children:(0,Ot.jsxs)("table",{className:"min-w-full",children:[(0,Ot.jsx)("thead",{children:(0,Ot.jsxs)("tr",{children:[(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628\u064a\u0629"}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628"}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629"}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a\u0629"}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629"}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u062d\u0627\u0644\u0629"})]})}),(0,Ot.jsx)("tbody",{children:s.map((e=>(0,Ot.jsxs)("tr",{className:"hover:bg-gray-50 hover:bg-opacity-5 transition-colors",children:[(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsxs)("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:["#",e.id.substring(0,8)]})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("div",{style:{color:"var(--text-primary)"},children:e.sales_rep_name||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("div",{style:{color:"var(--text-primary)"},children:e.clinic_name||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsxs)("div",{className:"text-lg font-bold text-green-600",children:[x(e).toLocaleString()," \u0631\u064a\u0627\u0644"]})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:e.approved_at_accounting?new Date(e.approved_at_accounting).toLocaleDateString("ar-EG"):"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("span",{className:"badge-modern badge-success",children:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u062e\u0632\u0646"})})]},e.id)))})]})})]}),c&&i&&(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ot.jsxs)("div",{className:"modal-modern p-8 w-full max-w-2xl",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\ud83d\udcb0 \u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0637\u0644\u0628\u064a\u0629"}),(0,Ot.jsx)("button",{onClick:()=>d(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\u2715"})]}),(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"card-modern p-4",children:[(0,Ot.jsx)("h4",{className:"font-bold mb-3",children:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0637\u0644\u0628\u064a\u0629:"}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"font-medium",children:"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628\u064a\u0629:"}),(0,Ot.jsxs)("span",{className:"mr-2",children:["#",i.id.substring(0,8)]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"font-medium",children:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628:"}),(0,Ot.jsx)("span",{className:"mr-2",children:i.sales_rep_name})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"font-medium",children:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629:"}),(0,Ot.jsx)("span",{className:"mr-2",children:i.clinic_name})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"font-medium",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0642\u064a\u0645\u0629:"}),(0,Ot.jsxs)("span",{className:"mr-2 text-green-600 font-bold",children:[x(i).toLocaleString()," \u0631\u064a\u0627\u0644"]})]})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629:"}),(0,Ot.jsx)("textarea",{value:u,onChange:e=>m(e.target.value),rows:4,className:"form-modern w-full",placeholder:"\u0623\u0636\u0641 \u0623\u064a \u0645\u0644\u0627\u062d\u0638\u0627\u062a \u062e\u0627\u0635\u0629 \u0628\u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0645\u0627\u0644\u064a\u0629..."})]}),(0,Ot.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Ot.jsxs)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token");await Tt.post("".concat(Lt,"/orders/").concat(e,"/approve"),{notes:u},{headers:{Authorization:"Bearer ".concat(t)}}),d(!1),m(""),o(null),await h()}catch(t){console.error("Error approving order:",t),alert("\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0627\u0644\u0637\u0644\u0628\u064a\u0629")}})(i.id),className:"btn-success flex-1 flex items-center justify-center gap-2",children:[(0,Ot.jsx)("span",{children:"\u2705"}),(0,Ot.jsx)("span",{children:"\u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0627\u0644\u0637\u0644\u0628\u064a\u0629"})]}),(0,Ot.jsx)("button",{onClick:()=>d(!1),className:"btn-secondary flex-1",children:"\u0625\u0644\u063a\u0627\u0621"})]})]})]})})]})})},ks=()=>{const[e,t]=(0,a.useState)("dashboard"),[s,n]=(0,a.useState)([]),[r,l]=(0,a.useState)([]),[i,o]=(0,a.useState)([]),[c,d]=(0,a.useState)({}),[u,m]=(0,a.useState)([]),[h,x]=(0,a.useState)(!1),[f,p]=(0,a.useState)(""),[g,b]=(0,a.useState)(""),{language:v}=(0,a.useContext)(Bt),y=[{id:"WH_CAIRO",name:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0642\u0627\u0647\u0631\u0629",city:"Cairo",region:"Greater Cairo"},{id:"WH_ALEX",name:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0625\u0633\u0643\u0646\u062f\u0631\u064a\u0629",city:"Alexandria",region:"Alexandria"},{id:"WH_GIZA",name:"\u0645\u062e\u0632\u0646 \u0627\u0644\u062c\u064a\u0632\u0629",city:"Giza",region:"Greater Cairo"},{id:"WH_MANSOURA",name:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0645\u0646\u0635\u0648\u0631\u0629",city:"Mansoura",region:"Dakahlia"},{id:"WH_ASWAN",name:"\u0645\u062e\u0632\u0646 \u0623\u0633\u0648\u0627\u0646",city:"Aswan",region:"Upper Egypt"}],j={en:{title:"\ud83c\udfea Comprehensive Warehouse Management",subtitle:"Complete management of warehouses, inventory and orders",dashboard:"Dashboard",inventory:"Inventory Management",orders:"Orders",movements:"Movement Log",warehouseOverview:"Warehouse Overview",urgentActions:"\ud83d\udea8 Urgent Actions Required",lowStock:"Low Stock Alert",pendingApproval:"Pending Approval",criticalIssues:"Critical Issues"},ar:{title:"\ud83c\udfea \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u062e\u0627\u0632\u0646 \u0627\u0644\u0634\u0627\u0645\u0644\u0629",subtitle:"\u0625\u062f\u0627\u0631\u0629 \u0643\u0627\u0645\u0644\u0629 \u0644\u0644\u0645\u062e\u0627\u0632\u0646 \u0648\u0627\u0644\u0645\u062e\u0632\u0648\u0646 \u0648\u0627\u0644\u0637\u0644\u0628\u0627\u062a",dashboard:"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645",inventory:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u062e\u0632\u0646",orders:"\u0627\u0644\u0637\u0644\u0628\u0627\u062a",movements:"\u0633\u062c\u0644 \u0627\u0644\u062d\u0631\u0643\u0627\u062a",warehouseOverview:"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0627\u0644\u0645\u062e\u0627\u0632\u0646",urgentActions:"\ud83d\udea8 \u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0639\u0627\u062c\u0644\u0629 \u0645\u0637\u0644\u0648\u0628\u0629",lowStock:"\u062a\u0646\u0628\u064a\u0647 \u0646\u0642\u0635 \u0645\u062e\u0632\u0648\u0646",pendingApproval:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629",criticalIssues:"\u0645\u0634\u0627\u0643\u0644 \u062d\u0631\u062c\u0629"}},N=j[v]||j.en;(0,a.useEffect)((()=>{w()}),[]);const w=async()=>{x(!0);try{const e=localStorage.getItem("token"),[t,s,a,r,i]=await Promise.all([Tt.get("".concat(Lt,"/warehouses"),{headers:{Authorization:"Bearer ".concat(e)}}),Tt.get("".concat(Lt,"/dashboard/warehouse-stats"),{headers:{Authorization:"Bearer ".concat(e)}}),Tt.get("".concat(Lt,"/inventory"),{headers:{Authorization:"Bearer ".concat(e)}}),Tt.get("".concat(Lt,"/orders/pending"),{headers:{Authorization:"Bearer ".concat(e)}}),Tt.get("".concat(Lt,"/warehouses/movements"),{headers:{Authorization:"Bearer ".concat(e)}})]);n(t.data),d(s.data),l(a.data),o(r.data),m(i.data)}catch(f){n(y),d({total_value:485e3,low_stock_count:12,pending_orders_count:8,movement_today:45}),l([{id:1,name:"\u0623\u0643\u0633\u0632\u0648\u0645 500\u0645\u062c",warehouse:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0642\u0627\u0647\u0631\u0629",quantity:120,min_stock:50,unit_price:25.5,category:"\u0623\u062f\u0648\u064a\u0629"},{id:2,name:"\u0641\u064a\u062a\u0627\u0645\u064a\u0646 \u062f3",warehouse:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0625\u0633\u0643\u0646\u062f\u0631\u064a\u0629",quantity:8,min_stock:30,unit_price:45,category:"\u0641\u064a\u062a\u0627\u0645\u064a\u0646\u0627\u062a"},{id:3,name:"\u0628\u0627\u0631\u0627\u0633\u064a\u062a\u0627\u0645\u0648\u0644",warehouse:"\u0645\u062e\u0632\u0646 \u0627\u0644\u062c\u064a\u0632\u0629",quantity:200,min_stock:100,unit_price:12.75,category:"\u0645\u0633\u0643\u0646\u0627\u062a"},{id:4,name:"\u0623\u0648\u0645\u064a\u062c\u0627 3",warehouse:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0645\u0646\u0635\u0648\u0631\u0629",quantity:15,min_stock:25,unit_price:65,category:"\u0645\u0643\u0645\u0644\u0627\u062a"},{id:5,name:"\u0643\u0627\u0644\u0633\u064a\u0648\u0645 \u0645\u063a\u0646\u064a\u0633\u064a\u0648\u0645",warehouse:"\u0645\u062e\u0632\u0646 \u0623\u0633\u0648\u0627\u0646",quantity:75,min_stock:40,unit_price:38.25,category:"\u0645\u0643\u0645\u0644\u0627\u062a"}]),o([{id:"ORD-001",clinic:"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0646\u0648\u0631",items:5,total:1250,status:"pending_manager",sales_rep:"\u0645\u062d\u0645\u0648\u062f \u0639\u0644\u064a",warehouse:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0642\u0627\u0647\u0631\u0629"},{id:"ORD-002",clinic:"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0634\u0641\u0627\u0621",items:3,total:850,status:"pending_accounting",sales_rep:"\u0623\u062d\u0645\u062f \u062d\u0633\u0646",warehouse:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0625\u0633\u0643\u0646\u062f\u0631\u064a\u0629"},{id:"ORD-003",clinic:"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0623\u0645\u0644",items:7,total:2100,status:"pending_warehouse",sales_rep:"\u0641\u0627\u0637\u0645\u0629 \u0645\u062d\u0645\u062f",warehouse:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0645\u0646\u0635\u0648\u0631\u0629"}]),m([{id:1,date:"2024-01-24",product:"\u0623\u0643\u0633\u0632\u0648\u0645 500\u0645\u062c",requester:"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0646\u0648\u0631",region:"\u0627\u0644\u0642\u0627\u0647\u0631\u0629",movement_type:"\u0635\u0631\u0641",order_type:"\u0637\u0644\u0628\u064a\u0629",quantity:10,sales_rep:"\u0645\u062d\u0645\u0648\u062f \u0639\u0644\u064a",doctor:"\u062f. \u0623\u062d\u0645\u062f \u0645\u062d\u0645\u062f",reason:"\u0637\u0644\u0628\u064a\u0629 \u0639\u0627\u062f\u064a\u0629",comments:"\u062a\u0645 \u0627\u0644\u0635\u0631\u0641 \u0628\u0646\u062c\u0627\u062d",status:"completed"},{id:2,date:"2024-01-24",product:"\u0641\u064a\u062a\u0627\u0645\u064a\u0646 \u062f3",requester:"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0634\u0641\u0627\u0621",region:"\u0627\u0644\u0625\u0633\u0643\u0646\u062f\u0631\u064a\u0629",movement_type:"\u0635\u0631\u0641",order_type:"\u062f\u064a\u0645\u0648",quantity:5,sales_rep:"\u0623\u062d\u0645\u062f \u062d\u0633\u0646",doctor:"\u062f. \u0641\u0627\u0637\u0645\u0629 \u0639\u0644\u064a",reason:"\u0639\u064a\u0646\u0629 \u0645\u062c\u0627\u0646\u064a\u0629",comments:"\u0644\u0644\u062a\u062c\u0631\u0628\u0629",status:"pending_approval"},{id:3,date:"2024-01-23",product:"\u0628\u0627\u0631\u0627\u0633\u064a\u062a\u0627\u0645\u0648\u0644",requester:"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0623\u0645\u0644",region:"\u0627\u0644\u062c\u064a\u0632\u0629",movement_type:"\u0625\u062f\u062e\u0627\u0644",order_type:"\u062a\u0632\u0648\u064a\u062f",quantity:100,sales_rep:"\u0625\u0628\u0631\u0627\u0647\u064a\u0645 \u062e\u0627\u0644\u062f",doctor:"",reason:"\u062a\u0632\u0648\u064a\u062f \u0645\u062e\u0632\u0648\u0646",comments:"\u0634\u062d\u0646\u0629 \u062c\u062f\u064a\u062f\u0629",status:"completed"}]),console.error("Using mock data:",f)}finally{x(!1)}};return(0,Ot.jsx)("div",{style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh"},children:(0,Ot.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Ot.jsx)("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:(0,Ot.jsxs)("div",{className:"flex items-center",children:[(0,Ot.jsx)("div",{className:"w-12 h-12 md:w-16 md:h-16 card-gradient-purple rounded-full flex items-center justify-center ml-4 glow-pulse",children:(0,Ot.jsx)("span",{className:"text-xl md:text-3xl",children:"\ud83c\udfea"})}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h2",{className:"text-2xl md:text-4xl font-bold text-gradient",children:N.title}),(0,Ot.jsx)("p",{className:"text-sm md:text-lg",style:{color:"var(--text-secondary)"},children:N.subtitle})]})]})}),f&&(0,Ot.jsxs)("div",{className:"alert-modern alert-error mb-6 scale-in",children:[(0,Ot.jsx)("span",{className:"ml-2",children:"\u274c"}),f]}),g&&(0,Ot.jsxs)("div",{className:"alert-modern alert-success mb-6 scale-in",children:[(0,Ot.jsx)("span",{className:"ml-2",children:"\u2705"}),g]}),(0,Ot.jsx)("div",{className:"mb-8",children:(0,Ot.jsx)("nav",{className:"flex space-x-2 overflow-x-auto bg-white/80 backdrop-blur-lg rounded-2xl p-2 shadow-lg scrollbar-hide",style:{direction:"ltr"},children:[{key:"dashboard",label:N.dashboard,icon:"\ud83d\udcca"},{key:"inventory",label:N.inventory,icon:"\ud83d\udce6"},{key:"orders",label:N.orders,icon:"\ud83d\uded2"},{key:"movements",label:N.movements,icon:"\ud83d\udccb"}].map((s=>(0,Ot.jsxs)("button",{onClick:()=>t(s.key),className:"nav-tab ".concat(e===s.key?"active":""," flex items-center whitespace-nowrap px-4 py-2 text-sm md:text-base"),children:[(0,Ot.jsx)("span",{className:"ml-2",children:s.icon}),(0,Ot.jsx)("span",{className:"hidden sm:inline",children:s.label})]},s.key)))})}),"dashboard"===e&&(0,Ot.jsx)(_s,{stats:c,warehouses:s,inventory:r,loading:h,language:v}),"inventory"===e&&(0,Ot.jsx)(Ts,{inventory:r,warehouses:s,onRefresh:w,language:v}),"orders"===e&&(0,Ot.jsx)(Os,{orders:i,onRefresh:w,language:v}),"movements"===e&&(0,Ot.jsx)(Ls,{movements:u,language:v})]})})},_s=e=>{var t;let{stats:s,warehouses:n,inventory:a,loading:r,language:l}=e;const i="ar"===l?{warehouseOverview:"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0627\u0644\u0645\u062e\u0627\u0632\u0646",urgentActions:"\ud83d\udea8 \u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0639\u0627\u062c\u0644\u0629 \u0645\u0637\u0644\u0648\u0628\u0629",totalValue:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0642\u064a\u0645\u0629",lowStock:"\u0646\u0642\u0635 \u0645\u062e\u0632\u0648\u0646",pendingOrders:"\u0637\u0644\u0628\u0627\u062a \u0645\u0639\u0644\u0642\u0629",todayMovements:"\u062d\u0631\u0643\u0627\u062a \u0627\u0644\u064a\u0648\u0645",warehouseDetails:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0645\u062e\u0627\u0632\u0646",criticalAlerts:"\u062a\u0646\u0628\u064a\u0647\u0627\u062a \u062d\u0631\u062c\u0629",needsAttention:"\u064a\u062d\u062a\u0627\u062c 3 \u0639\u0628\u0648\u0627\u062a \u0627\u0643\u0633\u0632\u0648\u0645",needsApproval:"\u064a\u062d\u062a\u0627\u062c \u0645\u0648\u0627\u0641\u0642\u0629 \u0623\u0645\u064a\u0646 \u0627\u0644\u0645\u062e\u0632\u0646 \u0639\u0644\u0649 \u0627\u0644\u0637\u0644\u0628\u064a\u0629",stockShortage:"\u064a\u0648\u062c\u062f \u0646\u0642\u0635 \u0641\u064a \u0645\u0646\u062a\u062c"}:{warehouseOverview:"Warehouse Overview",urgentActions:"\ud83d\udea8 Urgent Actions Required",totalValue:"Total Value",lowStock:"Low Stock",pendingOrders:"Pending Orders",todayMovements:"Today Movements",warehouseDetails:"Warehouse Details",criticalAlerts:"Critical Alerts",needsAttention:"Needs 3 units of Axozom",needsApproval:"Needs warehouse manager approval",stockShortage:"Stock shortage in product"},o=[{warehouse:"\u0645\u062e\u0632\u0646 \u0623\u0628\u064a\u0633",message:i.needsAttention,type:"stock",priority:"high"},{warehouse:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0639\u0635\u0627\u0641\u0631\u0629",message:i.needsApproval,type:"approval",priority:"medium"},{warehouse:"\u0645\u062e\u0632\u0646 \u062c\u0644\u064a\u0645",message:"".concat(i.stockShortage," \u0641\u064a\u062a\u0627\u0645\u064a\u0646 \u062f3"),type:"shortage",priority:"high"}];return(0,Ot.jsxs)("div",{className:"space-y-8",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Ot.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,Ot.jsxs)("div",{className:"text-3xl font-bold text-green-600",children:[(null===(t=s.total_value)||void 0===t?void 0:t.toLocaleString())||"485,000"," \u062c\u0646\u064a\u0647"]}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:i.totalValue})]}),(0,Ot.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-red-600",children:s.low_stock_count||12}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:i.lowStock})]}),(0,Ot.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-orange-600",children:s.pending_orders_count||8}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:i.pendingOrders})]}),(0,Ot.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:s.movement_today||45}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:i.todayMovements})]})]}),(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udea8"}),(0,Ot.jsx)("span",{children:i.urgentActions})]}),(0,Ot.jsx)("div",{className:"space-y-3",children:o.map(((e,t)=>(0,Ot.jsx)("div",{className:"p-4 rounded-lg border-l-4 ".concat("high"===e.priority?"bg-red-50 border-red-500":"bg-orange-50 border-orange-500"),children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"font-bold text-gray-800",children:e.warehouse}),(0,Ot.jsx)("div",{className:"text-sm text-gray-600",children:e.message})]}),(0,Ot.jsx)("button",{className:"btn-sm ".concat("high"===e.priority?"btn-danger":"btn-warning"),children:"ar"===l?"\u0639\u0631\u0636":"View"})]})},t)))})]}),(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83c\udfea"}),(0,Ot.jsx)("span",{children:i.warehouseDetails})]}),(0,Ot.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((e=>{const t=a.filter((t=>t.warehouse===e.name)),s=t.filter((e=>e.quantity<=e.min_stock));return(0,Ot.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 p-6 rounded-lg",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h4",{className:"font-bold text-lg text-gray-800",children:e.name}),(0,Ot.jsxs)("p",{className:"text-sm text-gray-600",children:[e.city," \u2022 ",e.region]})]}),(0,Ot.jsx)("div",{className:"w-4 h-4 rounded-full ".concat(s.length>0?"bg-red-500":"bg-green-500")})]}),(0,Ot.jsxs)("div",{className:"space-y-2",children:[(0,Ot.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Ot.jsxs)("span",{children:["ar"===l?"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a":"Total Products",":"]}),(0,Ot.jsx)("span",{className:"font-bold",children:t.length})]}),(0,Ot.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Ot.jsxs)("span",{children:["ar"===l?"\u0646\u0642\u0635 \u0645\u062e\u0632\u0648\u0646":"Low Stock",":"]}),(0,Ot.jsx)("span",{className:"font-bold ".concat(s.length>0?"text-red-600":"text-green-600"),children:s.length})]}),(0,Ot.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Ot.jsxs)("span",{children:["ar"===l?"\u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u062a\u0642\u062f\u064a\u0631\u064a\u0629":"Estimated Value",":"]}),(0,Ot.jsxs)("span",{className:"font-bold text-blue-600",children:[t.reduce(((e,t)=>e+t.quantity*t.unit_price),0).toLocaleString()," ","ar"===l?"\u062c\u0646\u064a\u0647":"EGP"]})]})]}),(0,Ot.jsx)("button",{className:"btn-primary w-full mt-4 text-sm",children:"ar"===l?"\u0639\u0631\u0636 \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644":"View Details"})]},e.id)}))})]})]})},Ss=e=>{let{stats:t,user:s}=e;const[n,r]=(0,a.useState)(!1),[l,i]=(0,a.useState)(!1),[o,c]=(0,a.useState)(null),{language:d}=(0,a.useContext)(Bt);(0,a.useEffect)((()=>{u()}),[]);const u=async()=>{try{const e=localStorage.getItem("token"),t=((new Date).toISOString().split("T")[0],await Tt.get("".concat(Lt,"/users/selfie/today"),{headers:{Authorization:"Bearer ".concat(e)}}));t.data.selfie?c(t.data.selfie):r(!0)}catch(e){r(!0)}},m={en:{welcome:"\ud83d\udc4b Welcome back",todayStats:"Today's Performance",visitsToday:"Visits Today",ordersToday:"Orders Today",clinicsAdded:"Clinics Added",efficiency:"Efficiency Rate",quickActions:"\u26a1 Quick Actions",newVisit:"\ud83d\udc68\u200d\u2695\ufe0f New Visit",newOrder:"\ud83d\udce6 New Order",addClinic:"\ud83c\udfe5 Add Clinic",viewPlan:"\ud83d\udccb View Daily Plan",todaySelfie:"\ud83d\udcf7 Today's Check-in",retakeSelfie:"\ud83d\udd04 Retake Selfie"},ar:{welcome:"\ud83d\udc4b \u0645\u0631\u062d\u0628\u0627\u064b \u0628\u0639\u0648\u062f\u062a\u0643",todayStats:"\u0623\u062f\u0627\u0621 \u0627\u0644\u064a\u0648\u0645",visitsToday:"\u0632\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u064a\u0648\u0645",ordersToday:"\u0637\u0644\u0628\u0627\u062a \u0627\u0644\u064a\u0648\u0645",clinicsAdded:"\u0639\u064a\u0627\u062f\u0627\u062a \u0645\u0636\u0627\u0641\u0629",efficiency:"\u0645\u0639\u062f\u0644 \u0627\u0644\u0643\u0641\u0627\u0621\u0629",quickActions:"\u26a1 \u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0633\u0631\u064a\u0639\u0629",newVisit:"\ud83d\udc68\u200d\u2695\ufe0f \u0632\u064a\u0627\u0631\u0629 \u062c\u062f\u064a\u062f\u0629",newOrder:"\ud83d\udce6 \u0637\u0644\u0628\u0629 \u062c\u062f\u064a\u062f\u0629",addClinic:"\ud83c\udfe5 \u0625\u0636\u0627\u0641\u0629 \u0639\u064a\u0627\u062f\u0629",viewPlan:"\ud83d\udccb \u0639\u0631\u0636 \u062e\u0637\u0629 \u0627\u0644\u064a\u0648\u0645",todaySelfie:"\ud83d\udcf7 \u062a\u0633\u062c\u064a\u0644 \u062d\u0636\u0648\u0631 \u0627\u0644\u064a\u0648\u0645",retakeSelfie:"\ud83d\udd04 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u062a\u0642\u0627\u0637 \u0633\u064a\u0644\u0641\u064a"}},h=m[d]||m.en;return(0,Ot.jsxs)(Ot.Fragment,{children:[(0,Ot.jsx)("div",{style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh"},children:(0,Ot.jsxs)("div",{className:"space-y-8",children:[(0,Ot.jsx)("div",{className:"card-modern p-6",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("h2",{className:"text-3xl font-bold text-gradient mb-2",children:[h.welcome,", ",s.full_name,"! \ud83c\udf1f"]}),(0,Ot.jsx)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:(new Date).toLocaleDateString("ar"===d?"ar-EG":"en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),o&&(0,Ot.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsx)("div",{className:"text-sm text-gray-500 mb-1",children:h.todaySelfie}),(0,Ot.jsx)("img",{src:o,alt:"Today's selfie",className:"w-16 h-16 rounded-full object-cover border-4 border-green-500"})]}),(0,Ot.jsx)("button",{onClick:()=>r(!0),className:"btn-secondary text-sm px-3 py-1",children:h.retakeSelfie})]})]})}),(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udcca"}),(0,Ot.jsx)("span",{children:h.todayStats})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Ot.jsxs)("div",{className:"text-center p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:t.today_visits||0}),(0,Ot.jsx)("div",{className:"text-sm text-gray-600",children:h.visitsToday})]}),(0,Ot.jsxs)("div",{className:"text-center p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-green-600",children:t.today_orders||0}),(0,Ot.jsx)("div",{className:"text-sm text-gray-600",children:h.ordersToday})]}),(0,Ot.jsxs)("div",{className:"text-center p-4 bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-purple-600",children:t.clinics_added||0}),(0,Ot.jsx)("div",{className:"text-sm text-gray-600",children:h.clinicsAdded})]}),(0,Ot.jsxs)("div",{className:"text-center p-4 bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg",children:[(0,Ot.jsxs)("div",{className:"text-3xl font-bold text-orange-600",children:[t.efficiency_rate||"85","%"]}),(0,Ot.jsx)("div",{className:"text-sm text-gray-600",children:h.efficiency})]})]})]}),(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\u26a1"}),(0,Ot.jsx)("span",{children:h.quickActions})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Ot.jsxs)("button",{className:"btn-primary flex flex-col items-center gap-2 py-6",children:[(0,Ot.jsx)("span",{className:"text-3xl",children:"\ud83d\udc68\u200d\u2695\ufe0f"}),(0,Ot.jsx)("span",{children:h.newVisit})]}),(0,Ot.jsxs)("button",{className:"btn-success flex flex-col items-center gap-2 py-6",children:[(0,Ot.jsx)("span",{className:"text-3xl",children:"\ud83d\udce6"}),(0,Ot.jsx)("span",{children:h.newOrder})]}),(0,Ot.jsxs)("button",{className:"btn-info flex flex-col items-center gap-2 py-6",children:[(0,Ot.jsx)("span",{className:"text-3xl",children:"\ud83c\udfe5"}),(0,Ot.jsx)("span",{children:h.addClinic})]}),(0,Ot.jsxs)("button",{onClick:()=>i(!0),className:"btn-warning flex flex-col items-center gap-2 py-6",children:[(0,Ot.jsx)("span",{className:"text-3xl",children:"\ud83d\udccb"}),(0,Ot.jsx)("span",{children:h.viewPlan})]})]})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udcc8"}),(0,Ot.jsx)("span",{children:"ar"===d?"\u0623\u062f\u0627\u0621 \u0627\u0644\u0623\u0633\u0628\u0648\u0639":"Weekly Performance"})]}),(0,Ot.jsx)("div",{className:"h-64 bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg flex items-center justify-center",children:(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udcca"}),(0,Ot.jsx)("p",{className:"text-gray-600",children:"ar"===d?"\u0631\u0633\u0645 \u0628\u064a\u0627\u0646\u064a \u0644\u0623\u062f\u0627\u0626\u0643 \u0627\u0644\u0623\u0633\u0628\u0648\u0639\u064a":"Your Weekly Performance Chart"})]})})]}),(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83c\udfc6"}),(0,Ot.jsx)("span",{children:"ar"===d?"\u0625\u0646\u062c\u0627\u0632\u0627\u062a \u0627\u0644\u0634\u0647\u0631":"Monthly Achievements"})]}),(0,Ot.jsxs)("div",{className:"space-y-3",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ot.jsx)("span",{className:"text-2xl",children:"\ud83e\udd47"}),(0,Ot.jsx)("span",{className:"font-medium",children:"ar"===d?"\u0623\u0641\u0636\u0644 \u0645\u0646\u062f\u0648\u0628 \u0644\u0644\u0634\u0647\u0631":"Top Rep of the Month"})]}),(0,Ot.jsx)("span",{className:"text-yellow-600 font-bold",children:"ar"===d?"\u0645\u0643\u062a\u0645\u0644":"Achieved"})]}),(0,Ot.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ot.jsx)("span",{className:"text-2xl",children:"\ud83c\udfaf"}),(0,Ot.jsx)("span",{className:"font-medium",children:"ar"===d?"\u062a\u062d\u0642\u064a\u0642 \u0647\u062f\u0641 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a":"Visits Target Met"})]}),(0,Ot.jsx)("span",{className:"text-blue-600 font-bold",children:"95%"})]}),(0,Ot.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ot.jsx)("span",{className:"text-2xl",children:"\ud83d\udcb0"}),(0,Ot.jsx)("span",{className:"font-medium",children:"ar"===d?"\u062a\u062d\u0642\u064a\u0642 \u0647\u062f\u0641 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a":"Sales Target Met"})]}),(0,Ot.jsx)("span",{className:"text-green-600 font-bold",children:"110%"})]})]})]})]})]})}),n&&(0,Ot.jsx)(ds,{onCapture:e=>{c(e),r(!1),i(!0)},onSkip:()=>{r(!1),i(!0)}}),l&&(0,Ot.jsx)(us,{user:s,onClose:()=>i(!1)})]})},Cs=()=>{const[e,t]=(0,a.useState)({clinic_name:"",clinic_phone:"",doctor_name:"",clinic_class:"",doctor_address:"",clinic_manager_name:"",address:"",notes:"",clinic_image:""}),[s,n]=(0,a.useState)(null),[r,l]=(0,a.useState)(""),[i,o]=(0,a.useState)(!1),[c,u]=(0,a.useState)(""),[m,h]=(0,a.useState)("");(0,a.useEffect)((()=>{x()}),[]);const x=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((async e=>{const t={latitude:e.coords.latitude,longitude:e.coords.longitude};n(t);try{l("\u0627\u0644\u0645\u0648\u0642\u0639: ".concat(t.latitude.toFixed(6),", ").concat(t.longitude.toFixed(6)))}catch(c){l("".concat(t.latitude.toFixed(6),", ").concat(t.longitude.toFixed(6)))}}),(e=>{u("\u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u0645\u0648\u0642\u0639\u0643 \u0627\u0644\u062d\u0627\u0644\u064a. \u062a\u0623\u0643\u062f \u0645\u0646 \u062a\u0641\u0639\u064a\u0644 GPS")}),{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4}):u("\u0627\u0644\u0645\u062a\u0635\u0641\u062d \u0644\u0627 \u064a\u062f\u0639\u0645 \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0645\u0648\u0642\u0639")};return(0,Ot.jsxs)(Ot.Fragment,{children:[(0,Ot.jsx)($t,{}),(0,Ot.jsxs)("div",{className:"card-modern p-8 page-transition",children:[(0,Ot.jsxs)("div",{className:"flex items-center mb-8",children:[(0,Ot.jsx)("div",{className:"w-16 h-16 card-gradient-orange rounded-full flex items-center justify-center ml-4 glow-pulse",children:(0,Ot.jsx)("span",{className:"text-3xl",children:"\ud83c\udfe5"})}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h2",{className:"text-3xl font-bold text-gradient",children:"\u062a\u0633\u062c\u064a\u0644 \u0639\u064a\u0627\u062f\u0629 \u062c\u062f\u064a\u062f\u0629"}),(0,Ot.jsx)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:"\u0623\u0636\u0641 \u0639\u064a\u0627\u062f\u0629 \u0637\u0628\u064a\u0629 \u062c\u062f\u064a\u062f\u0629 \u0625\u0644\u0649 \u0627\u0644\u0646\u0638\u0627\u0645"})]})]}),c&&(0,Ot.jsxs)("div",{className:"alert-modern alert-error mb-6 scale-in",children:[(0,Ot.jsx)("span",{className:"ml-2",children:"\u26a0\ufe0f"}),c]}),m&&(0,Ot.jsxs)("div",{className:"alert-modern alert-success mb-6 scale-in",children:[(0,Ot.jsx)("span",{className:"ml-2",children:"\u2705"}),m]}),(0,Ot.jsxs)("form",{onSubmit:async n=>{if(n.preventDefault(),s){o(!0),u("");try{const n=localStorage.getItem("token"),a=d(d({},e),{},{doctor_specialty:e.clinic_class,latitude:s.latitude,longitude:s.longitude});await Tt.post("".concat(Lt,"/clinic-requests"),a,{headers:{Authorization:"Bearer ".concat(n)}}),h("\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u0637\u0644\u0628 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0639\u064a\u0627\u062f\u0629 \u0628\u0646\u062c\u0627\u062d. \u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0645\u062f\u064a\u0631"),t({clinic_name:"",clinic_phone:"",doctor_name:"",clinic_class:"",doctor_address:"",clinic_manager_name:"",address:"",notes:"",clinic_image:""})}catch(c){var a,r;u((null===(a=c.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.detail)||"\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628")}finally{o(!1)}}else u("\u0644\u0627 \u064a\u0645\u0643\u0646 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0639\u064a\u0627\u062f\u0629 \u0628\u062f\u0648\u0646 \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0645\u0648\u0642\u0639")},className:"space-y-8 form-modern",children:[(0,Ot.jsxs)("div",{className:"card-gradient-success p-6 rounded-2xl",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-3",children:[(0,Ot.jsx)("span",{className:"text-2xl",children:"\ud83d\uddfa\ufe0f"}),(0,Ot.jsx)("span",{children:"\u0627\u0644\u0645\u0648\u0642\u0639 \u0627\u0644\u062c\u063a\u0631\u0627\u0641\u064a \u0627\u0644\u062d\u0627\u0644\u064a"})]}),(0,Ot.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s?(0,Ot.jsxs)(Ot.Fragment,{children:[(0,Ot.jsxs)("div",{className:"glass-effect p-4 rounded-xl",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Ot.jsx)("span",{className:"text-xl",children:"\ud83d\udccd"}),(0,Ot.jsx)("span",{className:"font-bold",children:"\u0627\u0644\u0625\u062d\u062f\u0627\u062b\u064a\u0627\u062a:"})]}),(0,Ot.jsxs)("p",{className:"text-sm font-mono",children:[s.latitude.toFixed(6),", ",s.longitude.toFixed(6)]})]}),(0,Ot.jsxs)("div",{className:"glass-effect p-4 rounded-xl",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Ot.jsx)("span",{className:"text-xl",children:"\ud83c\udfe0"}),(0,Ot.jsx)("span",{className:"font-bold",children:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646:"})]}),(0,Ot.jsx)("p",{className:"text-sm",children:r})]})]}):(0,Ot.jsx)("div",{className:"col-span-2 text-center",children:(0,Ot.jsx)("div",{className:"gps-indicator",children:(0,Ot.jsx)("span",{children:"\u062c\u0627\u0631\u064a \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0645\u0648\u0642\u0639..."})})})}),(0,Ot.jsx)("div",{className:"mt-6 h-48 glass-effect rounded-xl flex items-center justify-center",children:(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsx)("span",{className:"text-4xl mb-2 block",children:"\ud83d\uddfa\ufe0f"}),(0,Ot.jsx)("p",{className:"font-bold",children:"\u062e\u0631\u064a\u0637\u0629 Google Maps"}),(0,Ot.jsx)("p",{className:"text-sm opacity-75",children:"\u0633\u064a\u062a\u0645 \u0639\u0631\u0636 \u0627\u0644\u0645\u0648\u0642\u0639 \u0647\u0646\u0627 \u0628\u0639\u062f \u0625\u0636\u0627\u0641\u0629 \u0645\u0641\u062a\u0627\u062d \u0627\u0644\u062e\u0631\u0627\u0626\u0637"})]})})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{children:(0,Ot.jsx)("span",{className:"text-shadow-glow",children:"\ud83c\udfe5 \u0627\u0633\u0645 \u0627\u0644\u0639\u064a\u0627\u062f\u0629"})}),(0,Ot.jsx)("input",{type:"text",value:e.clinic_name,onChange:s=>t(d(d({},e),{},{clinic_name:s.target.value})),className:"w-full",placeholder:"\u0645\u062b\u0627\u0644: \u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0646\u0648\u0631 \u0627\u0644\u0637\u0628\u064a\u0629",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{children:(0,Ot.jsx)("span",{className:"text-shadow-glow",children:"\ud83d\udcde \u0631\u0642\u0645 \u0627\u0644\u0639\u064a\u0627\u062f\u0629"})}),(0,Ot.jsx)("input",{type:"tel",value:e.clinic_phone,onChange:s=>t(d(d({},e),{},{clinic_phone:s.target.value})),className:"w-full",placeholder:"0501234567"})]})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{children:(0,Ot.jsx)("span",{className:"text-shadow-glow",children:"\ud83d\udc68\u200d\u2695\ufe0f \u0627\u0633\u0645 \u0627\u0644\u0637\u0628\u064a\u0628"})}),(0,Ot.jsx)("input",{type:"text",value:e.doctor_name,onChange:s=>t(d(d({},e),{},{doctor_name:s.target.value})),className:"w-full",placeholder:"\u062f. \u0623\u062d\u0645\u062f \u0645\u062d\u0645\u062f",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{children:(0,Ot.jsx)("span",{className:"text-shadow-glow",children:"\ud83c\udfc6 \u062a\u0635\u0646\u064a\u0641 \u0627\u0644\u0639\u064a\u0627\u062f\u0629"})}),(0,Ot.jsxs)("select",{value:e.clinic_class,onChange:s=>t(d(d({},e),{},{clinic_class:s.target.value})),className:"w-full",required:!0,children:[(0,Ot.jsx)("option",{value:"",children:"\u0627\u062e\u062a\u0631 \u062a\u0635\u0646\u064a\u0641 \u0627\u0644\u0639\u064a\u0627\u062f\u0629"}),(0,Ot.jsx)("option",{value:"A Class",children:"A Class - \u0639\u064a\u0627\u062f\u0629 \u062f\u0631\u062c\u0629 \u0623\u0648\u0644\u0649"}),(0,Ot.jsx)("option",{value:"B Class",children:"B Class - \u0639\u064a\u0627\u062f\u0629 \u062f\u0631\u062c\u0629 \u062b\u0627\u0646\u064a\u0629"}),(0,Ot.jsx)("option",{value:"C Class",children:"C Class - \u0639\u064a\u0627\u062f\u0629 \u062f\u0631\u062c\u0629 \u062b\u0627\u0644\u062b\u0629"})]})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{children:(0,Ot.jsx)("span",{className:"text-shadow-glow",children:"\ud83c\udfe0 \u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0637\u0628\u064a\u0628"})}),(0,Ot.jsx)("input",{type:"text",value:e.doctor_address,onChange:s=>t(d(d({},e),{},{doctor_address:s.target.value})),className:"w-full",placeholder:"\u062d\u064a \u0627\u0644\u0645\u0644\u0632\u060c \u0634\u0627\u0631\u0639 \u0627\u0644\u0645\u0644\u0643 \u0641\u0647\u062f",required:!0})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{children:(0,Ot.jsx)("span",{className:"text-shadow-glow",children:"\ud83d\udc54 \u0627\u0644\u0645\u0633\u0624\u0648\u0644 \u0639\u0646 \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0639\u064a\u0627\u062f\u0629"})}),(0,Ot.jsx)("input",{type:"text",value:e.clinic_manager_name,onChange:s=>t(d(d({},e),{},{clinic_manager_name:s.target.value})),className:"w-full",placeholder:"\u0627\u0633\u0645 \u0645\u062f\u064a\u0631 \u0627\u0644\u0639\u064a\u0627\u062f\u0629",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{children:(0,Ot.jsx)("span",{className:"text-shadow-glow",children:"\ud83d\udccd \u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0639\u064a\u0627\u062f\u0629"})}),(0,Ot.jsx)("input",{type:"text",value:e.address,onChange:s=>t(d(d({},e),{},{address:s.target.value})),className:"w-full",placeholder:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0643\u0627\u0645\u0644 \u0644\u0644\u0639\u064a\u0627\u062f\u0629",required:!0})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{children:(0,Ot.jsx)("span",{className:"text-shadow-glow",children:"\ud83d\udcf8 \u0635\u0648\u0631\u0629 \u0627\u0644\u0639\u064a\u0627\u062f\u0629 \u0645\u0646 \u0627\u0644\u062e\u0627\u0631\u062c (\u0627\u062e\u062a\u064a\u0627\u0631\u064a)"})}),(0,Ot.jsxs)("div",{className:"mt-3",children:[(0,Ot.jsx)("input",{type:"file",accept:"image/*",onChange:s=>{const n=s.target.files[0];if(n){if(n.size>5242880)return void u("\u062d\u062c\u0645 \u0627\u0644\u0635\u0648\u0631\u0629 \u064a\u062c\u0628 \u0623\u0646 \u064a\u0643\u0648\u0646 \u0623\u0642\u0644 \u0645\u0646 5 \u0645\u064a\u062c\u0627\u0628\u0627\u064a\u062a");const s=new FileReader;s.onload=s=>{t(d(d({},e),{},{clinic_image:s.target.result}))},s.readAsDataURL(n)}},className:"w-full p-4 border-2 border-dashed border-orange-300 rounded-xl hover:border-orange-500 transition-colors",style:{background:"var(--glass-bg)",borderColor:"var(--brand-orange)",borderOpacity:.3}}),e.clinic_image&&(0,Ot.jsx)("div",{className:"mt-4",children:(0,Ot.jsx)("img",{src:e.clinic_image,alt:"\u0635\u0648\u0631\u0629 \u0627\u0644\u0639\u064a\u0627\u062f\u0629",className:"h-48 w-full object-cover rounded-xl shadow-lg"})})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{children:(0,Ot.jsx)("span",{className:"text-shadow-glow",children:"\ud83d\udcdd \u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0627\u0644\u0639\u064a\u0627\u062f\u0629"})}),(0,Ot.jsx)("textarea",{value:e.notes,onChange:s=>t(d(d({},e),{},{notes:s.target.value})),rows:5,className:"w-full",placeholder:"\u0623\u0636\u0641 \u0623\u064a \u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0645\u0647\u0645\u0629 \u0639\u0646 \u0627\u0644\u0639\u064a\u0627\u062f\u0629\u060c \u0633\u0627\u0639\u0627\u062a \u0627\u0644\u0639\u0645\u0644\u060c \u0623\u0648 \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u062e\u0627\u0635\u0629...",required:!0})]}),(0,Ot.jsx)("button",{type:"submit",disabled:i||!s,className:"w-full btn-primary text-xl py-4 neon-glow",children:i?(0,Ot.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,Ot.jsx)("div",{className:"loading-shimmer w-6 h-6 rounded-full"}),(0,Ot.jsx)("span",{children:"\u062c\u0627\u0631\u064a \u0627\u0644\u0625\u0631\u0633\u0627\u0644..."})]}):(0,Ot.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,Ot.jsx)("span",{children:"\ud83d\ude80"}),(0,Ot.jsx)("span",{children:"\u0625\u0631\u0633\u0627\u0644 \u0637\u0644\u0628 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0639\u064a\u0627\u062f\u0629"})]})})]})]})]})},Es=()=>{const[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)([]),[r,l]=(0,a.useState)([]),[i,o]=(0,a.useState)({doctor_id:"",order_type:"DEMO",warehouse_id:"",notes:"",items:[]}),[c,u]=(0,a.useState)([]),[m,h]=(0,a.useState)(!1),[x,f]=(0,a.useState)(""),[p,g]=(0,a.useState)("");(0,a.useEffect)((()=>{b(),v(),y()}),[]);const b=async()=>{try{const e=localStorage.getItem("token"),s=await Tt.get("".concat(Lt,"/doctors"),{headers:{Authorization:"Bearer ".concat(e)}});t(s.data.filter((e=>e.approved_by)))}catch(x){console.error("Error fetching doctors:",x)}},v=async()=>{try{const e=localStorage.getItem("token"),t=await Tt.get("".concat(Lt,"/products"),{headers:{Authorization:"Bearer ".concat(e)}});n(t.data)}catch(x){console.error("Error fetching products:",x)}},y=async()=>{try{const e=localStorage.getItem("token"),t=await Tt.get("".concat(Lt,"/warehouses"),{headers:{Authorization:"Bearer ".concat(e)}});l(t.data)}catch(x){console.error("Error fetching warehouses:",x)}};return(0,Ot.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,Ot.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"\u0639\u0645\u0644 \u0637\u0644\u0628\u064a\u0629"}),x&&(0,Ot.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-4",children:x}),p&&(0,Ot.jsx)("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg mb-4",children:p}),(0,Ot.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),0!==c.length){h(!0),f("");try{const t=localStorage.getItem("token"),s=e.find((e=>e.id===i.doctor_id)),n=d(d({},i),{},{clinic_id:s.clinic_id,items:c.map((e=>({product_id:e.id,quantity:e.quantity})))});await Tt.post("".concat(Lt,"/orders"),n,{headers:{Authorization:"Bearer ".concat(t)}}),g("\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628\u064a\u0629 \u0628\u0646\u062c\u0627\u062d. \u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0645\u062f\u064a\u0631"),o({doctor_id:"",order_type:"DEMO",warehouse_id:"",notes:"",items:[]}),u([])}catch(x){var s,n;f((null===(s=x.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.detail)||"\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628\u064a\u0629")}finally{h(!1)}}else f("\u064a\u062c\u0628 \u0625\u0636\u0627\u0641\u0629 \u0645\u0646\u062a\u062c \u0648\u0627\u062d\u062f \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644")},className:"space-y-6",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0637\u0628\u064a\u0628"}),(0,Ot.jsxs)("select",{value:i.doctor_id,onChange:e=>o(d(d({},i),{},{doctor_id:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,Ot.jsx)("option",{value:"",children:"-- \u0627\u062e\u062a\u0631 \u0627\u0644\u0637\u0628\u064a\u0628 --"}),e.map((e=>(0,Ot.jsxs)("option",{value:e.id,children:["\u062f. ",e.name," - ",e.specialty]},e.id)))]})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0646\u0648\u0639 \u0627\u0644\u0637\u0644\u0628\u064a\u0629"}),(0,Ot.jsxs)("select",{value:i.order_type,onChange:e=>o(d(d({},i),{},{order_type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,Ot.jsx)("option",{value:"DEMO",children:"\u062f\u064a\u0645\u0648 (\u0645\u062c\u0627\u0646\u064a)"}),(0,Ot.jsx)("option",{value:"SALE",children:"\u0623\u0648\u0631\u062f\u0631 \u0645\u062f\u0641\u0648\u0639"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0645\u062e\u0632\u0646"}),(0,Ot.jsxs)("select",{value:i.warehouse_id,onChange:e=>o(d(d({},i),{},{warehouse_id:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,Ot.jsx)("option",{value:"",children:"-- \u0627\u062e\u062a\u0631 \u0627\u0644\u0645\u062e\u0632\u0646 --"}),r.map((e=>(0,Ot.jsxs)("option",{value:e.id,children:[e.name," - ",e.location]},e.id)))]})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0625\u0636\u0627\u0641\u0629 \u0645\u0646\u062a\u062c\u0627\u062a"}),(0,Ot.jsxs)("select",{onChange:e=>{e.target.value&&((e=>{const t=s.find((t=>t.id===e));t&&!c.find((t=>t.id===e))&&u([...c,d(d({},t),{},{quantity:1})])})(e.target.value),e.target.value="")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,Ot.jsx)("option",{value:"",children:"-- \u0627\u062e\u062a\u0631 \u0645\u0646\u062a\u062c \u0644\u0625\u0636\u0627\u0641\u062a\u0647 --"}),s.map((e=>(0,Ot.jsxs)("option",{value:e.id,children:[e.name," - ",e.price," \u0631\u064a\u0627\u0644 (",e.unit,")"]},e.id)))]})]}),c.length>0&&(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u0645\u062e\u062a\u0627\u0631\u0629"}),(0,Ot.jsxs)("div",{className:"space-y-3",children:[c.map((e=>(0,Ot.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsx)("h4",{className:"font-medium text-gray-800",children:e.name}),(0,Ot.jsxs)("p",{className:"text-sm text-gray-600",children:[e.price," \u0631\u064a\u0627\u0644 / ",e.unit]})]}),(0,Ot.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ot.jsx)("input",{type:"number",min:"1",value:e.quantity,onChange:t=>{return s=e.id,n=t.target.value,void u(c.map((e=>e.id===s?d(d({},e),{},{quantity:parseInt(n)}):e)));var s,n},className:"w-20 px-2 py-1 border border-gray-300 rounded text-center"}),(0,Ot.jsxs)("span",{className:"text-sm font-medium text-gray-600",children:[(e.price*e.quantity).toFixed(2)," \u0631\u064a\u0627\u0644"]}),(0,Ot.jsx)("button",{type:"button",onClick:()=>{return t=e.id,void u(c.filter((e=>e.id!==t)));var t},className:"text-red-600 hover:text-red-800 text-sm",children:"\u062d\u0630\u0641"})]})]},e.id))),(0,Ot.jsx)("div",{className:"bg-blue-50 p-3 rounded-lg",children:(0,Ot.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ot.jsx)("span",{className:"font-semibold text-blue-800",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0637\u0644\u0628\u064a\u0629:"}),(0,Ot.jsxs)("span",{className:"text-xl font-bold text-blue-600",children:[c.reduce(((e,t)=>e+t.price*t.quantity),0).toFixed(2)," \u0631\u064a\u0627\u0644"]})]})})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0627\u0644\u0623\u0648\u0631\u062f\u0631"}),(0,Ot.jsx)("textarea",{value:i.notes,onChange:e=>o(d(d({},i),{},{notes:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"\u0623\u0636\u0641 \u0623\u064a \u0645\u0644\u0627\u062d\u0638\u0627\u062a \u062e\u0627\u0635\u0629 \u0628\u0627\u0644\u0637\u0644\u0628\u064a\u0629..."})]}),(0,Ot.jsx)("button",{type:"submit",disabled:m||0===c.length,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 transition duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:m?"\u062c\u0627\u0631\u064a \u0627\u0644\u0625\u0631\u0633\u0627\u0644...":"\u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628\u064a\u0629"})]})]})},As=()=>{const[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)([]),[r,l]=(0,a.useState)(""),[i,o]=(0,a.useState)(""),[c,d]=(0,a.useState)(""),[u,m]=(0,a.useState)(!1),[h,x]=(0,a.useState)(null),[f,p]=(0,a.useState)(""),[g,b]=(0,a.useState)(""),[v,y]=(0,a.useState)(!1),[j,N]=(0,a.useState)(null),[w,k]=(0,a.useState)([]),[_,S]=(0,a.useState)(null);(0,a.useEffect)((()=>{A(),P(),C()}),[]);const C=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((e=>{x({latitude:e.coords.latitude,longitude:e.coords.longitude})}),(e=>{p("\u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u0645\u0648\u0642\u0639\u0643 \u0627\u0644\u062d\u0627\u0644\u064a. \u062a\u0623\u0643\u062f \u0645\u0646 \u062a\u0641\u0639\u064a\u0644 GPS")})):p("\u0627\u0644\u0645\u062a\u0635\u0641\u062d \u0644\u0627 \u064a\u062f\u0639\u0645 \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0645\u0648\u0642\u0639")},E=async(e,t,s)=>{try{const n=localStorage.getItem("token");await Tt.post("".concat(Lt,"/visits/").concat(e,"/voice-notes"),{audio_data:t,duration:Math.round(s)},{headers:{Authorization:"Bearer ".concat(n)}}),b("\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0629 \u0627\u0644\u0635\u0648\u062a\u064a\u0629 \u0628\u0646\u062c\u0627\u062d")}catch(f){console.error("Error adding voice note:",f),p("\u062e\u0637\u0623 \u0641\u064a \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0629 \u0627\u0644\u0635\u0648\u062a\u064a\u0629")}},A=async()=>{try{const e=localStorage.getItem("token"),s=await Tt.get("".concat(Lt,"/doctors"),{headers:{Authorization:"Bearer ".concat(e)}});t(s.data)}catch(f){console.error("Error fetching doctors:",f)}},P=async()=>{try{const e=localStorage.getItem("token"),t=await Tt.get("".concat(Lt,"/clinics"),{headers:{Authorization:"Bearer ".concat(e)}});n(t.data)}catch(f){console.error("Error fetching clinics:",f)}};return(0,Ot.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,Ot.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"\u062a\u0633\u062c\u064a\u0644 \u0632\u064a\u0627\u0631\u0629 \u062c\u062f\u064a\u062f\u0629"}),(0,Ot.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),h){m(!0),p(""),b("");try{const e=localStorage.getItem("token"),t=await Tt.post("".concat(Lt,"/visits"),{doctor_id:r,clinic_id:i,latitude:h.latitude,longitude:h.longitude,notes:c},{headers:{Authorization:"Bearer ".concat(e)}});S(t.data.visit_id);for(const s of w)await E(t.data.visit_id,s.audio,s.duration);k([]),b("\u062a\u0645 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0629 \u0628\u0646\u062c\u0627\u062d"),l(""),o(""),d(""),S(null)}catch(f){var t,s;p((null===(t=f.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.detail)||"\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0629")}finally{m(!1)}}else p("\u0644\u0627 \u064a\u0645\u0643\u0646 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0629 \u0628\u062f\u0648\u0646 \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0645\u0648\u0642\u0639")},className:"space-y-6",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0637\u0628\u064a\u0628"}),(0,Ot.jsxs)("select",{value:r,onChange:e=>l(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,Ot.jsx)("option",{value:"",children:"-- \u0627\u062e\u062a\u0631 \u0627\u0644\u0637\u0628\u064a\u0628 --"}),e.map((e=>(0,Ot.jsxs)("option",{value:e.id,children:["\u062f. ",e.name," - ",e.specialty]},e.id)))]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0639\u064a\u0627\u062f\u0629"}),(0,Ot.jsxs)("select",{value:i,onChange:e=>o(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,Ot.jsx)("option",{value:"",children:"-- \u0627\u062e\u062a\u0631 \u0627\u0644\u0639\u064a\u0627\u062f\u0629 --"}),s.map((e=>(0,Ot.jsxs)("option",{value:e.id,children:[e.name," - ",e.address]},e.id)))]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0627\u0644\u0632\u064a\u0627\u0631\u0629"}),(0,Ot.jsx)("textarea",{value:c,onChange:e=>d(e.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"\u0623\u0636\u0641 \u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0629...",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0635\u0648\u062a\u064a\u0629 (\u0627\u062e\u062a\u064a\u0627\u0631\u064a\u0629)"}),(0,Ot.jsxs)("div",{className:"border border-gray-300 rounded-lg p-4",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,Ot.jsx)("button",{type:"button",onClick:v?()=>{j&&v&&(j.stop(),y(!1),N(null))}:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=new MediaRecorder(e),s=[];t.ondataavailable=e=>s.push(e.data),t.onstop=async()=>{const t=new Blob(s,{type:"audio/wav"}),n=new FileReader;n.onloadend=async()=>{const e=n.result;_?await E(_,e,t.size/1e3):k([...w,{audio:e,duration:t.size/1e3}])},n.readAsDataURL(t),e.getTracks().forEach((e=>e.stop()))},t.start(),N(t),y(!0)}catch(f){console.error("Error starting recording:",f),p("\u062e\u0637\u0623 \u0641\u064a \u0628\u062f\u0621 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0635\u0648\u062a")}},className:"px-6 py-3 rounded-lg font-medium transition-colors ".concat(v?"bg-red-500 text-white hover:bg-red-600":"bg-green-500 text-white hover:bg-green-600"),children:v?(0,Ot.jsxs)(Ot.Fragment,{children:[(0,Ot.jsx)("span",{className:"ml-2",children:"\ud83d\uded1"}),"\u0625\u064a\u0642\u0627\u0641 \u0627\u0644\u062a\u0633\u062c\u064a\u0644"]}):(0,Ot.jsxs)(Ot.Fragment,{children:[(0,Ot.jsx)("span",{className:"ml-2",children:"\ud83c\udfa4"}),"\u0628\u062f\u0621 \u062a\u0633\u062c\u064a\u0644 \u0635\u0648\u062a\u064a"]})}),v&&(0,Ot.jsxs)("div",{className:"flex items-center gap-2 text-red-600",children:[(0,Ot.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),(0,Ot.jsx)("span",{className:"text-sm font-medium",children:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u0633\u062c\u064a\u0644..."})]})]}),w.length>0&&(0,Ot.jsxs)("div",{className:"space-y-2",children:[(0,Ot.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0627\u0644\u0635\u0648\u062a\u064a\u0629 \u0627\u0644\u0645\u0633\u062c\u0644\u0629:"}),w.map(((e,t)=>(0,Ot.jsxs)("div",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded-lg",children:[(0,Ot.jsx)("span",{className:"text-sm",children:"\ud83c\udfb5"}),(0,Ot.jsx)("audio",{controls:!0,className:"flex-1 h-8",children:(0,Ot.jsx)("source",{src:e.audio,type:"audio/wav"})}),(0,Ot.jsxs)("span",{className:"text-xs text-gray-500",children:[Math.round(e.duration),"\u062b"]})]},t)))]}),(0,Ot.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"\ud83d\udca1 \u064a\u0645\u0643\u0646\u0643 \u062a\u0633\u062c\u064a\u0644 \u0639\u062f\u0629 \u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0635\u0648\u062a\u064a\u0629 \u0644\u062d\u0641\u0638 \u062a\u0641\u0627\u0635\u064a\u0644 \u0645\u0647\u0645\u0629 \u0623\u062b\u0646\u0627\u0621 \u0627\u0644\u0632\u064a\u0627\u0631\u0629"})]})]}),(0,Ot.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg",children:(0,Ot.jsxs)("div",{className:"flex items-center",children:[(0,Ot.jsx)("div",{className:"text-blue-600 ml-2",children:"\ud83d\udccd"}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"\u0627\u0644\u0645\u0648\u0642\u0639 \u0627\u0644\u062d\u0627\u0644\u064a"}),h?(0,Ot.jsxs)("p",{className:"text-xs text-blue-600",children:[h.latitude.toFixed(6),", ",h.longitude.toFixed(6)]}):(0,Ot.jsx)("p",{className:"text-xs text-blue-600",children:"\u062c\u0627\u0631\u064a \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0645\u0648\u0642\u0639..."})]})]})}),f&&(0,Ot.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:f}),g&&(0,Ot.jsx)("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg",children:g}),(0,Ot.jsx)("button",{type:"submit",disabled:u||!h,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 transition duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:u?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u0633\u062c\u064a\u0644...":"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0629"})]})]})},Ps=e=>{let{item:t,warehouses:s,onClose:n,onSave:r,language:l}=e;const[i,o]=(0,a.useState)({quantity:(null===t||void 0===t?void 0:t.quantity)||0,minimum_stock:(null===t||void 0===t?void 0:t.minimum_stock)||0,warehouse_id:(null===t||void 0===t?void 0:t.warehouse_id)||"",product_id:(null===t||void 0===t?void 0:t.product_id)||""}),c="ar"===l?{editInventory:"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u062e\u0632\u0648\u0646",product:"\u0627\u0644\u0645\u0646\u062a\u062c",warehouse:"\u0627\u0644\u0645\u062e\u0632\u0646",currentQuantity:"\u0627\u0644\u0643\u0645\u064a\u0629 \u0627\u0644\u062d\u0627\u0644\u064a\u0629",newQuantity:"\u0627\u0644\u0643\u0645\u064a\u0629 \u0627\u0644\u062c\u062f\u064a\u062f\u0629",minimumStock:"\u0627\u0644\u062d\u062f \u0627\u0644\u0623\u062f\u0646\u0649 \u0644\u0644\u0645\u062e\u0632\u0648\u0646",save:"\u062d\u0641\u0638",cancel:"\u0625\u0644\u063a\u0627\u0621"}:{editInventory:"Edit Inventory",product:"Product",warehouse:"Warehouse",currentQuantity:"Current Quantity",newQuantity:"New Quantity",minimumStock:"Minimum Stock",save:"Save",cancel:"Cancel"};return(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Ot.jsxs)("div",{className:"modal-modern p-6 w-full max-w-md",children:[(0,Ot.jsx)("h3",{className:"text-xl font-bold mb-4",children:c.editInventory}),(0,Ot.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r(i)},className:"space-y-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("label",{className:"block text-sm font-bold mb-2",children:[c.product,":"]}),(0,Ot.jsx)("input",{type:"text",value:(null===t||void 0===t?void 0:t.product_name)||"",disabled:!0,className:"form-modern w-full bg-gray-100"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("label",{className:"block text-sm font-bold mb-2",children:[c.warehouse,":"]}),(0,Ot.jsx)("select",{value:i.warehouse_id,onChange:e=>o(d(d({},i),{},{warehouse_id:e.target.value})),className:"form-modern w-full",children:s.map((e=>(0,Ot.jsx)("option",{value:e.id,children:e.name},e.id)))})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("label",{className:"block text-sm font-bold mb-2",children:[c.currentQuantity,":"]}),(0,Ot.jsx)("input",{type:"text",value:(null===t||void 0===t?void 0:t.quantity)||0,disabled:!0,className:"form-modern w-full bg-gray-100"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("label",{className:"block text-sm font-bold mb-2",children:[c.newQuantity,":"]}),(0,Ot.jsx)("input",{type:"number",value:i.quantity,onChange:e=>o(d(d({},i),{},{quantity:parseInt(e.target.value)})),className:"form-modern w-full",min:"0"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("label",{className:"block text-sm font-bold mb-2",children:[c.minimumStock,":"]}),(0,Ot.jsx)("input",{type:"number",value:i.minimum_stock,onChange:e=>o(d(d({},i),{},{minimum_stock:parseInt(e.target.value)})),className:"form-modern w-full",min:"0"})]}),(0,Ot.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Ot.jsx)("button",{type:"submit",className:"btn-primary flex-1",children:c.save}),(0,Ot.jsx)("button",{type:"button",onClick:n,className:"btn-secondary flex-1",children:c.cancel})]})]})]})})},zs=e=>{let{item:t,onClose:s,language:n}=e;const a="ar"===n?{inventoryDetails:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0645\u062e\u0632\u0648\u0646",product:"\u0627\u0644\u0645\u0646\u062a\u062c",warehouse:"\u0627\u0644\u0645\u062e\u0632\u0646",category:"\u0627\u0644\u0641\u0626\u0629",quantity:"\u0627\u0644\u0643\u0645\u064a\u0629",minimumStock:"\u0627\u0644\u062d\u062f \u0627\u0644\u0623\u062f\u0646\u0649",unitPrice:"\u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0629",totalValue:"\u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a\u0629",lastUpdated:"\u0622\u062e\u0631 \u062a\u062d\u062f\u064a\u062b",status:"\u0627\u0644\u062d\u0627\u0644\u0629",inStock:"\u0645\u062a\u0648\u0641\u0631",lowStock:"\u0645\u062e\u0632\u0648\u0646 \u0645\u0646\u062e\u0641\u0636",outOfStock:"\u0646\u0641\u062f \u0627\u0644\u0645\u062e\u0632\u0648\u0646",close:"\u0625\u063a\u0644\u0627\u0642"}:{inventoryDetails:"Inventory Details",product:"Product",warehouse:"Warehouse",category:"Category",quantity:"Quantity",minimumStock:"Minimum Stock",unitPrice:"Unit Price",totalValue:"Total Value",lastUpdated:"Last Updated",status:"Status",inStock:"In Stock",lowStock:"Low Stock",outOfStock:"Out of Stock",close:"Close"},r=0===t.quantity?{text:a.outOfStock,color:"text-red-500"}:t.quantity<=t.minimum_stock?{text:a.lowStock,color:"text-yellow-500"}:{text:a.inStock,color:"text-green-500"};return(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Ot.jsxs)("div",{className:"modal-modern p-6 w-full max-w-lg",children:[(0,Ot.jsx)("h3",{className:"text-xl font-bold mb-4",children:a.inventoryDetails}),(0,Ot.jsxs)("div",{className:"space-y-4",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("label",{className:"block text-sm font-bold mb-1",children:[a.product,":"]}),(0,Ot.jsx)("p",{className:"text-sm",children:t.product_name})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("label",{className:"block text-sm font-bold mb-1",children:[a.warehouse,":"]}),(0,Ot.jsx)("p",{className:"text-sm",children:t.warehouse_name})]})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("label",{className:"block text-sm font-bold mb-1",children:[a.category,":"]}),(0,Ot.jsx)("p",{className:"text-sm",children:t.category||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("label",{className:"block text-sm font-bold mb-1",children:[a.status,":"]}),(0,Ot.jsx)("p",{className:"text-sm font-bold ".concat(r.color),children:r.text})]})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("label",{className:"block text-sm font-bold mb-1",children:[a.quantity,":"]}),(0,Ot.jsx)("p",{className:"text-lg font-bold",children:t.quantity})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("label",{className:"block text-sm font-bold mb-1",children:[a.minimumStock,":"]}),(0,Ot.jsx)("p",{className:"text-lg font-bold",children:t.minimum_stock})]})]}),t.unit_price&&(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("label",{className:"block text-sm font-bold mb-1",children:[a.unitPrice,":"]}),(0,Ot.jsxs)("p",{className:"text-sm",children:[t.unit_price," \u062c.\u0645"]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("label",{className:"block text-sm font-bold mb-1",children:[a.totalValue,":"]}),(0,Ot.jsxs)("p",{className:"text-sm font-bold",children:[(t.quantity*t.unit_price).toFixed(2)," \u062c.\u0645"]})]})]}),t.last_updated&&(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("label",{className:"block text-sm font-bold mb-1",children:[a.lastUpdated,":"]}),(0,Ot.jsx)("p",{className:"text-sm",children:new Date(t.last_updated).toLocaleString("ar"===n?"ar-EG":"en-US")})]})]}),(0,Ot.jsx)("div",{className:"flex justify-end pt-4 mt-4 border-t",children:(0,Ot.jsx)("button",{onClick:s,className:"btn-primary px-6",children:a.close})})]})})},Ts=e=>{let{inventory:t,warehouses:s,onRefresh:n,language:r}=e;const[l,i]=(0,a.useState)("all"),[o,c]=(0,a.useState)(""),[d,u]=(0,a.useState)("all"),[m,h]=(0,a.useState)(!1),[x,f]=(0,a.useState)(!1),[p,g]=(0,a.useState)(null),b="ar"===r?{inventoryTitle:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u062e\u0632\u0648\u0646 \u0627\u0644\u0634\u0627\u0645\u0644",warehouse:"\u0627\u0644\u0645\u062e\u0632\u0646",allWarehouses:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u062e\u0627\u0632\u0646",search:"\u0628\u062d\u062b \u0641\u064a \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a...",category:"\u0627\u0644\u0641\u0626\u0629",allCategories:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0641\u0626\u0627\u062a",productName:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c",quantity:"\u0627\u0644\u0643\u0645\u064a\u0629",minStock:"\u0623\u0642\u0644 \u0645\u062e\u0632\u0648\u0646",unitPrice:"\u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0629",totalValue:"\u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a\u0629",status:"\u0627\u0644\u062d\u0627\u0644\u0629",actions:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a",inStock:"\u0645\u062a\u0648\u0641\u0631",lowStock:"\u0646\u0642\u0635 \u0645\u062e\u0632\u0648\u0646",outOfStock:"\u0646\u0641\u062f \u0627\u0644\u0645\u062e\u0632\u0648\u0646",edit:"\u062a\u0639\u062f\u064a\u0644",view:"\u0639\u0631\u0636"}:{inventoryTitle:"Comprehensive Inventory Management",warehouse:"Warehouse",allWarehouses:"All Warehouses",search:"Search products...",category:"Category",allCategories:"All Categories",productName:"Product Name",quantity:"Quantity",minStock:"Min Stock",unitPrice:"Unit Price",totalValue:"Total Value",status:"Status",actions:"Actions",inStock:"In Stock",lowStock:"Low Stock",outOfStock:"Out of Stock",edit:"Edit",view:"View"},v=t.filter((e=>{const t="all"===l||e.warehouse===l,s=e.name.toLowerCase().includes(o.toLowerCase()),n="all"===d||e.category===d;return t&&s&&n})),y=[...new Set(t.map((e=>e.category)))];return(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udce6"}),(0,Ot.jsx)("span",{children:b.inventoryTitle})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("label",{className:"block text-sm font-bold mb-2",children:[b.warehouse,":"]}),(0,Ot.jsxs)("select",{value:l,onChange:e=>i(e.target.value),className:"form-modern w-full",children:[(0,Ot.jsx)("option",{value:"all",children:b.allWarehouses}),s.map((e=>(0,Ot.jsx)("option",{value:e.name,children:e.name},e.id)))]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("label",{className:"block text-sm font-bold mb-2",children:[b.search,":"]}),(0,Ot.jsx)("input",{type:"text",value:o,onChange:e=>c(e.target.value),placeholder:b.search,className:"form-modern w-full"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("label",{className:"block text-sm font-bold mb-2",children:[b.category,":"]}),(0,Ot.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"form-modern w-full",children:[(0,Ot.jsx)("option",{value:"all",children:b.allCategories}),y.map((e=>(0,Ot.jsx)("option",{value:e,children:e},e)))]})]}),(0,Ot.jsx)("div",{className:"flex items-end",children:(0,Ot.jsxs)("button",{onClick:n,className:"btn-primary w-full flex items-center justify-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udd04"}),(0,Ot.jsx)("span",{children:"ar"===r?"\u062a\u062d\u062f\u064a\u062b":"Refresh"})]})})]}),(0,Ot.jsx)("div",{className:"table-modern overflow-x-auto",children:(0,Ot.jsxs)("table",{className:"min-w-full",children:[(0,Ot.jsx)("thead",{children:(0,Ot.jsxs)("tr",{children:[(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:b.productName}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:b.warehouse}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:b.quantity}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:b.minStock}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:b.unitPrice}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:b.totalValue}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:b.status}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:b.actions})]})}),(0,Ot.jsx)("tbody",{children:v.map((e=>{const t=(e=>0===e.quantity?{text:b.outOfStock,color:"text-red-600",bg:"bg-red-100"}:e.quantity<=e.min_stock?{text:b.lowStock,color:"text-orange-600",bg:"bg-orange-100"}:{text:b.inStock,color:"text-green-600",bg:"bg-green-100"})(e),s=e.quantity*e.unit_price;return(0,Ot.jsxs)("tr",{className:"hover:bg-gray-50 hover:bg-opacity-5 transition-colors",children:[(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"font-medium text-lg",children:e.name}),(0,Ot.jsx)("div",{className:"text-sm text-gray-500",children:e.category})]})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("div",{className:"font-medium",children:e.warehouse})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("div",{className:"text-lg font-bold",children:e.quantity})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("div",{className:"text-sm text-gray-600",children:e.min_stock})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsxs)("div",{className:"font-medium",children:[e.unit_price.toFixed(2)," ","ar"===r?"\u062c\u0646\u064a\u0647":"EGP"]})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsxs)("div",{className:"text-lg font-bold text-green-600",children:[s.toFixed(2)," ","ar"===r?"\u062c\u0646\u064a\u0647":"EGP"]})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(t.bg," ").concat(t.color),children:t.text})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsxs)("div",{className:"flex gap-2",children:[(0,Ot.jsx)("button",{className:"btn-info text-xs px-3 py-1",title:b.view,onClick:()=>{g(e),f(!0)},children:"\ud83d\udc41\ufe0f"}),(0,Ot.jsx)("button",{className:"btn-primary text-xs px-3 py-1",title:b.edit,onClick:()=>{g(e),h(!0)},children:"\u270f\ufe0f"})]})})]},e.id)}))})]})})]}),m&&p&&(0,Ot.jsx)(Ps,{item:p,warehouses:s,onClose:()=>{h(!1),g(null)},onSave:async e=>{try{const t=localStorage.getItem("token");await Tt.patch("".concat(Lt,"/inventory/").concat(e.warehouse_id,"/").concat(e.product_id),{quantity:e.quantity,minimum_stock:e.minimum_stock},{headers:{Authorization:"Bearer ".concat(t)}}),n(),h(!1),g(null)}catch(t){console.error("Error updating inventory:",t)}},language:r}),x&&p&&(0,Ot.jsx)(zs,{item:p,onClose:()=>{f(!1),g(null)},language:r})]})},Os=e=>{let{orders:t,onRefresh:s,language:n}=e;const[r,l]=(0,a.useState)(!1),[i,o]=(0,a.useState)(null),c="ar"===n?{ordersTitle:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0645\u0646\u062a\u0638\u0631\u0629",orderId:"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628\u064a\u0629",clinic:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629",salesRep:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628",warehouse:"\u0627\u0644\u0645\u062e\u0632\u0646",items:"\u0639\u062f\u062f \u0627\u0644\u0639\u0646\u0627\u0635\u0631",total:"\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a",status:"\u0627\u0644\u062d\u0627\u0644\u0629",actions:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a",pendingManager:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u062f\u064a\u0631",pendingAccounting:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629",pendingWarehouse:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u062e\u0632\u0646",approve:"\u0645\u0648\u0627\u0641\u0642\u0629",reject:"\u0631\u0641\u0636",view:"\u0639\u0631\u0636"}:{ordersTitle:"Pending Orders Management",orderId:"Order ID",clinic:"Clinic",salesRep:"Sales Rep",warehouse:"Warehouse",items:"Items",total:"Total",status:"Status",actions:"Actions",pendingManager:"Pending Manager",pendingAccounting:"Pending Accounting",pendingWarehouse:"Pending Warehouse",approve:"Approve",reject:"Reject",view:"View"};return(0,Ot.jsx)("div",{className:"space-y-6",children:(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\uded2"}),(0,Ot.jsx)("span",{children:c.ordersTitle})]}),(0,Ot.jsx)("div",{className:"table-modern overflow-x-auto",children:(0,Ot.jsxs)("table",{className:"min-w-full",children:[(0,Ot.jsx)("thead",{children:(0,Ot.jsxs)("tr",{children:[(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:c.orderId}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:c.clinic}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:c.salesRep}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:c.warehouse}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:c.items}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:c.total}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:c.status}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:c.actions})]})}),(0,Ot.jsx)("tbody",{children:t.map((e=>{const t=(e=>{switch(e){case"pending_manager":return{text:c.pendingManager,color:"text-orange-600",bg:"bg-orange-100"};case"pending_accounting":return{text:c.pendingAccounting,color:"text-blue-600",bg:"bg-blue-100"};case"pending_warehouse":return{text:c.pendingWarehouse,color:"text-purple-600",bg:"bg-purple-100"};default:return{text:e,color:"text-gray-600",bg:"bg-gray-100"}}})(e.status);return(0,Ot.jsxs)("tr",{className:"hover:bg-gray-50 hover:bg-opacity-5 transition-colors",children:[(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsxs)("div",{className:"font-medium",children:["#",e.id]})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("div",{className:"font-medium",children:e.clinic})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("div",{className:"font-medium",children:e.sales_rep})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("div",{className:"font-medium",children:e.warehouse})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("div",{className:"text-center font-bold",children:e.items})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsxs)("div",{className:"text-lg font-bold text-green-600",children:[e.total.toLocaleString()," ","ar"===n?"\u062c\u0646\u064a\u0647":"EGP"]})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(t.bg," ").concat(t.color),children:t.text})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsxs)("div",{className:"flex gap-2",children:[(0,Ot.jsx)("button",{className:"btn-info text-xs px-3 py-1",title:c.view,onClick:()=>{o(e),l(!0)},children:"\ud83d\udc41\ufe0f"}),(0,Ot.jsx)("button",{className:"btn-success text-xs px-3 py-1",title:c.approve,onClick:()=>(async e=>{try{const t=localStorage.getItem("token");await Tt.patch("".concat(Lt,"/orders/").concat(e,"/review"),{approved:!0},{headers:{Authorization:"Bearer ".concat(t)}}),s()}catch(t){console.error("Error approving order:",t)}})(e.id),children:"\u2705"}),(0,Ot.jsx)("button",{className:"btn-danger text-xs px-3 py-1",title:c.reject,onClick:()=>(async e=>{try{const t=localStorage.getItem("token");await Tt.patch("".concat(Lt,"/orders/").concat(e,"/review"),{approved:!1},{headers:{Authorization:"Bearer ".concat(t)}}),s()}catch(t){console.error("Error rejecting order:",t)}})(e.id),children:"\u274c"})]})})]},e.id)}))})]})})]})})},Ls=e=>{let{movements:t,language:s}=e;const[n,r]=(0,a.useState)(""),[l,i]=(0,a.useState)("all"),[o,c]=(0,a.useState)("all"),d="ar"===s?{movementsTitle:"\u0633\u062c\u0644 \u062d\u0631\u0643\u0627\u062a \u0627\u0644\u0645\u062e\u0632\u0646",filterByDate:"\u0641\u0644\u062a\u0631\u0629 \u0628\u0627\u0644\u062a\u0627\u0631\u064a\u062e",filterByType:"\u0641\u0644\u062a\u0631\u0629 \u0628\u0646\u0648\u0639 \u0627\u0644\u062d\u0631\u0643\u0629",filterByStatus:"\u0641\u0644\u062a\u0631\u0629 \u0628\u0627\u0644\u062d\u0627\u0644\u0629",allTypes:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0623\u0646\u0648\u0627\u0639",allStatuses:"\u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0627\u0644\u0627\u062a",date:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e",product:"\u0627\u0644\u0645\u0646\u062a\u062c",requester:"\u0627\u0644\u0637\u0627\u0644\u0628",region:"\u0627\u0644\u0645\u0646\u0637\u0642\u0629",movementType:"\u0646\u0648\u0639 \u0627\u0644\u062d\u0631\u0643\u0629",orderType:"\u0646\u0648\u0639 \u0627\u0644\u0637\u0644\u0628",quantity:"\u0627\u0644\u0643\u0645\u064a\u0629",salesRep:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628",doctor:"\u0627\u0644\u062f\u0643\u062a\u0648\u0631 \u0627\u0644\u0645\u0633\u062a\u0644\u0645",reason:"\u0627\u0644\u0633\u0628\u0628",comments:"\u062a\u0639\u0644\u064a\u0642\u0627\u062a",status:"\u0627\u0644\u062d\u0627\u0644\u0629",actions:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a",completed:"\u062a\u0645\u062a",pendingApproval:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629",review:"\u0645\u0631\u0627\u062c\u0639\u0629",cancel:"\u0625\u0644\u063a\u0627\u0621"}:{movementsTitle:"Warehouse Movement Log",filterByDate:"Filter by Date",filterByType:"Filter by Type",filterByStatus:"Filter by Status",allTypes:"All Types",allStatuses:"All Statuses",date:"Date",product:"Product",requester:"Requester",region:"Region",movementType:"Movement Type",orderType:"Order Type",quantity:"Quantity",salesRep:"Sales Rep",doctor:"Receiving Doctor",reason:"Reason",comments:"Comments",status:"Status",actions:"Actions",completed:"Completed",pendingApproval:"Pending Approval",review:"Review",cancel:"Cancel"},u=t.filter((e=>{const t=!n||e.date.includes(n),s="all"===l||e.movement_type===l,a="all"===o||e.status===o;return t&&s&&a}));return(0,Ot.jsx)("div",{className:"space-y-6",children:(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udccb"}),(0,Ot.jsx)("span",{children:d.movementsTitle})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("label",{className:"block text-sm font-bold mb-2",children:[d.filterByDate,":"]}),(0,Ot.jsx)("input",{type:"date",value:n,onChange:e=>r(e.target.value),className:"form-modern w-full"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("label",{className:"block text-sm font-bold mb-2",children:[d.filterByType,":"]}),(0,Ot.jsxs)("select",{value:l,onChange:e=>i(e.target.value),className:"form-modern w-full",children:[(0,Ot.jsx)("option",{value:"all",children:d.allTypes}),(0,Ot.jsx)("option",{value:"\u0635\u0631\u0641",children:"ar"===s?"\u0635\u0631\u0641":"Dispatch"}),(0,Ot.jsx)("option",{value:"\u0625\u062f\u062e\u0627\u0644",children:"ar"===s?"\u0625\u062f\u062e\u0627\u0644":"Receive"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("label",{className:"block text-sm font-bold mb-2",children:[d.filterByStatus,":"]}),(0,Ot.jsxs)("select",{value:o,onChange:e=>c(e.target.value),className:"form-modern w-full",children:[(0,Ot.jsx)("option",{value:"all",children:d.allStatuses}),(0,Ot.jsx)("option",{value:"completed",children:d.completed}),(0,Ot.jsx)("option",{value:"pending_approval",children:d.pendingApproval})]})]})]}),(0,Ot.jsx)("div",{className:"table-modern overflow-x-auto",children:(0,Ot.jsxs)("table",{className:"min-w-full text-sm",children:[(0,Ot.jsx)("thead",{children:(0,Ot.jsxs)("tr",{children:[(0,Ot.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.date}),(0,Ot.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.product}),(0,Ot.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.requester}),(0,Ot.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.region}),(0,Ot.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.movementType}),(0,Ot.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.orderType}),(0,Ot.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.quantity}),(0,Ot.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.salesRep}),(0,Ot.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.doctor}),(0,Ot.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.reason}),(0,Ot.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.comments}),(0,Ot.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.status}),(0,Ot.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.actions})]})}),(0,Ot.jsx)("tbody",{children:u.map((e=>{const t=(e=>{switch(e){case"completed":return{text:d.completed,color:"text-green-600",bg:"bg-green-100"};case"pending_approval":return{text:d.pendingApproval,color:"text-orange-600",bg:"bg-orange-100"};default:return{text:e,color:"text-gray-600",bg:"bg-gray-100"}}})(e.status);return(0,Ot.jsxs)("tr",{className:"hover:bg-gray-50 hover:bg-opacity-5 transition-colors",children:[(0,Ot.jsx)("td",{className:"px-4 py-3",children:(0,Ot.jsx)("div",{className:"text-sm font-medium",children:e.date})}),(0,Ot.jsx)("td",{className:"px-4 py-3",children:(0,Ot.jsx)("div",{className:"font-medium",children:e.product})}),(0,Ot.jsx)("td",{className:"px-4 py-3",children:(0,Ot.jsx)("div",{className:"text-sm",children:e.requester})}),(0,Ot.jsx)("td",{className:"px-4 py-3",children:(0,Ot.jsx)("div",{className:"text-sm",children:e.region})}),(0,Ot.jsx)("td",{className:"px-4 py-3",children:(0,Ot.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat("\u0635\u0631\u0641"===e.movement_type?"bg-red-100 text-red-800":"bg-green-100 text-green-800"),children:e.movement_type})}),(0,Ot.jsx)("td",{className:"px-4 py-3",children:(0,Ot.jsx)("div",{className:"text-sm",children:e.order_type})}),(0,Ot.jsx)("td",{className:"px-4 py-3",children:(0,Ot.jsx)("div",{className:"text-center font-bold",children:e.quantity})}),(0,Ot.jsx)("td",{className:"px-4 py-3",children:(0,Ot.jsx)("div",{className:"text-sm",children:e.sales_rep})}),(0,Ot.jsx)("td",{className:"px-4 py-3",children:(0,Ot.jsx)("div",{className:"text-sm",children:e.doctor||"-"})}),(0,Ot.jsx)("td",{className:"px-4 py-3",children:(0,Ot.jsx)("div",{className:"text-sm",children:e.reason})}),(0,Ot.jsx)("td",{className:"px-4 py-3",children:(0,Ot.jsx)("div",{className:"text-sm",children:e.comments})}),(0,Ot.jsx)("td",{className:"px-4 py-3",children:(0,Ot.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(t.bg," ").concat(t.color),children:t.text})}),(0,Ot.jsx)("td",{className:"px-4 py-3",children:(0,Ot.jsxs)("div",{className:"flex gap-1",children:[(0,Ot.jsx)("button",{className:"btn-info text-xs px-2 py-1",title:d.review,children:"\ud83d\udc41\ufe0f"}),(0,Ot.jsx)("button",{className:"btn-danger text-xs px-2 py-1",title:d.cancel,children:"\u274c"})]})})]},e.id)}))})]})})]})})},Rs=()=>{const{user:e,logout:t}=Kt(),{language:s,t:n,isRTL:r}=Dt(),[l,i]=(0,a.useState)({}),[o,c]=(0,a.useState)([]),[d,u]=(0,a.useState)("dashboard");(0,a.useEffect)((()=>{m(),h();const e=e=>{u(e.detail)};return window.addEventListener("navigateToTab",e),()=>{window.removeEventListener("navigateToTab",e)}}),[]);const m=async()=>{try{const e=localStorage.getItem("token"),t=await Tt.get("".concat(Lt,"/dashboard/stats"),{headers:{Authorization:"Bearer ".concat(e)}});i(t.data)}catch(e){console.error("Error fetching stats:",e)}},h=async()=>{try{const e=localStorage.getItem("token"),t=await Tt.get("".concat(Lt,"/visits"),{headers:{Authorization:"Bearer ".concat(e)}});c(t.data)}catch(e){console.error("Error fetching visits:",e)}},x=t=>{var s;return(null===(s={users:["admin","gm","warehouse_manager","manager","line_manager","area_manager"],warehouse:["admin","gm","warehouse_manager"],visit:["sales_rep","medical_rep"],reports:["admin","gm","warehouse_manager","manager","line_manager","area_manager","accounting"],accounting:["admin","gm","accounting","manager","line_manager"],regions:["admin","gm","line_manager","area_manager"],comprehensive:["admin","gm"]}[t])||void 0===s?void 0:s.includes(e.role))||!1},[f,p]=(0,a.useState)(!1);return(0,Ot.jsxs)(Ot.Fragment,{children:[(0,Ot.jsx)($t,{}),(0,Ot.jsxs)("div",{className:"min-h-screen page-transition flex flex-col",children:[(0,Ot.jsx)(gs,{user:e,onLogout:t,onSearchOpen:()=>p(!0)}),(0,Ot.jsx)(Gt,{isOpen:f,onClose:()=>p(!1)}),(0,Ot.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 flex-1",children:[(0,Ot.jsx)("div",{className:"mb-8",children:(0,Ot.jsxs)("nav",{className:"flex space-x-4 overflow-x-auto nav-menu rounded-2xl p-2 shadow-lg ".concat(r?"space-x-reverse":""),"aria-label":"Tabs",children:[(0,Ot.jsxs)("button",{onClick:()=>u("dashboard"),className:"nav-item ".concat("dashboard"===d?"active":""," flex items-center whitespace-nowrap"),children:[(0,Ot.jsx)("span",{className:"".concat(r?"mr-2":"ml-2"),children:"\ud83d\udcca"}),"admin"===e.role?n("statistics"):n("dashboard")]}),x("users")&&(0,Ot.jsxs)("button",{onClick:()=>u("users"),className:"nav-item ".concat("users"===d?"active":""," flex items-center whitespace-nowrap"),children:[(0,Ot.jsx)("span",{className:"".concat(r?"mr-2":"ml-2"),children:"\ud83d\udc65"}),n("userManagement")]}),x("warehouse")&&(0,Ot.jsxs)("button",{onClick:()=>u("warehouse"),className:"nav-item ".concat("warehouse"===d?"active":""," flex items-center whitespace-nowrap"),children:[(0,Ot.jsx)("span",{className:"".concat(r?"mr-2":"ml-2"),children:"\ud83c\udfed"}),n("warehouseManagement")]}),x("visit")&&(0,Ot.jsxs)("button",{onClick:()=>u("clinic-registration"),className:"nav-item ".concat("clinic-registration"===d?"active":""," flex items-center whitespace-nowrap"),children:[(0,Ot.jsx)("span",{className:"".concat(r?"mr-2":"ml-2"),children:"\ud83c\udfe5"}),"ar"===s?"\u062a\u0633\u062c\u064a\u0644 \u0639\u064a\u0627\u062f\u0629":"Clinic Registration"]}),x("visit")&&(0,Ot.jsxs)("button",{onClick:()=>u("order-creation"),className:"nav-item ".concat("order-creation"===d?"active":""," flex items-center whitespace-nowrap"),children:[(0,Ot.jsx)("span",{className:"".concat(r?"mr-2":"ml-2"),children:"\ud83d\udce6"}),"ar"===s?"\u0639\u0645\u0644 \u0637\u0644\u0628\u064a\u0629":"Create Order"]}),x("visit")&&(0,Ot.jsxs)("button",{onClick:()=>u("visit"),className:"nav-item ".concat("visit"===d?"active":""," flex items-center whitespace-nowrap"),children:[(0,Ot.jsx)("span",{className:"".concat(r?"mr-2":"ml-2"),children:"\ud83d\udcdd"}),"ar"===s?"\u062a\u0633\u062c\u064a\u0644 \u0632\u064a\u0627\u0631\u0629":"Register Visit"]}),(0,Ot.jsxs)("button",{onClick:()=>u("visits"),className:"nav-item ".concat("visits"===d?"active":""," flex items-center whitespace-nowrap"),children:[(0,Ot.jsx)("span",{className:"".concat(r?"mr-2":"ml-2"),children:"\ud83d\udccb"}),n("visitsLog")]}),x("reports")&&(0,Ot.jsxs)("button",{onClick:()=>u("reports"),className:"nav-item ".concat("reports"===d?"active":""," flex items-center whitespace-nowrap"),children:[(0,Ot.jsx)("span",{className:"".concat(r?"mr-2":"ml-2"),children:"\ud83d\udcc8"}),n("reports")]}),x("reports")&&(0,Ot.jsxs)("button",{onClick:()=>u("analytics"),className:"nav-item ".concat("analytics"===d?"active":""," flex items-center whitespace-nowrap"),children:[(0,Ot.jsx)("span",{className:"".concat(r?"mr-2":"ml-2"),children:"\ud83d\udcca"}),"ar"===s?"\u0627\u0644\u062a\u062d\u0644\u064a\u0644\u0627\u062a \u0627\u0644\u0645\u062a\u0642\u062f\u0645\u0629":"Advanced Analytics"]}),"sales_rep"===e.role||x("reports")&&(0,Ot.jsxs)("button",{onClick:()=>u("gamification"),className:"nav-item ".concat("gamification"===d?"active":""," flex items-center whitespace-nowrap"),children:[(0,Ot.jsx)("span",{className:"".concat(r?"mr-2":"ml-2"),children:"\ud83c\udfae"}),"ar"===s?"\u0646\u0638\u0627\u0645 \u0627\u0644\u062a\u062d\u0641\u064a\u0632":"Gamification"]}),x("reports")&&(0,Ot.jsxs)("button",{onClick:()=>u("gps"),className:"nav-item ".concat("gps"===d?"active":""," flex items-center whitespace-nowrap"),children:[(0,Ot.jsx)("span",{className:"".concat(r?"mr-2":"ml-2"),children:"\ud83d\uddfa\ufe0f"}),"ar"===s?"\u062a\u062a\u0628\u0639 GPS":"GPS Tracking"]}),(0,Ot.jsxs)("button",{onClick:()=>u("documents"),className:"nav-item ".concat("documents"===d?"active":""," flex items-center whitespace-nowrap"),children:[(0,Ot.jsx)("span",{className:"".concat(r?"mr-2":"ml-2"),children:"\ud83d\udcf1"}),"ar"===s?"\u0645\u0633\u062d \u0627\u0644\u0648\u062b\u0627\u0626\u0642":"Document Scanner"]}),x("accounting")&&(0,Ot.jsxs)("button",{onClick:()=>u("accounting"),className:"nav-item ".concat("accounting"===d?"active":""," flex items-center whitespace-nowrap"),children:[(0,Ot.jsx)("span",{className:"".concat(r?"mr-2":"ml-2"),children:"\ud83d\udcb0"}),"ar"===s?"\u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629":"Accounting"]}),(0,Ot.jsxs)("button",{onClick:()=>u("chat"),className:"nav-item ".concat("chat"===d?"active":""," flex items-center whitespace-nowrap"),children:[(0,Ot.jsx)("span",{className:"".concat(r?"mr-2":"ml-2"),children:"\ud83d\udcac"}),n("chat")]}),("admin"===e.role||"gm"===e.role)&&(0,Ot.jsxs)("button",{onClick:()=>u("settings"),className:"nav-item ".concat("settings"===d?"active":""," flex items-center whitespace-nowrap"),children:[(0,Ot.jsx)("span",{className:"".concat(r?"mr-2":"ml-2"),children:"\u2699\ufe0f"}),n("settings")]}),("admin"===e.role||"gm"===e.role||"line_manager"===e.role)&&(0,Ot.jsxs)("button",{onClick:()=>u("regions"),className:"nav-item ".concat("regions"===d?"active":""," flex items-center whitespace-nowrap"),children:[(0,Ot.jsx)("span",{className:"".concat(r?"mr-2":"ml-2"),children:"\ud83d\uddfa\ufe0f"}),n("regionManagement")]}),("admin"===e.role||"gm"===e.role)&&(0,Ot.jsxs)("button",{onClick:()=>u("comprehensive"),className:"nav-item ".concat("comprehensive"===d?"active":""," flex items-center whitespace-nowrap"),children:[(0,Ot.jsx)("span",{className:"".concat(r?"mr-2":"ml-2"),children:"\ud83c\udf9b\ufe0f"}),n("comprehensiveSettings")]}),"admin"===e.role&&(0,Ot.jsxs)("button",{onClick:()=>u("secret"),className:"nav-item ".concat("secret"===d?"active":""," flex items-center whitespace-nowrap"),children:[(0,Ot.jsx)("span",{className:"".concat(r?"mr-2":"ml-2"),children:"\ud83d\udd12"}),n("secretReports")]})]})}),"dashboard"===d&&"sales_rep"===e.role&&(0,Ot.jsx)(Ss,{stats:l,user:e}),"dashboard"===d&&"sales_rep"!==e.role&&(0,Ot.jsx)(ls,{stats:l,user:e}),"clinic-registration"===d&&"sales_rep"===e.role&&(0,Ot.jsx)(Cs,{}),"order-creation"===d&&"sales_rep"===e.role&&(0,Ot.jsx)(Es,{}),"users"===d&&x("users")&&(0,Ot.jsx)(fs,{}),"warehouse"===d&&x("warehouse")&&(0,Ot.jsx)(ks,{}),"visit"===d&&"sales_rep"===e.role&&(0,Ot.jsx)(As,{}),"visits"===d&&(0,Ot.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,Ot.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,Ot.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"\u0633\u062c\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a"})}),(0,Ot.jsx)("div",{className:"overflow-x-auto",children:(0,Ot.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ot.jsx)("thead",{className:"bg-gray-50",children:(0,Ot.jsxs)("tr",{children:[(0,Ot.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e"}),(0,Ot.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u0627\u0644\u0637\u0628\u064a\u0628"}),(0,Ot.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629"}),(0,Ot.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628"}),(0,Ot.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u0627\u0644\u062d\u0627\u0644\u0629"})]})}),(0,Ot.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map((e=>(0,Ot.jsxs)("tr",{children:[(0,Ot.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.visit_date).toLocaleDateString("ar-EG")}),(0,Ot.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.doctor_name}),(0,Ot.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.clinic_name}),(0,Ot.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.sales_rep_name}),(0,Ot.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ot.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(null===e.is_effective?"bg-yellow-100 text-yellow-800":e.is_effective?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:null===e.is_effective?"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u0631\u0627\u062c\u0639\u0629":e.is_effective?"\u0645\u062c\u062f\u064a\u0629":"\u063a\u064a\u0631 \u0645\u062c\u062f\u064a\u0629"})})]},e.id)))})]})})]}),"reports"===d&&x("reports")&&(0,Ot.jsx)(ys,{}),"accounting"===d&&x("accounting")&&(0,Ot.jsx)(Ds,{}),"analytics"===d&&x("reports")&&(0,Ot.jsx)(rs,{}),"gamification"===d&&("sales_rep"===e.role||x("reports"))&&(0,Ot.jsx)(Ms,{}),"gps"===d&&x("reports")&&(0,Ot.jsx)(Is,{}),"documents"===d&&(0,Ot.jsx)(Us,{}),"chat"===d&&(0,Ot.jsx)(as,{}),"settings"===d&&("admin"===e.role||"gm"===e.role)&&(0,Ot.jsx)(Jt,{}),"regions"===d&&("admin"===e.role||"gm"===e.role||"line_manager"===e.role)&&(0,Ot.jsx)(Vs,{}),"comprehensive"===d&&("admin"===e.role||"gm"===e.role)&&(0,Ot.jsx)(Gs,{}),"secret"===d&&"admin"===e.role&&(0,Ot.jsx)(vs,{})]}),(0,Ot.jsx)(bs,{})]})]})},Ds=()=>{const[e,t]=(0,a.useState)("dashboard"),[s,n]=(0,a.useState)(null),[r,l]=(0,a.useState)([]),[i,o]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)(null),[h,x]=(0,a.useState)(!1),{language:f,t:p,isRTL:g}=Dt(),b=[{id:"dashboard",label:"ar"===f?"\u0644\u0648\u062d\u0629 \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629":"Accounting Dashboard",icon:"\ud83d\udcca"},{id:"invoices",label:"ar"===f?"\u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631":"Invoices",icon:"\ud83d\udccb"},{id:"expenses",label:"ar"===f?"\u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062a":"Expenses",icon:"\ud83d\udcb8"},{id:"customers",label:"ar"===f?"\u0627\u0644\u0639\u0645\u0644\u0627\u0621":"Customers",icon:"\ud83d\udc65"},{id:"reports",label:"ar"===f?"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631 \u0627\u0644\u0645\u0627\u0644\u064a\u0629":"Financial Reports",icon:"\ud83d\udcc8"}];(0,a.useEffect)((()=>{v()}),[e]);const v=async()=>{x(!0);try{const t=localStorage.getItem("token"),s={Authorization:"Bearer ".concat(t)};if("dashboard"===e){const[e,t]=await Promise.all([Tt.get("".concat(Lt,"/accounting/overview"),{headers:s}),Tt.get("".concat(Lt,"/accounting/dashboard-stats"),{headers:s})]);n({overview:e.data,stats:t.data})}else if("invoices"===e){const e=await Tt.get("".concat(Lt,"/accounting/invoices"),{headers:s});l(e.data)}else if("expenses"===e){const e=await Tt.get("".concat(Lt,"/accounting/expenses"),{headers:s});o(e.data)}else if("customers"===e){const e=await Tt.get("".concat(Lt,"/accounting/customers"),{headers:s});d(e.data)}else if("reports"===e){const e=await Tt.get("".concat(Lt,"/accounting/reports/profit-loss"),{headers:s});m(e.data)}}catch(t){console.error("Error loading accounting data:",t)}finally{x(!1)}},y=e=>new Intl.NumberFormat("ar"===f?"ar-EG":"en-US",{style:"currency",currency:"EGP",minimumFractionDigits:2}).format(e||0);return!h||s||r.length||i.length||c.length?(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"glass-effect p-6",children:[(0,Ot.jsx)("h2",{className:"text-3xl font-bold mb-4 text-gradient",children:"ar"===f?"\u0646\u0638\u0627\u0645 \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629 \u0627\u0644\u0634\u0627\u0645\u0644":"Comprehensive Accounting System"}),(0,Ot.jsx)("p",{style:{color:"var(--text-secondary)"},children:"ar"===f?"\u0625\u062f\u0627\u0631\u0629 \u0634\u0627\u0645\u0644\u0629 \u0644\u0644\u0634\u0624\u0648\u0646 \u0627\u0644\u0645\u0627\u0644\u064a\u0629\u060c \u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631\u060c \u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062a\u060c \u0648\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631":"Complete financial management, invoices, expenses, and reports"})]}),(0,Ot.jsx)("div",{className:"glass-effect p-2",children:(0,Ot.jsx)("div",{className:"flex gap-2 overflow-x-auto ".concat(g?"flex-row-reverse":""),children:b.map((s=>(0,Ot.jsxs)("button",{onClick:()=>t(s.id),className:"flex items-center gap-3 px-6 py-3 rounded-lg transition-all duration-300 whitespace-nowrap ".concat(e===s.id?"bg-gradient-to-r from-green-600 to-blue-600 text-white":"hover:bg-white hover:bg-opacity-10"),children:[(0,Ot.jsx)("span",{className:"text-xl",children:s.icon}),(0,Ot.jsx)("span",{className:"font-medium",children:s.label})]},s.id)))})}),(0,Ot.jsxs)("div",{className:"glass-effect p-8",children:["dashboard"===e&&(0,Ot.jsx)(ws,{data:s,formatCurrency:y}),"invoices"===e&&(0,Ot.jsx)(InvoicesTab,{invoices:r,formatCurrency:y}),"expenses"===e&&(0,Ot.jsx)(ExpensesTab,{expenses:i,onCreateExpense:async e=>{try{const t=localStorage.getItem("token");await Tt.post("".concat(Lt,"/accounting/expenses"),e,{headers:{Authorization:"Bearer ".concat(t)}}),alert("ar"===f?"\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0635\u0631\u0648\u0641 \u0628\u0646\u062c\u0627\u062d":"Expense added successfully"),v()}catch(t){console.error("Error creating expense:",t),alert("ar"===f?"\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0635\u0631\u0648\u0641":"Error adding expense")}},formatCurrency:y}),"customers"===e&&(0,Ot.jsx)(CustomersTab,{customers:c,formatCurrency:y}),"reports"===e&&(0,Ot.jsx)(FinancialReportsTab,{report:u,formatCurrency:y})]})]}):(0,Ot.jsxs)("div",{className:"glass-effect p-8 text-center",children:[(0,Ot.jsx)("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,Ot.jsx)("p",{style:{color:"var(--text-secondary)"},children:"ar"===f?"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629...":"Loading accounting data..."})]})},Ms=()=>{const[e,t]=(0,a.useState)(!0),[s,n]=(0,a.useState)(""),[r,l]=(0,a.useState)("profile"),[i,o]=(0,a.useState)("all_time"),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(null),[h,x]=(0,a.useState)(null),{language:f,t:p}=Dt();(0,a.useEffect)((()=>{g()}),[r,i]);const g=async()=>{t(!0),n("");try{const e=localStorage.getItem("token"),t=JSON.parse(localStorage.getItem("user")),s={Authorization:"Bearer ".concat(e)};if("profile"===r){const e=await Tt.get("".concat(Lt,"/gamification/user-profile/").concat(t.id),{headers:s});d(e.data)}else if("leaderboard"===r){const e=await Tt.get("".concat(Lt,"/gamification/leaderboard?period=").concat(i,"&limit=20"),{headers:s});m(e.data)}else if("achievements"===r){const e=await Tt.get("".concat(Lt,"/gamification/achievements"),{headers:s});x(e.data)}}catch(s){n("\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u062a\u062d\u0641\u064a\u0632"),console.error("Gamification data error:",s)}finally{t(!1)}},b=e=>{const t=["text-gray-400","text-green-400","text-blue-400","text-purple-400","text-yellow-400","text-red-400"];return t[Math.min(Math.floor((e-1)/2),t.length-1)]},v=e=>{const t=["\ud83e\udd49","\ud83e\udd48","\ud83e\udd47","\ud83d\udc8e","\ud83d\udc51"];return t[Math.min(Math.floor((e-1)/2),t.length-1)]},y=e=>1===e?"\ud83e\udd47":2===e?"\ud83e\udd48":3===e?"\ud83e\udd49":"#".concat(e),j=()=>c?(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsx)("div",{className:"glass-effect p-6 rounded-xl",children:(0,Ot.jsxs)("div",{className:"flex items-center gap-6",children:[(0,Ot.jsxs)("div",{className:"relative",children:[(0,Ot.jsx)("div",{className:"w-20 h-20 rounded-full overflow-hidden bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:c.user_info.photo?(0,Ot.jsx)("img",{src:"data:image/jpeg;base64,".concat(c.user_info.photo),alt:c.user_info.full_name,className:"w-full h-full object-cover"}):(0,Ot.jsx)("span",{className:"text-white text-2xl font-bold",children:c.user_info.full_name.charAt(0).toUpperCase()})}),(0,Ot.jsx)("div",{className:"absolute -bottom-2 -right-2 w-8 h-8 rounded-full bg-gradient-to-br from-yellow-400 to-red-500 flex items-center justify-center text-white font-bold text-sm ".concat(b(c.gamification_stats.level)),children:c.gamification_stats.level})]}),(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsx)("h2",{className:"text-2xl font-bold mb-2",style:{color:"var(--text-primary)"},children:c.user_info.full_name}),(0,Ot.jsxs)("div",{className:"flex items-center gap-4 mb-3",children:[(0,Ot.jsxs)("span",{className:"text-xl ".concat(b(c.gamification_stats.level)),children:[v(c.gamification_stats.level)," \u0627\u0644\u0645\u0633\u062a\u0648\u0649 ",c.gamification_stats.level]}),(0,Ot.jsxs)("span",{className:"text-yellow-400 text-xl font-bold",children:["\u2b50 ",c.gamification_stats.total_points.toLocaleString()," \u0646\u0642\u0637\u0629"]})]}),(0,Ot.jsxs)("div",{className:"space-y-2",children:[(0,Ot.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Ot.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u062a\u0642\u062f\u0645 \u0644\u0644\u0645\u0633\u062a\u0648\u0649 \u0627\u0644\u062a\u0627\u0644\u064a"}),(0,Ot.jsx)("span",{style:{color:"var(--text-secondary)"},children:c.gamification_stats.points_to_next_level>0?"".concat(c.gamification_stats.points_to_next_level," \u0646\u0642\u0637\u0629 \u0645\u062a\u0628\u0642\u064a\u0629"):"\u0627\u0644\u0645\u0633\u062a\u0648\u0649 \u0627\u0644\u0623\u0642\u0635\u0649!"})]}),(0,Ot.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-3",children:(0,Ot.jsx)("div",{className:"h-3 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full transition-all duration-500",style:{width:"".concat(c.gamification_stats.level_progress,"%")}})})]})]}),(0,Ot.jsxs)("div",{className:"text-center p-4 bg-gradient-to-br from-blue-500 to-purple-500 bg-opacity-20 rounded-xl",children:[(0,Ot.jsx)("div",{className:"text-2xl mb-1",children:y(c.leaderboard.position)}),(0,Ot.jsxs)("div",{className:"font-bold",style:{color:"var(--text-primary)"},children:["\u0627\u0644\u0645\u0631\u0643\u0632 \u0627\u0644\u0640 ",c.leaderboard.position]}),(0,Ot.jsxs)("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:["\u0645\u0646 \u0623\u0635\u0644 ",c.leaderboard.total_participants]}),(0,Ot.jsxs)("div",{className:"text-xs mt-1 font-medium text-blue-400",children:["\u0623\u0641\u0636\u0644 \u0645\u0646 ",c.leaderboard.percentile,"%"]})]})]})}),(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udcb0"}),(0,Ot.jsx)("span",{children:"\u062a\u0641\u0635\u064a\u0644 \u0627\u0644\u0646\u0642\u0627\u0637 (\u0645\u0646 \u0627\u0644\u0623\u062f\u0627\u0621 \u0627\u0644\u062d\u0642\u064a\u0642\u064a)"})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,Ot.jsxs)("div",{className:"text-center p-4 bg-blue-500 bg-opacity-20 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:c.points_breakdown.visit_points}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0646\u0642\u0627\u0637 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a"}),(0,Ot.jsxs)("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:[c.performance_stats.total_visits," \xd7 10"]})]}),(0,Ot.jsxs)("div",{className:"text-center p-4 bg-green-500 bg-opacity-20 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-green-400",children:c.points_breakdown.effectiveness_bonus}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u0643\u0627\u0641\u0623\u0629 \u0627\u0644\u0641\u0639\u0627\u0644\u064a\u0629"}),(0,Ot.jsxs)("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:[c.performance_stats.effective_visits," \xd7 20"]})]}),(0,Ot.jsxs)("div",{className:"text-center p-4 bg-purple-500 bg-opacity-20 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:c.points_breakdown.order_points}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0646\u0642\u0627\u0637 \u0627\u0644\u0637\u0644\u0628\u0627\u062a"}),(0,Ot.jsxs)("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:[c.performance_stats.total_orders," \xd7 50"]})]}),(0,Ot.jsxs)("div",{className:"text-center p-4 bg-yellow-500 bg-opacity-20 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:c.points_breakdown.approval_bonus}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u0643\u0627\u0641\u0623\u0629 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629"}),(0,Ot.jsxs)("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:[c.performance_stats.approved_orders," \xd7 100"]})]}),(0,Ot.jsxs)("div",{className:"text-center p-4 bg-red-500 bg-opacity-20 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-red-400",children:c.points_breakdown.clinic_points}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0646\u0642\u0627\u0637 \u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a"}),(0,Ot.jsxs)("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:[c.performance_stats.clinics_added," \xd7 200"]})]})]})]}),(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udcca"}),(0,Ot.jsx)("span",{children:"\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a \u0627\u0644\u0623\u062f\u0627\u0621"})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:c.performance_stats.total_visits}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a"}),(0,Ot.jsxs)("div",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:[c.performance_stats.effectiveness_rate,"% \u0641\u0639\u0627\u0644\u064a\u0629"]})]}),(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-green-400 mb-2",children:c.performance_stats.total_orders}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0637\u0644\u0628\u0627\u062a"}),(0,Ot.jsxs)("div",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:[c.performance_stats.approval_rate,"% \u0645\u0639\u062f\u0644 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629"]})]}),(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:c.performance_stats.clinics_added}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0639\u064a\u0627\u062f\u0627\u062a \u0645\u0636\u0627\u0641\u0629"})]}),(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-orange-400 mb-2",children:c.performance_stats.visit_streak}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0633\u0644\u0633\u0644\u0629 \u0623\u064a\u0627\u0645"}),(0,Ot.jsx)("div",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"\u0623\u064a\u0627\u0645 \u0645\u062a\u062a\u0627\u0644\u064a\u0629 \u0645\u0639 \u0632\u064a\u0627\u0631\u0627\u062a"})]})]})]}),c.achievements.length>0&&(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83c\udfc6"}),(0,Ot.jsx)("span",{children:"\u0627\u0644\u0625\u0646\u062c\u0627\u0632\u0627\u062a \u0627\u0644\u0645\u062d\u0642\u0642\u0629"}),(0,Ot.jsx)("span",{className:"bg-blue-500 bg-opacity-20 text-blue-400 px-2 py-1 rounded-full text-sm",children:c.achievements.length})]}),(0,Ot.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.achievements.map(((e,t)=>(0,Ot.jsxs)("div",{className:"p-4 bg-gradient-to-br from-yellow-500 to-orange-500 bg-opacity-20 rounded-lg border border-yellow-500 border-opacity-30",children:[(0,Ot.jsx)("div",{className:"text-3xl mb-2 text-center",children:e.icon}),(0,Ot.jsx)("div",{className:"font-bold text-center mb-1",style:{color:"var(--text-primary)"},children:e.title}),(0,Ot.jsx)("div",{className:"text-sm text-center",style:{color:"var(--text-secondary)"},children:e.description}),(0,Ot.jsx)("div",{className:"text-xs text-center mt-2 text-yellow-400",children:"\u2728 \u0645\u0641\u062a\u0648\u062d"})]},t)))})]}),c.active_challenges.length>0&&(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83c\udfaf"}),(0,Ot.jsx)("span",{children:"\u0627\u0644\u062a\u062d\u062f\u064a\u0627\u062a \u0627\u0644\u0646\u0634\u0637\u0629"})]}),(0,Ot.jsx)("div",{className:"space-y-4",children:c.active_challenges.map(((e,t)=>(0,Ot.jsxs)("div",{className:"p-4 bg-gradient-to-r from-blue-500 to-purple-500 bg-opacity-20 rounded-lg border border-blue-500 border-opacity-30",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ot.jsx)("span",{className:"text-2xl",children:e.icon}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"font-bold",style:{color:"var(--text-primary)"},children:e.title}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:e.description})]})]}),(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsxs)("div",{className:"text-lg font-bold text-yellow-400",children:["+",e.reward_points]}),(0,Ot.jsx)("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:"\u0646\u0642\u0637\u0629"})]})]}),(0,Ot.jsxs)("div",{className:"space-y-2",children:[(0,Ot.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Ot.jsxs)("span",{style:{color:"var(--text-secondary)"},children:["\u0627\u0644\u062a\u0642\u062f\u0645: ",e.current," / ",e.target]}),(0,Ot.jsxs)("span",{style:{color:"var(--text-secondary)"},children:[e.progress.toFixed(1),"%"]})]}),(0,Ot.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,Ot.jsx)("div",{className:"h-2 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full transition-all duration-300",style:{width:"".concat(Math.min(100,e.progress),"%")}})}),(0,Ot.jsxs)("div",{className:"text-xs text-center",style:{color:"var(--text-muted)"},children:["\u0627\u0644\u0645\u0648\u0639\u062f \u0627\u0644\u0646\u0647\u0627\u0626\u064a: ",new Date(e.deadline).toLocaleDateString("ar-EG")]})]})]},t)))})]})]}):null,N=()=>u?(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83c\udfc5"}),(0,Ot.jsxs)("span",{children:["\u0644\u0648\u062d\u0629 \u0627\u0644\u0645\u062a\u0635\u062f\u0631\u064a\u0646 - ",u.statistics.period_label]})]}),(0,Ot.jsxs)("select",{value:i,onChange:e=>o(e.target.value),className:"px-4 py-2 glass-effect border border-white border-opacity-20 rounded-lg text-white",children:[(0,Ot.jsx)("option",{value:"all_time",children:"\u0643\u0644 \u0627\u0644\u0623\u0648\u0642\u0627\u062a"}),(0,Ot.jsx)("option",{value:"monthly",children:"\u0647\u0630\u0627 \u0627\u0644\u0634\u0647\u0631"}),(0,Ot.jsx)("option",{value:"weekly",children:"\u0647\u0630\u0627 \u0627\u0644\u0623\u0633\u0628\u0648\u0639"})]})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[(0,Ot.jsxs)("div",{className:"text-center p-4 bg-blue-500 bg-opacity-20 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:u.statistics.total_participants}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0634\u0627\u0631\u0643\u064a\u0646"})]}),(0,Ot.jsxs)("div",{className:"text-center p-4 bg-green-500 bg-opacity-20 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-green-400",children:u.statistics.highest_score.toLocaleString()}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0623\u0639\u0644\u0649 \u0646\u0642\u0627\u0637"})]}),(0,Ot.jsxs)("div",{className:"text-center p-4 bg-purple-500 bg-opacity-20 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:u.statistics.average_points.toLocaleString()}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u062a\u0648\u0633\u0637 \u0627\u0644\u0646\u0642\u0627\u0637"})]})]})]}),u.leaderboard.length>=3&&(0,Ot.jsx)("div",{className:"glass-effect p-6 rounded-xl",children:(0,Ot.jsxs)("div",{className:"flex items-end justify-center gap-4",children:[(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsxs)("div",{className:"w-16 h-16 mx-auto mb-3 rounded-full overflow-hidden bg-gradient-to-br from-gray-400 to-gray-600 flex items-center justify-center relative",children:[u.leaderboard[1].photo?(0,Ot.jsx)("img",{src:"data:image/jpeg;base64,".concat(u.leaderboard[1].photo),alt:u.leaderboard[1].full_name,className:"w-full h-full object-cover"}):(0,Ot.jsx)("span",{className:"text-white text-lg font-bold",children:u.leaderboard[1].full_name.charAt(0)}),(0,Ot.jsx)("div",{className:"absolute -top-2 -right-2 text-2xl",children:"\ud83e\udd48"})]}),(0,Ot.jsx)("div",{className:"font-bold",style:{color:"var(--text-primary)"},children:u.leaderboard[1].full_name}),(0,Ot.jsx)("div",{className:"text-2xl font-bold text-gray-400",children:u.leaderboard[1].total_points.toLocaleString()}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0646\u0642\u0637\u0629"})]}),(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsxs)("div",{className:"w-20 h-20 mx-auto mb-3 rounded-full overflow-hidden bg-gradient-to-br from-yellow-400 to-yellow-600 flex items-center justify-center relative",children:[u.leaderboard[0].photo?(0,Ot.jsx)("img",{src:"data:image/jpeg;base64,".concat(u.leaderboard[0].photo),alt:u.leaderboard[0].full_name,className:"w-full h-full object-cover"}):(0,Ot.jsx)("span",{className:"text-white text-xl font-bold",children:u.leaderboard[0].full_name.charAt(0)}),(0,Ot.jsx)("div",{className:"absolute -top-3 -right-3 text-3xl",children:"\ud83e\udd47"})]}),(0,Ot.jsx)("div",{className:"font-bold text-lg",style:{color:"var(--text-primary)"},children:u.leaderboard[0].full_name}),(0,Ot.jsx)("div",{className:"text-3xl font-bold text-yellow-400",children:u.leaderboard[0].total_points.toLocaleString()}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0646\u0642\u0637\u0629"})]}),(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsxs)("div",{className:"w-16 h-16 mx-auto mb-3 rounded-full overflow-hidden bg-gradient-to-br from-amber-600 to-amber-800 flex items-center justify-center relative",children:[u.leaderboard[2].photo?(0,Ot.jsx)("img",{src:"data:image/jpeg;base64,".concat(u.leaderboard[2].photo),alt:u.leaderboard[2].full_name,className:"w-full h-full object-cover"}):(0,Ot.jsx)("span",{className:"text-white text-lg font-bold",children:u.leaderboard[2].full_name.charAt(0)}),(0,Ot.jsx)("div",{className:"absolute -top-2 -right-2 text-2xl",children:"\ud83e\udd49"})]}),(0,Ot.jsx)("div",{className:"font-bold",style:{color:"var(--text-primary)"},children:u.leaderboard[2].full_name}),(0,Ot.jsx)("div",{className:"text-2xl font-bold text-amber-600",children:u.leaderboard[2].total_points.toLocaleString()}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0646\u0642\u0637\u0629"})]})]})}),(0,Ot.jsxs)("div",{className:"glass-effect rounded-xl overflow-hidden",children:[(0,Ot.jsx)("div",{className:"p-6 bg-gradient-to-r from-blue-600 to-purple-600",children:(0,Ot.jsx)("h3",{className:"text-xl font-bold text-white",children:"\u0627\u0644\u062a\u0631\u062a\u064a\u0628 \u0627\u0644\u0643\u0627\u0645\u0644"})}),(0,Ot.jsx)("div",{className:"divide-y divide-white divide-opacity-10",children:u.leaderboard.map(((e,t)=>(0,Ot.jsx)("div",{className:"p-4 hover:bg-white hover:bg-opacity-5 transition-colors",children:(0,Ot.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ot.jsx)("div",{className:"text-center min-w-[3rem]",children:(0,Ot.jsx)("div",{className:"text-2xl font-bold",children:y(e.position)})}),(0,Ot.jsx)("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:e.photo?(0,Ot.jsx)("img",{src:"data:image/jpeg;base64,".concat(e.photo),alt:e.full_name,className:"w-full h-full object-cover"}):(0,Ot.jsx)("span",{className:"text-white font-bold",children:e.full_name.charAt(0)})}),(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Ot.jsx)("div",{className:"font-bold",style:{color:"var(--text-primary)"},children:e.full_name}),(0,Ot.jsxs)("div",{className:"text-sm ".concat(b(e.level)),children:[v(e.level)," \u0627\u0644\u0645\u0633\u062a\u0648\u0649 ",e.level]})]}),(0,Ot.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,Ot.jsxs)("span",{className:"text-blue-400",children:["\ud83d\ude97 ",e.performance.visits," \u0632\u064a\u0627\u0631\u0629"]}),(0,Ot.jsxs)("span",{className:"text-green-400",children:["\u2705 ",e.performance.effectiveness_rate,"% \u0641\u0639\u0627\u0644\u064a\u0629"]}),(0,Ot.jsxs)("span",{className:"text-purple-400",children:["\ud83d\udce6 ",e.performance.orders," \u0637\u0644\u0628"]})]})]}),(0,Ot.jsxs)("div",{className:"text-right",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:e.total_points.toLocaleString()}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0646\u0642\u0637\u0629"})]}),(0,Ot.jsx)("div",{className:"flex gap-1",children:e.badges.map(((e,t)=>(0,Ot.jsx)("div",{className:"text-lg",title:e.title,children:e.icon},t)))})]})},e.user_id)))})]})]}):null,w=()=>h?(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83c\udfc6"}),(0,Ot.jsx)("span",{children:"\u0643\u062a\u0627\u0644\u0648\u062c \u0627\u0644\u0625\u0646\u062c\u0627\u0632\u0627\u062a"})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Ot.jsxs)("div",{className:"text-center p-4 bg-blue-500 bg-opacity-20 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:h.total_achievements}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0625\u0646\u062c\u0627\u0632\u0627\u062a"})]}),(0,Ot.jsxs)("div",{className:"text-center p-4 bg-green-500 bg-opacity-20 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-green-400",children:h.categories.length}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0641\u0626\u0627\u062a"})]}),(0,Ot.jsxs)("div",{className:"text-center p-4 bg-purple-500 bg-opacity-20 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:h.total_possible_points.toLocaleString()}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0646\u0642\u0627\u0637 \u0627\u0644\u0645\u0645\u0643\u0646\u0629"})]}),(0,Ot.jsxs)("div",{className:"text-center p-4 bg-yellow-500 bg-opacity-20 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:"100%"}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u0646 \u0627\u0644\u0623\u062f\u0627\u0621 \u0627\u0644\u062d\u0642\u064a\u0642\u064a"})]})]})]}),(0,Ot.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.achievements.map(((e,t)=>(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl hover:bg-white hover:bg-opacity-10 transition-all duration-300 border border-white border-opacity-10",children:[(0,Ot.jsxs)("div",{className:"text-center mb-4",children:[(0,Ot.jsx)("div",{className:"text-4xl mb-2",children:e.icon}),(0,Ot.jsx)("div",{className:"font-bold text-lg mb-2",style:{color:"var(--text-primary)"},children:e.title}),(0,Ot.jsx)("div",{className:"text-sm mb-3",style:{color:"var(--text-secondary)"},children:e.description})]}),(0,Ot.jsxs)("div",{className:"space-y-3",children:[(0,Ot.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ot.jsx)("span",{className:"text-sm",style:{color:"var(--text-muted)"},children:"\u0634\u0631\u0637 \u0627\u0644\u0641\u062a\u062d:"}),(0,Ot.jsx)("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:e.unlock_condition})]}),(0,Ot.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ot.jsx)("span",{className:"text-sm",style:{color:"var(--text-muted)"},children:"\u0645\u0643\u0627\u0641\u0623\u0629 \u0627\u0644\u0646\u0642\u0627\u0637:"}),(0,Ot.jsxs)("span",{className:"text-lg font-bold text-yellow-400",children:["+",e.points_reward]})]}),(0,Ot.jsx)("div",{className:"text-center",children:(0,Ot.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-medium ".concat("visits"===e.category?"bg-blue-500 bg-opacity-20 text-blue-400":"effectiveness"===e.category?"bg-green-500 bg-opacity-20 text-green-400":"orders"===e.category?"bg-purple-500 bg-opacity-20 text-purple-400":"clinics"===e.category?"bg-red-500 bg-opacity-20 text-red-400":"bg-orange-500 bg-opacity-20 text-orange-400"),children:e.category})})]})]},e.id)))})]}):null;return(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsx)("h2",{className:"text-3xl font-bold text-gradient",children:"\ud83c\udfae \u0646\u0638\u0627\u0645 \u0627\u0644\u062a\u062d\u0641\u064a\u0632 \u0627\u0644\u0645\u062a\u0643\u0627\u0645\u0644"}),(0,Ot.jsx)("div",{className:"text-sm bg-gradient-to-r from-blue-500 to-purple-500 bg-opacity-20 px-4 py-2 rounded-lg",children:(0,Ot.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0645\u0631\u062a\u0628\u0637 \u0628\u0627\u0644\u0623\u062f\u0627\u0621 \u0627\u0644\u062d\u0642\u064a\u0642\u064a \ud83d\udcaf"})})]}),(0,Ot.jsxs)("div",{className:"glass-effect p-2 rounded-xl inline-flex",children:[(0,Ot.jsx)("button",{onClick:()=>l("profile"),className:"px-6 py-3 rounded-lg transition-all duration-300 ".concat("profile"===r?"bg-blue-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white hover:bg-opacity-10"),children:"\ud83d\udc64 \u0645\u0644\u0641\u064a \u0627\u0644\u0634\u062e\u0635\u064a"}),(0,Ot.jsx)("button",{onClick:()=>l("leaderboard"),className:"px-6 py-3 rounded-lg transition-all duration-300 ".concat("leaderboard"===r?"bg-purple-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white hover:bg-opacity-10"),children:"\ud83c\udfc5 \u0644\u0648\u062d\u0629 \u0627\u0644\u0645\u062a\u0635\u062f\u0631\u064a\u0646"}),(0,Ot.jsx)("button",{onClick:()=>l("achievements"),className:"px-6 py-3 rounded-lg transition-all duration-300 ".concat("achievements"===r?"bg-green-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white hover:bg-opacity-10"),children:"\ud83c\udfc6 \u0627\u0644\u0625\u0646\u062c\u0627\u0632\u0627\u062a"})]}),s&&(0,Ot.jsx)("div",{className:"p-4 bg-red-500 bg-opacity-20 border border-red-500 rounded-lg text-red-400",children:s}),e?(0,Ot.jsx)("div",{className:"space-y-6",children:[1,2,3].map((e=>(0,Ot.jsx)("div",{className:"glass-effect p-6 rounded-xl animate-pulse",children:(0,Ot.jsxs)("div",{className:"space-y-4",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ot.jsx)("div",{className:"w-16 h-16 bg-gray-600 rounded-full"}),(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsx)("div",{className:"h-6 bg-gray-600 rounded w-1/3 mb-2"}),(0,Ot.jsx)("div",{className:"h-4 bg-gray-700 rounded w-1/2"})]})]}),(0,Ot.jsx)("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3].map((e=>(0,Ot.jsx)("div",{className:"h-16 bg-gray-600 rounded"},e)))})]})},e)))}):(0,Ot.jsxs)(Ot.Fragment,{children:["profile"===r&&(0,Ot.jsx)(j,{}),"leaderboard"===r&&(0,Ot.jsx)(N,{}),"achievements"===r&&(0,Ot.jsx)(w,{})]})]})},Is=()=>{const[e,t]=(0,a.useState)(!0),[s,n]=(0,a.useState)(""),[r,l]=(0,a.useState)("team"),[i,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(24),[u,m]=(0,a.useState)(null),[h,x]=(0,a.useState)(null),[f,p]=(0,a.useState)(null),[g,b]=(0,a.useState)([]),[v,y]=(0,a.useState)({lat:30.0444,lng:31.2357}),[j,N]=(0,a.useState)(10),{language:w,t:k}=Dt();(0,a.useEffect)((()=>{_();const e=setInterval(_,3e4);return()=>clearInterval(e)}),[r,i,c]);const _=async()=>{t(!0),n("");try{const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)};if("team"===r){const e=await Tt.get("".concat(Lt,"/gps/team-locations?include_history_hours=2"),{headers:t});if(m(e.data),e.data.locations.length>0){const t=e.data.locations.filter((e=>e.current_location));if(t.length>0){const e=t.reduce(((e,t)=>e+t.current_location.latitude),0)/t.length,s=t.reduce(((e,t)=>e+t.current_location.longitude),0)/t.length;y({lat:e,lng:s})}}}else if("history"===r&&i){const e=await Tt.get("".concat(Lt,"/gps/location-history/").concat(i,"?hours=").concat(c,"&include_route=true"),{headers:t});if(x(e.data),e.data.locations.length>0){const t=e.data.locations[0];y({lat:t.latitude,lng:t.longitude})}}else"routes"===r&&p({suggestions:[],loading:!1})}catch(s){n("\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a GPS"),console.error("GPS data error:",s)}finally{t(!1)}},S=e=>{const t={online:"bg-green-500 text-green-400",inactive:"bg-yellow-500 text-yellow-400",offline:"bg-red-500 text-red-400",no_data:"bg-gray-500 text-gray-400"};return t[e]||t.no_data},C=e=>{const t={online:"\u0645\u062a\u0635\u0644",inactive:"\u063a\u064a\u0631 \u0646\u0634\u0637",offline:"\u063a\u064a\u0631 \u0645\u062a\u0635\u0644",no_data:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"};return t[e]||t.no_data},E=()=>u?(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udc65"}),(0,Ot.jsx)("span",{children:"\u0645\u0648\u0627\u0642\u0639 \u0627\u0644\u0641\u0631\u064a\u0642 \u0627\u0644\u0645\u0628\u0627\u0634\u0631\u0629"}),(0,Ot.jsxs)("span",{className:"bg-blue-500 bg-opacity-20 text-blue-400 px-2 py-1 rounded-full text-sm",children:[u.team_size," \u0639\u0636\u0648"]})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Ot.jsxs)("div",{className:"text-center p-4 bg-green-500 bg-opacity-20 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-green-400",children:u.online_members}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u062a\u0635\u0644 \u062d\u0627\u0644\u064a\u0627\u064b"})]}),(0,Ot.jsxs)("div",{className:"text-center p-4 bg-yellow-500 bg-opacity-20 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:u.offline_members}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u063a\u064a\u0631 \u0645\u062a\u0635\u0644"})]}),(0,Ot.jsxs)("div",{className:"text-center p-4 bg-red-500 bg-opacity-20 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-red-400",children:u.no_data_members}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"})]}),(0,Ot.jsxs)("div",{className:"text-center p-4 bg-blue-500 bg-opacity-20 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:u.locations.reduce(((e,t)=>e+t.recent_activity.visits_completed),0)}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0632\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u064a\u0648\u0645"})]})]})]}),(0,Ot.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.locations.map(((e,t)=>(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl hover:bg-white hover:bg-opacity-10 transition-all duration-300",children:[(0,Ot.jsxs)("div",{className:"flex items-start gap-4 mb-4",children:[(0,Ot.jsxs)("div",{className:"relative",children:[(0,Ot.jsx)("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:e.photo?(0,Ot.jsx)("img",{src:"data:image/jpeg;base64,".concat(e.photo),alt:e.full_name,className:"w-full h-full object-cover"}):(0,Ot.jsx)("span",{className:"text-white font-bold",children:e.full_name.charAt(0).toUpperCase()})}),(0,Ot.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white ".concat("online"===e.status?"bg-green-500":"inactive"===e.status?"bg-yellow-500":"offline"===e.status?"bg-red-500":"bg-gray-500")})]}),(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsx)("div",{className:"font-bold",style:{color:"var(--text-primary)"},children:e.full_name}),(0,Ot.jsxs)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["@",e.username]}),(0,Ot.jsx)("div",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium ".concat(S(e.status)," bg-opacity-20"),children:C(e.status)})]})]}),e.current_location?(0,Ot.jsxs)("div",{className:"space-y-3",children:[(0,Ot.jsxs)("div",{className:"text-sm",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Ot.jsx)("span",{className:"text-blue-400",children:"\ud83d\udccd"}),(0,Ot.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0645\u0648\u0642\u0639 \u0627\u0644\u062d\u0627\u0644\u064a:"})]}),(0,Ot.jsxs)("div",{className:"bg-white bg-opacity-5 p-3 rounded-lg text-xs",children:[(0,Ot.jsx)("div",{style:{color:"var(--text-primary)"},children:e.current_location.address}),(0,Ot.jsxs)("div",{className:"mt-1",style:{color:"var(--text-muted)"},children:[e.current_location.latitude.toFixed(4),", ",e.current_location.longitude.toFixed(4)]}),(0,Ot.jsxs)("div",{className:"mt-1",style:{color:"var(--text-muted)"},children:["\u0622\u062e\u0631 \u062a\u062d\u062f\u064a\u062b: \u0645\u0646\u0630 ",e.minutes_since_update," \u062f\u0642\u064a\u0642\u0629"]})]})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-center",children:[(0,Ot.jsxs)("div",{className:"bg-blue-500 bg-opacity-20 p-2 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-lg font-bold text-blue-400",children:e.recent_activity.location_points}),(0,Ot.jsx)("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:"\u0646\u0642\u0627\u0637 \u062a\u062a\u0628\u0639"})]}),(0,Ot.jsxs)("div",{className:"bg-green-500 bg-opacity-20 p-2 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-lg font-bold text-green-400",children:e.recent_activity.visits_completed}),(0,Ot.jsx)("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:"\u0632\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u064a\u0648\u0645"})]})]}),(0,Ot.jsxs)("div",{className:"flex gap-2",children:[(0,Ot.jsx)("button",{onClick:()=>{o(e.user_id),l("history")},className:"flex-1 py-2 px-3 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg transition-colors",children:"\ud83d\udccd \u0639\u0631\u0636 \u0627\u0644\u0645\u0633\u0627\u0631"}),(0,Ot.jsx)("button",{onClick:()=>{y({lat:e.current_location.latitude,lng:e.current_location.longitude}),N(15)},className:"py-2 px-3 bg-green-600 hover:bg-green-700 text-white text-sm rounded-lg transition-colors",children:"\ud83d\uddfa\ufe0f"})]})]}):(0,Ot.jsxs)("div",{className:"text-center py-4",children:[(0,Ot.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udccd"}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a \u0645\u0648\u0642\u0639"}),(0,Ot.jsx)("div",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"\u064a\u062c\u0628 \u062a\u0641\u0639\u064a\u0644 GPS \u0639\u0644\u0649 \u0627\u0644\u0647\u0627\u062a\u0641"})]})]},e.user_id)))})]}):null,A=()=>h?(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udccd"}),(0,Ot.jsxs)("span",{children:["\u0645\u0633\u0627\u0631 ",h.user_info.full_name]})]}),(0,Ot.jsxs)("select",{value:c,onChange:e=>d(parseInt(e.target.value)),className:"px-4 py-2 glass-effect border border-white border-opacity-20 rounded-lg text-white",children:[(0,Ot.jsx)("option",{value:2,children:"\u0622\u062e\u0631 \u0633\u0627\u0639\u062a\u064a\u0646"}),(0,Ot.jsx)("option",{value:6,children:"\u0622\u062e\u0631 6 \u0633\u0627\u0639\u0627\u062a"}),(0,Ot.jsx)("option",{value:12,children:"\u0622\u062e\u0631 12 \u0633\u0627\u0639\u0629"}),(0,Ot.jsx)("option",{value:24,children:"\u0622\u062e\u0631 24 \u0633\u0627\u0639\u0629"}),(0,Ot.jsx)("option",{value:48,children:"\u0622\u062e\u0631 \u064a\u0648\u0645\u064a\u0646"})]})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,Ot.jsxs)("div",{className:"text-center p-4 bg-blue-500 bg-opacity-20 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:h.route_statistics.total_points}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0646\u0642\u0627\u0637 \u0627\u0644\u062a\u062a\u0628\u0639"})]}),(0,Ot.jsxs)("div",{className:"text-center p-4 bg-green-500 bg-opacity-20 rounded-lg",children:[(0,Ot.jsxs)("div",{className:"text-2xl font-bold text-green-400",children:[h.route_statistics.total_distance," km"]}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0645\u0633\u0627\u0641\u0629 \u0627\u0644\u0645\u0642\u0637\u0648\u0639\u0629"})]}),(0,Ot.jsxs)("div",{className:"text-center p-4 bg-purple-500 bg-opacity-20 rounded-lg",children:[(0,Ot.jsxs)("div",{className:"text-2xl font-bold text-purple-400",children:[h.route_statistics.average_speed," km/h"]}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u062a\u0648\u0633\u0637 \u0627\u0644\u0633\u0631\u0639\u0629"})]}),(0,Ot.jsxs)("div",{className:"text-center p-4 bg-orange-500 bg-opacity-20 rounded-lg",children:[(0,Ot.jsxs)("div",{className:"text-2xl font-bold text-orange-400",children:[h.route_statistics.max_speed," km/h"]}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0623\u0642\u0635\u0649 \u0633\u0631\u0639\u0629"})]}),(0,Ot.jsxs)("div",{className:"text-center p-4 bg-red-500 bg-opacity-20 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-red-400",children:h.route_statistics.stops.length}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0646\u0642\u0627\u0637 \u0627\u0644\u062a\u0648\u0642\u0641"})]})]})]}),h.route_statistics.stops.length>0&&(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\u23f1\ufe0f"}),(0,Ot.jsx)("span",{children:"\u062a\u062d\u0644\u064a\u0644 \u0646\u0642\u0627\u0637 \u0627\u0644\u062a\u0648\u0642\u0641"})]}),(0,Ot.jsx)("div",{className:"space-y-4",children:h.route_statistics.stops.map(((e,t)=>(0,Ot.jsxs)("div",{className:"bg-white bg-opacity-5 p-4 rounded-lg",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:t+1}),(0,Ot.jsx)("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:e.location.address})]}),(0,Ot.jsxs)("span",{className:"text-sm font-bold text-orange-400",children:[e.duration_minutes," \u062f\u0642\u064a\u0642\u0629"]})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0648\u0642\u062a \u0627\u0644\u0648\u0635\u0648\u0644: "}),(0,Ot.jsx)("span",{style:{color:"var(--text-primary)"},children:new Date(e.start_time).toLocaleTimeString("ar-EG")})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0648\u0642\u062a \u0627\u0644\u0645\u063a\u0627\u062f\u0631\u0629: "}),(0,Ot.jsx)("span",{style:{color:"var(--text-primary)"},children:new Date(e.end_time).toLocaleTimeString("ar-EG")})]})]}),(0,Ot.jsxs)("div",{className:"text-xs mt-2",style:{color:"var(--text-muted)"},children:["\ud83d\udccd ",e.location.latitude.toFixed(4),", ",e.location.longitude.toFixed(4)]})]},t)))})]}),h.locations.length>0&&(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udd50"}),(0,Ot.jsx)("span",{children:"\u062e\u0637 \u0632\u0645\u0646\u064a \u0644\u0644\u0645\u0648\u0627\u0642\u0639"})]}),(0,Ot.jsx)("div",{className:"max-h-96 overflow-y-auto space-y-3",children:h.locations.slice(-20).reverse().map(((e,t)=>(0,Ot.jsxs)("div",{className:"flex items-center gap-4 p-3 bg-white bg-opacity-5 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-2xl",children:"visit"===e.activity_type?"\ud83c\udfe5":e.calculated_speed>20?"\ud83d\ude97":e.calculated_speed>5?"\ud83d\udeb6":"\u23f8\ufe0f"}),(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Ot.jsx)("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:e.address}),(0,Ot.jsx)("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:new Date(e.timestamp).toLocaleTimeString("ar-EG")})]}),(0,Ot.jsxs)("div",{className:"flex items-center gap-4 text-xs",style:{color:"var(--text-muted)"},children:[(0,Ot.jsxs)("span",{children:["\ud83d\udccd ",e.latitude.toFixed(4),", ",e.longitude.toFixed(4)]}),e.calculated_speed>0&&(0,Ot.jsxs)("span",{children:["\ud83c\udfc3 ",e.calculated_speed," km/h"]}),e.distance_from_last>0&&(0,Ot.jsxs)("span",{children:["\ud83d\udccf ",(1e3*e.distance_from_last).toFixed(0)," \u0645\u062a\u0631"]}),(0,Ot.jsxs)("span",{children:["\ud83c\udfaf ",e.accuracy,"m \u062f\u0642\u0629"]})]})]})]},e.id)))})]})]}):null;return(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsx)("h2",{className:"text-3xl font-bold text-gradient",children:"\ud83d\uddfa\ufe0f \u0646\u0638\u0627\u0645 \u062a\u062a\u0628\u0639 GPS \u0627\u0644\u0645\u062a\u0642\u062f\u0645"}),(0,Ot.jsx)("div",{className:"text-sm bg-gradient-to-r from-green-500 to-blue-500 bg-opacity-20 px-4 py-2 rounded-lg",children:(0,Ot.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u062a\u062d\u062f\u064a\u062b \u0645\u0628\u0627\u0634\u0631 \u0643\u0644 30 \u062b\u0627\u0646\u064a\u0629 \u26a1"})})]}),(0,Ot.jsxs)("div",{className:"glass-effect p-2 rounded-xl inline-flex",children:[(0,Ot.jsx)("button",{onClick:()=>l("team"),className:"px-6 py-3 rounded-lg transition-all duration-300 ".concat("team"===r?"bg-blue-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white hover:bg-opacity-10"),children:"\ud83d\udc65 \u0645\u0648\u0627\u0642\u0639 \u0627\u0644\u0641\u0631\u064a\u0642"}),(0,Ot.jsx)("button",{onClick:()=>l("history"),className:"px-6 py-3 rounded-lg transition-all duration-300 ".concat("history"===r?"bg-purple-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white hover:bg-opacity-10"),children:"\ud83d\udccd \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0645\u0648\u0627\u0642\u0639"}),(0,Ot.jsx)("button",{onClick:()=>l("geofence"),className:"px-6 py-3 rounded-lg transition-all duration-300 ".concat("geofence"===r?"bg-green-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white hover:bg-opacity-10"),children:"\ud83d\udea7 \u0627\u0644\u062d\u062f\u0648\u062f \u0627\u0644\u062c\u063a\u0631\u0627\u0641\u064a\u0629"}),(0,Ot.jsx)("button",{onClick:()=>l("routes"),className:"px-6 py-3 rounded-lg transition-all duration-300 ".concat("routes"===r?"bg-orange-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white hover:bg-opacity-10"),children:"\ud83d\udee3\ufe0f \u062a\u062d\u0633\u064a\u0646 \u0627\u0644\u0645\u0633\u0627\u0631\u0627\u062a"})]}),s&&(0,Ot.jsx)("div",{className:"p-4 bg-red-500 bg-opacity-20 border border-red-500 rounded-lg text-red-400",children:s}),e?(0,Ot.jsx)("div",{className:"space-y-6",children:[1,2,3].map((e=>(0,Ot.jsx)("div",{className:"glass-effect p-6 rounded-xl animate-pulse",children:(0,Ot.jsxs)("div",{className:"space-y-4",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ot.jsx)("div",{className:"w-12 h-12 bg-gray-600 rounded-full"}),(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsx)("div",{className:"h-4 bg-gray-600 rounded w-1/3 mb-2"}),(0,Ot.jsx)("div",{className:"h-3 bg-gray-700 rounded w-1/2"})]})]}),(0,Ot.jsx)("div",{className:"grid grid-cols-4 gap-4",children:[1,2,3,4].map((e=>(0,Ot.jsx)("div",{className:"h-16 bg-gray-600 rounded"},e)))})]})},e)))}):(0,Ot.jsxs)(Ot.Fragment,{children:["team"===r&&(0,Ot.jsx)(E,{}),"history"===r&&(i?(0,Ot.jsx)(A,{}):(0,Ot.jsxs)("div",{className:"glass-effect p-12 rounded-xl text-center",children:[(0,Ot.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udccd"}),(0,Ot.jsx)("h3",{className:"text-xl font-bold mb-2",style:{color:"var(--text-primary)"},children:"\u0627\u062e\u062a\u0631 \u0645\u0633\u062a\u062e\u062f\u0645\u0627\u064b \u0644\u0639\u0631\u0636 \u0645\u0633\u0627\u0631\u0647"}),(0,Ot.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:'\u0627\u0631\u062c\u0639 \u0644\u062a\u0628\u0648\u064a\u0628 "\u0645\u0648\u0627\u0642\u0639 \u0627\u0644\u0641\u0631\u064a\u0642" \u0648\u0627\u0636\u063a\u0637 "\u0639\u0631\u0636 \u0627\u0644\u0645\u0633\u0627\u0631" \u0644\u0623\u064a \u0639\u0636\u0648'}),(0,Ot.jsx)("button",{onClick:()=>l("team"),className:"mt-4 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"\u0627\u0644\u0639\u0648\u062f\u0629 \u0644\u0645\u0648\u0627\u0642\u0639 \u0627\u0644\u0641\u0631\u064a\u0642"})]})),"geofence"===r&&(0,Ot.jsxs)("div",{className:"glass-effect p-12 rounded-xl text-center",children:[(0,Ot.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udea7"}),(0,Ot.jsx)("h3",{className:"text-xl font-bold mb-2",style:{color:"var(--text-primary)"},children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u062d\u062f\u0648\u062f \u0627\u0644\u062c\u063a\u0631\u0627\u0641\u064a\u0629"}),(0,Ot.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0642\u0631\u064a\u0628\u0627\u064b - \u0625\u0646\u0634\u0627\u0621 \u0645\u0646\u0627\u0637\u0642 \u0645\u0633\u0645\u0648\u062d\u0629 \u0648\u0645\u062d\u0638\u0648\u0631\u0629 \u0645\u0639 \u062a\u0646\u0628\u064a\u0647\u0627\u062a \u062a\u0644\u0642\u0627\u0626\u064a\u0629"})]}),"routes"===r&&(0,Ot.jsxs)("div",{className:"glass-effect p-12 rounded-xl text-center",children:[(0,Ot.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udee3\ufe0f"}),(0,Ot.jsx)("h3",{className:"text-xl font-bold mb-2",style:{color:"var(--text-primary)"},children:"\u062a\u062d\u0633\u064a\u0646 \u0627\u0644\u0645\u0633\u0627\u0631\u0627\u062a \u0627\u0644\u0630\u0643\u064a"}),(0,Ot.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0642\u0631\u064a\u0628\u0627\u064b - \u0627\u0642\u062a\u0631\u0627\u062d \u0623\u0641\u0636\u0644 \u0627\u0644\u0645\u0633\u0627\u0631\u0627\u062a \u0644\u0644\u0632\u064a\u0627\u0631\u0627\u062a \u0628\u0646\u0627\u0621 \u0639\u0644\u0649 \u0627\u0644\u0645\u0648\u0642\u0639 \u0648\u0627\u0644\u0648\u0642\u062a"})]})]})]})},Fs=e=>{var t,s,n;let{order:a,onClose:r,language:l}=e;const i="ar"===l?{orderDetails:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0637\u0644\u0628",orderNumber:"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628",orderDate:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0637\u0644\u0628",orderStatus:"\u062d\u0627\u0644\u0629 \u0627\u0644\u0637\u0644\u0628",salesRep:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628",doctor:"\u0627\u0644\u0637\u0628\u064a\u0628",clinic:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629",warehouse:"\u0627\u0644\u0645\u062e\u0632\u0646",totalAmount:"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a",items:"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a",quantity:"\u0627\u0644\u0643\u0645\u064a\u0629",unitPrice:"\u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0629",total:"\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a",notes:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a",close:"\u0625\u063a\u0644\u0627\u0642",approved:"\u0645\u0639\u062a\u0645\u062f",pending:"\u0641\u064a \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631",rejected:"\u0645\u0631\u0641\u0648\u0636"}:{orderDetails:"Order Details",orderNumber:"Order Number",orderDate:"Order Date",orderStatus:"Order Status",salesRep:"Sales Rep",doctor:"Doctor",clinic:"Clinic",warehouse:"Warehouse",totalAmount:"Total Amount",items:"Items",quantity:"Quantity",unitPrice:"Unit Price",total:"Total",notes:"Notes",close:"Close",approved:"Approved",pending:"Pending",rejected:"Rejected"};return(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-60 flex items-center justify-center p-4",children:(0,Ot.jsxs)("div",{className:"glass-effect w-full max-w-4xl max-h-[95vh] overflow-hidden rounded-2xl shadow-2xl",children:[(0,Ot.jsxs)("div",{className:"p-6 border-b border-white border-opacity-20 flex items-center justify-between",children:[(0,Ot.jsxs)("h3",{className:"text-2xl font-bold text-gradient",children:[i.orderDetails," #",(null===(t=a.id)||void 0===t?void 0:t.slice(-8))||a.order_number]}),(0,Ot.jsx)("button",{onClick:r,className:"p-2 hover:bg-gray-100 hover:bg-opacity-10 rounded-full transition-colors",children:(0,Ot.jsx)(Ht,{name:"error",size:20})})]}),(0,Ot.jsx)("div",{className:"p-6 overflow-y-auto max-h-[80vh]",children:(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Ot.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)(Ht,{name:"reports",size:20}),i.orderDetails]}),(0,Ot.jsxs)("div",{className:"space-y-3",children:[(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsxs)("span",{className:"font-semibold",children:[i.orderNumber,":"]}),(0,Ot.jsxs)("span",{className:"font-mono",children:["#",(null===(s=a.id)||void 0===s?void 0:s.slice(-8))||a.order_number]})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsxs)("span",{className:"font-semibold",children:[i.orderDate,":"]}),(0,Ot.jsx)("span",{children:new Date(a.created_at||a.order_date).toLocaleDateString("ar"===l?"ar-EG":"en-US")})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsxs)("span",{className:"font-semibold",children:[i.orderStatus,":"]}),(0,Ot.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat((e=>{switch(e){case"APPROVED":return"bg-green-100 bg-opacity-20 text-green-300";case"PENDING":return"bg-yellow-100 bg-opacity-20 text-yellow-300";case"REJECTED":return"bg-red-100 bg-opacity-20 text-red-300";default:return"bg-gray-100 bg-opacity-20 text-gray-300"}})(a.status)),children:i[null===(n=a.status)||void 0===n?void 0:n.toLowerCase()]||a.status})]}),(0,Ot.jsxs)("div",{className:"flex justify-between border-t pt-3 mt-3",children:[(0,Ot.jsxs)("span",{className:"font-bold text-lg",children:[i.totalAmount,":"]}),(0,Ot.jsxs)("span",{className:"font-bold text-lg text-green-500",children:[a.total_amount," \u062c.\u0645"]})]})]})]}),(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Ot.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)(Ht,{name:"users",size:20}),"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0637\u0644\u0628"]}),(0,Ot.jsxs)("div",{className:"space-y-3",children:[(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsxs)("span",{className:"font-semibold",children:[i.salesRep,":"]}),(0,Ot.jsx)("span",{children:a.sales_rep_name})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsxs)("span",{className:"font-semibold",children:[i.doctor,":"]}),(0,Ot.jsxs)("span",{children:["\u062f. ",a.doctor_name]})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsxs)("span",{className:"font-semibold",children:[i.clinic,":"]}),(0,Ot.jsx)("span",{children:a.clinic_name})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsxs)("span",{className:"font-semibold",children:[i.warehouse,":"]}),(0,Ot.jsx)("span",{children:a.warehouse_name})]})]})]})]}),a.items&&a.items.length>0&&(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Ot.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)(Ht,{name:"warehouse",size:20}),i.items," (",a.items.length,")"]}),(0,Ot.jsx)("div",{className:"overflow-x-auto",children:(0,Ot.jsxs)("table",{className:"w-full",children:[(0,Ot.jsx)("thead",{children:(0,Ot.jsxs)("tr",{className:"border-b",style:{borderColor:"var(--border-color)"},children:[(0,Ot.jsx)("th",{className:"text-right py-3 px-4 font-bold",children:"#"}),(0,Ot.jsx)("th",{className:"text-right py-3 px-4 font-bold",children:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c"}),(0,Ot.jsx)("th",{className:"text-right py-3 px-4 font-bold",children:i.quantity}),(0,Ot.jsx)("th",{className:"text-right py-3 px-4 font-bold",children:i.unitPrice}),(0,Ot.jsx)("th",{className:"text-right py-3 px-4 font-bold",children:i.total})]})}),(0,Ot.jsx)("tbody",{children:a.items.map(((e,t)=>(0,Ot.jsxs)("tr",{className:"border-b border-opacity-20",style:{borderColor:"var(--border-color)"},children:[(0,Ot.jsx)("td",{className:"py-3 px-4 text-center",children:t+1}),(0,Ot.jsxs)("td",{className:"py-3 px-4",children:[(0,Ot.jsx)("div",{className:"font-medium",children:e.product_name}),e.product_description&&(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:e.product_description})]}),(0,Ot.jsx)("td",{className:"py-3 px-4 text-center",children:e.quantity}),(0,Ot.jsxs)("td",{className:"py-3 px-4 text-center",children:[e.unit_price," \u062c.\u0645"]}),(0,Ot.jsxs)("td",{className:"py-3 px-4 text-center font-bold",children:[(e.quantity*e.unit_price).toFixed(2)," \u062c.\u0645"]})]},t)))}),(0,Ot.jsx)("tfoot",{children:(0,Ot.jsxs)("tr",{className:"border-t-2 border-blue-500",children:[(0,Ot.jsxs)("td",{colSpan:"4",className:"py-3 px-4 text-right font-bold text-lg",children:[i.totalAmount,":"]}),(0,Ot.jsxs)("td",{className:"py-3 px-4 text-center font-bold text-lg text-green-500",children:[a.total_amount," \u062c.\u0645"]})]})})]})})]}),a.notes&&(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Ot.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)(Ht,{name:"chat",size:20}),i.notes]}),(0,Ot.jsx)("p",{className:"text-sm leading-relaxed",children:a.notes})]})]})}),(0,Ot.jsx)("div",{className:"p-6 border-t border-white border-opacity-20 flex justify-end",children:(0,Ot.jsx)("button",{onClick:r,className:"btn-modern px-6 py-3",children:i.close})})]})})},Bs=()=>{const{user:e,loading:t}=Kt(),[s,n]=(0,a.useState)(!1),[r,l]=(0,a.useState)(!1),[i,o]=(0,a.useState)(null),{language:c}=Dt();return t?(0,Ot.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{background:"var(--gradient-dark)",color:"var(--text-primary)"},children:(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsx)("div",{className:"w-20 h-20 loading-shimmer rounded-full mx-auto mb-6"}),(0,Ot.jsx)("p",{style:{color:"var(--text-secondary)",fontSize:"18px"},children:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644..."})]})}):(0,Ot.jsxs)("div",{className:"App",style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh"},children:[e?(0,Ot.jsx)(Rs,{}):(0,Ot.jsx)(Yt,{}),s&&(0,Ot.jsx)(js,{onScan:async e=>{try{const t=localStorage.getItem("token"),s=await Tt.post("".concat(Lt,"/qr/scan"),{content:e},{headers:{Authorization:"Bearer ".concat(t)}});"prefill_visit_form"===s.data.action?alert("\u062a\u0645 \u0645\u0633\u062d \u0639\u064a\u0627\u062f\u0629: ".concat(s.data.data.name)):"add_to_order"===s.data.action&&alert("\u062a\u0645 \u0645\u0633\u062d \u0645\u0646\u062a\u062c: ".concat(s.data.data.name)),n(!1)}catch(t){console.error("QR scan error:",t),alert("\u062e\u0637\u0623 \u0641\u064a \u0645\u0639\u0627\u0644\u062c\u0629 QR Code")}},onClose:()=>n(!1)}),(0,Ot.jsx)(Ns,{}),e&&(0,Ot.jsx)("button",{onClick:()=>n(!0),className:"fixed bottom-6 right-6 w-14 h-14 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 transition-colors z-40 flex items-center justify-center",title:"\u0645\u0633\u062d QR Code",children:(0,Ot.jsx)("span",{className:"text-xl",children:"\ud83d\udcf1"})}),r&&i&&(0,Ot.jsx)(Fs,{order:i,onClose:()=>{l(!1),o(null)},language:c})]})},Us=()=>{const[e,t]=(0,a.useState)(!0),[s,n]=(0,a.useState)(""),[r,l]=(0,a.useState)(""),[i,o]=(0,a.useState)("scanner"),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(!1),[h,x]=(0,a.useState)(null),[f,p]=(0,a.useState)("visit_photo"),[g,b]=(0,a.useState)(null),[v,y]=(0,a.useState)([]),[j,N]=(0,a.useState)([]),[w,k]=(0,a.useState)(null),[_,S]=(0,a.useState)(!1),[C,E]=(0,a.useState)(""),[A,P]=(0,a.useState)([]),[z,T]=(0,a.useState)({document_type:"",date_from:"",date_to:""}),{language:O,t:L}=Dt(),R=JSON.parse(localStorage.getItem("user")||"{}");(0,a.useEffect)((()=>{D()}),[i,c]);const D=async()=>{if("documents"===i){const e=c||R.id;await M(e)}},M=async e=>{t(!0);try{const t=localStorage.getItem("token"),s=await Tt.get("".concat(Lt,"/documents/user/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}});y(s.data.documents),N(s.data.document_types_summary)}catch(s){n("\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0648\u062b\u0627\u0626\u0642"),console.error("Document fetch error:",s)}finally{t(!1)}},I=e=>{const t=e.target.files[0];if(t&&t.type.startsWith("image/")){const e=new FileReader;e.onload=e=>{x({file:t,dataUrl:e.target.result,base64:e.target.result.split(",")[1],size:t.size,name:t.name})},e.readAsDataURL(t)}else n("\u064a\u0631\u062c\u0649 \u0627\u062e\u062a\u064a\u0627\u0631 \u0645\u0644\u0641 \u0635\u0648\u0631\u0629 \u0635\u0627\u0644\u062d")},F=async()=>{if(h){m(!0),n("");try{const e=localStorage.getItem("token"),t={image_data:h.base64,document_type:f,title:"\u0645\u0633\u062a\u0646\u062f ".concat(B(f)),description:"\u062a\u0645 \u0627\u0644\u0645\u0633\u062d \u0641\u064a ".concat((new Date).toLocaleString("ar-EG")),tags:[f,"mobile_scan"]},s=await Tt.post("".concat(Lt,"/documents/scan"),t,{headers:{Authorization:"Bearer ".concat(e)}});b(s.data),l("\u062a\u0645 \u0645\u0633\u062d \u0627\u0644\u0648\u062b\u064a\u0642\u0629 \u0628\u0646\u062c\u0627\u062d!"),x(null),document.getElementById("imageInput").value="","documents"===i&&await M(c||R.id)}catch(s){var e,t;n((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"\u062e\u0637\u0623 \u0641\u064a \u0645\u0633\u062d \u0627\u0644\u0648\u062b\u064a\u0642\u0629")}finally{m(!1)}}else n("\u064a\u0631\u062c\u0649 \u0627\u062e\u062a\u064a\u0627\u0631 \u0635\u0648\u0631\u0629 \u0623\u0648\u0644\u0627\u064b")},B=e=>({visit_photo:"\u0635\u0648\u0631\u0629 \u0632\u064a\u0627\u0631\u0629",order_signature:"\u062a\u0648\u0642\u064a\u0639 \u0637\u0644\u0628",prescription:"\u0631\u0648\u0634\u062a\u0629 \u0637\u0628\u064a\u0629",id_card:"\u0628\u0637\u0627\u0642\u0629 \u0647\u0648\u064a\u0629",receipt:"\u0625\u064a\u0635\u0627\u0644",contract:"\u0639\u0642\u062f",report:"\u062a\u0642\u0631\u064a\u0631"}[e]||e),U=e=>({visit_photo:"\ud83d\udcf8",order_signature:"\u270d\ufe0f",prescription:"\ud83d\udc8a",id_card:"\ud83c\udd94",receipt:"\ud83e\uddfe",contract:"\ud83d\udcc4",report:"\ud83d\udccb"}[e]||"\ud83d\udcc4"),q=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},V=()=>(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udcf1"}),(0,Ot.jsx)("span",{children:"\u0645\u0633\u062d \u0627\u0644\u0648\u062b\u0627\u0626\u0642 \u0627\u0644\u0630\u0643\u064a"})]}),(0,Ot.jsx)("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:"\u0642\u0645 \u0628\u062a\u0635\u0648\u064a\u0631 \u0623\u0648 \u0631\u0641\u0639 \u0627\u0644\u0648\u062b\u0627\u0626\u0642 \u0644\u0645\u0639\u0627\u0644\u062c\u062a\u0647\u0627 \u0648\u0627\u0633\u062a\u062e\u0631\u0627\u062c \u0627\u0644\u0646\u0635 \u0628\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u062a\u0642\u0646\u064a\u0629 OCR"}),(0,Ot.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6",children:[{value:"visit_photo",label:"\u0635\u0648\u0631\u0629 \u0632\u064a\u0627\u0631\u0629",icon:"\ud83d\udcf8"},{value:"order_signature",label:"\u062a\u0648\u0642\u064a\u0639 \u0637\u0644\u0628",icon:"\u270d\ufe0f"},{value:"prescription",label:"\u0631\u0648\u0634\u062a\u0629 \u0637\u0628\u064a\u0629",icon:"\ud83d\udc8a"},{value:"id_card",label:"\u0628\u0637\u0627\u0642\u0629 \u0647\u0648\u064a\u0629",icon:"\ud83c\udd94"},{value:"receipt",label:"\u0625\u064a\u0635\u0627\u0644",icon:"\ud83e\uddfe"},{value:"contract",label:"\u0639\u0642\u062f",icon:"\ud83d\udcc4"},{value:"report",label:"\u062a\u0642\u0631\u064a\u0631",icon:"\ud83d\udccb"},{value:"other",label:"\u0623\u062e\u0631\u0649",icon:"\ud83d\udcc4"}].map((e=>(0,Ot.jsxs)("button",{onClick:()=>p(e.value),className:"p-4 rounded-xl transition-all duration-300 ".concat(f===e.value?"bg-blue-600 text-white shadow-lg scale-105":"glass-effect hover:bg-white hover:bg-opacity-10"),children:[(0,Ot.jsx)("div",{className:"text-2xl mb-2",children:e.icon}),(0,Ot.jsx)("div",{className:"text-sm font-medium",children:e.label})]},e.value)))}),(0,Ot.jsxs)("div",{className:"mb-6",children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"\u0627\u062e\u062a\u0631 \u0635\u0648\u0631\u0629 \u0623\u0648 \u0642\u0645 \u0628\u0627\u0644\u062a\u0635\u0648\u064a\u0631:"}),(0,Ot.jsx)("input",{id:"imageInput",type:"file",accept:"image/*",capture:"camera",onChange:I,className:"w-full p-3 glass-effect border border-white border-opacity-20 rounded-lg text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),h&&(0,Ot.jsx)("div",{className:"mb-6",children:(0,Ot.jsxs)("div",{className:"glass-effect p-4 rounded-xl",children:[(0,Ot.jsx)("h4",{className:"font-medium mb-3",style:{color:"var(--text-primary)"},children:"\u0645\u0639\u0627\u064a\u0646\u0629 \u0627\u0644\u0635\u0648\u0631\u0629:"}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,Ot.jsx)("div",{className:"text-center",children:(0,Ot.jsx)("img",{src:h.dataUrl,alt:"Document preview",className:"max-w-full max-h-64 mx-auto rounded-lg shadow-lg"})}),(0,Ot.jsxs)("div",{className:"space-y-3",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0644\u0641:"}),(0,Ot.jsx)("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:h.name})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u062d\u062c\u0645 \u0627\u0644\u0645\u0644\u0641:"}),(0,Ot.jsx)("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:q(h.size)})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0646\u0648\u0639 \u0627\u0644\u0648\u062b\u064a\u0642\u0629:"}),(0,Ot.jsxs)("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:[U(f)," ",B(f)]})]})]})]})]})}),(0,Ot.jsx)("div",{className:"text-center",children:(0,Ot.jsx)("button",{onClick:F,disabled:!h||u,className:"px-8 py-4 bg-gradient-to-r from-green-600 to-blue-600 text-white font-bold rounded-xl disabled:opacity-50 hover:from-green-700 hover:to-blue-700 transition-all duration-300 transform hover:scale-105",children:u?(0,Ot.jsxs)(Ot.Fragment,{children:[(0,Ot.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white inline-block mr-2"}),"\u062c\u0627\u0631\u064a \u0627\u0644\u0645\u0633\u062d..."]}):(0,Ot.jsx)(Ot.Fragment,{children:"\ud83d\ude80 \u0645\u0633\u062d \u0627\u0644\u0648\u062b\u064a\u0642\u0629"})})})]}),g&&(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\u2705"}),(0,Ot.jsx)("span",{children:"\u0646\u062a\u064a\u062c\u0629 \u0627\u0644\u0645\u0633\u062d"})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,Ot.jsxs)("div",{className:"text-center p-4 bg-green-500 bg-opacity-20 rounded-lg",children:[(0,Ot.jsxs)("div",{className:"text-2xl font-bold text-green-400",children:[g.quality_score,"%"]}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u062c\u0648\u062f\u0629 \u0627\u0644\u0635\u0648\u0631\u0629"})]}),(0,Ot.jsxs)("div",{className:"text-center p-4 bg-blue-500 bg-opacity-20 rounded-lg",children:[(0,Ot.jsxs)("div",{className:"text-2xl font-bold text-blue-400",children:[g.confidence_score,"%"]}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u062f\u0642\u0629 \u0627\u0633\u062a\u062e\u0631\u0627\u062c \u0627\u0644\u0646\u0635"})]}),(0,Ot.jsxs)("div",{className:"text-center p-4 bg-purple-500 bg-opacity-20 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:q(g.file_size)}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u062d\u062c\u0645 \u0627\u0644\u0645\u0644\u0641"})]})]}),g.ocr_text&&(0,Ot.jsxs)("div",{className:"bg-white bg-opacity-5 p-4 rounded-lg",children:[(0,Ot.jsxs)("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udcdd"}),(0,Ot.jsx)("span",{children:"\u0627\u0644\u0646\u0635 \u0627\u0644\u0645\u0633\u062a\u062e\u0631\u062c:"})]}),(0,Ot.jsx)("div",{className:"text-sm leading-relaxed",style:{color:"var(--text-primary)"},children:g.ocr_text})]}),(0,Ot.jsxs)("div",{className:"flex gap-4 mt-6",children:[(0,Ot.jsx)("button",{onClick:()=>b(null),className:"px-6 py-3 glass-effect border border-white border-opacity-20 rounded-lg hover:bg-white hover:bg-opacity-10 transition-colors",children:"\u0645\u0633\u062d \u062c\u062f\u064a\u062f"}),(0,Ot.jsx)("button",{onClick:()=>o("documents"),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"\u0639\u0631\u0636 \u0627\u0644\u0648\u062b\u0627\u0626\u0642"})]})]})]}),H=()=>(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udcc1"}),(0,Ot.jsx)("span",{children:"\u0645\u0643\u062a\u0628\u0629 \u0627\u0644\u0648\u062b\u0627\u0626\u0642"})]}),(0,Ot.jsx)("button",{onClick:()=>M(c||R.id),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"\ud83d\udd04 \u062a\u062d\u062f\u064a\u062b"})]}),j.length>0&&(0,Ot.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:j.map(((e,t)=>(0,Ot.jsxs)("div",{className:"text-center p-4 bg-white bg-opacity-5 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-2xl mb-1",children:U(e.type)}),(0,Ot.jsx)("div",{className:"font-bold text-lg",style:{color:"var(--text-primary)"},children:e.count}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:e.label}),(0,Ot.jsxs)("div",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:[e.total_size_mb," MB"]})]},t)))})]}),e?(0,Ot.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map((e=>(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl animate-pulse",children:[(0,Ot.jsx)("div",{className:"w-full h-32 bg-gray-600 rounded-lg mb-4"}),(0,Ot.jsx)("div",{className:"h-4 bg-gray-600 rounded mb-2"}),(0,Ot.jsx)("div",{className:"h-3 bg-gray-700 rounded w-3/4"})]},e)))}):(0,Ot.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(((e,t)=>{var s;return(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl hover:bg-white hover:bg-opacity-10 transition-all duration-300",children:[(0,Ot.jsxs)("div",{className:"relative mb-4",children:[e.image_data?(0,Ot.jsx)("img",{src:"data:image/jpeg;base64,".concat(e.image_data),alt:e.title,className:"w-full h-32 object-cover rounded-lg cursor-pointer",onClick:()=>{k(e),S(!0)}}):(0,Ot.jsx)("div",{className:"w-full h-32 bg-gradient-to-br from-gray-600 to-gray-800 rounded-lg flex items-center justify-center",children:(0,Ot.jsx)("span",{className:"text-4xl",children:U(e.document_type)})}),(0,Ot.jsx)("div",{className:"absolute top-2 right-2 bg-black bg-opacity-60 px-2 py-1 rounded text-xs text-white",children:B(e.document_type)})]}),(0,Ot.jsxs)("div",{className:"space-y-2",children:[(0,Ot.jsx)("h4",{className:"font-bold text-sm",style:{color:"var(--text-primary)"},children:e.title}),(0,Ot.jsxs)("div",{className:"flex items-center justify-between text-xs",style:{color:"var(--text-secondary)"},children:[(0,Ot.jsx)("span",{children:q(e.file_size)}),(0,Ot.jsxs)("span",{children:[e.days_since_upload," \u064a\u0648\u0645"]})]}),(null===(s=e.metadata)||void 0===s?void 0:s.quality_score)&&(0,Ot.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,Ot.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u062c\u0648\u062f\u0629:"}),(0,Ot.jsx)("div",{className:"flex-1 bg-gray-700 rounded-full h-2",children:(0,Ot.jsx)("div",{className:"h-2 bg-green-500 rounded-full transition-all duration-300",style:{width:"".concat(e.metadata.quality_score,"%")}})}),(0,Ot.jsxs)("span",{className:"font-bold text-green-400",children:[e.metadata.quality_score,"%"]})]}),e.ocr_text&&(0,Ot.jsxs)("div",{className:"bg-white bg-opacity-5 p-2 rounded text-xs",style:{color:"var(--text-muted)"},children:[e.ocr_text.substring(0,100),e.ocr_text.length>100&&"..."]}),(0,Ot.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,Ot.jsx)("button",{onClick:()=>{k(e),S(!0)},className:"flex-1 py-2 px-3 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg transition-colors",children:"\ud83d\udcc4 \u0639\u0631\u0636"}),(0,Ot.jsx)("button",{className:"py-2 px-3 bg-green-600 hover:bg-green-700 text-white text-sm rounded-lg transition-colors",children:"\ud83d\udce4"})]})]})]},e.id)}))}),0===v.length&&!e&&(0,Ot.jsxs)("div",{className:"glass-effect p-12 rounded-xl text-center",children:[(0,Ot.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udcc4"}),(0,Ot.jsx)("h3",{className:"text-xl font-bold mb-2",style:{color:"var(--text-primary)"},children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0648\u062b\u0627\u0626\u0642 \u0628\u0639\u062f"}),(0,Ot.jsx)("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:"\u0627\u0628\u062f\u0623 \u0628\u0645\u0633\u062d \u0648\u062b\u064a\u0642\u062a\u0643 \u0627\u0644\u0623\u0648\u0644\u0649 \u0628\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0645\u0627\u0633\u062d \u0627\u0644\u0630\u0643\u064a"}),(0,Ot.jsx)("button",{onClick:()=>o("scanner"),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"\ud83d\udcf1 \u0628\u062f\u0621 \u0627\u0644\u0645\u0633\u062d"})]})]});return(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsx)("h2",{className:"text-3xl font-bold text-gradient",children:"\ud83d\udcf1 \u0646\u0638\u0627\u0645 \u0645\u0633\u062d \u0627\u0644\u0648\u062b\u0627\u0626\u0642 \u0627\u0644\u0645\u062a\u0642\u062f\u0645"}),(0,Ot.jsx)("div",{className:"text-sm bg-gradient-to-r from-green-500 to-purple-500 bg-opacity-20 px-4 py-2 rounded-lg",children:(0,Ot.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0645\u0639 \u062a\u0642\u0646\u064a\u0629 OCR \u0627\u0644\u0645\u062a\u0637\u0648\u0631\u0629 \ud83e\udd16"})})]}),(0,Ot.jsxs)("div",{className:"glass-effect p-2 rounded-xl inline-flex",children:[(0,Ot.jsx)("button",{onClick:()=>o("scanner"),className:"px-6 py-3 rounded-lg transition-all duration-300 ".concat("scanner"===i?"bg-blue-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white hover:bg-opacity-10"),children:"\ud83d\udcf1 \u0645\u0633\u062d \u0648\u062b\u064a\u0642\u0629"}),(0,Ot.jsx)("button",{onClick:()=>o("documents"),className:"px-6 py-3 rounded-lg transition-all duration-300 ".concat("documents"===i?"bg-purple-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white hover:bg-opacity-10"),children:"\ud83d\udcc1 \u0645\u0643\u062a\u0628\u0629 \u0627\u0644\u0648\u062b\u0627\u0626\u0642"}),(0,Ot.jsx)("button",{onClick:()=>o("search"),className:"px-6 py-3 rounded-lg transition-all duration-300 ".concat("search"===i?"bg-green-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white hover:bg-opacity-10"),children:"\ud83d\udd0d \u0627\u0644\u0628\u062d\u062b \u0627\u0644\u0645\u062a\u0642\u062f\u0645"})]}),s&&(0,Ot.jsx)("div",{className:"p-4 bg-red-500 bg-opacity-20 border border-red-500 rounded-lg text-red-400",children:s}),r&&(0,Ot.jsx)("div",{className:"p-4 bg-green-500 bg-opacity-20 border border-green-500 rounded-lg text-green-400",children:r}),"scanner"===i&&(0,Ot.jsx)(V,{}),"documents"===i&&(0,Ot.jsx)(H,{}),"search"===i&&(0,Ot.jsxs)("div",{className:"glass-effect p-12 rounded-xl text-center",children:[(0,Ot.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udd0d"}),(0,Ot.jsx)("h3",{className:"text-xl font-bold mb-2",style:{color:"var(--text-primary)"},children:"\u0627\u0644\u0628\u062d\u062b \u0627\u0644\u0645\u062a\u0642\u062f\u0645 \u0641\u064a \u0627\u0644\u0648\u062b\u0627\u0626\u0642"}),(0,Ot.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0642\u0631\u064a\u0628\u0627\u064b - \u0628\u062d\u062b \u0641\u064a \u0645\u062d\u062a\u0648\u0649 \u0627\u0644\u0648\u062b\u0627\u0626\u0642 \u0628\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0646\u0635 \u0627\u0644\u0645\u0633\u062a\u062e\u0631\u062c"})]}),_&&w&&(0,Ot.jsx)(qs,{document:w,onClose:()=>{S(!1),k(null)}})]})},qs=e=>{var t,s,n;let{document:r,onClose:l}=e;const[i,o]=(0,a.useState)("preview");return(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ot.jsxs)("div",{className:"modal-modern p-8 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsxs)("h3",{className:"text-2xl font-bold text-gradient flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:(c=r.document_type,{visit_photo:"\ud83d\udcf8",order_signature:"\u270d\ufe0f",prescription:"\ud83d\udc8a",id_card:"\ud83c\udd94",receipt:"\ud83e\uddfe",contract:"\ud83d\udcc4",report:"\ud83d\udccb"}[c]||"\ud83d\udcc4")}),(0,Ot.jsx)("span",{children:r.title})]}),(0,Ot.jsx)("button",{onClick:l,className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\u2715"})]}),(0,Ot.jsxs)("div",{className:"flex gap-2 mb-6",children:[(0,Ot.jsx)("button",{onClick:()=>o("preview"),className:"px-4 py-2 rounded-lg transition-colors ".concat("preview"===i?"bg-blue-600 text-white":"glass-effect hover:bg-white hover:bg-opacity-10"),children:"\ud83d\udcf7 \u0645\u0639\u0627\u064a\u0646\u0629"}),(0,Ot.jsx)("button",{onClick:()=>o("ocr"),className:"px-4 py-2 rounded-lg transition-colors ".concat("ocr"===i?"bg-blue-600 text-white":"glass-effect hover:bg-white hover:bg-opacity-10"),children:"\ud83d\udcdd \u0627\u0644\u0646\u0635 \u0627\u0644\u0645\u0633\u062a\u062e\u0631\u062c"}),(0,Ot.jsx)("button",{onClick:()=>o("details"),className:"px-4 py-2 rounded-lg transition-colors ".concat("details"===i?"bg-blue-600 text-white":"glass-effect hover:bg-white hover:bg-opacity-10"),children:"\u2139\ufe0f \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644"})]}),(0,Ot.jsxs)("div",{children:["preview"===i&&r.image_data&&(0,Ot.jsx)("div",{className:"text-center",children:(0,Ot.jsx)("img",{src:"data:image/jpeg;base64,".concat(r.image_data),alt:r.title,className:"max-w-full max-h-96 mx-auto rounded-lg shadow-lg"})}),"ocr"===i&&(0,Ot.jsxs)("div",{className:"space-y-4",children:[(null===(t=r.metadata)||void 0===t?void 0:t.quality_score)&&(0,Ot.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,Ot.jsxs)("div",{className:"text-center p-4 bg-green-500 bg-opacity-20 rounded-lg",children:[(0,Ot.jsxs)("div",{className:"text-2xl font-bold text-green-400",children:[r.metadata.quality_score,"%"]}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u062c\u0648\u062f\u0629 \u0627\u0644\u0635\u0648\u0631\u0629"})]}),(0,Ot.jsxs)("div",{className:"text-center p-4 bg-blue-500 bg-opacity-20 rounded-lg",children:[(0,Ot.jsxs)("div",{className:"text-2xl font-bold text-blue-400",children:[r.metadata.confidence_score||0,"%"]}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u062f\u0642\u0629 \u0627\u0644\u0646\u0635"})]}),(0,Ot.jsxs)("div",{className:"text-center p-4 bg-purple-500 bg-opacity-20 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-lg font-bold text-purple-400",children:r.metadata.detected_language||"ar"}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0645\u0643\u062a\u0634\u0641\u0629"})]})]}),(0,Ot.jsxs)("div",{className:"bg-white bg-opacity-5 p-6 rounded-lg",children:[(0,Ot.jsx)("h4",{className:"font-bold mb-4",style:{color:"var(--text-primary)"},children:"\u0627\u0644\u0646\u0635 \u0627\u0644\u0645\u0633\u062a\u062e\u0631\u062c:"}),(0,Ot.jsx)("div",{className:"leading-relaxed",style:{color:"var(--text-secondary)"},children:r.ocr_text||"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0633\u062a\u062e\u0631\u0627\u062c \u0646\u0635 \u0645\u0646 \u0647\u0630\u0647 \u0627\u0644\u0648\u062b\u064a\u0642\u0629"})]})]}),"details"===i&&(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h4",{className:"font-bold mb-3",style:{color:"var(--text-primary)"},children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0645\u0644\u0641"}),(0,Ot.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0646\u0648\u0639 \u0627\u0644\u0648\u062b\u064a\u0642\u0629:"}),(0,Ot.jsx)("span",{style:{color:"var(--text-primary)"},children:function(e){return{visit_photo:"\u0635\u0648\u0631\u0629 \u0632\u064a\u0627\u0631\u0629",order_signature:"\u062a\u0648\u0642\u064a\u0639 \u0637\u0644\u0628",prescription:"\u0631\u0648\u0634\u062a\u0629 \u0637\u0628\u064a\u0629",id_card:"\u0628\u0637\u0627\u0642\u0629 \u0647\u0648\u064a\u0629",receipt:"\u0625\u064a\u0635\u0627\u0644",contract:"\u0639\u0642\u062f",report:"\u062a\u0642\u0631\u064a\u0631"}[e]||e}(r.document_type)})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u062d\u062c\u0645 \u0627\u0644\u0645\u0644\u0641:"}),(0,Ot.jsx)("span",{style:{color:"var(--text-primary)"},children:function(e){if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]}(r.file_size)})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0631\u0641\u0639:"}),(0,Ot.jsx)("span",{style:{color:"var(--text-primary)"},children:new Date(r.upload_timestamp).toLocaleDateString("ar-EG")})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645:"}),(0,Ot.jsx)("span",{style:{color:"var(--text-primary)"},children:r.user_name})]})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h4",{className:"font-bold mb-3",style:{color:"var(--text-primary)"},children:"\u062d\u0627\u0644\u0629 \u0627\u0644\u0645\u0639\u0627\u0644\u062c\u0629"}),(0,Ot.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u062d\u0627\u0644\u0629:"}),(0,Ot.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("completed"===(null===(s=r.metadata)||void 0===s?void 0:s.processing_status)?"bg-green-500 bg-opacity-20 text-green-400":"bg-yellow-500 bg-opacity-20 text-yellow-400"),children:"completed"===(null===(n=r.metadata)||void 0===n?void 0:n.processing_status)?"\u0645\u0643\u062a\u0645\u0644\u0629":"\u0642\u064a\u062f \u0627\u0644\u0645\u0639\u0627\u0644\u062c\u0629"})]}),r.tags&&r.tags.length>0&&(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062a:"}),(0,Ot.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:r.tags.map(((e,t)=>(0,Ot.jsx)("span",{className:"px-2 py-1 bg-blue-500 bg-opacity-20 text-blue-400 text-xs rounded",children:e},t)))})]})]})]})]}),r.description&&(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h4",{className:"font-bold mb-3",style:{color:"var(--text-primary)"},children:"\u0627\u0644\u0648\u0635\u0641"}),(0,Ot.jsx)("div",{className:"bg-white bg-opacity-5 p-4 rounded-lg text-sm",style:{color:"var(--text-secondary)"},children:r.description})]})]})]})]})});var c},Vs=()=>{const{t:e}=Dt(),[t,s]=(0,a.useState)([]),[n,r]=(0,a.useState)(!0),[l,i]=(0,a.useState)(!1),[o,c]=(0,a.useState)(null),[d,u]=(0,a.useState)("all");(0,a.useEffect)((()=>{m()}),[d]);const m=async()=>{try{const e=localStorage.getItem("token"),t="all"!==d?"?line=".concat(d):"",n=await Tt.get("".concat(Lt,"/admin/regions").concat(t),{headers:{Authorization:"Bearer ".concat(e)}});s(n.data)}catch(e){console.error("Error fetching regions:",e)}finally{r(!1)}};return(0,Ot.jsxs)("div",{className:"p-8",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,Ot.jsxs)("h2",{className:"text-3xl font-bold text-gradient flex items-center gap-3",children:[(0,Ot.jsx)("span",{children:"\ud83d\uddfa\ufe0f"}),(0,Ot.jsx)("span",{children:e("regionManagement")})]}),(0,Ot.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ot.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"glass-effect px-4 py-2 rounded-lg border",children:[(0,Ot.jsx)("option",{value:"all",children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u062e\u0637\u0648\u0637"}),(0,Ot.jsx)("option",{value:"line_1",children:e("line1")}),(0,Ot.jsx)("option",{value:"line_2",children:e("line2")})]}),(0,Ot.jsx)("button",{onClick:()=>i(!0),className:"btn-modern bg-gradient-to-r from-green-500 to-blue-600 text-white px-6 py-2 rounded-lg",children:"+ \u0625\u0636\u0627\u0641\u0629 \u0645\u0646\u0637\u0642\u0629"})]})]}),n?(0,Ot.jsxs)("div",{className:"text-center py-12",children:[(0,Ot.jsx)("div",{className:"loading-spinner-enhanced mx-auto mb-4"}),(0,Ot.jsx)("p",{style:{color:"var(--text-secondary)"},children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u0646\u0627\u0637\u0642..."})]}):(0,Ot.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:t.map((t=>{var s;return(0,Ot.jsxs)("div",{className:"card-glass p-6",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ot.jsx)("h3",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:t.name}),(0,Ot.jsx)("span",{className:"badge-modern ".concat("line_1"===t.line?"badge-info":"badge-warning"),children:"line_1"===t.line?e("line1"):e("line2")})]}),(0,Ot.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,Ot.jsx)("span",{children:"\ud83c\udff7\ufe0f"}),(0,Ot.jsxs)("span",{style:{color:"var(--text-secondary)"},children:["\u0627\u0644\u0643\u0648\u062f: ",t.code]})]}),t.manager_name&&(0,Ot.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,Ot.jsx)("span",{children:"\ud83d\udc64"}),(0,Ot.jsxs)("span",{style:{color:"var(--text-secondary)"},children:["\u0627\u0644\u0645\u062f\u064a\u0631: ",t.manager_name]})]}),t.description&&(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-muted)"},children:t.description}),(0,Ot.jsxs)("div",{className:"flex items-center gap-4 text-xs",children:[(0,Ot.jsxs)("span",{style:{color:"var(--text-muted)"},children:["\u0627\u0644\u0645\u0642\u0627\u0637\u0639\u0627\u062a: ",(null===(s=t.districts)||void 0===s?void 0:s.length)||0]}),(0,Ot.jsxs)("span",{style:{color:"var(--text-muted)"},children:["\u062a\u0645 \u0627\u0644\u0625\u0646\u0634\u0627\u0621: ",new Date(t.created_at).toLocaleDateString("ar-EG")]})]})]}),(0,Ot.jsxs)("div",{className:"flex gap-2",children:[(0,Ot.jsx)("button",{onClick:()=>c(t),className:"flex-1 px-4 py-2 bg-blue-500 bg-opacity-20 text-blue-400 rounded-lg hover:bg-opacity-30 transition-colors",children:"\u062a\u0639\u062f\u064a\u0644"}),(0,Ot.jsx)("button",{className:"flex-1 px-4 py-2 bg-green-500 bg-opacity-20 text-green-400 rounded-lg hover:bg-opacity-30 transition-colors",children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0642\u0627\u0637\u0639\u0627\u062a"})]})]},t.id)}))}),(l||o)&&(0,Ot.jsx)(Hs,{region:o,onClose:()=>{i(!1),c(null)},onSave:e=>{o?(async(e,t)=>{try{const s=localStorage.getItem("token");await Tt.patch("".concat(Lt,"/admin/regions/").concat(e),t,{headers:{Authorization:"Bearer ".concat(s)}}),m(),c(null)}catch(s){console.error("Error updating region:",s),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0645\u0646\u0637\u0642\u0629")}})(o.id,e):(async e=>{try{const t=localStorage.getItem("token");await Tt.post("".concat(Lt,"/admin/regions"),e,{headers:{Authorization:"Bearer ".concat(t)}}),m(),i(!1)}catch(t){console.error("Error creating region:",t),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0645\u0646\u0637\u0642\u0629")}})(e)}})]})},Hs=e=>{let{region:t,onClose:s,onSave:n}=e;const[r,l]=(0,a.useState)({name:(null===t||void 0===t?void 0:t.name)||"",code:(null===t||void 0===t?void 0:t.code)||"",description:(null===t||void 0===t?void 0:t.description)||"",line:(null===t||void 0===t?void 0:t.line)||"line_1",manager_id:(null===t||void 0===t?void 0:t.manager_id)||""});return(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ot.jsxs)("div",{className:"modal-modern p-8 w-full max-w-2xl",children:[(0,Ot.jsx)("h3",{className:"text-2xl font-bold mb-6 text-gradient",children:t?"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u0646\u0637\u0642\u0629":"\u0625\u0636\u0627\u0641\u0629 \u0645\u0646\u0637\u0642\u0629 \u062c\u062f\u064a\u062f\u0629"}),(0,Ot.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(r)},className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u0637\u0642\u0629 *"}),(0,Ot.jsx)("input",{type:"text",value:r.name,onChange:e=>l(d(d({},r),{},{name:e.target.value})),className:"w-full px-4 py-3 rounded-lg glass-effect border",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0643\u0648\u062f \u0627\u0644\u0645\u0646\u0637\u0642\u0629 *"}),(0,Ot.jsx)("input",{type:"text",value:r.code,onChange:e=>l(d(d({},r),{},{code:e.target.value})),className:"w-full px-4 py-3 rounded-lg glass-effect border",maxLength:"10",required:!0})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u062e\u0637"}),(0,Ot.jsxs)("select",{value:r.line,onChange:e=>l(d(d({},r),{},{line:e.target.value})),className:"w-full px-4 py-3 rounded-lg glass-effect border",children:[(0,Ot.jsx)("option",{value:"line_1",children:"\u0627\u0644\u062e\u0637 \u0627\u0644\u0623\u0648\u0644"}),(0,Ot.jsx)("option",{value:"line_2",children:"\u0627\u0644\u062e\u0637 \u0627\u0644\u062b\u0627\u0646\u064a"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0648\u0635\u0641"}),(0,Ot.jsx)("textarea",{value:r.description,onChange:e=>l(d(d({},r),{},{description:e.target.value})),className:"w-full px-4 py-3 rounded-lg glass-effect border h-24",placeholder:"\u0648\u0635\u0641 \u0627\u062e\u062a\u064a\u0627\u0631\u064a \u0644\u0644\u0645\u0646\u0637\u0642\u0629..."})]}),(0,Ot.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,Ot.jsx)("button",{type:"submit",className:"flex-1 btn-modern bg-gradient-to-r from-green-500 to-blue-600 text-white py-3 rounded-lg",children:t?"\u062a\u062d\u062f\u064a\u062b":"\u0625\u0646\u0634\u0627\u0621"}),(0,Ot.jsx)("button",{type:"button",onClick:s,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 hover:bg-opacity-10 transition-colors",children:"\u0625\u0644\u063a\u0627\u0621"})]})]})]})})},Gs=()=>{var e,t,s,n,r,l,i,o;const{t:c}=Dt(),[d,u]=(0,a.useState)(null),[m,h]=(0,a.useState)(!0),[x,f]=(0,a.useState)("overview");(0,a.useEffect)((()=>{p()}),[]);const p=async()=>{try{const e=localStorage.getItem("token"),t=await Tt.get("".concat(Lt,"/admin/settings/comprehensive"),{headers:{Authorization:"Bearer ".concat(e)}});u(t.data)}catch(e){console.error("Error fetching settings:",e)}finally{h(!1)}};if(m)return(0,Ot.jsxs)("div",{className:"p-8 text-center",children:[(0,Ot.jsx)("div",{className:"loading-spinner-enhanced mx-auto mb-4"}),(0,Ot.jsx)("p",{style:{color:"var(--text-secondary)"},children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0634\u0627\u0645\u0644\u0629..."})]});return(0,Ot.jsxs)("div",{className:"p-8",children:[(0,Ot.jsx)("div",{className:"flex items-center justify-between mb-8",children:(0,Ot.jsxs)("h2",{className:"text-3xl font-bold text-gradient flex items-center gap-3",children:[(0,Ot.jsx)("span",{children:"\u2699\ufe0f"}),(0,Ot.jsx)("span",{children:c("comprehensiveSettings")})]})}),(0,Ot.jsx)("div",{className:"flex gap-2 mb-8 overflow-x-auto",children:[{id:"overview",label:"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629",icon:"analytics"},{id:"users",label:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",icon:"users"},{id:"roles",label:"\u0627\u0644\u0623\u062f\u0648\u0627\u0631 \u0648\u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a",icon:"security"},{id:"regions",label:"\u0627\u0644\u0645\u0646\u0627\u0637\u0642 \u0648\u0627\u0644\u062e\u0637\u0648\u0637",icon:"regions"},{id:"products",label:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a",icon:"products"},{id:"gps",label:"\u0646\u0638\u0627\u0645 GPS",icon:"gps"},{id:"maps",label:"\u062e\u0631\u0627\u0626\u0637 \u062c\u0648\u062c\u0644",icon:"maps"},{id:"gamification",label:"\u0646\u0638\u0627\u0645 \u0627\u0644\u0623\u0644\u0639\u0627\u0628",icon:"gamification"},{id:"accounting",label:"\u0646\u0638\u0627\u0645 \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629",icon:"accounting"},{id:"notifications",label:"\u0646\u0638\u0627\u0645 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a",icon:"notifications"},{id:"chat",label:"\u0646\u0638\u0627\u0645 \u0627\u0644\u062f\u0631\u062f\u0634\u0629",icon:"chat"},{id:"scanner",label:"\u0645\u0627\u0633\u062d \u0627\u0644\u0645\u0633\u062a\u0646\u062f\u0627\u062a",icon:"scanner"},{id:"visits",label:"\u0646\u0638\u0627\u0645 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a",icon:"visits"},{id:"reports",label:"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631",icon:"reports"},{id:"themes",label:"\u0627\u0644\u0623\u0644\u0648\u0627\u0646 \u0648\u0627\u0644\u062b\u064a\u0645\u0627\u062a",icon:"theme"},{id:"languages",label:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0644\u063a\u0629",icon:"language"},{id:"website",label:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0645\u0648\u0642\u0639",icon:"settings"},{id:"performance",label:"\u0645\u0631\u0627\u0642\u0628\u0629 \u0627\u0644\u0623\u062f\u0627\u0621",icon:"performance"},{id:"system",label:"\u0635\u062d\u0629 \u0627\u0644\u0646\u0638\u0627\u0645",icon:"settings"},{id:"security",label:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0623\u0645\u0627\u0646",icon:"security"},{id:"features",label:"\u062a\u062d\u0643\u0645 \u0627\u0644\u0645\u0645\u064a\u0632\u0627\u062a",icon:"features"},{id:"initialize",label:"\u062a\u0647\u064a\u0626\u0629 \u0627\u0644\u0646\u0638\u0627\u0645",icon:"settings"}].map((e=>(0,Ot.jsxs)("button",{onClick:()=>f(e.id),className:"flex items-center gap-2 px-6 py-3 rounded-lg whitespace-nowrap transition-all ".concat(x===e.id?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg":"glass-effect hover:bg-white hover:bg-opacity-10"),children:[(0,Ot.jsx)(Ht,{name:e.icon,size:20}),(0,Ot.jsx)("span",{children:e.label})]},e.id)))}),(0,Ot.jsxs)("div",{className:"space-y-8",children:["overview"===x&&(0,Ot.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[(0,Ot.jsxs)("div",{className:"card-glass p-6 text-center",children:[(0,Ot.jsx)("div",{className:"text-3xl mb-2",children:"\ud83d\udc65"}),(0,Ot.jsx)("div",{className:"text-2xl font-bold text-gradient mb-1",children:(null===d||void 0===d?void 0:d.total_users)||0}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"})]}),(0,Ot.jsxs)("div",{className:"card-glass p-6 text-center",children:[(0,Ot.jsx)("div",{className:"text-3xl mb-2",children:"\ud83d\uddfa\ufe0f"}),(0,Ot.jsx)("div",{className:"text-2xl font-bold text-gradient mb-1",children:((null===d||void 0===d||null===(e=d.line_statistics)||void 0===e||null===(t=e.line_1)||void 0===t?void 0:t.regions)||0)+((null===d||void 0===d||null===(s=d.line_statistics)||void 0===s||null===(n=s.line_2)||void 0===n?void 0:n.regions)||0)}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0646\u0627\u0637\u0642"})]}),(0,Ot.jsxs)("div",{className:"card-glass p-6 text-center",children:[(0,Ot.jsx)("div",{className:"text-3xl mb-2",children:"\ud83d\udce6"}),(0,Ot.jsx)("div",{className:"text-2xl font-bold text-gradient mb-1",children:((null===d||void 0===d||null===(r=d.line_statistics)||void 0===r||null===(l=r.line_1)||void 0===l?void 0:l.products)||0)+((null===d||void 0===d||null===(i=d.line_statistics)||void 0===i||null===(o=i.line_2)||void 0===o?void 0:o.products)||0)}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"})]}),(0,Ot.jsxs)("div",{className:"card-glass p-6 text-center",children:[(0,Ot.jsx)("div",{className:"text-3xl mb-2",children:"\ud83d\udcc8"}),(0,Ot.jsx)("div",{className:"text-2xl font-bold text-gradient mb-1",children:Object.keys((null===d||void 0===d?void 0:d.available_roles)||{}).length}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0627\u0644\u0623\u062f\u0648\u0627\u0631 \u0627\u0644\u0645\u062a\u0627\u062d\u0629"})]})]}),"users"===x&&(0,Ot.jsx)(Ws,{}),"roles"===x&&(0,Ot.jsx)(Ks,{}),"regions"===x&&(0,Ot.jsx)(AdminRegionManagement,{}),"products"===x&&(0,Ot.jsx)(AdminProductManagement,{}),"gps"===x&&(0,Ot.jsx)($s,{}),"maps"===x&&(0,Ot.jsx)(en,{}),"website"===x&&(0,Ot.jsx)(tn,{}),"performance"===x&&(0,Ot.jsx)(sn,{}),"gamification"===x&&(0,Ot.jsx)(AdminGamificationSettings,{}),"accounting"===x&&(0,Ot.jsx)(AdminAccountingSettings,{}),"notifications"===x&&(0,Ot.jsx)(Xs,{}),"chat"===x&&(0,Ot.jsx)(AdminChatSettings,{}),"scanner"===x&&(0,Ot.jsx)(AdminScannerSettings,{}),"visits"===x&&(0,Ot.jsx)(AdminVisitSettings,{}),"reports"===x&&(0,Ot.jsx)(AdminReportSettings,{}),"themes"===x&&(0,Ot.jsx)(Qs,{}),"languages"===x&&(0,Ot.jsx)(Ys,{}),"security"===x&&(0,Ot.jsx)(Js,{}),"features"===x&&(0,Ot.jsx)(Zs,{}),"initialize"===x&&(0,Ot.jsxs)("div",{className:"card-glass p-8 text-center max-w-2xl mx-auto",children:[(0,Ot.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\ude80"}),(0,Ot.jsx)("h3",{className:"text-2xl font-bold text-gradient mb-4",children:"\u062a\u0647\u064a\u0626\u0629 \u0627\u0644\u0646\u0638\u0627\u0645"}),(0,Ot.jsx)("p",{className:"text-lg mb-6",style:{color:"var(--text-secondary)"},children:"\u0647\u0630\u0627 \u0627\u0644\u0625\u062c\u0631\u0627\u0621 \u0633\u064a\u0642\u0648\u0645 \u0628\u0625\u0646\u0634\u0627\u0621 \u0645\u0633\u062a\u062e\u062f\u0645 \u0627\u0644\u0645\u062f\u064a\u0631 \u0627\u0644\u0639\u0627\u0645 \u0627\u0644\u0627\u0641\u062a\u0631\u0627\u0636\u064a \u0648\u0628\u064a\u0627\u0646\u0627\u062a \u062a\u062c\u0631\u064a\u0628\u064a\u0629 \u0644\u0644\u0646\u0638\u0627\u0645"}),(0,Ot.jsx)("div",{className:"bg-yellow-500 bg-opacity-20 border border-yellow-500 rounded-lg p-4 mb-6",children:(0,Ot.jsx)("p",{className:"text-yellow-400 text-sm",children:"\u26a0\ufe0f \u062a\u0623\u0643\u062f \u0645\u0646 \u0623\u0646 \u0647\u0630\u0627 \u0647\u0648 \u0623\u0648\u0644 \u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0644\u0644\u0646\u0638\u0627\u0645. \u0647\u0630\u0627 \u0627\u0644\u0625\u062c\u0631\u0627\u0621 \u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u062a\u0631\u0627\u062c\u0639 \u0639\u0646\u0647."})}),(0,Ot.jsx)("button",{onClick:async()=>{try{const e=localStorage.getItem("token"),t=await Tt.post("".concat(Lt,"/admin/initialize-system"),{},{headers:{Authorization:"Bearer ".concat(e)}});alert("\u062a\u0645 \u062a\u0647\u064a\u0626\u0629 \u0627\u0644\u0646\u0638\u0627\u0645 \u0628\u0646\u062c\u0627\u062d!\n"+JSON.stringify(t.data.gm_credentials,null,2)),p()}catch(e){console.error("Error initializing system:",e),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u0647\u064a\u0626\u0629 \u0627\u0644\u0646\u0638\u0627\u0645")}},className:"btn-modern bg-gradient-to-r from-green-500 to-blue-600 text-white px-8 py-4 text-lg rounded-lg",children:"\ud83d\ude80 \u062a\u0647\u064a\u0626\u0629 \u0627\u0644\u0646\u0638\u0627\u0645 \u0627\u0644\u0622\u0646"})]})]})]})},Ws=()=>{const[e,t]=(0,a.useState)({enableUserRegistration:!0,requireEmailVerification:!1,defaultUserRole:"medical_rep",maxUsersPerRole:{gm:1,line_manager:10,area_manager:50,district_manager:100,key_account:200,medical_rep:1e3},userSessionTimeout:24,allowMultipleLogins:!1,passwordExpiry:90,enableTwoFactor:!1});return(0,Ot.jsxs)("div",{className:"space-y-8",children:[(0,Ot.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"}),(0,Ot.jsxs)("div",{className:"card-glass p-6",children:[(0,Ot.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0639\u0627\u0645\u0629"}),(0,Ot.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"font-bold",children:"\u0627\u0644\u0633\u0645\u0627\u062d \u0628\u0627\u0644\u062a\u0633\u062c\u064a\u0644"}),(0,Ot.jsx)("div",{className:"text-sm text-gray-400",children:"\u0627\u0644\u0633\u0645\u0627\u062d \u0644\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0627\u0644\u062c\u062f\u062f \u0628\u0627\u0644\u062a\u0633\u062c\u064a\u0644"})]}),(0,Ot.jsxs)("label",{className:"switch",children:[(0,Ot.jsx)("input",{type:"checkbox",checked:e.enableUserRegistration,onChange:s=>t(d(d({},e),{},{enableUserRegistration:s.target.checked}))}),(0,Ot.jsx)("span",{className:"slider"})]})]}),(0,Ot.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"font-bold",children:"\u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a"}),(0,Ot.jsx)("div",{className:"text-sm text-gray-400",children:"\u0637\u0644\u0628 \u062a\u0623\u0643\u064a\u062f \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a"})]}),(0,Ot.jsxs)("label",{className:"switch",children:[(0,Ot.jsx)("input",{type:"checkbox",checked:e.requireEmailVerification,onChange:s=>t(d(d({},e),{},{requireEmailVerification:s.target.checked}))}),(0,Ot.jsx)("span",{className:"slider"})]})]}),(0,Ot.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"font-bold",children:"\u062a\u0633\u062c\u064a\u0644 \u062f\u062e\u0648\u0644 \u0645\u062a\u0639\u062f\u062f"}),(0,Ot.jsx)("div",{className:"text-sm text-gray-400",children:"\u0627\u0644\u0633\u0645\u0627\u062d \u0628\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0645\u0646 \u0623\u062c\u0647\u0632\u0629 \u0645\u062a\u0639\u062f\u062f\u0629"})]}),(0,Ot.jsxs)("label",{className:"switch",children:[(0,Ot.jsx)("input",{type:"checkbox",checked:e.allowMultipleLogins,onChange:s=>t(d(d({},e),{},{allowMultipleLogins:s.target.checked}))}),(0,Ot.jsx)("span",{className:"slider"})]})]}),(0,Ot.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"font-bold",children:"\u0627\u0644\u0645\u0635\u0627\u062f\u0642\u0629 \u0627\u0644\u062b\u0646\u0627\u0626\u064a\u0629"}),(0,Ot.jsx)("div",{className:"text-sm text-gray-400",children:"\u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u0645\u0635\u0627\u062f\u0642\u0629 \u0627\u0644\u062b\u0646\u0627\u0626\u064a\u0629 \u0644\u0644\u0623\u0645\u0627\u0646"})]}),(0,Ot.jsxs)("label",{className:"switch",children:[(0,Ot.jsx)("input",{type:"checkbox",checked:e.enableTwoFactor,onChange:s=>t(d(d({},e),{},{enableTwoFactor:s.target.checked}))}),(0,Ot.jsx)("span",{className:"slider"})]})]})]})]}),(0,Ot.jsxs)("div",{className:"card-glass p-6",children:[(0,Ot.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u062d\u062f\u0648\u062f \u0627\u0644\u0623\u062f\u0648\u0627\u0631"}),(0,Ot.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:Object.entries(e.maxUsersPerRole).map((s=>{let[n,a]=s;return(0,Ot.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,Ot.jsx)("label",{className:"font-bold block mb-2",children:n.replace("_"," ")}),(0,Ot.jsx)("input",{type:"number",value:a,onChange:s=>t(d(d({},e),{},{maxUsersPerRole:d(d({},e.maxUsersPerRole),{},{[n]:parseInt(s.target.value)})})),className:"w-full p-2 border rounded-lg glass-effect",min:"1"})]},n)}))})]}),(0,Ot.jsxs)("div",{className:"card-glass p-6",children:[(0,Ot.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u062c\u0644\u0633\u0629"}),(0,Ot.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"font-bold block mb-2",children:"\u0645\u0647\u0644\u0629 \u0627\u0644\u062c\u0644\u0633\u0629 (\u0633\u0627\u0639\u0627\u062a)"}),(0,Ot.jsx)("input",{type:"number",value:e.userSessionTimeout,onChange:s=>t(d(d({},e),{},{userSessionTimeout:parseInt(s.target.value)})),className:"w-full p-2 border rounded-lg glass-effect",min:"1",max:"168"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"font-bold block mb-2",children:"\u0627\u0646\u062a\u0647\u0627\u0621 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 (\u0623\u064a\u0627\u0645)"}),(0,Ot.jsx)("input",{type:"number",value:e.passwordExpiry,onChange:s=>t(d(d({},e),{},{passwordExpiry:parseInt(s.target.value)})),className:"w-full p-2 border rounded-lg glass-effect",min:"30",max:"365"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"font-bold block mb-2",children:"\u0627\u0644\u062f\u0648\u0631 \u0627\u0644\u0627\u0641\u062a\u0631\u0627\u0636\u064a"}),(0,Ot.jsxs)("select",{value:e.defaultUserRole,onChange:s=>t(d(d({},e),{},{defaultUserRole:s.target.value})),className:"w-full p-2 border rounded-lg glass-effect",children:[(0,Ot.jsx)("option",{value:"medical_rep",children:"\u0645\u0646\u062f\u0648\u0628 \u0637\u0628\u064a"}),(0,Ot.jsx)("option",{value:"key_account",children:"\u062d\u0633\u0627\u0628 \u0631\u0626\u064a\u0633\u064a"}),(0,Ot.jsx)("option",{value:"district_manager",children:"\u0645\u062f\u064a\u0631 \u0645\u0642\u0627\u0637\u0639\u0629"})]})]})]})]}),(0,Ot.jsx)("button",{onClick:()=>(async e=>{try{const s=localStorage.getItem("token");await Tt.post("".concat(Lt,"/admin/settings/user-management"),e,{headers:{Authorization:"Bearer ".concat(s)}}),t(e),alert("\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646")}catch(s){console.error("Error updating user settings:",s),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a")}})(e),className:"w-full btn-modern bg-gradient-to-r from-green-500 to-blue-600 text-white py-3 rounded-lg",children:"\ud83d\udcbe \u062d\u0641\u0638 \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"})]})},$s=()=>{const[e,t]=(0,a.useState)({enableGPSTracking:!0,trackingInterval:30,geofenceRadius:100,enableGeofencing:!0,enableRouteOptimization:!0,maxLocationHistory:30,enableOfflineMode:!0,accuracyThreshold:10,batteryOptimization:!0,enableLocationSharing:!0});return(0,Ot.jsxs)("div",{className:"space-y-8",children:[(0,Ot.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0646\u0638\u0627\u0645 GPS"}),(0,Ot.jsxs)("div",{className:"card-glass p-6",children:[(0,Ot.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0623\u0633\u0627\u0633\u064a\u0629"}),(0,Ot.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"font-bold",children:"\u062a\u0641\u0639\u064a\u0644 \u062a\u062a\u0628\u0639 GPS"}),(0,Ot.jsx)("div",{className:"text-sm text-gray-400",children:"\u0627\u0644\u0633\u0645\u0627\u062d \u0628\u062a\u062a\u0628\u0639 \u0645\u0648\u0627\u0642\u0639 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"})]}),(0,Ot.jsxs)("label",{className:"switch",children:[(0,Ot.jsx)("input",{type:"checkbox",checked:e.enableGPSTracking,onChange:s=>t(d(d({},e),{},{enableGPSTracking:s.target.checked}))}),(0,Ot.jsx)("span",{className:"slider"})]})]}),(0,Ot.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"font-bold",children:"\u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u0633\u064a\u0627\u062c \u0627\u0644\u062c\u063a\u0631\u0627\u0641\u064a"}),(0,Ot.jsx)("div",{className:"text-sm text-gray-400",children:"\u0625\u0631\u0633\u0627\u0644 \u062a\u0646\u0628\u064a\u0647\u0627\u062a \u0639\u0646\u062f \u062f\u062e\u0648\u0644/\u062e\u0631\u0648\u062c \u0627\u0644\u0645\u0646\u0627\u0637\u0642"})]}),(0,Ot.jsxs)("label",{className:"switch",children:[(0,Ot.jsx)("input",{type:"checkbox",checked:e.enableGeofencing,onChange:s=>t(d(d({},e),{},{enableGeofencing:s.target.checked}))}),(0,Ot.jsx)("span",{className:"slider"})]})]}),(0,Ot.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"font-bold",children:"\u062a\u062d\u0633\u064a\u0646 \u0627\u0644\u0645\u0633\u0627\u0631\u0627\u062a"}),(0,Ot.jsx)("div",{className:"text-sm text-gray-400",children:"\u062a\u062d\u0633\u064a\u0646 \u0627\u0644\u0645\u0633\u0627\u0631\u0627\u062a \u062a\u0644\u0642\u0627\u0626\u064a\u0627\u064b"})]}),(0,Ot.jsxs)("label",{className:"switch",children:[(0,Ot.jsx)("input",{type:"checkbox",checked:e.enableRouteOptimization,onChange:s=>t(d(d({},e),{},{enableRouteOptimization:s.target.checked}))}),(0,Ot.jsx)("span",{className:"slider"})]})]}),(0,Ot.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"font-bold",children:"\u0627\u0644\u0648\u0636\u0639 \u063a\u064a\u0631 \u0627\u0644\u0645\u062a\u0635\u0644"}),(0,Ot.jsx)("div",{className:"text-sm text-gray-400",children:"\u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0645\u062d\u0644\u064a\u0627\u064b \u0639\u0646\u062f \u0627\u0646\u0642\u0637\u0627\u0639 \u0627\u0644\u0625\u0646\u062a\u0631\u0646\u062a"})]}),(0,Ot.jsxs)("label",{className:"switch",children:[(0,Ot.jsx)("input",{type:"checkbox",checked:e.enableOfflineMode,onChange:s=>t(d(d({},e),{},{enableOfflineMode:s.target.checked}))}),(0,Ot.jsx)("span",{className:"slider"})]})]})]})]}),(0,Ot.jsxs)("div",{className:"card-glass p-6",children:[(0,Ot.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0645\u062a\u0642\u062f\u0645\u0629"}),(0,Ot.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"font-bold block mb-2",children:"\u0641\u062a\u0631\u0629 \u0627\u0644\u062a\u062a\u0628\u0639 (\u062b\u0627\u0646\u064a\u0629)"}),(0,Ot.jsx)("input",{type:"number",value:e.trackingInterval,onChange:s=>t(d(d({},e),{},{trackingInterval:parseInt(s.target.value)})),className:"w-full p-2 border rounded-lg glass-effect",min:"10",max:"300"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"font-bold block mb-2",children:"\u0646\u0637\u0627\u0642 \u0627\u0644\u0633\u064a\u0627\u062c (\u0645\u062a\u0631)"}),(0,Ot.jsx)("input",{type:"number",value:e.geofenceRadius,onChange:s=>t(d(d({},e),{},{geofenceRadius:parseInt(s.target.value)})),className:"w-full p-2 border rounded-lg glass-effect",min:"50",max:"1000"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"font-bold block mb-2",children:"\u062d\u0641\u0638 \u0627\u0644\u0645\u0648\u0627\u0642\u0639 (\u0623\u064a\u0627\u0645)"}),(0,Ot.jsx)("input",{type:"number",value:e.maxLocationHistory,onChange:s=>t(d(d({},e),{},{maxLocationHistory:parseInt(s.target.value)})),className:"w-full p-2 border rounded-lg glass-effect",min:"7",max:"365"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"font-bold block mb-2",children:"\u062f\u0642\u0629 \u0627\u0644\u0645\u0648\u0642\u0639 (\u0645\u062a\u0631)"}),(0,Ot.jsx)("input",{type:"number",value:e.accuracyThreshold,onChange:s=>t(d(d({},e),{},{accuracyThreshold:parseInt(s.target.value)})),className:"w-full p-2 border rounded-lg glass-effect",min:"5",max:"100"})]})]})]}),(0,Ot.jsx)("button",{onClick:()=>(async e=>{try{const s=localStorage.getItem("token");await Tt.post("".concat(Lt,"/admin/settings/gps"),e,{headers:{Authorization:"Bearer ".concat(s)}}),t(e),alert("\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0625\u0639\u062f\u0627\u062f\u0627\u062a GPS")}catch(s){console.error("Error updating GPS settings:",s),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u062f\u064a\u062b \u0625\u0639\u062f\u0627\u062f\u0627\u062a GPS")}})(e),className:"w-full btn-modern bg-gradient-to-r from-green-500 to-blue-600 text-white py-3 rounded-lg",children:"\ud83d\uddfa\ufe0f \u062d\u0641\u0638 \u0625\u0639\u062f\u0627\u062f\u0627\u062a GPS"})]})},Qs=()=>{const[e,t]=(0,a.useState)({availableThemes:["dark","light","modern","fancy","cyber","sunset","ocean","forest","minimal"],defaultTheme:"dark",allowUserThemeChange:!0,customPrimaryColor:"#3b82f6",customSecondaryColor:"#8b5cf6",enableCustomColors:!1,companyLogo:"",companyName:"EP Group System",enableAnimations:!0,enableGlassEffects:!0});return(0,Ot.jsxs)("div",{className:"space-y-8",children:[(0,Ot.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u062b\u064a\u0645\u0627\u062a \u0648\u0627\u0644\u0623\u0644\u0648\u0627\u0646"}),(0,Ot.jsxs)("div",{className:"card-glass p-6",children:[(0,Ot.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0627\u0644\u062b\u064a\u0645\u0627\u062a \u0627\u0644\u0645\u062a\u0627\u062d\u0629"}),(0,Ot.jsx)("div",{className:"grid gap-4 md:grid-cols-3 lg:grid-cols-4",children:e.availableThemes.map((s=>(0,Ot.jsxs)("div",{className:"p-4 border rounded-lg text-center",children:[(0,Ot.jsx)("div",{className:"w-16 h-16 rounded-full mx-auto mb-2 theme-preview theme-".concat(s)}),(0,Ot.jsx)("div",{className:"font-bold",children:s}),(0,Ot.jsxs)("label",{className:"flex items-center justify-center mt-2",children:[(0,Ot.jsx)("input",{type:"radio",name:"defaultTheme",checked:e.defaultTheme===s,onChange:()=>t(d(d({},e),{},{defaultTheme:s})),className:"mr-2"}),"\u0627\u0641\u062a\u0631\u0627\u0636\u064a"]})]},s)))})]}),(0,Ot.jsxs)("div",{className:"card-glass p-6",children:[(0,Ot.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0634\u0631\u0643\u0629"}),(0,Ot.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"font-bold block mb-2",children:"\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629"}),(0,Ot.jsx)("input",{type:"text",value:e.companyName,onChange:s=>t(d(d({},e),{},{companyName:s.target.value})),className:"w-full p-2 border rounded-lg glass-effect"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"font-bold block mb-2",children:"\u0634\u0639\u0627\u0631 \u0627\u0644\u0634\u0631\u0643\u0629"}),(0,Ot.jsx)("input",{type:"file",accept:"image/*",onChange:s=>{const n=s.target.files[0];if(n){const s=new FileReader;s.onload=s=>t(d(d({},e),{},{companyLogo:s.target.result})),s.readAsDataURL(n)}},className:"w-full p-2 border rounded-lg glass-effect"})]})]})]}),(0,Ot.jsxs)("div",{className:"card-glass p-6",children:[(0,Ot.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0627\u0644\u0623\u0644\u0648\u0627\u0646 \u0627\u0644\u0645\u062e\u0635\u0635\u0629"}),(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ot.jsx)("span",{children:"\u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u0623\u0644\u0648\u0627\u0646 \u0627\u0644\u0645\u062e\u0635\u0635\u0629"}),(0,Ot.jsxs)("label",{className:"switch",children:[(0,Ot.jsx)("input",{type:"checkbox",checked:e.enableCustomColors,onChange:s=>t(d(d({},e),{},{enableCustomColors:s.target.checked}))}),(0,Ot.jsx)("span",{className:"slider"})]})]}),e.enableCustomColors&&(0,Ot.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"font-bold block mb-2",children:"\u0627\u0644\u0644\u0648\u0646 \u0627\u0644\u0623\u0633\u0627\u0633\u064a"}),(0,Ot.jsx)("input",{type:"color",value:e.customPrimaryColor,onChange:s=>t(d(d({},e),{},{customPrimaryColor:s.target.value})),className:"w-full h-12 border rounded-lg"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"font-bold block mb-2",children:"\u0627\u0644\u0644\u0648\u0646 \u0627\u0644\u062b\u0627\u0646\u0648\u064a"}),(0,Ot.jsx)("input",{type:"color",value:e.customSecondaryColor,onChange:s=>t(d(d({},e),{},{customSecondaryColor:s.target.value})),className:"w-full h-12 border rounded-lg"})]})]})]}),(0,Ot.jsx)("button",{onClick:()=>(async e=>{try{const s=localStorage.getItem("token");await Tt.post("".concat(Lt,"/admin/settings/theme"),e,{headers:{Authorization:"Bearer ".concat(s)}}),t(e),alert("\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u062b\u064a\u0645\u0627\u062a")}catch(s){console.error("Error updating theme settings:",s),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u062f\u064a\u062b \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u062b\u064a\u0645\u0627\u062a")}})(e),className:"w-full btn-modern bg-gradient-to-r from-green-500 to-blue-600 text-white py-3 rounded-lg",children:"\ud83c\udfa8 \u062d\u0641\u0638 \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u062b\u064a\u0645\u0627\u062a"})]})},Ks=()=>{const[e,t]=(0,a.useState)({}),[s,n]=(0,a.useState)(!0);return(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0623\u062f\u0648\u0627\u0631 \u0648\u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a"}),(0,Ot.jsxs)("div",{className:"card-glass p-6",children:[(0,Ot.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0635\u0644\u0627\u062d\u064a\u0627\u062a \u0627\u0644\u0623\u062f\u0648\u0627\u0631"}),(0,Ot.jsx)("div",{className:"overflow-x-auto",children:(0,Ot.jsxs)("table",{className:"w-full text-sm",children:[(0,Ot.jsx)("thead",{children:(0,Ot.jsxs)("tr",{className:"border-b",children:[(0,Ot.jsx)("th",{className:"text-right p-4",children:"\u0627\u0644\u062f\u0648\u0631"}),(0,Ot.jsx)("th",{className:"text-center p-4",children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"}),(0,Ot.jsx)("th",{className:"text-center p-4",children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0646\u0627\u0637\u0642"}),(0,Ot.jsx)("th",{className:"text-center p-4",children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"}),(0,Ot.jsx)("th",{className:"text-center p-4",children:"\u0646\u0638\u0627\u0645 GPS"}),(0,Ot.jsx)("th",{className:"text-center p-4",children:"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631"}),(0,Ot.jsx)("th",{className:"text-center p-4",children:"\u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629"})]})}),(0,Ot.jsx)("tbody",{children:["gm","admin","line_manager","area_manager","district_manager","key_account","medical_rep"].map((e=>(0,Ot.jsxs)("tr",{className:"border-b",children:[(0,Ot.jsx)("td",{className:"p-4 font-bold",children:e}),(0,Ot.jsx)("td",{className:"text-center p-4",children:(0,Ot.jsx)("input",{type:"checkbox",defaultChecked:["gm","admin","line_manager"].includes(e)})}),(0,Ot.jsx)("td",{className:"text-center p-4",children:(0,Ot.jsx)("input",{type:"checkbox",defaultChecked:["gm","admin","line_manager","area_manager"].includes(e)})}),(0,Ot.jsx)("td",{className:"text-center p-4",children:(0,Ot.jsx)("input",{type:"checkbox",defaultChecked:["gm","admin"].includes(e)})}),(0,Ot.jsx)("td",{className:"text-center p-4",children:(0,Ot.jsx)("input",{type:"checkbox",defaultChecked:!0})}),(0,Ot.jsx)("td",{className:"text-center p-4",children:(0,Ot.jsx)("input",{type:"checkbox",defaultChecked:!["medical_rep"].includes(e)})}),(0,Ot.jsx)("td",{className:"text-center p-4",children:(0,Ot.jsx)("input",{type:"checkbox",defaultChecked:["gm","admin","accounting"].includes(e)})})]},e)))})]})})]})]})},Xs=()=>{const[e,t]=(0,a.useState)({enableNotifications:!0,enableEmailNotifications:!0,enableSMSNotifications:!1,enablePushNotifications:!0,notificationTypes:{visit_approved:!0,visit_rejected:!0,new_order:!0,user_registered:!0,gps_alert:!0,system_maintenance:!0},retentionDays:30,maxNotificationsPerDay:50});return(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0646\u0638\u0627\u0645 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a"}),(0,Ot.jsxs)("div",{className:"card-glass p-6",children:[(0,Ot.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0639\u0627\u0645\u0629"}),(0,Ot.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:Object.entries({enableNotifications:"\u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a",enableEmailNotifications:"\u0625\u0634\u0639\u0627\u0631\u0627\u062a \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",enableSMSNotifications:"\u0625\u0634\u0639\u0627\u0631\u0627\u062a \u0627\u0644\u0631\u0633\u0627\u0626\u0644 \u0627\u0644\u0646\u0635\u064a\u0629",enablePushNotifications:"\u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a \u0627\u0644\u0645\u0646\u0628\u062b\u0642\u0629"}).map((s=>{let[n,a]=s;return(0,Ot.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,Ot.jsx)("span",{children:a}),(0,Ot.jsxs)("label",{className:"switch",children:[(0,Ot.jsx)("input",{type:"checkbox",checked:e[n],onChange:s=>t(d(d({},e),{},{[n]:s.target.checked}))}),(0,Ot.jsx)("span",{className:"slider"})]})]},n)}))})]}),(0,Ot.jsxs)("div",{className:"card-glass p-6",children:[(0,Ot.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a"}),(0,Ot.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:Object.entries(e.notificationTypes).map((s=>{let[n,a]=s;return(0,Ot.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,Ot.jsx)("span",{children:n.replace("_"," ")}),(0,Ot.jsxs)("label",{className:"switch",children:[(0,Ot.jsx)("input",{type:"checkbox",checked:a,onChange:s=>t(d(d({},e),{},{notificationTypes:d(d({},e.notificationTypes),{},{[n]:s.target.checked})}))}),(0,Ot.jsx)("span",{className:"slider"})]})]},n)}))})]})]})},Ys=()=>{const[e,t]=(0,a.useState)({defaultLanguage:"ar",enableLanguageSwitching:!0,availableLanguages:["ar","en"],rtlSupport:!0,autoDetectLanguage:!1,translateUserContent:!1});return(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0644\u063a\u0629"}),(0,Ot.jsxs)("div",{className:"card-glass p-6",children:[(0,Ot.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0623\u0633\u0627\u0633\u064a\u0629"}),(0,Ot.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block font-bold mb-2",children:"\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0627\u0641\u062a\u0631\u0627\u0636\u064a\u0629"}),(0,Ot.jsxs)("select",{value:e.defaultLanguage,onChange:s=>t(d(d({},e),{},{defaultLanguage:s.target.value})),className:"w-full p-3 border rounded-lg glass-effect",children:[(0,Ot.jsx)("option",{value:"ar",children:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629"}),(0,Ot.jsx)("option",{value:"en",children:"English"})]})]}),(0,Ot.jsx)("div",{className:"space-y-4",children:[["enableLanguageSwitching","\u0627\u0644\u0633\u0645\u0627\u062d \u0628\u062a\u0628\u062f\u064a\u0644 \u0627\u0644\u0644\u063a\u0629"],["rtlSupport","\u062f\u0639\u0645 \u0627\u0644\u0644\u063a\u0627\u062a \u0645\u0646 \u0627\u0644\u064a\u0645\u064a\u0646 \u0644\u0644\u064a\u0633\u0627\u0631"],["autoDetectLanguage","\u0627\u0643\u062a\u0634\u0627\u0641 \u0627\u0644\u0644\u063a\u0629 \u062a\u0644\u0642\u0627\u0626\u064a\u0627\u064b"],["translateUserContent","\u062a\u0631\u062c\u0645\u0629 \u0645\u062d\u062a\u0648\u0649 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"]].map((s=>{let[n,a]=s;return(0,Ot.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,Ot.jsx)("span",{children:a}),(0,Ot.jsxs)("label",{className:"switch",children:[(0,Ot.jsx)("input",{type:"checkbox",checked:e[n],onChange:s=>t(d(d({},e),{},{[n]:s.target.checked}))}),(0,Ot.jsx)("span",{className:"slider"})]})]},n)}))})]})]})]})},Js=()=>{const[e,t]=(0,a.useState)({passwordMinLength:8,requireSpecialChars:!0,requireNumbers:!0,requireUppercase:!0,sessionTimeout:24,maxLoginAttempts:5,enableTwoFactor:!1,enableIPWhitelist:!1,allowedIPs:[],enableAuditLog:!0,logRetentionDays:90});return(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0623\u0645\u0627\u0646"}),(0,Ot.jsxs)("div",{className:"card-glass p-6",children:[(0,Ot.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0633\u064a\u0627\u0633\u0629 \u0643\u0644\u0645\u0627\u062a \u0627\u0644\u0645\u0631\u0648\u0631"}),(0,Ot.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block font-bold mb-2",children:"\u0627\u0644\u062d\u062f \u0627\u0644\u0623\u062f\u0646\u0649 \u0644\u0637\u0648\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"}),(0,Ot.jsx)("input",{type:"number",value:e.passwordMinLength,onChange:s=>t(d(d({},e),{},{passwordMinLength:parseInt(s.target.value)})),className:"w-full p-3 border rounded-lg glass-effect",min:"6",max:"32"})]}),(0,Ot.jsx)("div",{className:"space-y-3",children:[["requireSpecialChars","\u0631\u0645\u0648\u0632 \u062e\u0627\u0635\u0629 \u0645\u0637\u0644\u0648\u0628\u0629"],["requireNumbers","\u0623\u0631\u0642\u0627\u0645 \u0645\u0637\u0644\u0648\u0628\u0629"],["requireUppercase","\u0623\u062d\u0631\u0641 \u0643\u0628\u064a\u0631\u0629 \u0645\u0637\u0644\u0648\u0628\u0629"]].map((s=>{let[n,a]=s;return(0,Ot.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,Ot.jsx)("span",{children:a}),(0,Ot.jsxs)("label",{className:"switch",children:[(0,Ot.jsx)("input",{type:"checkbox",checked:e[n],onChange:s=>t(d(d({},e),{},{[n]:s.target.checked}))}),(0,Ot.jsx)("span",{className:"slider"})]})]},n)}))})]})]}),(0,Ot.jsxs)("div",{className:"card-glass p-6",children:[(0,Ot.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u062c\u0644\u0633\u0629 \u0648\u0627\u0644\u062f\u062e\u0648\u0644"}),(0,Ot.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block font-bold mb-2",children:"\u0645\u0647\u0644\u0629 \u0627\u0644\u062c\u0644\u0633\u0629 (\u0633\u0627\u0639\u0627\u062a)"}),(0,Ot.jsx)("input",{type:"number",value:e.sessionTimeout,onChange:s=>t(d(d({},e),{},{sessionTimeout:parseInt(s.target.value)})),className:"w-full p-3 border rounded-lg glass-effect",min:"1",max:"168"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block font-bold mb-2",children:"\u0645\u062d\u0627\u0648\u0644\u0627\u062a \u0627\u0644\u062f\u062e\u0648\u0644 \u0627\u0644\u0642\u0635\u0648\u0649"}),(0,Ot.jsx)("input",{type:"number",value:e.maxLoginAttempts,onChange:s=>t(d(d({},e),{},{maxLoginAttempts:parseInt(s.target.value)})),className:"w-full p-3 border rounded-lg glass-effect",min:"3",max:"10"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block font-bold mb-2",children:"\u062d\u0641\u0638 \u0627\u0644\u0633\u062c\u0644\u0627\u062a (\u0623\u064a\u0627\u0645)"}),(0,Ot.jsx)("input",{type:"number",value:e.logRetentionDays,onChange:s=>t(d(d({},e),{},{logRetentionDays:parseInt(s.target.value)})),className:"w-full p-3 border rounded-lg glass-effect",min:"30",max:"365"})]})]})]})]})},Zs=()=>{const[e,t]=(0,a.useState)({}),[s,n]=(0,a.useState)(!0);(0,a.useEffect)((()=>{r()}),[]);const r=async()=>{try{const e=localStorage.getItem("token"),s=await Tt.get("".concat(Lt,"/admin/features/status"),{headers:{Authorization:"Bearer ".concat(e)}});t(s.data)}catch(e){console.error("Error fetching features:",e)}finally{n(!1)}};if(s)return(0,Ot.jsxs)("div",{className:"text-center py-8",children:[(0,Ot.jsx)("div",{className:"loading-spinner-enhanced mx-auto mb-4"}),(0,Ot.jsx)("p",{children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u0645\u064a\u0632\u0627\u062a..."})]});const l={gps_tracking:"\u0646\u0638\u0627\u0645 \u062a\u062a\u0628\u0639 GPS",gamification:"\u0646\u0638\u0627\u0645 \u0627\u0644\u0623\u0644\u0639\u0627\u0628",chat_system:"\u0646\u0638\u0627\u0645 \u0627\u0644\u062f\u0631\u062f\u0634\u0629",document_scanner:"\u0645\u0627\u0633\u062d \u0627\u0644\u0645\u0633\u062a\u0646\u062f\u0627\u062a",visit_management:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a",accounting_system:"\u0646\u0638\u0627\u0645 \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629",notifications:"\u0646\u0638\u0627\u0645 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a",analytics:"\u0627\u0644\u062a\u062d\u0644\u064a\u0644\u0627\u062a \u0627\u0644\u0645\u062a\u0642\u062f\u0645\u0629",user_registration:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",theme_switching:"\u062a\u0628\u062f\u064a\u0644 \u0627\u0644\u062b\u064a\u0645\u0627\u062a",language_switching:"\u062a\u0628\u062f\u064a\u0644 \u0627\u0644\u0644\u063a\u0627\u062a"};return(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u062a\u062d\u0643\u0645 \u0641\u064a \u0645\u0645\u064a\u0632\u0627\u062a \u0627\u0644\u0646\u0638\u0627\u0645"}),(0,Ot.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:Object.entries(e).map((s=>{let[n,a]=s;return(0,Ot.jsxs)("div",{className:"card-glass p-6",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ot.jsx)("h4",{className:"font-bold",children:l[n]||n}),(0,Ot.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(a?"bg-green-500":"bg-red-500")})]}),(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsx)("span",{className:"text-sm text-gray-400",children:a?"\u0645\u0641\u0639\u0644":"\u0645\u0639\u0637\u0644"}),(0,Ot.jsxs)("label",{className:"switch",children:[(0,Ot.jsx)("input",{type:"checkbox",checked:a,onChange:s=>(async(s,n)=>{try{const a=localStorage.getItem("token");await Tt.post("".concat(Lt,"/admin/features/toggle"),{feature_name:s,enabled:n},{headers:{Authorization:"Bearer ".concat(a)}}),t(d(d({},e),{},{[s]:n})),alert("\u062a\u0645 ".concat(n?"\u062a\u0641\u0639\u064a\u0644":"\u0625\u0644\u063a\u0627\u0621"," \u0645\u064a\u0632\u0629 ").concat(s))}catch(a){console.error("Error toggling feature:",a),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u063a\u064a\u064a\u0631 \u062d\u0627\u0644\u0629 \u0627\u0644\u0645\u064a\u0632\u0629")}})(n,s.target.checked)}),(0,Ot.jsx)("span",{className:"slider"})]})]})]},n)}))})]})},en=()=>{const[e,t]=(0,a.useState)({google_maps_api_key:"",enable_geocoding:!0,enable_directions:!0,enable_places:!0,default_map_center:{lat:30.0444,lng:31.2357},default_zoom_level:10,map_style:"roadmap",enable_traffic_layer:!1,enable_satellite_view:!0,enable_street_view:!0,marker_clustering:!0,enable_drawing_tools:!1,enable_heatmaps:!1,restrict_to_country:"EG",language:"ar",region:"EG",libraries:["places","geometry","drawing"],google_analytics_id:"",enable_google_drive_backup:!1,google_drive_credentials:""}),[s,n]=(0,a.useState)({status:"",message:""}),[r,l]=(0,a.useState)({}),[i,o]=(0,a.useState)(!1);(0,a.useEffect)((()=>{c(),u()}),[]);const c=async()=>{try{const s=localStorage.getItem("token"),n=await Tt.get("".concat(Lt,"/admin/settings/google-maps"),{headers:{Authorization:"Bearer ".concat(s)}});t(d(d({},e),n.data))}catch(s){console.error("Error fetching Google Maps settings:",s)}},u=async()=>{try{const e=localStorage.getItem("token"),t=await Tt.get("".concat(Lt,"/admin/google-services-status"),{headers:{Authorization:"Bearer ".concat(e)}});l(t.data)}catch(e){console.error("Error fetching services status:",e)}};return(0,Ot.jsxs)("div",{className:"space-y-8",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("h3",{className:"text-2xl font-bold text-gradient flex items-center gap-3",children:[(0,Ot.jsx)(Ht,{name:"maps",size:32}),"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u062e\u0631\u0627\u0626\u0637 \u062c\u0648\u062c\u0644 \u0648\u0627\u0644\u062e\u062f\u0645\u0627\u062a"]}),(0,Ot.jsxs)("div",{className:"flex gap-2",children:[(0,Ot.jsx)("button",{onClick:async()=>{o(!0);try{const t=localStorage.getItem("token"),s=await Tt.post("".concat(Lt,"/admin/test-google-maps-api"),{api_key:e.google_maps_api_key},{headers:{Authorization:"Bearer ".concat(t)}});n(s.data)}catch(t){n({status:"error",message:"Test failed"})}finally{o(!1)}},disabled:i||!e.google_maps_api_key,className:"btn-modern bg-blue-500 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:i?"\u23f3 \u062c\u0627\u0631\u064a \u0627\u0644\u0627\u062e\u062a\u0628\u0627\u0631...":"\ud83e\uddea \u0627\u062e\u062a\u0628\u0627\u0631 \u0627\u0644\u0645\u0641\u062a\u0627\u062d"}),(0,Ot.jsx)("button",{onClick:async()=>{try{const t=localStorage.getItem("token");await Tt.post("".concat(Lt,"/admin/settings/google-maps"),e,{headers:{Authorization:"Bearer ".concat(t)}}),alert("\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u062e\u0631\u0627\u0626\u0637 \u062c\u0648\u062c\u0644 \u0628\u0646\u062c\u0627\u062d"),u()}catch(t){console.error("Error updating settings:",t),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a")}},className:"btn-modern bg-green-500 text-white px-6 py-2 rounded-lg",children:"\ud83d\udcbe \u062d\u0641\u0638 \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a"})]})]}),s.message&&(0,Ot.jsx)("div",{className:"p-4 rounded-lg border ".concat("success"===s.status?"bg-green-500/20 border-green-500":"bg-red-500/20 border-red-500"),children:(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)(Ht,{name:"success"===s.status?"success":"error",size:20}),(0,Ot.jsx)("span",{children:s.message})]})}),(0,Ot.jsx)("div",{className:"grid gap-4 md:grid-cols-3",children:Object.entries(r).map((e=>{let[t,s]=e;return(0,Ot.jsxs)("div",{className:"card-glass p-4",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Ot.jsx)("h4",{className:"font-bold capitalize",children:t.replace("_"," ")}),(0,Ot.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(s.enabled?"bg-green-500":"bg-red-500")})]}),(0,Ot.jsx)("div",{className:"text-sm space-y-1",children:Object.entries(s).map((e=>{let[t,s]=e;return(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{className:"text-gray-400",children:t.replace("_"," ")}),(0,Ot.jsx)("span",{className:s?"text-green-400":"text-red-400",children:s?"\u2713":"\u2717"})]},t)}))})]},t)}))}),(0,Ot.jsxs)("div",{className:"card-glass p-6",children:[(0,Ot.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)(Ht,{name:"maps",size:24}),"\u0625\u0639\u062f\u0627\u062f\u0627\u062a Google Maps API"]}),(0,Ot.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,Ot.jsxs)("div",{className:"md:col-span-2",children:[(0,Ot.jsx)("label",{className:"block font-bold mb-2",children:"Google Maps API Key *"}),(0,Ot.jsxs)("div",{className:"flex gap-2",children:[(0,Ot.jsx)("input",{type:"password",value:e.google_maps_api_key,onChange:s=>t(d(d({},e),{},{google_maps_api_key:s.target.value})),className:"flex-1 p-3 border rounded-lg glass-effect",placeholder:"AIzaSy... \u0623\u062f\u062e\u0644 \u0645\u0641\u062a\u0627\u062d API"}),(0,Ot.jsx)("button",{onClick:()=>window.open("https://console.cloud.google.com/apis/credentials","_blank"),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",title:"\u0641\u062a\u062d Google Cloud Console",children:"\ud83d\udd17"})]}),(0,Ot.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"\u0627\u062d\u0635\u0644 \u0639\u0644\u0649 \u0645\u0641\u062a\u0627\u062d API \u0645\u0646 Google Cloud Console \u0648\u0641\u0639\u0651\u0644 APIs: Maps JavaScript, Geocoding, Directions, Places"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block font-bold mb-2",children:"\u0627\u0644\u0645\u0631\u0643\u0632 \u0627\u0644\u0627\u0641\u062a\u0631\u0627\u0636\u064a \u0644\u0644\u062e\u0631\u064a\u0637\u0629"}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Ot.jsx)("input",{type:"number",step:"0.000001",value:e.default_map_center.lat,onChange:s=>t(d(d({},e),{},{default_map_center:d(d({},e.default_map_center),{},{lat:parseFloat(s.target.value)})})),className:"p-3 border rounded-lg glass-effect",placeholder:"\u062e\u0637 \u0627\u0644\u0639\u0631\u0636"}),(0,Ot.jsx)("input",{type:"number",step:"0.000001",value:e.default_map_center.lng,onChange:s=>t(d(d({},e),{},{default_map_center:d(d({},e.default_map_center),{},{lng:parseFloat(s.target.value)})})),className:"p-3 border rounded-lg glass-effect",placeholder:"\u062e\u0637 \u0627\u0644\u0637\u0648\u0644"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block font-bold mb-2",children:"\u0645\u0633\u062a\u0648\u0649 \u0627\u0644\u062a\u0643\u0628\u064a\u0631 \u0627\u0644\u0627\u0641\u062a\u0631\u0627\u0636\u064a"}),(0,Ot.jsx)("input",{type:"range",min:"1",max:"20",value:e.default_zoom_level,onChange:s=>t(d(d({},e),{},{default_zoom_level:parseInt(s.target.value)})),className:"w-full"}),(0,Ot.jsxs)("div",{className:"text-center text-sm text-gray-400",children:["\u0627\u0644\u0645\u0633\u062a\u0648\u0649: ",e.default_zoom_level]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block font-bold mb-2",children:"\u0646\u0648\u0639 \u0627\u0644\u062e\u0631\u064a\u0637\u0629"}),(0,Ot.jsxs)("select",{value:e.map_style,onChange:s=>t(d(d({},e),{},{map_style:s.target.value})),className:"w-full p-3 border rounded-lg glass-effect",children:[(0,Ot.jsx)("option",{value:"roadmap",children:"\u062e\u0631\u064a\u0637\u0629 \u0639\u0627\u062f\u064a\u0629"}),(0,Ot.jsx)("option",{value:"satellite",children:"\u0635\u0648\u0631 \u062c\u0648\u064a\u0629"}),(0,Ot.jsx)("option",{value:"hybrid",children:"\u0645\u062e\u062a\u0644\u0637\u0629"}),(0,Ot.jsx)("option",{value:"terrain",children:"\u062a\u0636\u0627\u0631\u064a\u0633"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block font-bold mb-2",children:"\u062a\u0642\u064a\u064a\u062f \u0627\u0644\u0628\u0644\u062f"}),(0,Ot.jsxs)("select",{value:e.restrict_to_country,onChange:s=>t(d(d({},e),{},{restrict_to_country:s.target.value})),className:"w-full p-3 border rounded-lg glass-effect",children:[(0,Ot.jsx)("option",{value:"",children:"\u0628\u062f\u0648\u0646 \u062a\u0642\u064a\u064a\u062f"}),(0,Ot.jsx)("option",{value:"EG",children:"\u0645\u0635\u0631"}),(0,Ot.jsx)("option",{value:"SA",children:"\u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629"}),(0,Ot.jsx)("option",{value:"AE",children:"\u0627\u0644\u0625\u0645\u0627\u0631\u0627\u062a"}),(0,Ot.jsx)("option",{value:"KW",children:"\u0627\u0644\u0643\u0648\u064a\u062a"}),(0,Ot.jsx)("option",{value:"QA",children:"\u0642\u0637\u0631"}),(0,Ot.jsx)("option",{value:"BH",children:"\u0627\u0644\u0628\u062d\u0631\u064a\u0646"}),(0,Ot.jsx)("option",{value:"OM",children:"\u0639\u0645\u0627\u0646"})]})]})]}),(0,Ot.jsxs)("div",{className:"mt-6",children:[(0,Ot.jsx)("h5",{className:"font-bold mb-4",children:"\u0627\u0644\u0645\u0645\u064a\u0632\u0627\u062a \u0627\u0644\u0645\u062a\u0627\u062d\u0629"}),(0,Ot.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[["enable_geocoding","\u062a\u062d\u0648\u064a\u0644 \u0627\u0644\u0639\u0646\u0627\u0648\u064a\u0646 \u0644\u0625\u062d\u062f\u0627\u062b\u064a\u0627\u062a"],["enable_directions","\u0627\u0644\u0627\u062a\u062c\u0627\u0647\u0627\u062a \u0648\u0627\u0644\u0645\u0633\u0627\u0631\u0627\u062a"],["enable_places","\u0627\u0644\u0628\u062d\u062b \u0639\u0646 \u0627\u0644\u0623\u0645\u0627\u0643\u0646"],["enable_traffic_layer","\u0637\u0628\u0642\u0629 \u062d\u0631\u0643\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"],["enable_satellite_view","\u0627\u0644\u0639\u0631\u0636 \u0627\u0644\u062c\u0648\u064a"],["enable_street_view","\u0639\u0631\u0636 \u0627\u0644\u0634\u0627\u0631\u0639"],["marker_clustering","\u062a\u062c\u0645\u064a\u0639 \u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062a"],["enable_drawing_tools","\u0623\u062f\u0648\u0627\u062a \u0627\u0644\u0631\u0633\u0645"],["enable_heatmaps","\u062e\u0631\u0627\u0626\u0637 \u0627\u0644\u062d\u0631\u0627\u0631\u0629"]].map((s=>{let[n,a]=s;return(0,Ot.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,Ot.jsx)("span",{children:a}),(0,Ot.jsxs)("label",{className:"switch",children:[(0,Ot.jsx)("input",{type:"checkbox",checked:e[n],onChange:s=>t(d(d({},e),{},{[n]:s.target.checked}))}),(0,Ot.jsx)("span",{className:"slider"})]})]},n)}))})]})]}),(0,Ot.jsxs)("div",{className:"card-glass p-6",children:[(0,Ot.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)(Ht,{name:"analytics",size:24}),"\u062a\u0643\u0627\u0645\u0644 Google Analytics"]}),(0,Ot.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block font-bold mb-2",children:"\u0645\u0639\u0631\u0641 Google Analytics"}),(0,Ot.jsx)("input",{type:"text",value:e.google_analytics_id,onChange:s=>t(d(d({},e),{},{google_analytics_id:s.target.value})),className:"w-full p-3 border rounded-lg glass-effect",placeholder:"G-XXXXXXXXXX \u0623\u0648 UA-XXXXXXXXX"})]}),(0,Ot.jsx)("div",{className:"flex items-end",children:(0,Ot.jsx)("button",{onClick:()=>window.open("https://analytics.google.com/","_blank"),className:"w-full px-4 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600",children:"\ud83d\udcca \u0641\u062a\u062d Google Analytics"})})]})]}),(0,Ot.jsxs)("div",{className:"card-glass p-6",children:[(0,Ot.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)(Ht,{name:"scanner",size:24}),"\u0646\u0633\u062e \u0627\u062d\u062a\u064a\u0627\u0637\u064a Google Drive"]}),(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ot.jsx)("span",{children:"\u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u0646\u0633\u062e \u0627\u0644\u0627\u062d\u062a\u064a\u0627\u0637\u064a \u0627\u0644\u062a\u0644\u0642\u0627\u0626\u064a"}),(0,Ot.jsxs)("label",{className:"switch",children:[(0,Ot.jsx)("input",{type:"checkbox",checked:e.enable_google_drive_backup,onChange:s=>t(d(d({},e),{},{enable_google_drive_backup:s.target.checked}))}),(0,Ot.jsx)("span",{className:"slider"})]})]}),e.enable_google_drive_backup&&(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block font-bold mb-2",children:"Google Drive Service Account Credentials (JSON)"}),(0,Ot.jsx)("textarea",{value:e.google_drive_credentials,onChange:s=>t(d(d({},e),{},{google_drive_credentials:s.target.value})),className:"w-full p-3 border rounded-lg glass-effect h-32",placeholder:"\u0623\u0644\u0635\u0642 \u0645\u062d\u062a\u0648\u0649 \u0645\u0644\u0641 service account JSON \u0647\u0646\u0627..."})]})]})]})},tn=()=>{const[e,t]=(0,a.useState)({site_name:"EP Group System",site_description:"\u0646\u0638\u0627\u0645 \u0625\u062f\u0627\u0631\u0629 \u0634\u0627\u0645\u0644 \u0644\u0644\u0645\u0624\u0633\u0633\u0627\u062a",site_keywords:"\u0625\u062f\u0627\u0631\u0629, \u0645\u0624\u0633\u0633\u0627\u062a, \u0646\u0638\u0627\u0645, EP Group",favicon_url:"",logo_url:"",contact_email:"info@epgroup.com",contact_phone:"+20123456789",address:"\u0627\u0644\u0642\u0627\u0647\u0631\u0629\u060c \u0645\u0635\u0631",social_links:{facebook:"",twitter:"",linkedin:"",instagram:"",youtube:""},seo_settings:{enable_seo:!0,meta_robots:"index,follow",canonical_url:"",og_image:"",twitter_card:"summary_large_image"},performance_settings:{enable_caching:!0,cache_duration:3600,enable_compression:!0,lazy_loading:!0,minify_assets:!0},security_settings:{enable_https_redirect:!0,enable_csp:!0,enable_hsts:!0,session_timeout:1440}});return(0,a.useEffect)((()=>{(async()=>{try{const s=localStorage.getItem("token"),n=await Tt.get("".concat(Lt,"/admin/settings/website-config"),{headers:{Authorization:"Bearer ".concat(s)}});t(d(d({},e),n.data))}catch(s){console.error("Error fetching website config:",s)}})()}),[]),(0,Ot.jsxs)("div",{className:"space-y-8",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("h3",{className:"text-2xl font-bold text-gradient flex items-center gap-3",children:[(0,Ot.jsx)(Ht,{name:"settings",size:32}),"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0645\u0648\u0642\u0639 \u0627\u0644\u0634\u0627\u0645\u0644\u0629"]}),(0,Ot.jsx)("button",{onClick:async()=>{try{const t=localStorage.getItem("token");await Tt.post("".concat(Lt,"/admin/settings/website-config"),e,{headers:{Authorization:"Bearer ".concat(t)}}),alert("\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0645\u0648\u0642\u0639 \u0628\u0646\u062c\u0627\u062d")}catch(t){console.error("Error updating website config:",t),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u062f\u064a\u062b \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0645\u0648\u0642\u0639")}},className:"btn-modern bg-green-500 text-white px-6 py-2 rounded-lg",children:"\ud83d\udcbe \u062d\u0641\u0638 \u0627\u0644\u062a\u0643\u0648\u064a\u0646"})]}),(0,Ot.jsxs)("div",{className:"card-glass p-6",children:[(0,Ot.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)(Ht,{name:"language",size:24}),"\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0623\u0633\u0627\u0633\u064a\u0629 \u0644\u0644\u0645\u0648\u0642\u0639"]}),(0,Ot.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block font-bold mb-2",children:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0642\u0639"}),(0,Ot.jsx)("input",{type:"text",value:e.site_name,onChange:s=>t(d(d({},e),{},{site_name:s.target.value})),className:"w-full p-3 border rounded-lg glass-effect"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block font-bold mb-2",children:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0644\u0644\u062a\u0648\u0627\u0635\u0644"}),(0,Ot.jsx)("input",{type:"email",value:e.contact_email,onChange:s=>t(d(d({},e),{},{contact_email:s.target.value})),className:"w-full p-3 border rounded-lg glass-effect"})]}),(0,Ot.jsxs)("div",{className:"md:col-span-2",children:[(0,Ot.jsx)("label",{className:"block font-bold mb-2",children:"\u0648\u0635\u0641 \u0627\u0644\u0645\u0648\u0642\u0639"}),(0,Ot.jsx)("textarea",{value:e.site_description,onChange:s=>t(d(d({},e),{},{site_description:s.target.value})),className:"w-full p-3 border rounded-lg glass-effect h-24"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block font-bold mb-2",children:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641"}),(0,Ot.jsx)("input",{type:"tel",value:e.contact_phone,onChange:s=>t(d(d({},e),{},{contact_phone:s.target.value})),className:"w-full p-3 border rounded-lg glass-effect"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block font-bold mb-2",children:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646"}),(0,Ot.jsx)("input",{type:"text",value:e.address,onChange:s=>t(d(d({},e),{},{address:s.target.value})),className:"w-full p-3 border rounded-lg glass-effect"})]})]})]}),(0,Ot.jsxs)("div",{className:"card-glass p-6",children:[(0,Ot.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)(Ht,{name:"analytics",size:24}),"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u062a\u062d\u0633\u064a\u0646 \u0645\u062d\u0631\u0643\u0627\u062a \u0627\u0644\u0628\u062d\u062b (SEO)"]}),(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ot.jsx)("span",{children:"\u062a\u0641\u0639\u064a\u0644 \u062a\u062d\u0633\u064a\u0646 \u0645\u062d\u0631\u0643\u0627\u062a \u0627\u0644\u0628\u062d\u062b"}),(0,Ot.jsxs)("label",{className:"switch",children:[(0,Ot.jsx)("input",{type:"checkbox",checked:e.seo_settings.enable_seo,onChange:s=>t(d(d({},e),{},{seo_settings:d(d({},e.seo_settings),{},{enable_seo:s.target.checked})}))}),(0,Ot.jsx)("span",{className:"slider"})]})]}),e.seo_settings.enable_seo&&(0,Ot.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block font-bold mb-2",children:"\u0627\u0644\u0643\u0644\u0645\u0627\u062a \u0627\u0644\u0645\u0641\u062a\u0627\u062d\u064a\u0629"}),(0,Ot.jsx)("input",{type:"text",value:e.site_keywords,onChange:s=>t(d(d({},e),{},{site_keywords:s.target.value})),className:"w-full p-3 border rounded-lg glass-effect",placeholder:"\u0643\u0644\u0645\u06291, \u0643\u0644\u0645\u06292, \u0643\u0644\u0645\u06293"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block font-bold mb-2",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0631\u0648\u0628\u0648\u062a\u0627\u062a"}),(0,Ot.jsxs)("select",{value:e.seo_settings.meta_robots,onChange:s=>t(d(d({},e),{},{seo_settings:d(d({},e.seo_settings),{},{meta_robots:s.target.value})})),className:"w-full p-3 border rounded-lg glass-effect",children:[(0,Ot.jsx)("option",{value:"index,follow",children:"\u0641\u0647\u0631\u0633\u0629 \u0648\u062a\u062a\u0628\u0639"}),(0,Ot.jsx)("option",{value:"index,nofollow",children:"\u0641\u0647\u0631\u0633\u0629 \u0628\u062f\u0648\u0646 \u062a\u062a\u0628\u0639"}),(0,Ot.jsx)("option",{value:"noindex,follow",children:"\u0628\u062f\u0648\u0646 \u0641\u0647\u0631\u0633\u0629 \u0645\u0639 \u062a\u062a\u0628\u0639"}),(0,Ot.jsx)("option",{value:"noindex,nofollow",children:"\u0628\u062f\u0648\u0646 \u0641\u0647\u0631\u0633\u0629 \u0623\u0648 \u062a\u062a\u0628\u0639"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block font-bold mb-2",children:"\u0631\u0627\u0628\u0637 canonical"}),(0,Ot.jsx)("input",{type:"url",value:e.seo_settings.canonical_url,onChange:s=>t(d(d({},e),{},{seo_settings:d(d({},e.seo_settings),{},{canonical_url:s.target.value})})),className:"w-full p-3 border rounded-lg glass-effect",placeholder:"https://example.com"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block font-bold mb-2",children:"\u0635\u0648\u0631\u0629 Open Graph"}),(0,Ot.jsx)("input",{type:"url",value:e.seo_settings.og_image,onChange:s=>t(d(d({},e),{},{seo_settings:d(d({},e.seo_settings),{},{og_image:s.target.value})})),className:"w-full p-3 border rounded-lg glass-effect",placeholder:"\u0631\u0627\u0628\u0637 \u0627\u0644\u0635\u0648\u0631\u0629"})]})]})]}),(0,Ot.jsxs)("div",{className:"card-glass p-6",children:[(0,Ot.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)(Ht,{name:"chat",size:24}),"\u0631\u0648\u0627\u0628\u0637 \u0648\u0633\u0627\u0626\u0644 \u0627\u0644\u062a\u0648\u0627\u0635\u0644 \u0627\u0644\u0627\u062c\u062a\u0645\u0627\u0639\u064a"]}),(0,Ot.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:Object.entries(e.social_links).map((s=>{let[n,a]=s;return(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block font-bold mb-2 capitalize",children:n}),(0,Ot.jsx)("input",{type:"url",value:a,onChange:s=>t(d(d({},e),{},{social_links:d(d({},e.social_links),{},{[n]:s.target.value})})),className:"w-full p-3 border rounded-lg glass-effect",placeholder:"\u0631\u0627\u0628\u0637 ".concat(n)})]},n)}))})]}),(0,Ot.jsxs)("div",{className:"card-glass p-6",children:[(0,Ot.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)(Ht,{name:"performance",size:24}),"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0623\u062f\u0627\u0621"]}),(0,Ot.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[["enable_caching","\u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u062a\u062e\u0632\u064a\u0646 \u0627\u0644\u0645\u0624\u0642\u062a"],["enable_compression","\u0636\u063a\u0637 \u0627\u0644\u0645\u0644\u0641\u0627\u062a"],["lazy_loading","\u0627\u0644\u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u062a\u0623\u062e\u0631"],["minify_assets","\u062a\u0635\u063a\u064a\u0631 \u0627\u0644\u0645\u0644\u0641\u0627\u062a"]].map((s=>{let[n,a]=s;return(0,Ot.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,Ot.jsx)("span",{children:a}),(0,Ot.jsxs)("label",{className:"switch",children:[(0,Ot.jsx)("input",{type:"checkbox",checked:e.performance_settings[n],onChange:s=>t(d(d({},e),{},{performance_settings:d(d({},e.performance_settings),{},{[n]:s.target.checked})}))}),(0,Ot.jsx)("span",{className:"slider"})]})]},n)}))}),(0,Ot.jsxs)("div",{className:"mt-4",children:[(0,Ot.jsx)("label",{className:"block font-bold mb-2",children:"\u0645\u062f\u0629 \u0627\u0644\u062a\u062e\u0632\u064a\u0646 \u0627\u0644\u0645\u0624\u0642\u062a (\u062b\u0627\u0646\u064a\u0629)"}),(0,Ot.jsx)("input",{type:"number",value:e.performance_settings.cache_duration,onChange:s=>t(d(d({},e),{},{performance_settings:d(d({},e.performance_settings),{},{cache_duration:parseInt(s.target.value)})})),className:"w-full p-3 border rounded-lg glass-effect",min:"300",max:"86400"})]})]})]})},sn=()=>{const[e,t]=(0,a.useState)(null),[s,n]=(0,a.useState)(!0),r=async()=>{try{const e=localStorage.getItem("token"),s=await Tt.get("".concat(Lt,"/admin/settings/performance-metrics"),{headers:{Authorization:"Bearer ".concat(e)}});t(s.data)}catch(e){console.error("Error fetching performance metrics:",e)}finally{n(!1)}};if((0,a.useEffect)((()=>{r();const e=setInterval(r,3e4);return()=>clearInterval(e)}),[]),s)return(0,Ot.jsxs)("div",{className:"text-center py-8",children:[(0,Ot.jsx)("div",{className:"loading-spinner-enhanced mx-auto mb-4"}),(0,Ot.jsx)("p",{children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0645\u0642\u0627\u064a\u064a\u0633 \u0627\u0644\u0623\u062f\u0627\u0621..."})]});if(!e||e.error)return(0,Ot.jsxs)("div",{className:"text-center py-8",children:[(0,Ot.jsx)(Ht,{name:"error",size:48,className:"mx-auto mb-4 text-red-500"}),(0,Ot.jsx)("p",{children:"\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0645\u0642\u0627\u064a\u064a\u0633 \u0627\u0644\u0623\u062f\u0627\u0621"}),(0,Ot.jsx)("button",{onClick:r,className:"btn-modern mt-4",children:"\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629"})]});const l=e=>e<50?"text-green-400":e<80?"text-yellow-400":"text-red-400";return(0,Ot.jsxs)("div",{className:"space-y-8",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("h3",{className:"text-2xl font-bold text-gradient flex items-center gap-3",children:[(0,Ot.jsx)(Ht,{name:"performance",size:32}),"\u0645\u0631\u0627\u0642\u0628\u0629 \u0623\u062f\u0627\u0621 \u0627\u0644\u0646\u0638\u0627\u0645"]}),(0,Ot.jsx)("button",{onClick:r,className:"btn-modern bg-blue-500 text-white px-4 py-2 rounded-lg",children:"\ud83d\udd04 \u062a\u062d\u062f\u064a\u062b"})]}),(0,Ot.jsxs)("div",{className:"card-glass p-6",children:[(0,Ot.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0623\u062f\u0627\u0621 \u0627\u0644\u0646\u0638\u0627\u0645"}),(0,Ot.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsxs)("div",{className:"text-3xl font-bold ".concat(l(e.system_performance.cpu_usage_percent)),children:[e.system_performance.cpu_usage_percent,"%"]}),(0,Ot.jsx)("div",{className:"text-sm text-gray-400",children:"\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0645\u0639\u0627\u0644\u062c"})]}),(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsxs)("div",{className:"text-3xl font-bold ".concat(l(e.system_performance.memory_usage_percent)),children:[e.system_performance.memory_usage_percent,"%"]}),(0,Ot.jsx)("div",{className:"text-sm text-gray-400",children:"\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0630\u0627\u0643\u0631\u0629"}),(0,Ot.jsxs)("div",{className:"text-xs text-gray-500",children:[e.system_performance.memory_used_gb,"GB / ",e.system_performance.memory_total_gb,"GB"]})]}),(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsxs)("div",{className:"text-3xl font-bold ".concat(l(e.system_performance.disk_usage_percent)),children:[e.system_performance.disk_usage_percent,"%"]}),(0,Ot.jsx)("div",{className:"text-sm text-gray-400",children:"\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0642\u0631\u0635"}),(0,Ot.jsxs)("div",{className:"text-xs text-gray-500",children:["\u0645\u062a\u0627\u062d: ",e.system_performance.disk_free_gb,"GB"]})]}),(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsxs)("div",{className:"text-3xl font-bold text-blue-400",children:[Math.round(e.application_metrics.uptime_hours),"h"]}),(0,Ot.jsx)("div",{className:"text-sm text-gray-400",children:"\u0648\u0642\u062a \u0627\u0644\u062a\u0634\u063a\u064a\u0644"})]})]})]}),(0,Ot.jsxs)("div",{className:"card-glass p-6",children:[(0,Ot.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0623\u062f\u0627\u0621 \u0642\u0627\u0639\u062f\u0629 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a"}),(0,Ot.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-gradient",children:e.database_performance.collections_count}),(0,Ot.jsx)("div",{className:"text-sm text-gray-400",children:"\u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0627\u062a"})]}),(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsxs)("div",{className:"text-3xl font-bold text-gradient",children:[e.database_performance.data_size_mb,"MB"]}),(0,Ot.jsx)("div",{className:"text-sm text-gray-400",children:"\u062d\u062c\u0645 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a"})]}),(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsxs)("div",{className:"text-3xl font-bold text-gradient",children:[e.database_performance.index_size_mb,"MB"]}),(0,Ot.jsx)("div",{className:"text-sm text-gray-400",children:"\u062d\u062c\u0645 \u0627\u0644\u0641\u0647\u0627\u0631\u0633"})]}),(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsxs)("div",{className:"text-3xl font-bold text-gradient",children:[e.database_performance.storage_size_mb,"MB"]}),(0,Ot.jsx)("div",{className:"text-sm text-gray-400",children:"\u0627\u0644\u062a\u062e\u0632\u064a\u0646 \u0627\u0644\u0643\u0644\u064a"})]})]})]}),(0,Ot.jsxs)("div",{className:"card-glass p-6",children:[(0,Ot.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0645\u0642\u0627\u064a\u064a\u0633 \u0627\u0644\u062a\u0637\u0628\u064a\u0642"}),(0,Ot.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-gradient",children:e.application_metrics.active_users}),(0,Ot.jsx)("div",{className:"text-sm text-gray-400",children:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u0648\u0646 \u0627\u0644\u0646\u0634\u0637\u0648\u0646"})]}),(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-gradient",children:e.application_metrics.visits_today}),(0,Ot.jsx)("div",{className:"text-sm text-gray-400",children:"\u0632\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u064a\u0648\u0645"})]}),(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-green-400",children:"99.9%"}),(0,Ot.jsx)("div",{className:"text-sm text-gray-400",children:"\u0645\u0639\u062f\u0644 \u0627\u0644\u062a\u0648\u0641\u0631"})]})]})]})]})},nn=()=>(0,Ot.jsx)(It,{children:(0,Ot.jsx)(qt,{children:(0,Ot.jsx)(Xt,{children:(0,Ot.jsx)(Bs,{})})})});r.createRoot(document.getElementById("root")).render((0,Ot.jsx)(a.StrictMode,{children:(0,Ot.jsx)(nn,{})}))})();
//# sourceMappingURL=main.68903b0f.js.map