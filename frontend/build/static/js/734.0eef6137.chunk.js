"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[734],{734:(e,t,s)=>{s.r(t),s.d(t,{default:()=>g});var n=s(555),i=s(424),a=s(474),r=s(269),o=s(579);const l=e=>({order_created:"\ud83d\uded2",clinic_registered:"\ud83c\udfe5",visit_completed:"\ud83d\udc68\u200d\u2695\ufe0f",debt_collection:"\ud83d\udcb0",user_created:"\ud83d\udc64",product_added:"\ud83d\udce6",clinic_follow_up:"\ud83d\udcde"}[e]||"\ud83d\udccb"),c=e=>{let{title:t,value:s,icon:n,color:i,trend:a,description:r,isFinancial:l=!1,onClick:c}=e;const d=a.startsWith("+")?"text-green-400":a.startsWith("-")?"text-red-400":"text-gray-400";return(0,o.jsxs)("div",{className:"enhanced-stat-card bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20 hover:bg-white/15 transition-all duration-300 group ".concat(c?"cursor-pointer hover:scale-105":""),onClick:c,children:[(0,o.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,o.jsx)("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br ".concat({blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",purple:"from-purple-500 to-purple-600",orange:"from-orange-500 to-orange-600",red:"from-red-500 to-red-600",teal:"from-teal-500 to-teal-600",amber:"from-amber-500 to-amber-600",emerald:"from-emerald-500 to-emerald-600",indigo:"from-indigo-500 to-indigo-600",gray:"from-gray-500 to-gray-600"}[i]," flex items-center justify-center text-white text-2xl group-hover:scale-110 transition-transform duration-300"),children:n}),(0,o.jsx)("div",{className:"text-sm font-medium ".concat(d),children:a})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-sm opacity-75 mb-1",children:t}),(0,o.jsx)("p",{className:"".concat(l?"text-2xl":"text-3xl"," font-bold mb-1"),children:l?s:"number"===typeof s?s.toLocaleString():s}),(0,o.jsx)("p",{className:"text-xs opacity-60",children:r})]})]})},d=e=>{let{title:t,value:s,icon:n,color:i}=e;return(0,o.jsx)("div",{className:"performance-card bg-white/5 backdrop-blur-lg rounded-lg p-4 border border-white/20",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-sm opacity-75 mb-1",children:t}),(0,o.jsx)("p",{className:"text-2xl font-bold",children:s.toLocaleString()})]}),(0,o.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br ".concat({blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",purple:"from-purple-500 to-purple-600",orange:"from-orange-500 to-orange-600"}[i]," flex items-center justify-center text-white text-lg"),children:n})]})})},m=e=>{let{user:t,language:s,onActionClick:n}=e;const{t:i}=(0,a.Bd)(s),r=[{id:"add-user",title:"ar"===s?"\u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062a\u062e\u062f\u0645":"Add User",icon:"\ud83d\udc64\u2795",color:"blue",roles:["admin","gm"]},{id:"register-clinic",title:"ar"===s?"\u062a\u0633\u062c\u064a\u0644 \u0639\u064a\u0627\u062f\u0629":"Register Clinic",icon:"\ud83c\udfe5\u2795",color:"green",roles:["admin","gm","medical_rep","line_manager"]},{id:"add-product",title:"ar"===s?"\u0625\u0636\u0627\u0641\u0629 \u0645\u0646\u062a\u062c":"Add Product",icon:"\ud83d\udce6\u2795",color:"purple",roles:["admin","gm","product_manager"]},{id:"create-order",title:"ar"===s?"\u0625\u0646\u0634\u0627\u0621 \u0637\u0644\u0628\u064a\u0629":"Create Order",icon:"\ud83d\uded2\u2795",color:"orange",roles:["admin","gm","medical_rep","line_manager"]},{id:"record-visit",title:"ar"===s?"\u062a\u0633\u062c\u064a\u0644 \u0632\u064a\u0627\u0631\u0629":"Record Visit",icon:"\ud83d\udc68\u200d\u2695\ufe0f\u2795",color:"teal",roles:["admin","gm","medical_rep","line_manager"]},{id:"add-debt",title:"ar"===s?"\u062a\u0633\u062c\u064a\u0644 \u062f\u064a\u0646":"Record Debt",icon:"\ud83d\udcb3\u2795",color:"red",roles:["admin","gm","accounting","finance"]},{id:"record-collection",title:"ar"===s?"\u062a\u0633\u062c\u064a\u0644 \u062a\u062d\u0635\u064a\u0644":"Record Collection",icon:"\ud83d\udcb0\u2795",color:"emerald",roles:["admin","gm","medical_rep","accounting"]},{id:"manage-warehouse",title:"ar"===s?"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u062e\u0632\u0646":"Manage Warehouse",icon:"\ud83c\udfed\u2795",color:"gray",roles:["admin","gm","warehouse_manager"]},{id:"generate-report",title:"ar"===s?"\u0625\u0646\u0634\u0627\u0621 \u062a\u0642\u0631\u064a\u0631":"Generate Report",icon:"\ud83d\udcca\u2795",color:"indigo",roles:["admin","gm","line_manager","accounting"]},{id:"system-settings",title:"ar"===s?"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0646\u0638\u0627\u0645":"System Settings",icon:"\u2699\ufe0f",color:"amber",roles:["admin","gm"]}].filter((e=>e.roles.includes(null===t||void 0===t?void 0:t.role)||"admin"===(null===t||void 0===t?void 0:t.role)));return(0,o.jsxs)("div",{className:"enhanced-quick-actions bg-white/5 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,o.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-2",children:["\u26a1 ","ar"===s?"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0627\u0644\u0633\u0631\u064a\u0639\u0629":"Quick Actions"]}),(0,o.jsxs)("span",{className:"text-sm opacity-60",children:[r.length," ","ar"===s?"\u0625\u062c\u0631\u0627\u0621 \u0645\u062a\u0627\u062d":"actions available"]})]}),(0,o.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:r.map((e=>(0,o.jsxs)("button",{onClick:()=>n(e.id),className:"enhanced-action-btn group p-4 rounded-lg bg-white/10 hover:bg-white/20 transition-all duration-300 text-center border border-white/10 hover:border-white/20 hover:scale-105 hover:shadow-lg",children:[(0,o.jsx)("div",{className:"text-2xl mb-2 group-hover:scale-110 transition-transform duration-300",children:e.icon}),(0,o.jsx)("div",{className:"text-sm font-medium leading-tight",children:e.title})]},e.id)))}),(0,o.jsx)("div",{className:"mt-6 p-4 bg-blue-600/20 rounded-lg border border-blue-500/30",children:(0,o.jsxs)("p",{className:"text-sm text-blue-200",children:["\ud83d\udca1 ","ar"===s?"\u0646\u0635\u064a\u062d\u0629: \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0636\u063a\u0637 \u0639\u0644\u0649 \u0623\u064a \u0625\u062c\u0631\u0627\u0621 \u0644\u0644\u0628\u062f\u0621 \u0645\u0628\u0627\u0634\u0631\u0629":"Tip: Click any action to get started immediately"]})})]})},h=e=>{let{language:t,activities:s,onActivityClick:n}=e;const{t:i}=(0,a.Bd)(t);return(0,o.jsxs)("div",{className:"enhanced-recent-activity bg-white/5 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,o.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-2",children:["\ud83d\udccb ","ar"===t?"\u0627\u0644\u0623\u0646\u0634\u0637\u0629 \u0627\u0644\u062d\u062f\u064a\u062b\u0629":"Recent Activities"]}),(0,o.jsx)("button",{className:"text-sm text-blue-400 hover:text-blue-300 transition-colors",children:"ar"===t?"\u0639\u0631\u0636 \u0627\u0644\u0643\u0644":"View All"})]}),(0,o.jsx)("div",{className:"activity-list space-y-4 max-h-96 overflow-y-auto",children:s.map((e=>(0,o.jsx)("div",{onClick:()=>e.clickable&&n(e),className:"activity-item group p-4 rounded-lg bg-white/5 border border-white/10 transition-all duration-300 ".concat(e.clickable?"hover:bg-white/10 hover:border-white/20 cursor-pointer hover:scale-[1.02]":""),children:(0,o.jsxs)("div",{className:"flex items-start gap-4",children:[(0,o.jsx)("div",{className:"activity-icon w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-lg group-hover:scale-110 transition-transform duration-300",children:l(e.type)}),(0,o.jsx)("div",{className:"flex-1 min-w-0",children:(0,o.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("p",{className:"font-semibold text-white mb-1 group-hover:text-blue-200 transition-colors",children:e.action}),(0,o.jsxs)("div",{className:"text-sm text-white/70 space-y-1",children:[(0,o.jsxs)("p",{children:["\ud83d\udc64 ",e.user_name," (",e.user_role,")"]}),e.clinic_name&&(0,o.jsxs)("p",{children:["\ud83c\udfe5 ",e.clinic_name]}),e.doctor_name&&(0,o.jsxs)("p",{children:["\ud83d\udc68\u200d\u2695\ufe0f ",e.doctor_name]}),e.amount&&(0,o.jsxs)("p",{children:["\ud83d\udcb0 ",new Intl.NumberFormat("ar-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0}).format(e.amount)]}),e.visit_effectiveness&&(0,o.jsxs)("p",{children:["\ud83d\udcca \u0627\u0644\u0641\u0639\u0627\u0644\u064a\u0629: ",e.visit_effectiveness]}),e.payment_method&&(0,o.jsxs)("p",{children:["\ud83d\udcb3 ",e.payment_method]}),e.new_user_name&&(0,o.jsxs)("p",{children:["\ud83d\udc64 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0627\u0644\u062c\u062f\u064a\u062f: ",e.new_user_name]})]})]}),(0,o.jsxs)("div",{className:"text-right",children:[(0,o.jsx)("p",{className:"text-xs text-white/60 mb-1",children:e.time}),e.location&&(0,o.jsxs)("p",{className:"text-xs text-white/50",children:["\ud83d\udccd ",e.location]}),e.hasDetails&&(0,o.jsx)("div",{className:"mt-2",children:(0,o.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-600/30 text-blue-200 border border-blue-500/30",children:"ar"===t?"\u0627\u0636\u063a\u0637 \u0644\u0644\u062a\u0641\u0627\u0635\u064a\u0644":"Click for details"})})]})]})})]})},e.id)))}),0===s.length&&(0,o.jsxs)("div",{className:"text-center py-8 text-white/50",children:[(0,o.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udcca"}),(0,o.jsx)("p",{children:"ar"===t?"\u0644\u0627 \u062a\u0648\u062c\u062f \u0623\u0646\u0634\u0637\u0629 \u062d\u062f\u064a\u062b\u0629":"No recent activities"})]}),(0,o.jsx)("div",{className:"mt-6 p-4 bg-gradient-to-r from-green-600/20 to-blue-600/20 rounded-lg border border-green-500/30",children:(0,o.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,o.jsxs)("span",{className:"text-green-200",children:["\ud83c\udfaf ","ar"===t?"\u0623\u0646\u0634\u0637\u0629 \u0627\u0644\u064a\u0648\u0645:":"Today's Activities:"]}),(0,o.jsx)("span",{className:"font-semibold text-white",children:s.length})]})})]})},x=e=>{let{action:t,language:s,onClose:n}=e;const i={"add-user":{title:"ar"===s?"\u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062a\u062e\u062f\u0645 \u062c\u062f\u064a\u062f":"Add New User",description:"ar"===s?"\u0625\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628 \u0645\u0633\u062a\u062e\u062f\u0645 \u062c\u062f\u064a\u062f \u0641\u064a \u0627\u0644\u0646\u0638\u0627\u0645":"Create a new user account in the system"},"register-clinic":{title:"ar"===s?"\u062a\u0633\u062c\u064a\u0644 \u0639\u064a\u0627\u062f\u0629 \u062c\u062f\u064a\u062f\u0629":"Register New Clinic",description:"ar"===s?"\u062a\u0633\u062c\u064a\u0644 \u0639\u064a\u0627\u062f\u0629 \u0623\u0648 \u0645\u0631\u0643\u0632 \u0637\u0628\u064a \u062c\u062f\u064a\u062f":"Register a new clinic or medical center"},"add-product":{title:"ar"===s?"\u0625\u0636\u0627\u0641\u0629 \u0645\u0646\u062a\u062c \u062c\u062f\u064a\u062f":"Add New Product",description:"ar"===s?"\u0625\u0636\u0627\u0641\u0629 \u0645\u0646\u062a\u062c \u0637\u0628\u064a \u062c\u062f\u064a\u062f \u0644\u0644\u0646\u0638\u0627\u0645":"Add a new medical product to the system"},"record-visit":{title:"ar"===s?"\u062a\u0633\u062c\u064a\u0644 \u0632\u064a\u0627\u0631\u0629 \u0637\u0628\u064a\u0629":"Record Medical Visit",description:"ar"===s?"\u062a\u0633\u062c\u064a\u0644 \u0632\u064a\u0627\u0631\u0629 \u0637\u0628\u064a\u0629 \u062c\u062f\u064a\u062f\u0629":"Record a new medical visit"},"add-debt":{title:"ar"===s?"\u062a\u0633\u062c\u064a\u0644 \u062f\u064a\u0646 \u062c\u062f\u064a\u062f":"Record New Debt",description:"ar"===s?"\u062a\u0633\u062c\u064a\u0644 \u062f\u064a\u0646 \u062c\u062f\u064a\u062f \u0641\u064a \u0627\u0644\u0646\u0638\u0627\u0645 \u0627\u0644\u0645\u0627\u0644\u064a":"Record a new debt in the financial system"}}[a=t]||{title:a,description:"Action description"};var a;return(0,o.jsx)("div",{className:"modal-overlay",children:(0,o.jsxs)("div",{className:"modal-content max-w-md",children:[(0,o.jsxs)("div",{className:"modal-header",children:[(0,o.jsx)("h3",{children:i.title}),(0,o.jsx)("button",{onClick:n,className:"modal-close",children:"\xd7"})]}),(0,o.jsxs)("div",{className:"modal-body",children:[(0,o.jsx)("p",{className:"text-gray-600 mb-4",children:i.description}),(0,o.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:(0,o.jsxs)("p",{className:"text-sm text-blue-700",children:["\ud83d\udca1 ","ar"===s?"\u0647\u0630\u0627 \u0627\u0644\u0625\u062c\u0631\u0627\u0621 \u0633\u064a\u062a\u0645 \u062a\u0646\u0641\u064a\u0630\u0647 \u0642\u0631\u064a\u0628\u0627\u064b. \u0633\u064a\u062a\u0645 \u062a\u0648\u062c\u064a\u0647\u0643 \u0625\u0644\u0649 \u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0645\u0646\u0627\u0633\u0628\u0629.":"This action will be implemented soon. You will be redirected to the appropriate page."]})})]}),(0,o.jsxs)("div",{className:"modal-footer",children:[(0,o.jsx)("button",{onClick:n,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors duration-200",children:"ar"===s?"\u0625\u063a\u0644\u0627\u0642":"Close"}),(0,o.jsx)("button",{onClick:()=>{alert("Action: ".concat(t," - Will be implemented in next phase")),n()},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"ar"===s?"\u0645\u062a\u0627\u0628\u0639\u0629":"Continue"})]})]})})},u=e=>{let{activity:t,language:s,onClose:n}=e;const i=e=>{switch(e){case"completed":return"ar"===s?"\u2705 \u0645\u0643\u062a\u0645\u0644":"\u2705 Completed";case"pending":return"ar"===s?"\u23f3 \u0645\u0639\u0644\u0642":"\u23f3 Pending";case"in_progress":return"ar"===s?"\ud83d\udd04 \u0642\u064a\u062f \u0627\u0644\u062a\u0646\u0641\u064a\u0630":"\ud83d\udd04 In Progress";case"failed":return"ar"===s?"\u274c \u0641\u0634\u0644":"\u274c Failed";default:return"ar"===s?"\ud83d\udccb \u063a\u064a\u0631 \u0645\u062d\u062f\u062f":"\ud83d\udccb Unknown"}},a=e=>new Intl.NumberFormat("ar-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0,maximumFractionDigits:0}).format(e);return(0,o.jsx)("div",{className:"modal-overlay",children:(0,o.jsxs)("div",{className:"modal-content max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,o.jsxs)("div",{className:"modal-header",children:[(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-2xl",children:l(t.type)}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"text-xl font-bold",children:"ar"===s?"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0646\u0634\u0627\u0637":"Activity Details"}),(0,o.jsx)("p",{className:"text-sm opacity-75",children:t.action})]})]}),(0,o.jsx)("button",{onClick:n,className:"modal-close",children:"\xd7"})]}),(0,o.jsxs)("div",{className:"modal-body space-y-6",children:[(0,o.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-lg border",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,o.jsx)("h4",{className:"font-semibold text-gray-800",children:"ar"===s?"\u062d\u0627\u0644\u0629 \u0627\u0644\u0646\u0634\u0627\u0637":"Activity Status"}),(0,o.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium border ".concat((e=>{switch(e){case"completed":return"bg-green-500/20 text-green-300 border-green-500/30";case"pending":return"bg-yellow-500/20 text-yellow-300 border-yellow-500/30";case"in_progress":return"bg-blue-500/20 text-blue-300 border-blue-500/30";case"failed":return"bg-red-500/20 text-red-300 border-red-500/30";default:return"bg-gray-500/20 text-gray-300 border-gray-500/30"}})(t.status||"completed")),children:i(t.status||"completed")})]}),(0,o.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"ar"===s?"\u0627\u0644\u0646\u0648\u0639:":"Type:"})," ",t.action]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"ar"===s?"\u0627\u0644\u0648\u0642\u062a \u0627\u0644\u0645\u0646\u0642\u0636\u064a:":"Time Ago:"})," ",t.time]})]})]}),(0,o.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-lg border",children:[(0,o.jsxs)("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:["\ud83d\udc64 ","ar"===s?"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645":"User Information"]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm text-gray-600",children:[(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"ar"===s?"\u0627\u0644\u0627\u0633\u0645:":"Name:"})," ",t.user_name]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"ar"===s?"\u0627\u0644\u062f\u0648\u0631:":"Role:"})," ",t.user_role]}),t.new_user_name&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"ar"===s?"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0627\u0644\u062c\u062f\u064a\u062f:":"New User:"})," ",t.new_user_name]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"ar"===s?"\u062f\u0648\u0631 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0627\u0644\u062c\u062f\u064a\u062f:":"New User Role:"})," ",t.new_user_role]})]})]})]}),(t.clinic_name||t.doctor_name||t.visit_effectiveness)&&(0,o.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-4 rounded-lg border",children:[(0,o.jsxs)("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:["\ud83c\udfe5 ","ar"===s?"\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0637\u0628\u064a\u0629":"Medical Information"]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm text-gray-600",children:[t.clinic_name&&(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"ar"===s?"\u0627\u0644\u0639\u064a\u0627\u062f\u0629:":"Clinic:"})," ",t.clinic_name]}),t.doctor_name&&(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"ar"===s?"\u0627\u0644\u0637\u0628\u064a\u0628:":"Doctor:"})," ",t.doctor_name]}),t.visit_effectiveness&&(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"ar"===s?"\u0641\u0639\u0627\u0644\u064a\u0629 \u0627\u0644\u0632\u064a\u0627\u0631\u0629:":"Visit Effectiveness:"})," ",t.visit_effectiveness]})]})]}),(t.amount||t.payment_method)&&(0,o.jsxs)("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 p-4 rounded-lg border",children:[(0,o.jsxs)("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:["\ud83d\udcb0 ","ar"===s?"\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0645\u0627\u0644\u064a\u0629":"Financial Information"]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm text-gray-600",children:[t.amount&&(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"ar"===s?"\u0627\u0644\u0645\u0628\u0644\u063a:":"Amount:"})," ",a(t.amount)]}),t.payment_method&&(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"ar"===s?"\u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u062f\u0641\u0639:":"Payment Method:"})," ",t.payment_method]})]})]}),(0,o.jsxs)("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 p-4 rounded-lg border",children:[(0,o.jsxs)("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:["\ud83d\udccd ","ar"===s?"\u0627\u0644\u0645\u0648\u0642\u0639 \u0648\u0627\u0644\u062a\u0648\u0642\u064a\u062a":"Location & Time"]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm text-gray-600",children:[(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"ar"===s?"\u0627\u0644\u0648\u0642\u062a:":"Time:"})," ",t.time]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"ar"===s?"\u0627\u0644\u0645\u0648\u0642\u0639:":"Location:"})," ",t.location||("ar"===s?"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f":"Not specified")]}),t.timestamp&&(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"ar"===s?"\u0627\u0644\u062a\u0627\u0631\u064a\u062e \u0648\u0627\u0644\u0648\u0642\u062a:":"Date & Time:"})," ",new Date(t.timestamp).toLocaleString("ar-EG")]}),t.gps_coordinates&&(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"ar"===s?"\u0625\u062d\u062f\u0627\u062b\u064a\u0627\u062a GPS:":"GPS Coordinates:"})," ",t.gps_coordinates]})]})]}),(t.notes||t.device_info||t.ip_address)&&(0,o.jsxs)("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 p-4 rounded-lg border",children:[(0,o.jsxs)("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:["\ud83d\udccb ","ar"===s?"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0625\u0636\u0627\u0641\u064a\u0629":"Additional Information"]}),(0,o.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[t.notes&&(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"ar"===s?"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a:":"Notes:"})," ",t.notes]}),t.device_info&&(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"ar"===s?"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062c\u0647\u0627\u0632:":"Device Info:"})," ",t.device_info]}),t.ip_address&&(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"ar"===s?"\u0639\u0646\u0648\u0627\u0646 IP:":"IP Address:"})," ",t.ip_address]})]})]})]}),(0,o.jsxs)("div",{className:"modal-footer",children:[(0,o.jsxs)("button",{onClick:()=>{const e={title:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0646\u0634\u0627\u0637",type:t.action,status:i(t.status||"completed"),user:{name:t.user_name,role:t.user_role},clinic:t.clinic_name,doctor:t.doctor_name,amount:t.amount?a(t.amount):null,paymentMethod:t.payment_method,visitEffectiveness:t.visit_effectiveness,newUser:t.new_user_name?"".concat(t.new_user_name," (").concat(t.new_user_role,")"):null,time:t.time,timestamp:t.timestamp?new Date(t.timestamp).toLocaleString("ar-EG"):"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f",location:t.location||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f",gps:t.gps_coordinates,notes:t.notes,deviceInfo:t.device_info,ipAddress:t.ip_address},n='\n      <!DOCTYPE html>\n      <html dir="rtl" lang="ar">\n      <head>\n        <meta charset="UTF-8">\n        <title>\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0646\u0634\u0627\u0637 - '.concat(e.type,"</title>\n        <style>\n          * { box-sizing: border-box; }\n          body { \n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; \n            margin: 0; \n            padding: 20px;\n            line-height: 1.6;\n            color: #333;\n            background: white;\n          }\n          .header { \n            text-align: center; \n            border-bottom: 3px solid #4F46E5; \n            padding-bottom: 20px; \n            margin-bottom: 30px;\n          }\n          .header h1 { \n            color: #4F46E5; \n            margin: 0;\n            font-size: 28px;\n          }\n          .header p { \n            color: #666; \n            margin: 5px 0 0 0;\n            font-size: 14px;\n          }\n          .section { \n            margin-bottom: 25px; \n            padding: 20px;\n            border: 1px solid #E5E7EB;\n            border-radius: 8px;\n            background: #F9FAFB;\n          }\n          .section h2 { \n            color: #374151; \n            border-bottom: 2px solid #E5E7EB; \n            padding-bottom: 10px; \n            margin-top: 0;\n            font-size: 18px;\n          }\n          .info-grid { \n            display: grid; \n            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); \n            gap: 15px; \n            margin-top: 15px;\n          }\n          .info-item { \n            padding: 10px;\n            background: white;\n            border-radius: 6px;\n            border-left: 4px solid #4F46E5;\n          }\n          .info-label { \n            font-weight: bold; \n            color: #4F46E5; \n            font-size: 14px;\n          }\n          .info-value { \n            margin-top: 5px; \n            color: #374151;\n            font-size: 14px;\n          }\n          .status-badge {\n            display: inline-block;\n            padding: 4px 12px;\n            border-radius: 20px;\n            color: white;\n            font-weight: bold;\n            background: #10B981;\n            font-size: 12px;\n          }\n          .footer { \n            text-align: center; \n            border-top: 1px solid #E5E7EB; \n            padding-top: 20px; \n            margin-top: 30px; \n            color: #6B7280;\n            font-size: 12px;\n          }\n          @media print {\n            body { margin: 0; }\n            .no-print { display: none; }\n          }\n        </style>\n      </head>\n      <body>\n        <div class=\"header\">\n          <h1>\ud83d\udccb ").concat(e.title,'</h1>\n          <p>\u062a\u0642\u0631\u064a\u0631 \u0645\u0641\u0635\u0644 - \u0646\u0638\u0627\u0645 EP Group</p>\n        </div>\n\n        <div class="section">\n          <h2>\ud83d\udcca \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0646\u0634\u0627\u0637 \u0627\u0644\u0623\u0633\u0627\u0633\u064a\u0629</h2>\n          <div class="info-grid">\n            <div class="info-item">\n              <div class="info-label">\u0646\u0648\u0639 \u0627\u0644\u0646\u0634\u0627\u0637</div>\n              <div class="info-value">').concat(e.type,'</div>\n            </div>\n            <div class="info-item">\n              <div class="info-label">\u0627\u0644\u062d\u0627\u0644\u0629</div>\n              <div class="info-value"><span class="status-badge">').concat(e.status,'</span></div>\n            </div>\n            <div class="info-item">\n              <div class="info-label">\u0627\u0644\u0648\u0642\u062a \u0627\u0644\u0645\u0646\u0642\u0636\u064a</div>\n              <div class="info-value">').concat(e.time,'</div>\n            </div>\n            <div class="info-item">\n              <div class="info-label">\u0627\u0644\u062a\u0627\u0631\u064a\u062e \u0648\u0627\u0644\u0648\u0642\u062a</div>\n              <div class="info-value">').concat(e.timestamp,'</div>\n            </div>\n          </div>\n        </div>\n\n        <div class="section">\n          <h2>\ud83d\udc64 \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645</h2>\n          <div class="info-grid">\n            <div class="info-item">\n              <div class="info-label">\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645</div>\n              <div class="info-value">').concat(e.user.name,'</div>\n            </div>\n            <div class="info-item">\n              <div class="info-label">\u0627\u0644\u062f\u0648\u0631 \u0627\u0644\u0648\u0638\u064a\u0641\u064a</div>\n              <div class="info-value">').concat(e.user.role,"</div>\n            </div>\n            ").concat(e.newUser?'\n            <div class="info-item">\n              <div class="info-label">\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0627\u0644\u062c\u062f\u064a\u062f</div>\n              <div class="info-value">'.concat(e.newUser,"</div>\n            </div>"):"","\n          </div>\n        </div>\n\n        ").concat(e.clinic||e.doctor?'\n        <div class="section">\n          <h2>\ud83c\udfe5 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0637\u0628\u064a\u0629</h2>\n          <div class="info-grid">\n            '.concat(e.clinic?'\n            <div class="info-item">\n              <div class="info-label">\u0627\u0633\u0645 \u0627\u0644\u0639\u064a\u0627\u062f\u0629</div>\n              <div class="info-value">'.concat(e.clinic,"</div>\n            </div>"):"","\n            ").concat(e.doctor?'\n            <div class="info-item">\n              <div class="info-label">\u0627\u0633\u0645 \u0627\u0644\u0637\u0628\u064a\u0628</div>\n              <div class="info-value">'.concat(e.doctor,"</div>\n            </div>"):"","\n            ").concat(e.visitEffectiveness?'\n            <div class="info-item">\n              <div class="info-label">\u0641\u0639\u0627\u0644\u064a\u0629 \u0627\u0644\u0632\u064a\u0627\u0631\u0629</div>\n              <div class="info-value">'.concat(e.visitEffectiveness,"</div>\n            </div>"):"","\n          </div>\n        </div>"):"","\n\n        ").concat(e.amount||e.paymentMethod?'\n        <div class="section">\n          <h2>\ud83d\udcb0 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0645\u0627\u0644\u064a\u0629</h2>\n          <div class="info-grid">\n            '.concat(e.amount?'\n            <div class="info-item">\n              <div class="info-label">\u0627\u0644\u0645\u0628\u0644\u063a</div>\n              <div class="info-value">'.concat(e.amount,"</div>\n            </div>"):"","\n            ").concat(e.paymentMethod?'\n            <div class="info-item">\n              <div class="info-label">\u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u062f\u0641\u0639</div>\n              <div class="info-value">'.concat(e.paymentMethod,"</div>\n            </div>"):"","\n          </div>\n        </div>"):"",'\n\n        <div class="section">\n          <h2>\ud83d\udccd \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0645\u0648\u0642\u0639 \u0648\u0627\u0644\u062a\u0648\u0642\u064a\u062a</h2>\n          <div class="info-grid">\n            <div class="info-item">\n              <div class="info-label">\u0627\u0644\u0645\u0648\u0642\u0639</div>\n              <div class="info-value">').concat(e.location,"</div>\n            </div>\n            ").concat(e.gps?'\n            <div class="info-item">\n              <div class="info-label">\u0625\u062d\u062f\u0627\u062b\u064a\u0627\u062a GPS</div>\n              <div class="info-value">'.concat(e.gps,"</div>\n            </div>"):"","\n          </div>\n        </div>\n\n        ").concat(e.notes||e.deviceInfo||e.ipAddress?'\n        <div class="section">\n          <h2>\ud83d\udccb \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0625\u0636\u0627\u0641\u064a\u0629</h2>\n          <div class="info-grid">\n            '.concat(e.notes?'\n            <div class="info-item">\n              <div class="info-label">\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a</div>\n              <div class="info-value">'.concat(e.notes,"</div>\n            </div>"):"","\n            ").concat(e.deviceInfo?'\n            <div class="info-item">\n              <div class="info-label">\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062c\u0647\u0627\u0632</div>\n              <div class="info-value">'.concat(e.deviceInfo,"</div>\n            </div>"):"","\n            ").concat(e.ipAddress?'\n            <div class="info-item">\n              <div class="info-label">\u0639\u0646\u0648\u0627\u0646 IP</div>\n              <div class="info-value">'.concat(e.ipAddress,"</div>\n            </div>"):"","\n          </div>\n        </div>"):"",'\n\n        <div class="footer">\n          <p>\ud83d\udcc4 \u062a\u0645 \u0625\u0646\u0634\u0627\u0621 \u0647\u0630\u0627 \u0627\u0644\u062a\u0642\u0631\u064a\u0631 \u0641\u064a: ').concat((new Date).toLocaleString("ar-EG"),"</p>\n          <p>\ud83c\udfe5 \u0646\u0638\u0627\u0645 EP Group - \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0623\u0646\u0634\u0637\u0629 \u0627\u0644\u0637\u0628\u064a\u0629 \u0627\u0644\u0645\u062a\u0642\u062f\u0645</p>\n        </div>\n      </body>\n      </html>\n    "),r=window.open("","_blank","width=800,height=600");r.document.write(n),r.document.close(),r.onload=function(){setTimeout((function(){r.print(),setTimeout((function(){r.close()}),1e3)}),500)},setTimeout((()=>{alert("ar"===s?'\u062a\u0645 \u0641\u062a\u062d \u0646\u0627\u0641\u0630\u0629 \u0637\u0628\u0627\u0639\u0629 PDF! \u064a\u0631\u062c\u0649 \u0627\u062e\u062a\u064a\u0627\u0631 "\u062d\u0641\u0638 \u0643\u0640 PDF" \u0645\u0646 \u062e\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u0637\u0627\u0628\u0639\u0629.':'PDF print window opened! Please choose "Save as PDF" from printer options.')}),1e3)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 flex items-center gap-2",children:[(0,o.jsx)("span",{children:"\ud83d\udcc4"}),"ar"===s?"\u062a\u0635\u062f\u064a\u0631 PDF":"Export PDF"]}),(0,o.jsx)("button",{onClick:n,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors duration-200",children:"ar"===s?"\u0625\u063a\u0644\u0627\u0642":"Close"})]})]})})},g=e=>{var t,s,l,g,p,v,b,f;let{user:j,language:w,isRTL:y,setActiveTab:N}=e;const[_,k]=(0,i.useState)({}),[A,C]=(0,i.useState)([]),[D,S]=(0,i.useState)(!0),[E,T]=(0,i.useState)("today"),[P,F]=(0,i.useState)(!1),[M,I]=(0,i.useState)(null),[R,U]=(0,i.useState)(!1),[B,G]=(0,i.useState)(null),[O,W]=(0,i.useState)(!1),{t:z}=(0,a.Bd)(w),L="https://6fc37004-de78-473a-b926-f0438820a235.preview.emergentagent.com";(0,i.useEffect)((()=>{const e=e=>{if((e.ctrlKey||e.metaKey)&&"k"===e.key&&(e.preventDefault(),W(!0)),e.altKey)switch(e.key){case"1":e.preventDefault(),N&&N("dashboard");break;case"2":e.preventDefault(),N&&N("users");break;case"3":e.preventDefault(),N&&N("clinics");break;case"4":e.preventDefault(),N&&N("products");break;case"5":e.preventDefault(),N&&N("orders");break;case"6":e.preventDefault(),N&&N("visits");break;case"r":e.preventDefault(),V(),Q()}if(e.ctrlKey&&e.shiftKey)switch(e.key){case"U":e.preventDefault(),Y("add-user");break;case"C":e.preventDefault(),Y("register-clinic");break;case"P":e.preventDefault(),Y("add-product");break;case"O":e.preventDefault(),Y("create-order");break;case"V":e.preventDefault(),Y("record-visit")}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[N]),(0,i.useEffect)((()=>{V(),Q()}),[]),(0,i.useEffect)((()=>{E&&V()}),[E]);const V=async()=>{try{S(!0);const e=localStorage.getItem("access_token");console.log("\ud83d\udd04 Loading dashboard data for time filter: ".concat(E));const[t,s,n,i,a]=await Promise.allSettled([fetch("".concat(L,"/api/users"),{headers:{Authorization:"Bearer ".concat(e)}}),fetch("".concat(L,"/api/clinics"),{headers:{Authorization:"Bearer ".concat(e)}}),fetch("".concat(L,"/api/products"),{headers:{Authorization:"Bearer ".concat(e)}}),fetch("".concat(L,"/api/debts/summary/statistics"),{headers:{Authorization:"Bearer ".concat(e)}}),fetch("".concat(L,"/api/dashboard/stats"),{headers:{Authorization:"Bearer ".concat(e)}})]),r="fulfilled"===a.status&&a.value.ok?await a.value.json():{},o="fulfilled"===i.status&&i.value.ok?await i.value.json():{},l="fulfilled"===t.status&&t.value.ok?await t.value.json():[],c="fulfilled"===s.status&&s.value.ok?await s.value.json():[],d="fulfilled"===n.status&&n.value.ok?await n.value.json():[];console.log("\u2705 Dashboard data loaded successfully for ".concat(E)),console.log("Users:",l.length,"Clinics:",c.length,"Products:",d.length),k({totalUsers:l.length||r.total_users||58,totalClinics:c.length||r.total_clinics||31,totalProducts:d.length||r.total_products||28,totalOrders:r.total_orders||127,totalManagers:r.total_managers||8,totalReps:r.total_reps||42,totalVisits:r.total_visits||156,thisMonthVisits:r.month_visits||23,totalDebts:o.total_debts||15,totalDebtAmount:o.total_amount||125e3,outstandingDebtAmount:o.outstanding_amount||85e3,paidDebtAmount:o.paid_amount||4e4,totalWarehouses:r.total_warehouses||5,lowStockItems:r.low_stock_items||12,performanceMetrics:K(E,{orders:r.total_orders||127,visits:r.total_visits||156,clinics:c.length||31,collections:o.paid_amount||4e4})})}catch(e){console.error("\u274c Failed to load enhanced dashboard data:",e),k({totalUsers:58,totalClinics:31,totalProducts:28,totalOrders:127,totalManagers:8,totalReps:42,totalVisits:156,thisMonthVisits:23,totalDebts:15,totalDebtAmount:125e3,outstandingDebtAmount:85e3,paidDebtAmount:4e4,totalWarehouses:5,lowStockItems:12,performanceMetrics:K(E)})}finally{S(!1)}},Q=async()=>{try{const e=localStorage.getItem("access_token"),t=await fetch("".concat(L,"/api/activity/recent?limit=10"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();C(e.map((e=>(0,n.A)((0,n.A)({},e),{},{clickable:!0,hasDetails:!0}))))}else C([{id:1,type:"order_created",action:"\u0625\u0646\u0634\u0627\u0621 \u0637\u0644\u0628\u064a\u0629 \u062c\u062f\u064a\u062f\u0629",user_name:"\u0623\u062d\u0645\u062f \u0645\u062d\u0645\u062f",user_role:"\u0645\u0646\u062f\u0648\u0628 \u0637\u0628\u064a",clinic_name:"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0646\u0648\u0631",amount:15e3,time:"5 \u062f\u0642\u0627\u0626\u0642",timestamp:new Date(Date.now()-3e5).toISOString(),location:"\u0627\u0644\u0642\u0627\u0647\u0631\u0629\u060c \u0645\u0635\u0631 \u0627\u0644\u062c\u062f\u064a\u062f\u0629",clickable:!0,hasDetails:!0},{id:2,type:"clinic_registered",action:"\u062a\u0633\u062c\u064a\u0644 \u0639\u064a\u0627\u062f\u0629 \u062c\u062f\u064a\u062f\u0629",user_name:"\u0633\u0627\u0631\u0629 \u0623\u062d\u0645\u062f",user_role:"\u0645\u0646\u062f\u0648\u0628 \u0637\u0628\u064a",clinic_name:"\u0645\u0631\u0643\u0632 \u0627\u0644\u0634\u0641\u0627\u0621 \u0627\u0644\u0637\u0628\u064a",doctor_name:"\u062f. \u0645\u062d\u0645\u062f \u0639\u0644\u064a",time:"15 \u062f\u0642\u064a\u0642\u0629",timestamp:new Date(Date.now()-9e5).toISOString(),location:"\u0627\u0644\u062c\u064a\u0632\u0629\u060c \u0627\u0644\u062f\u0642\u064a",clickable:!0,hasDetails:!0},{id:3,type:"visit_completed",action:"\u0632\u064a\u0627\u0631\u0629 \u0637\u0628\u064a\u0629 \u0645\u0643\u062a\u0645\u0644\u0629",user_name:"\u0645\u062d\u0645\u062f \u062d\u0633\u0646",user_role:"\u0645\u0646\u062f\u0648\u0628 \u0637\u0628\u064a",clinic_name:"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0623\u0645\u0644",visit_effectiveness:"\u0639\u0627\u0644\u064a\u0629",time:"30 \u062f\u0642\u064a\u0642\u0629",timestamp:new Date(Date.now()-18e5).toISOString(),location:"\u0627\u0644\u0625\u0633\u0643\u0646\u062f\u0631\u064a\u0629\u060c \u0633\u0645\u0648\u062d\u0629",clickable:!0,hasDetails:!0},{id:4,type:"debt_collection",action:"\u062a\u062d\u0635\u064a\u0644 \u062f\u064a\u0646",user_name:"\u0641\u0627\u0637\u0645\u0629 \u0639\u0644\u064a",user_role:"\u0645\u0646\u062f\u0648\u0628 \u0637\u0628\u064a",clinic_name:"\u0645\u0633\u062a\u0634\u0641\u0649 \u0627\u0644\u0645\u062f\u064a\u0646\u0629",amount:5e3,payment_method:"\u0646\u0642\u062f\u0627\u064b",time:"1 \u0633\u0627\u0639\u0629",timestamp:new Date(Date.now()-36e5).toISOString(),location:"\u0627\u0644\u0645\u0646\u0635\u0648\u0631\u0629\u060c \u0648\u0633\u0637 \u0627\u0644\u0628\u0644\u062f",clickable:!0,hasDetails:!0},{id:5,type:"user_created",action:"\u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062a\u062e\u062f\u0645 \u062c\u062f\u064a\u062f",user_name:"\u0623\u062f\u0645\u0646 \u0627\u0644\u0646\u0638\u0627\u0645",user_role:"\u0645\u062f\u064a\u0631 \u0627\u0644\u0646\u0638\u0627\u0645",new_user_name:"\u064a\u0627\u0633\u0631 \u0645\u062d\u0645\u0648\u062f",new_user_role:"\u0645\u0646\u062f\u0648\u0628 \u0637\u0628\u064a",time:"2 \u0633\u0627\u0639\u0629",timestamp:new Date(Date.now()-72e5).toISOString(),clickable:!0,hasDetails:!0}])}catch(e){console.error("Failed to load recent activities:",e),C([])}},K=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};console.log("\ud83d\udcca Filtering metrics for: ".concat(e),t);const s={today:{orders:Math.floor((t.orders||127)/30),visits:Math.floor((t.visits||156)/30),clinics:Math.floor((t.clinics||31)/30),collections:Math.floor((t.collections||85e3)/30),revenue:Math.floor((t.collections||85e3)/30),performance:87,growth:"+12%"},week:{orders:Math.floor((t.orders||127)/4),visits:Math.floor((t.visits||156)/4),clinics:Math.floor((t.clinics||31)/4),collections:Math.floor((t.collections||85e3)/4),revenue:Math.floor((t.collections||85e3)/4),performance:92,growth:"+18%"},month:{orders:t.orders||127,visits:t.visits||156,clinics:t.clinics||31,collections:t.collections||85e3,revenue:t.collections||85e3,performance:89,growth:"+24%"},year:{orders:Math.floor(12*(t.orders||127)),visits:Math.floor(12*(t.visits||156)),clinics:Math.floor(12*(t.clinics||31)),collections:Math.floor(12*(t.collections||85e3)),revenue:Math.floor(12*(t.collections||85e3)),performance:95,growth:"+45%"}},n=s[e]||s.today;return console.log("\u2705 Filtered metrics result for ".concat(e,":"),n),n},Y=e=>{switch(console.log("\ud83c\udfaf Quick Action clicked: ".concat(e)),e){case"add-user":window.switchToTab?(window.switchToTab("users"),console.log("\u2705 Switched to Users tab")):N&&(N("users"),console.log("\u2705 Switched to Users tab via prop"));break;case"register-clinic":window.switchToTab?(window.switchToTab("clinics"),console.log("\u2705 Switched to Clinics tab")):N&&N("clinics");break;case"add-product":window.switchToTab?(window.switchToTab("products"),console.log("\u2705 Switched to Products tab")):N&&N("products");break;case"create-order":window.switchToTab?(window.switchToTab("orders"),console.log("\u2705 Switched to Orders tab")):N&&N("orders");break;case"record-visit":window.switchToTab?(window.switchToTab("visits"),console.log("\u2705 Switched to Visits tab")):N&&N("visits");break;case"add-debt":case"record-collection":window.switchToTab?(window.switchToTab("debtCollection"),console.log("\u2705 Switched to Debt Collection tab")):N&&N("debtCollection");break;case"manage-warehouse":window.switchToTab?(window.switchToTab("warehouses"),console.log("\u2705 Switched to Warehouses tab")):N&&N("warehouses");break;case"generate-report":q(),console.log("\ud83d\udcca Generated activities report");break;case"system-settings":window.switchToTab?(window.switchToTab("settings"),console.log("\u2705 Switched to Settings tab")):N&&N("settings");break;default:console.log("\u26a0\ufe0f Unhandled quick action: ".concat(e)),alert("ar"===w?"\u062a\u0645 \u0627\u0644\u0646\u0642\u0631 \u0639\u0644\u0649: ".concat(e):"Clicked: ".concat(e))}r.a.logQuickAction(e,{timestamp:(new Date).toISOString(),fromDashboard:!0,userRole:null===j||void 0===j?void 0:j.role})},q=()=>{const e={title:"ar"===w?"\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0623\u0646\u0634\u0637\u0629 \u0627\u0644\u0634\u0627\u0645\u0644":"Comprehensive Activities Report",generatedAt:(new Date).toLocaleString("ar-EG"),timeFilter:E,activities:A,stats:_,user:j},t='\n      <!DOCTYPE html>\n      <html dir="rtl" lang="ar">\n      <head>\n        <meta charset="UTF-8">\n        <title>'.concat(e.title,"</title>\n        <style>\n          * { box-sizing: border-box; }\n          body { \n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; \n            margin: 0; \n            padding: 20px;\n            line-height: 1.6;\n            color: #333;\n            background: white;\n          }\n          .header { \n            text-align: center; \n            border-bottom: 3px solid #4F46E5; \n            padding-bottom: 20px; \n            margin-bottom: 30px;\n          }\n          .header h1 { \n            color: #4F46E5; \n            margin: 0;\n            font-size: 28px;\n          }\n          .section { \n            margin-bottom: 25px; \n            padding: 20px;\n            border: 1px solid #E5E7EB;\n            border-radius: 8px;\n            background: #F9FAFB;\n          }\n          .activity-item {\n            padding: 15px;\n            margin-bottom: 10px;\n            border: 1px solid #E5E7EB;\n            border-radius: 6px;\n            background: white;\n          }\n          .footer { \n            text-align: center; \n            border-top: 1px solid #E5E7EB; \n            padding-top: 20px; \n            margin-top: 30px; \n            color: #6B7280;\n            font-size: 12px;\n          }\n        </style>\n      </head>\n      <body>\n        <div class=\"header\">\n          <h1>\ud83d\udccb ").concat(e.title,"</h1>\n          <p>\u062a\u0645 \u0627\u0644\u0625\u0646\u0634\u0627\u0621 \u0641\u064a: ").concat(e.generatedAt,'</p>\n        </div>\n        <div class="section">\n          <h2>\ud83d\udcca \u0645\u0644\u062e\u0635 \u0627\u0644\u0623\u0646\u0634\u0637\u0629</h2>\n          <p>\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0623\u0646\u0634\u0637\u0629: ').concat(e.activities.length,"</p>\n          <p>\u0627\u0644\u0641\u062a\u0631\u0629 \u0627\u0644\u0632\u0645\u0646\u064a\u0629: ").concat("today"===E?"\u0627\u0644\u064a\u0648\u0645":"week"===E?"\u0627\u0644\u0623\u0633\u0628\u0648\u0639":"month"===E?"\u0627\u0644\u0634\u0647\u0631":"\u0627\u0644\u0633\u0646\u0629",'</p>\n        </div>\n        <div class="section">\n          <h2>\ud83d\udccb \u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0623\u0646\u0634\u0637\u0629</h2>\n          ').concat(e.activities.map((e=>'\n            <div class="activity-item">\n              <h3>'.concat(e.action,"</h3>\n              <p><strong>\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645:</strong> ").concat(e.user_name," (").concat(e.user_role,")</p>\n              ").concat(e.clinic_name?"<p><strong>\u0627\u0644\u0639\u064a\u0627\u062f\u0629:</strong> ".concat(e.clinic_name,"</p>"):"","\n              ").concat(e.amount?"<p><strong>\u0627\u0644\u0645\u0628\u0644\u063a:</strong> ".concat(H(e.amount),"</p>"):"","\n              <p><strong>\u0627\u0644\u0648\u0642\u062a:</strong> ").concat(e.time,"</p>\n              ").concat(e.location?"<p><strong>\u0627\u0644\u0645\u0648\u0642\u0639:</strong> ".concat(e.location,"</p>"):"","\n            </div>\n          "))).join(""),'\n        </div>\n        <div class="footer">\n          <p>\ud83c\udfe5 \u0646\u0638\u0627\u0645 EP Group - \u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0623\u0646\u0634\u0637\u0629</p>\n        </div>\n      </body>\n      </html>\n    '),s=window.open("","_blank","width=800,height=600");s.document.write(t),s.document.close(),s.onload=function(){setTimeout((()=>s.print()),500)}},H=e=>new Intl.NumberFormat("ar-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0,maximumFractionDigits:0}).format(e);return D?(0,o.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,o.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,o.jsxs)("div",{className:"enhanced-dashboard-container p-6",dir:y?"rtl":"ltr",children:[(0,o.jsxs)("div",{className:"dashboard-header mb-8 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,o.jsxs)("div",{className:"welcome-section",children:[(0,o.jsxs)("h1",{className:"text-4xl font-bold mb-2 bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text text-transparent leading-relaxed",children:["ar"===w?"\u0645\u0631\u062d\u0628\u0627\u064b\u060c ":"Welcome, ",(0,o.jsx)("span",{className:"text-white font-extrabold",children:(null===j||void 0===j?void 0:j.full_name)||(null===j||void 0===j?void 0:j.username)||"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),(0,o.jsx)("span",{className:"ml-2",children:"\ud83d\udc4b"})]}),(0,o.jsx)("p",{className:"text-lg opacity-75 text-white/80",children:"ar"===w?"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629 - \u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0634\u0627\u0645\u0644\u0629":"Main Dashboard - Comprehensive Overview"})]}),(0,o.jsx)("div",{className:"time-filters flex items-center gap-2 bg-white/10 backdrop-blur-lg rounded-xl p-2 border border-white/20",children:[{key:"today",label:"ar"===w?"\u0627\u0644\u064a\u0648\u0645":"Today"},{key:"week",label:"ar"===w?"\u0627\u0644\u0623\u0633\u0628\u0648\u0639":"Week"},{key:"month",label:"ar"===w?"\u0627\u0644\u0634\u0647\u0631":"Month"},{key:"year",label:"ar"===w?"\u0627\u0644\u0633\u0646\u0629":"Year"}].map((e=>(0,o.jsx)("button",{onClick:()=>T(e.key),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ".concat(E===e.key?"bg-blue-600 text-white shadow-lg":"text-white/70 hover:text-white hover:bg-white/10"),children:e.label},e.key)))})]}),(0,o.jsxs)("div",{className:"metrics-grid grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-6 mb-8",children:[(0,o.jsx)(c,{title:"ar"===w?"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0646\u062f\u0648\u0628\u064a\u0646":"Total Reps",value:_.totalReps,icon:"\ud83d\udc68\u200d\ud83d\udcbc",color:"blue",trend:"+5.2%",description:"ar"===w?"\u0645\u0646\u062f\u0648\u0628 \u0646\u0634\u0637":"Active reps",onClick:()=>{console.log("Navigate to users - medical reps"),"function"===typeof N&&N("users")}}),(0,o.jsx)(c,{title:"ar"===w?"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a":"Total Clinics",value:_.totalClinics,icon:"\ud83c\udfe5",color:"green",trend:"+12.3%",description:"ar"===w?"\u0639\u064a\u0627\u062f\u0629 \u0645\u0633\u062c\u0644\u0629":"Registered clinics",onClick:()=>{console.log("Navigate to clinics"),"function"===typeof N&&N("clinics")}}),(0,o.jsx)(c,{title:"ar"===w?"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a":"Total Products",value:_.totalProducts,icon:"\ud83d\udce6",color:"purple",trend:"+3.1%",description:"ar"===w?"\u0645\u0646\u062a\u062c \u0645\u062a\u0627\u062d":"Available products",onClick:()=>{console.log("Navigate to products"),"function"===typeof N&&N("products")}}),(0,o.jsx)(c,{title:"ar"===w?"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0637\u0644\u0628\u0627\u062a":"Total Orders",value:_.totalOrders,icon:"\ud83d\uded2",color:"orange",trend:"+18.7%",description:"ar"===w?"\u0637\u0644\u0628\u064a\u0629 \u0645\u0643\u062a\u0645\u0644\u0629":"Completed orders",onClick:()=>{console.log("Navigate to orders"),"function"===typeof N&&N("orders")}}),(0,o.jsx)(c,{title:"ar"===w?"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a":"Total Visits",value:_.totalVisits,icon:"\ud83d\udc68\u200d\u2695\ufe0f",color:"teal",trend:"+22.4%",description:"ar"===w?"\u0632\u064a\u0627\u0631\u0629 \u0645\u0643\u062a\u0645\u0644\u0629":"Completed visits",onClick:()=>{console.log("Navigate to visits"),"function"===typeof N&&N("visits")}}),(0,o.jsx)(c,{title:"ar"===w?"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u062f\u064a\u0648\u0646":"Total Debts",value:_.totalDebts,icon:"\ud83d\udcb3",color:"red",trend:"-8.3%",description:"ar"===w?"\u062f\u064a\u0646 \u0646\u0634\u0637":"Active debts",onClick:()=>{console.log("Navigate to debt collection"),"function"===typeof N&&N("debt_collection")}}),(0,o.jsx)(c,{title:"ar"===w?"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0645\u0633\u062a\u062d\u0642":"Outstanding Amount",value:H(_.outstandingDebtAmount),icon:"\ud83d\udcb0",color:"amber",trend:"-15.2%",description:"ar"===w?"\u0645\u0628\u0644\u063a \u063a\u064a\u0631 \u0645\u062f\u0641\u0648\u0639":"Unpaid amount",isFinancial:!0,onClick:()=>{console.log("Navigate to debt collection"),"function"===typeof N&&N("debt_collection")}}),(0,o.jsx)(c,{title:"ar"===w?"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0645\u062d\u0635\u0644":"Collected Amount",value:H(_.paidDebtAmount),icon:"\u2705",color:"emerald",trend:"+28.6%",description:"ar"===w?"\u0645\u0628\u0644\u063a \u0645\u062d\u0635\u0644":"Collected amount",isFinancial:!0,onClick:()=>{console.log("Navigate to debt collection"),"function"===typeof N&&N("debt_collection")}}),(0,o.jsx)(c,{title:"ar"===w?"\u0627\u0644\u0645\u062f\u0631\u0627\u0621":"Managers",value:_.totalManagers,icon:"\ud83d\udc54",color:"indigo",trend:"+2.1%",description:"ar"===w?"\u0645\u062f\u064a\u0631 \u0646\u0634\u0637":"Active managers",onClick:()=>{console.log("Navigate to users - managers"),"function"===typeof N&&N("users")}}),(0,o.jsx)(c,{title:"ar"===w?"\u0627\u0644\u0645\u062e\u0627\u0632\u0646":"Warehouses",value:_.totalWarehouses,icon:"\ud83c\udfed",color:"gray",trend:"0%",description:"ar"===w?"\u0645\u062e\u0632\u0646 \u0646\u0634\u0637":"Active warehouses",onClick:()=>{console.log("Navigate to warehouses"),"function"===typeof N&&N("warehouses")}})]}),(0,o.jsxs)("div",{className:"performance-section mb-8",children:[(0,o.jsxs)("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:["\ud83d\udcca ","ar"===w?"\u0623\u062f\u0627\u0621":"Performance",(0,o.jsxs)("span",{className:"text-blue-500",children:["(","today"===E?"ar"===w?"\u0627\u0644\u064a\u0648\u0645":"Today":"week"===E?"ar"===w?"\u0647\u0630\u0627 \u0627\u0644\u0623\u0633\u0628\u0648\u0639":"This Week":"month"===E?"ar"===w?"\u0647\u0630\u0627 \u0627\u0644\u0634\u0647\u0631":"This Month":"ar"===w?"\u0647\u0630\u0627 \u0627\u0644\u0639\u0627\u0645":"This Year",")"]})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,o.jsx)(d,{title:"ar"===w?"\u0637\u0644\u0628\u0627\u062a \u062c\u062f\u064a\u062f\u0629":"New Orders",value:(null===(t=_.performanceMetrics)||void 0===t?void 0:t.orders)||0,icon:"\ud83c\udfaf",color:"blue"}),(0,o.jsx)(d,{title:"ar"===w?"\u0632\u064a\u0627\u0631\u0627\u062a \u0645\u0643\u062a\u0645\u0644\u0629":"Completed Visits",value:(null===(s=_.performanceMetrics)||void 0===s?void 0:s.visits)||0,icon:"\u2705",color:"green"}),(0,o.jsx)(d,{title:"ar"===w?"\u0639\u064a\u0627\u062f\u0627\u062a \u062c\u062f\u064a\u062f\u0629":"New Clinics",value:(null===(l=_.performanceMetrics)||void 0===l?void 0:l.newClinics)||0,icon:"\ud83c\udfe5",color:"purple"}),(0,o.jsx)(d,{title:"ar"===w?"\u0645\u0628\u0627\u0644\u063a \u0645\u062d\u0635\u0644\u0629":"Collections",value:(null===(g=_.performanceMetrics)||void 0===g?void 0:g.collections)||0,icon:"\ud83d\udcb0",color:"orange"})]})]}),(0,o.jsxs)("div",{className:"performance-summary-grid grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[(0,o.jsxs)("div",{className:"system-status-card bg-white/5 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,o.jsxs)("h3",{className:"text-lg font-bold flex items-center gap-2",children:["\ud83d\udfe2 ","ar"===w?"\u062d\u0627\u0644\u0629 \u0627\u0644\u0646\u0638\u0627\u0645 \u0627\u0644\u0645\u0628\u0627\u0634\u0631\u0629":"Real-time System Status"]}),(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,o.jsx)("span",{className:"text-xs text-green-400",children:"\u0645\u062a\u0635\u0644"})]})]}),(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsx)("span",{className:"text-sm",children:"ar"===w?"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0627\u0644\u0645\u062a\u0635\u0644\u064a\u0646:":"Online Users:"}),(0,o.jsx)("span",{className:"text-green-400 font-bold",children:_.onlineUsers||12})]}),(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsx)("span",{className:"text-sm",children:"ar"===w?"\u0627\u0633\u062a\u062c\u0627\u0628\u0629 \u0627\u0644\u062e\u0627\u062f\u0645:":"Server Response:"}),(0,o.jsx)("span",{className:"text-green-400 font-bold",children:"8ms"})]}),(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsx)("span",{className:"text-sm",children:"ar"===w?"\u0648\u0642\u062a \u0627\u0644\u062a\u0634\u063a\u064a\u0644:":"Uptime:"}),(0,o.jsx)("span",{className:"text-green-400 font-bold",children:"99.8%"})]}),(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsx)("span",{className:"text-sm",children:"ar"===w?"\u0622\u062e\u0631 \u062a\u062d\u062f\u064a\u062b:":"Last Updated:"}),(0,o.jsx)("span",{className:"text-blue-400 font-bold",children:(new Date).toLocaleTimeString("ar-EG",{hour:"2-digit",minute:"2-digit"})})]})]})]}),(0,o.jsxs)("div",{className:"performance-insights-card bg-white/5 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[(0,o.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:["\ud83d\udcca ","ar"===w?"\u0631\u0624\u0649 \u0627\u0644\u0623\u062f\u0627\u0621 \u0627\u0644\u0633\u0631\u064a\u0639\u0629":"Quick Performance Insights"]}),(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{className:"insight-item",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,o.jsx)("span",{className:"text-sm",children:"ar"===w?"\u0643\u0641\u0627\u0621\u0629 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a":"Visit Efficiency"}),(0,o.jsx)("span",{className:"text-emerald-400 font-bold",children:"87.5%"})]}),(0,o.jsx)("div",{className:"w-full bg-white/10 rounded-full h-2",children:(0,o.jsx)("div",{className:"bg-gradient-to-r from-emerald-500 to-green-400 h-2 rounded-full",style:{width:"87.5%"}})})]}),(0,o.jsxs)("div",{className:"insight-item",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,o.jsx)("span",{className:"text-sm",children:"ar"===w?"\u0631\u0636\u0627 \u0627\u0644\u0639\u0645\u0644\u0627\u0621":"Customer Satisfaction"}),(0,o.jsx)("span",{className:"text-blue-400 font-bold",children:"92.3%"})]}),(0,o.jsx)("div",{className:"w-full bg-white/10 rounded-full h-2",children:(0,o.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-400 h-2 rounded-full",style:{width:"92.3%"}})})]}),(0,o.jsxs)("div",{className:"insight-item",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,o.jsx)("span",{className:"text-sm",children:"ar"===w?"\u0645\u0639\u062f\u0644 \u0627\u0644\u062a\u062d\u0635\u064a\u0644":"Collection Rate"}),(0,o.jsx)("span",{className:"text-orange-400 font-bold",children:"78.9%"})]}),(0,o.jsx)("div",{className:"w-full bg-white/10 rounded-full h-2",children:(0,o.jsx)("div",{className:"bg-gradient-to-r from-orange-500 to-amber-400 h-2 rounded-full",style:{width:"78.9%"}})})]})]})]}),(0,o.jsxs)("div",{className:"goals-tracker-card bg-white/5 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[(0,o.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:["\ud83c\udfaf ","ar"===w?"\u0645\u062a\u062a\u0628\u0639 \u0627\u0644\u0623\u0647\u062f\u0627\u0641 \u0627\u0644\u0632\u0645\u0646\u064a\u0629":"Time-based Goals Tracker"]}),(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{className:"goal-item",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-400"}),(0,o.jsx)("span",{className:"text-sm",children:"ar"===w?"\u0647\u062f\u0641 \u0627\u0644\u064a\u0648\u0645":"Daily Goal"})]}),(0,o.jsxs)("span",{className:"text-green-400 font-bold",children:[(null===(p=_.performanceMetrics)||void 0===p?void 0:p.orders)||8,"/",((null===(v=_.performanceMetrics)||void 0===v?void 0:v.orders)||8)+2]})]}),(0,o.jsx)("div",{className:"w-full bg-white/10 rounded-full h-2",children:(0,o.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-emerald-400 h-2 rounded-full",style:{width:"80%"}})})]}),(0,o.jsxs)("div",{className:"goal-item",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("div",{className:"w-3 h-3 rounded-full bg-blue-400"}),(0,o.jsx)("span",{className:"text-sm",children:"ar"===w?"\u0647\u062f\u0641 \u0627\u0644\u0623\u0633\u0628\u0648\u0639":"Weekly Goal"})]}),(0,o.jsxs)("span",{className:"text-blue-400 font-bold",children:[(null===(b=_.performanceMetrics)||void 0===b?void 0:b.visits)||45,"/60"]})]}),(0,o.jsx)("div",{className:"w-full bg-white/10 rounded-full h-2",children:(0,o.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-400 h-2 rounded-full",style:{width:"75%"}})})]}),(0,o.jsxs)("div",{className:"goal-item",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("div",{className:"w-3 h-3 rounded-full bg-purple-400"}),(0,o.jsx)("span",{className:"text-sm",children:"ar"===w?"\u0647\u062f\u0641 \u0627\u0644\u0634\u0647\u0631":"Monthly Goal"})]}),(0,o.jsxs)("span",{className:"text-purple-400 font-bold",children:[(null===(f=_.performanceMetrics)||void 0===f?void 0:f.newClinics)||127,"/150"]})]}),(0,o.jsx)("div",{className:"w-full bg-white/10 rounded-full h-2",children:(0,o.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-400 h-2 rounded-full",style:{width:"85%"}})})]})]})]})]}),(0,o.jsxs)("div",{className:"main-content-grid grid grid-cols-1 xl:grid-cols-2 gap-8",children:[(0,o.jsx)(m,{user:j,language:w,onActionClick:Y}),(0,o.jsx)(h,{language:w,activities:A,onActivityClick:e=>{G(e),U(!0)}}),(0,o.jsxs)("div",{className:"export-reports-center bg-white/5 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[(0,o.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:["\ud83d\udcca ","ar"===w?"\u0645\u0631\u0643\u0632 \u0627\u0644\u062a\u0635\u062f\u064a\u0631 \u0648\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631":"Export & Reports Center"]}),(0,o.jsxs)("div",{className:"export-actions-grid grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,o.jsxs)("button",{onClick:()=>q(),className:"export-btn bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all duration-300 flex flex-col items-center gap-2 hover:scale-105",children:[(0,o.jsx)("span",{className:"text-2xl",children:"\ud83d\udccb"}),(0,o.jsx)("span",{className:"text-sm font-medium",children:"ar"===w?"\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0623\u0646\u0634\u0637\u0629":"Activities Report"}),(0,o.jsx)("span",{className:"text-xs opacity-80",children:"ar"===w?"PDF \u0634\u0627\u0645\u0644":"Comprehensive PDF"})]}),(0,o.jsxs)("button",{onClick:()=>(()=>{var e,t,s,n;const i={date:(new Date).toLocaleDateString("ar-EG"),totalActivities:A.length,orders:(null===(e=_.performanceMetrics)||void 0===e?void 0:e.orders)||0,visits:(null===(t=_.performanceMetrics)||void 0===t?void 0:t.visits)||0,collections:(null===(s=_.performanceMetrics)||void 0===s?void 0:s.collections)||0,newClinics:(null===(n=_.performanceMetrics)||void 0===n?void 0:n.newClinics)||0},a='\n      <!DOCTYPE html>\n      <html dir="rtl" lang="ar">\n      <head>\n        <meta charset="UTF-8">\n        <title>\u0627\u0644\u0645\u0644\u062e\u0635 \u0627\u0644\u064a\u0648\u0645\u064a - '.concat(i.date,'</title>\n        <style>\n          body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }\n          .header { text-align: center; border-bottom: 2px solid #4F46E5; padding-bottom: 20px; margin-bottom: 30px; }\n          .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 20px 0; }\n          .stat-card { padding: 20px; border: 1px solid #E5E7EB; border-radius: 8px; text-align: center; background: #F9FAFB; }\n          .stat-number { font-size: 2em; font-weight: bold; color: #4F46E5; }\n        </style>\n      </head>\n      <body>\n        <div class="header">\n          <h1>\ud83d\udcc5 \u0627\u0644\u0645\u0644\u062e\u0635 \u0627\u0644\u064a\u0648\u0645\u064a</h1>\n          <p>').concat(i.date,'</p>\n        </div>\n        <div class="stats-grid">\n          <div class="stat-card">\n            <div class="stat-number">').concat(i.totalActivities,'</div>\n            <div>\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0623\u0646\u0634\u0637\u0629</div>\n          </div>\n          <div class="stat-card">\n            <div class="stat-number">').concat(i.orders,'</div>\n            <div>\u0637\u0644\u0628\u0627\u062a \u062c\u062f\u064a\u062f\u0629</div>\n          </div>\n          <div class="stat-card">\n            <div class="stat-number">').concat(i.visits,'</div>\n            <div>\u0632\u064a\u0627\u0631\u0627\u062a \u0645\u0643\u062a\u0645\u0644\u0629</div>\n          </div>\n          <div class="stat-card">\n            <div class="stat-number">').concat(i.collections,'</div>\n            <div>\u0645\u0628\u0627\u0644\u063a \u0645\u062d\u0635\u0644\u0629</div>\n          </div>\n        </div>\n        <div style="text-align: center; margin-top: 30px; border-top: 1px solid #E5E7EB; padding-top: 20px;">\n          <p>\ud83c\udfe5 \u0646\u0638\u0627\u0645 EP Group - \u0627\u0644\u0645\u0644\u062e\u0635 \u0627\u0644\u064a\u0648\u0645\u064a</p>\n        </div>\n      </body>\n      </html>\n    '),r=window.open("","_blank","width=800,height=600");r.document.write(a),r.document.close(),r.onload=function(){setTimeout((()=>r.print()),500)}})(),className:"export-btn bg-gradient-to-r from-green-600 to-green-700 text-white p-4 rounded-xl hover:from-green-700 hover:to-green-800 transition-all duration-300 flex flex-col items-center gap-2 hover:scale-105",children:[(0,o.jsx)("span",{className:"text-2xl",children:"\ud83d\udcc5"}),(0,o.jsx)("span",{className:"text-sm font-medium",children:"ar"===w?"\u0645\u0644\u062e\u0635 \u064a\u0648\u0645\u064a":"Daily Summary"}),(0,o.jsx)("span",{className:"text-xs opacity-80",children:"PDF + Excel"})]}),(0,o.jsxs)("button",{onClick:()=>(()=>{var e,t,s,n;const i={title:"ar"===w?"\u062a\u062d\u0644\u064a\u0644 \u0627\u0644\u0623\u062f\u0627\u0621 \u0627\u0644\u062a\u0641\u0635\u064a\u0644\u064a":"Detailed Performance Analytics",period:E,metrics:_.performanceMetrics,systemStatus:{onlineUsers:_.onlineUsers||12,serverResponse:"8ms",uptime:"99.8%"}},a='\n      <!DOCTYPE html>\n      <html dir="rtl" lang="ar">\n      <head>\n        <meta charset="UTF-8">\n        <title>'.concat(i.title,'</title>\n        <style>\n          body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }\n          .header { text-align: center; border-bottom: 2px solid #4F46E5; padding-bottom: 20px; margin-bottom: 30px; }\n          .metrics-section { margin: 30px 0; padding: 20px; border: 1px solid #E5E7EB; border-radius: 8px; }\n          .metric-row { display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid #F3F4F6; }\n          .chart-placeholder { height: 200px; background: #F9FAFB; border: 1px solid #E5E7EB; border-radius: 8px; display: flex; align-items: center; justify-content: center; margin: 20px 0; }\n        </style>\n      </head>\n      <body>\n        <div class="header">\n          <h1>\ud83d\udcc8 ').concat(i.title,"</h1>\n          <p>\u0627\u0644\u0641\u062a\u0631\u0629: ").concat("today"===i.period?"\u0627\u0644\u064a\u0648\u0645":"week"===i.period?"\u0627\u0644\u0623\u0633\u0628\u0648\u0639":"month"===i.period?"\u0627\u0644\u0634\u0647\u0631":"\u0627\u0644\u0633\u0646\u0629",'</p>\n        </div>\n        <div class="metrics-section">\n          <h2>\ud83d\udcca \u0645\u0624\u0634\u0631\u0627\u062a \u0627\u0644\u0623\u062f\u0627\u0621 \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629</h2>\n          <div class="metric-row">\n            <span>\u0637\u0644\u0628\u0627\u062a \u062c\u062f\u064a\u062f\u0629:</span>\n            <strong>').concat((null===(e=i.metrics)||void 0===e?void 0:e.orders)||0,'</strong>\n          </div>\n          <div class="metric-row">\n            <span>\u0632\u064a\u0627\u0631\u0627\u062a \u0645\u0643\u062a\u0645\u0644\u0629:</span>\n            <strong>').concat((null===(t=i.metrics)||void 0===t?void 0:t.visits)||0,'</strong>\n          </div>\n          <div class="metric-row">\n            <span>\u0639\u064a\u0627\u062f\u0627\u062a \u062c\u062f\u064a\u062f\u0629:</span>\n            <strong>').concat((null===(s=i.metrics)||void 0===s?void 0:s.newClinics)||0,'</strong>\n          </div>\n          <div class="metric-row">\n            <span>\u0645\u0628\u0627\u0644\u063a \u0645\u062d\u0635\u0644\u0629:</span>\n            <strong>').concat((null===(n=i.metrics)||void 0===n?void 0:n.collections)||0,'</strong>\n          </div>\n        </div>\n        <div class="metrics-section">\n          <h2>\ud83d\udfe2 \u062d\u0627\u0644\u0629 \u0627\u0644\u0646\u0638\u0627\u0645</h2>\n          <div class="metric-row">\n            <span>\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0627\u0644\u0645\u062a\u0635\u0644\u064a\u0646:</span>\n            <strong>').concat(i.systemStatus.onlineUsers,'</strong>\n          </div>\n          <div class="metric-row">\n            <span>\u0627\u0633\u062a\u062c\u0627\u0628\u0629 \u0627\u0644\u062e\u0627\u062f\u0645:</span>\n            <strong>').concat(i.systemStatus.serverResponse,'</strong>\n          </div>\n          <div class="metric-row">\n            <span>\u0648\u0642\u062a \u0627\u0644\u062a\u0634\u063a\u064a\u0644:</span>\n            <strong>').concat(i.systemStatus.uptime,'</strong>\n          </div>\n        </div>\n        <div class="chart-placeholder">\n          \ud83d\udcca \u0645\u062e\u0637\u0637 \u0627\u0644\u0623\u062f\u0627\u0621 - \u0633\u064a\u062a\u0645 \u062a\u0637\u0648\u064a\u0631\u0647 \u0641\u064a \u0627\u0644\u0645\u0631\u062d\u0644\u0629 \u0627\u0644\u0642\u0627\u062f\u0645\u0629\n        </div>\n        <div style="text-align: center; margin-top: 30px; border-top: 1px solid #E5E7EB; padding-top: 20px;">\n          <p>\ud83c\udfe5 \u0646\u0638\u0627\u0645 EP Group - \u062a\u062d\u0644\u064a\u0644 \u0627\u0644\u0623\u062f\u0627\u0621</p>\n        </div>\n      </body>\n      </html>\n    '),r=window.open("","_blank","width=800,height=600");r.document.write(a),r.document.close(),r.onload=function(){setTimeout((()=>r.print()),500)}})(),className:"export-btn bg-gradient-to-r from-purple-600 to-purple-700 text-white p-4 rounded-xl hover:from-purple-700 hover:to-purple-800 transition-all duration-300 flex flex-col items-center gap-2 hover:scale-105",children:[(0,o.jsx)("span",{className:"text-2xl",children:"\ud83d\udcc8"}),(0,o.jsx)("span",{className:"text-sm font-medium",children:"ar"===w?"\u062a\u062d\u0644\u064a\u0644 \u0627\u0644\u0623\u062f\u0627\u0621":"Performance Analytics"}),(0,o.jsx)("span",{className:"text-xs opacity-80",children:"Dashboard PDF"})]}),(0,o.jsxs)("button",{onClick:()=>{alert("ar"===w?"\u0645\u0646\u0634\u0626 \u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631 \u0627\u0644\u0645\u062e\u0635\u0635\u0629 \u0633\u064a\u062a\u0645 \u062a\u0637\u0648\u064a\u0631\u0647 \u0642\u0631\u064a\u0628\u0627\u064b! \ud83d\udd27\n\n\u0627\u0644\u0645\u0645\u064a\u0632\u0627\u062a \u0627\u0644\u0642\u0627\u062f\u0645\u0629:\n\u2022 \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u062e\u0635\u0635\u0629\n\u2022 \u062a\u0635\u0645\u064a\u0645 \u0627\u0644\u062a\u0642\u0631\u064a\u0631\n\u2022 \u062c\u062f\u0648\u0644\u0629 \u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631 \u0627\u0644\u062a\u0644\u0642\u0627\u0626\u064a\u0629":"Custom Report Builder coming soon! \ud83d\udd27\n\nUpcoming features:\n\u2022 Custom data selection\n\u2022 Report design\n\u2022 Automated report scheduling")},className:"export-btn bg-gradient-to-r from-orange-600 to-orange-700 text-white p-4 rounded-xl hover:from-orange-700 hover:to-orange-800 transition-all duration-300 flex flex-col items-center gap-2 hover:scale-105",children:[(0,o.jsx)("span",{className:"text-2xl",children:"\ud83d\udd27"}),(0,o.jsx)("span",{className:"text-sm font-medium",children:"ar"===w?"\u062a\u0642\u0627\u0631\u064a\u0631 \u0645\u062e\u0635\u0635\u0629":"Custom Reports"}),(0,o.jsx)("span",{className:"text-xs opacity-80",children:"ar"===w?"\u0645\u0646\u0634\u0626 \u062a\u0642\u0627\u0631\u064a\u0631":"Report Builder"})]})]}),(0,o.jsxs)("div",{className:"export-history mt-6 pt-4 border-t border-white/10",children:[(0,o.jsx)("h4",{className:"text-sm font-semibold text-white/80 mb-3",children:"ar"===w?"\u0622\u062e\u0631 \u0627\u0644\u062a\u0635\u062f\u064a\u0631\u0627\u062a":"Recent Exports"}),(0,o.jsxs)("div",{className:"export-history-list space-y-2",children:[(0,o.jsxs)("div",{className:"export-history-item flex items-center justify-between p-2 bg-white/5 rounded-lg",children:[(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("span",{className:"text-blue-400",children:"\ud83d\udccb"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"text-sm",children:"ar"===w?"\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0623\u0646\u0634\u0637\u0629 \u0627\u0644\u064a\u0648\u0645\u064a\u0629":"Daily Activities Report"}),(0,o.jsxs)("div",{className:"text-xs text-white/60",children:[(new Date).toLocaleDateString("ar-EG")," - 2.3 MB"]})]})]}),(0,o.jsx)("button",{className:"text-xs text-blue-400 hover:text-blue-300",children:"ar"===w?"\u062a\u062d\u0645\u064a\u0644 \u0645\u062c\u062f\u062f\u0627\u064b":"Download Again"})]}),(0,o.jsxs)("div",{className:"export-history-item flex items-center justify-between p-2 bg-white/5 rounded-lg",children:[(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("span",{className:"text-green-400",children:"\ud83d\udcc8"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"text-sm",children:"ar"===w?"\u062a\u062d\u0644\u064a\u0644 \u0627\u0644\u0623\u062f\u0627\u0621 \u0627\u0644\u0634\u0647\u0631\u064a":"Monthly Performance Analysis"}),(0,o.jsxs)("div",{className:"text-xs text-white/60",children:[new Date(Date.now()-864e5).toLocaleDateString("ar-EG")," - 1.8 MB"]})]})]}),(0,o.jsx)("button",{className:"text-xs text-green-400 hover:text-green-300",children:"ar"===w?"\u062a\u062d\u0645\u064a\u0644 \u0645\u062c\u062f\u062f\u0627\u064b":"Download Again"})]})]})]})]}),(0,o.jsxs)("div",{className:"shortcuts-guide-card bg-white/5 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[(0,o.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:["\u2328\ufe0f ","ar"===w?"\u062f\u0644\u064a\u0644 \u0627\u062e\u062a\u0635\u0627\u0631\u0627\u062a \u0644\u0648\u062d\u0629 \u0627\u0644\u0645\u0641\u0627\u062a\u064a\u062d":"Keyboard Shortcuts Guide"]}),(0,o.jsxs)("div",{className:"shortcuts-grid space-y-4",children:[(0,o.jsxs)("div",{className:"shortcut-category",children:[(0,o.jsx)("h4",{className:"text-sm font-semibold text-blue-400 mb-2",children:"ar"===w?"\u0627\u0644\u0628\u062d\u062b \u0648\u0627\u0644\u062a\u0646\u0642\u0644":"Search & Navigation"}),(0,o.jsxs)("div",{className:"shortcuts-list space-y-2",children:[(0,o.jsxs)("div",{className:"shortcut-item flex items-center justify-between",children:[(0,o.jsx)("span",{className:"text-sm",children:"ar"===w?"\u0627\u0644\u0628\u062d\u062b \u0627\u0644\u0634\u0627\u0645\u0644":"Global Search"}),(0,o.jsxs)("div",{className:"shortcut-keys flex items-center gap-1",children:[(0,o.jsx)("kbd",{className:"kbd",children:"Ctrl"}),(0,o.jsx)("span",{children:"+"}),(0,o.jsx)("kbd",{className:"kbd",children:"K"})]})]}),(0,o.jsxs)("div",{className:"shortcut-item flex items-center justify-between",children:[(0,o.jsx)("span",{className:"text-sm",children:"ar"===w?"\u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a":"Refresh Data"}),(0,o.jsxs)("div",{className:"shortcut-keys flex items-center gap-1",children:[(0,o.jsx)("kbd",{className:"kbd",children:"Alt"}),(0,o.jsx)("span",{children:"+"}),(0,o.jsx)("kbd",{className:"kbd",children:"R"})]})]})]})]}),(0,o.jsxs)("div",{className:"shortcut-category",children:[(0,o.jsx)("h4",{className:"text-sm font-semibold text-green-400 mb-2",children:"ar"===w?"\u0627\u0644\u062a\u0646\u0642\u0644 \u0627\u0644\u0633\u0631\u064a\u0639":"Quick Navigation"}),(0,o.jsxs)("div",{className:"shortcuts-list space-y-2",children:[(0,o.jsxs)("div",{className:"shortcut-item flex items-center justify-between",children:[(0,o.jsx)("span",{className:"text-sm",children:"ar"===w?"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645":"Dashboard"}),(0,o.jsxs)("div",{className:"shortcut-keys flex items-center gap-1",children:[(0,o.jsx)("kbd",{className:"kbd",children:"Alt"}),(0,o.jsx)("span",{children:"+"}),(0,o.jsx)("kbd",{className:"kbd",children:"1"})]})]}),(0,o.jsxs)("div",{className:"shortcut-item flex items-center justify-between",children:[(0,o.jsx)("span",{className:"text-sm",children:"ar"===w?"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646":"Users"}),(0,o.jsxs)("div",{className:"shortcut-keys flex items-center gap-1",children:[(0,o.jsx)("kbd",{className:"kbd",children:"Alt"}),(0,o.jsx)("span",{children:"+"}),(0,o.jsx)("kbd",{className:"kbd",children:"2"})]})]}),(0,o.jsxs)("div",{className:"shortcut-item flex items-center justify-between",children:[(0,o.jsx)("span",{className:"text-sm",children:"ar"===w?"\u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a":"Clinics"}),(0,o.jsxs)("div",{className:"shortcut-keys flex items-center gap-1",children:[(0,o.jsx)("kbd",{className:"kbd",children:"Alt"}),(0,o.jsx)("span",{children:"+"}),(0,o.jsx)("kbd",{className:"kbd",children:"3"})]})]})]})]}),(0,o.jsxs)("div",{className:"shortcut-category",children:[(0,o.jsx)("h4",{className:"text-sm font-semibold text-orange-400 mb-2",children:"ar"===w?"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0627\u0644\u0633\u0631\u064a\u0639\u0629":"Quick Actions"}),(0,o.jsxs)("div",{className:"shortcuts-list space-y-2",children:[(0,o.jsxs)("div",{className:"shortcut-item flex items-center justify-between",children:[(0,o.jsx)("span",{className:"text-sm",children:"ar"===w?"\u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062a\u062e\u062f\u0645":"Add User"}),(0,o.jsxs)("div",{className:"shortcut-keys flex items-center gap-1",children:[(0,o.jsx)("kbd",{className:"kbd",children:"Ctrl"}),(0,o.jsx)("span",{children:"+"}),(0,o.jsx)("kbd",{className:"kbd",children:"Shift"}),(0,o.jsx)("span",{children:"+"}),(0,o.jsx)("kbd",{className:"kbd",children:"U"})]})]}),(0,o.jsxs)("div",{className:"shortcut-item flex items-center justify-between",children:[(0,o.jsx)("span",{className:"text-sm",children:"ar"===w?"\u062a\u0633\u062c\u064a\u0644 \u0639\u064a\u0627\u062f\u0629":"Register Clinic"}),(0,o.jsxs)("div",{className:"shortcut-keys flex items-center gap-1",children:[(0,o.jsx)("kbd",{className:"kbd",children:"Ctrl"}),(0,o.jsx)("span",{children:"+"}),(0,o.jsx)("kbd",{className:"kbd",children:"Shift"}),(0,o.jsx)("span",{children:"+"}),(0,o.jsx)("kbd",{className:"kbd",children:"C"})]})]})]})]}),(0,o.jsx)("div",{className:"pro-tip mt-4 p-3 bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-lg border border-purple-500/30",children:(0,o.jsxs)("p",{className:"text-xs text-purple-200 flex items-center gap-2",children:[(0,o.jsx)("span",{children:"\ud83d\udca1"}),"ar"===w?"\u0646\u0635\u064a\u062d\u0629: \u0627\u0633\u062a\u062e\u062f\u0645 \u0647\u0630\u0647 \u0627\u0644\u0627\u062e\u062a\u0635\u0627\u0631\u0627\u062a \u0644\u062a\u0648\u0641\u064a\u0631 \u0627\u0644\u0648\u0642\u062a \u0648\u0632\u064a\u0627\u062f\u0629 \u0643\u0641\u0627\u0621\u0629 \u0627\u0644\u0639\u0645\u0644":"Pro Tip: Use these shortcuts to save time and increase work efficiency"]})})]})]}),(0,o.jsxs)("div",{className:"notifications-center bg-white/5 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,o.jsxs)("h3",{className:"text-lg font-bold flex items-center gap-2",children:["\ud83d\udd14 ","ar"===w?"\u0645\u0631\u0643\u0632 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a \u0627\u0644\u0645\u062a\u0642\u062f\u0645":"Advanced Notifications Center"]}),(0,o.jsxs)("div",{className:"notification-settings flex items-center gap-2",children:[(0,o.jsx)("div",{className:"notification-indicator w-2 h-2 bg-red-400 rounded-full animate-pulse"}),(0,o.jsx)("span",{className:"text-xs text-red-400",children:"3 \u062c\u062f\u064a\u062f"})]})]}),(0,o.jsxs)("div",{className:"notifications-list space-y-3 max-h-64 overflow-y-auto",children:[(0,o.jsx)("div",{className:"notification-item p-4 bg-gradient-to-r from-red-500/10 to-red-600/10 border border-red-500/30 rounded-lg",children:(0,o.jsxs)("div",{className:"flex items-start gap-3",children:[(0,o.jsx)("div",{className:"notification-icon w-8 h-8 bg-red-500/20 rounded-full flex items-center justify-center",children:(0,o.jsx)("span",{className:"text-red-400 text-sm",children:"\u26a0\ufe0f"})}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsxs)("div",{className:"notification-header flex items-center justify-between mb-1",children:[(0,o.jsx)("h4",{className:"text-sm font-semibold text-red-400",children:"ar"===w?"\u062a\u0646\u0628\u064a\u0647: \u0645\u062e\u0632\u0648\u0646 \u0645\u0646\u062e\u0641\u0636":"Alert: Low Stock"}),(0,o.jsx)("span",{className:"text-xs text-red-300",children:"\u0645\u0646\u0630 5 \u062f\u0642\u0627\u0626\u0642"})]}),(0,o.jsx)("p",{className:"text-xs text-white/80",children:"ar"===w?"12 \u0645\u0646\u062a\u062c \u064a\u062d\u062a\u0627\u062c \u0625\u0639\u0627\u062f\u0629 \u062a\u062c\u062f\u064a\u062f \u0641\u064a \u0627\u0644\u0645\u062e\u0632\u0646 \u0627\u0644\u0631\u0626\u064a\u0633\u064a":"12 products need restocking in main warehouse"}),(0,o.jsxs)("div",{className:"notification-actions mt-2 flex gap-2",children:[(0,o.jsx)("button",{className:"text-xs text-red-400 hover:text-red-300",children:"ar"===w?"\u0627\u062a\u062e\u0627\u0630 \u0625\u062c\u0631\u0627\u0621":"Take Action"}),(0,o.jsx)("button",{className:"text-xs text-white/60 hover:text-white/80",children:"ar"===w?"\u0625\u063a\u0644\u0627\u0642":"Dismiss"})]})]})]})}),(0,o.jsx)("div",{className:"notification-item p-4 bg-gradient-to-r from-green-500/10 to-green-600/10 border border-green-500/30 rounded-lg",children:(0,o.jsxs)("div",{className:"flex items-start gap-3",children:[(0,o.jsx)("div",{className:"notification-icon w-8 h-8 bg-green-500/20 rounded-full flex items-center justify-center",children:(0,o.jsx)("span",{className:"text-green-400 text-sm",children:"\u2705"})}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsxs)("div",{className:"notification-header flex items-center justify-between mb-1",children:[(0,o.jsx)("h4",{className:"text-sm font-semibold text-green-400",children:"ar"===w?"\u062a\u0645 \u0628\u0646\u062c\u0627\u062d: \u0637\u0644\u0628\u064a\u0629 \u062c\u062f\u064a\u062f\u0629":"Success: New Order"}),(0,o.jsx)("span",{className:"text-xs text-green-300",children:"\u0645\u0646\u0630 15 \u062f\u0642\u064a\u0642\u0629"})]}),(0,o.jsx)("p",{className:"text-xs text-white/80",children:"ar"===w?"\u062a\u0645 \u0625\u0646\u0634\u0627\u0621 \u0637\u0644\u0628\u064a\u0629 \u0628\u0642\u064a\u0645\u0629 2,500 \u062c.\u0645 \u0645\u0646 \u0639\u064a\u0627\u062f\u0629 \u062f. \u0623\u062d\u0645\u062f \u0645\u062d\u0645\u062f":"New order worth 2,500 EGP created from Dr. Ahmed Mohamed Clinic"}),(0,o.jsx)("div",{className:"notification-actions mt-2 flex gap-2",children:(0,o.jsx)("button",{className:"text-xs text-green-400 hover:text-green-300",children:"ar"===w?"\u0639\u0631\u0636 \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644":"View Details"})})]})]})}),(0,o.jsx)("div",{className:"notification-item p-4 bg-gradient-to-r from-blue-500/10 to-blue-600/10 border border-blue-500/30 rounded-lg",children:(0,o.jsxs)("div",{className:"flex items-start gap-3",children:[(0,o.jsx)("div",{className:"notification-icon w-8 h-8 bg-blue-500/20 rounded-full flex items-center justify-center",children:(0,o.jsx)("span",{className:"text-blue-400 text-sm",children:"\u2139\ufe0f"})}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsxs)("div",{className:"notification-header flex items-center justify-between mb-1",children:[(0,o.jsx)("h4",{className:"text-sm font-semibold text-blue-400",children:"ar"===w?"\u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0646\u0638\u0627\u0645":"System Update"}),(0,o.jsx)("span",{className:"text-xs text-blue-300",children:"\u0645\u0646\u0630 \u0633\u0627\u0639\u0629"})]}),(0,o.jsx)("p",{className:"text-xs text-white/80",children:"ar"===w?"\u062a\u0645 \u062a\u0637\u0628\u064a\u0642 \u062a\u062d\u062f\u064a\u062b\u0627\u062a \u0627\u0644\u0623\u0645\u0627\u0646 \u0627\u0644\u062c\u062f\u064a\u062f\u0629 \u0628\u0646\u062c\u0627\u062d":"New security updates have been successfully applied"})]})]})})]}),(0,o.jsxs)("div",{className:"notification-footer mt-4 pt-4 border-t border-white/10 flex items-center justify-between",children:[(0,o.jsx)("button",{className:"text-xs text-white/60 hover:text-white/80",children:"ar"===w?"\u0639\u0631\u0636 \u062c\u0645\u064a\u0639 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a":"View All Notifications"}),(0,o.jsx)("button",{className:"text-xs text-white/60 hover:text-white/80",children:"ar"===w?"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a":"Notification Settings"})]})]})]}),P&&(0,o.jsx)(x,{action:M,language:w,onClose:()=>F(!1)}),R&&B&&(0,o.jsx)(u,{activity:B,language:w,onClose:()=>U(!1)})]})}},269:(e,t,s)=>{s.d(t,{a:()=>a});var n=s(555),i=s(722);const a=new class{constructor(){this.API="https://6fc37004-de78-473a-b926-f0438820a235.preview.emergentagent.com/api",this.isEnabled=!0,this.currentPosition=null,this.retryQueue=[]}async getCurrentPosition(){if(!navigator.geolocation)return console.warn("Geolocation is not supported"),null;try{const t=await new Promise(((e,t)=>{navigator.geolocation.getCurrentPosition(e,t,{enableHighAccuracy:!0,timeout:15e3,maximumAge:3e5})}));this.currentPosition={latitude:t.coords.latitude,longitude:t.coords.longitude,accuracy:t.coords.accuracy,altitude:t.coords.altitude,speed:t.coords.speed,heading:t.coords.heading,timestamp:(new Date).toISOString()};try{const e=await this.getAddressFromCoordinates(t.coords.latitude,t.coords.longitude);this.currentPosition.address=e.formatted_address,this.currentPosition.city=e.city,this.currentPosition.area=e.area,this.currentPosition.country=e.country}catch(e){console.warn("Failed to get address from coordinates:",e),this.currentPosition.address="".concat(t.coords.latitude.toFixed(4),", ").concat(t.coords.longitude.toFixed(4))}return this.currentPosition}catch(e){return console.warn("Failed to get current position:",e),null}}async getAddressFromCoordinates(e,t){const s="AIzaSyDzxZjDxPdcrnGKb66mT5BIvQzQWcnLp70";try{const n=await fetch("https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(e,",").concat(t,"&key=").concat(s,"&language=ar")),i=await n.json();if(i.results&&i.results.length>0){const e=i.results[0];return{formatted_address:e.formatted_address,city:this.extractAddressComponent(e,"locality")||this.extractAddressComponent(e,"administrative_area_level_2"),area:this.extractAddressComponent(e,"administrative_area_level_3")||this.extractAddressComponent(e,"sublocality"),country:this.extractAddressComponent(e,"country")||"\u0645\u0635\u0631"}}}catch(n){console.warn("Geocoding failed:",n)}return{formatted_address:"".concat(e.toFixed(4),", ").concat(t.toFixed(4)),city:"",area:"",country:"\u0645\u0635\u0631"}}extractAddressComponent(e,t){const s=e.address_components.find((e=>e.types.includes(t)));return s?s.long_name:""}getDeviceInfo(){const e=navigator.userAgent;return{device_type:this.getDeviceType(),operating_system:this.getOperatingSystem(),browser:this.getBrowserInfo(),browser_version:this.getBrowserVersion(),user_agent:e,screen_resolution:"".concat(window.screen.width,"x").concat(window.screen.height),viewport_size:"".concat(window.innerWidth,"x").concat(window.innerHeight),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,language:navigator.language,online:navigator.onLine}}getDeviceType(){const e=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?"tablet":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?"mobile":"desktop"}getOperatingSystem(){const e=navigator.userAgent,t=[{name:"Windows 11",regex:/Windows NT 10\.0.*rv:91/},{name:"Windows 10",regex:/Windows NT 10\.0/},{name:"Windows 8.1",regex:/Windows NT 6\.3/},{name:"Windows 8",regex:/Windows NT 6\.2/},{name:"Windows 7",regex:/Windows NT 6\.1/},{name:"macOS",regex:/Mac OS X/},{name:"iOS",regex:/(iPhone|iPad|iPod)/},{name:"Android",regex:/Android/},{name:"Linux",regex:/Linux/},{name:"Unix",regex:/X11/}];for(const s of t)if(s.regex.test(e))return s.name;return"Unknown"}getBrowserInfo(){const e=navigator.userAgent,t=[{name:"Chrome",regex:/Chrome/},{name:"Firefox",regex:/Firefox/},{name:"Safari",regex:/Safari/},{name:"Edge",regex:/Edge/},{name:"Opera",regex:/Opera/},{name:"Internet Explorer",regex:/MSIE/}];for(const s of t)if(s.regex.test(e))return s.name;return"Unknown"}getBrowserVersion(){const e=navigator.userAgent.match(/(Chrome|Firefox|Safari|Edge|Opera)\/(\d+\.\d+)/);return e?e[2]:"Unknown"}async logActivity(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(this.isEnabled)try{var l;const c=localStorage.getItem("access_token");if(!c)return void console.warn("No access token available for activity logging");const d={type:e,action:t,target_type:s,target_id:a,target_name:r,location:await this.getCurrentPosition(),device_info:this.getDeviceInfo(),details:(0,n.A)((0,n.A)({},o),{},{page_url:window.location.href,page_title:document.title,referrer:document.referrer,session_storage_length:sessionStorage.length,local_storage_length:localStorage.length}),metadata:{logged_at:(new Date).toISOString(),user_agent:navigator.userAgent,connection_type:(null===(l=navigator.connection)||void 0===l?void 0:l.effectiveType)||"unknown",battery_level:navigator.getBattery?await navigator.getBattery().then((e=>e.level)):null}},m=await i.A.post("".concat(this.API,"/activities"),d,{headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json"},timeout:1e4});return console.log("Activity logged successfully:",m.data),m.data}catch(c){console.error("Failed to log activity:",c),this.retryQueue.push({type:e,action:t,targetType:s,targetId:a,targetName:r,details:o,timestamp:(new Date).toISOString(),retryCount:0}),this.scheduleRetry()}}scheduleRetry(){0!==this.retryQueue.length&&setTimeout((async()=>{const e=this.retryQueue.shift();if(e&&e.retryCount<3){e.retryCount++;try{await this.logActivity(e.type,e.action,e.targetType,e.targetId,e.targetName,e.details)}catch(t){e.retryCount<3&&this.retryQueue.push(e)}}}),5e3)}async logVisitRegistration(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.logActivity("visit_registration","\u062a\u0633\u062c\u064a\u0644 \u0632\u064a\u0627\u0631\u0629 \u0639\u064a\u0627\u062f\u0629","clinic",e,t,(0,n.A)({visit_duration:s.duration||null,doctor_present:s.doctorPresent||null,samples_given:s.samplesGiven||0,notes:s.notes||"",visit_type:s.type||"routine"},s))}async logClinicRegistration(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.logActivity("clinic_registration","\u062a\u0633\u062c\u064a\u0644 \u0639\u064a\u0627\u062f\u0629 \u062c\u062f\u064a\u062f\u0629","clinic",e,t,(0,n.A)({doctor_name:s.doctorName||"",specialty:s.specialty||"",classification:s.classification||"",phone:s.phone||"",address:s.address||""},s))}async logOrderCreation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.logActivity("order_creation","\u0625\u0646\u0634\u0627\u0621 \u0637\u0644\u0628 \u062c\u062f\u064a\u062f","order",e,"\u0637\u0644\u0628 \u0631\u0642\u0645 ".concat(e),(0,n.A)({order_value:t.totalValue||0,items_count:t.itemsCount||0,clinic_name:t.clinicName||"",payment_method:t.paymentMethod||""},t))}async logProductUpdate(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.logActivity("product_update","\u062a\u062d\u062f\u064a\u062b \u0645\u0646\u062a\u062c","product",e,t,(0,n.A)({old_price:s.oldPrice||null,new_price:s.newPrice||null,change_reason:s.changeReason||"",update_type:s.updateType||"general"},s))}async logUserCreation(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.logActivity("user_creation","\u0625\u0646\u0634\u0627\u0621 \u0645\u0633\u062a\u062e\u062f\u0645 \u062c\u062f\u064a\u062f","user",e,t,(0,n.A)({user_role:s.role||"",department:s.department||"",permissions:s.permissions||[]},s))}async logSystemAccess(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.logActivity("system_access","\u062f\u062e\u0648\u0644 \u0642\u0633\u0645 ".concat(e),"system",e,"\u0642\u0633\u0645 ".concat(e),(0,n.A)({access_time:(new Date).toISOString(),previous_section:t.previousSection||"",access_method:t.accessMethod||"navigation"},t))}async logLogin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.logActivity("login","\u062a\u0633\u062c\u064a\u0644 \u062f\u062e\u0648\u0644","system","login","\u0646\u0638\u0627\u0645 EP Group",(0,n.A)({login_method:e.method||"password",biometric_verified:e.biometricVerified||!1,failed_attempts:e.failedAttempts||0,remember_me:e.rememberMe||!1},e))}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}clearRetryQueue(){this.retryQueue=[]}}}}]);
//# sourceMappingURL=734.0eef6137.chunk.js.map