/*! For license information please see main.2a2972a2.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),a=n(43),s=n(950);function l(e){var t="https://9ba3212f-10fb-4b52-b158-c269856d0d5c.preview.emergentagent.com","/api"),Rt=(0,a.createContext)(),Dt=()=>{const e=(0,a.useContext)(Rt);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},Mt=e=>{let{children:t}=e;const[n,r]=(0,a.useState)("dark"),[s,l]=(0,a.useState)((()=>localStorage.getItem("app_language")||"ar")),i=["light","dark","minimal","modern","fancy","cyber","sunset","ocean","forest"];(0,a.useEffect)((()=>{const e=localStorage.getItem("theme")||"dark";r(e),document.documentElement.setAttribute("data-theme",e),document.body.setAttribute("data-theme",e),o(e)}),[]),(0,a.useEffect)((()=>{localStorage.setItem("app_language",s),document.dir="ar"===s?"rtl":"ltr",document.documentElement.lang=s,document.body.style.fontFamily="ar"===s?"'Tajawal', 'Cairo', 'Amiri', 'Segoe UI', 'Tahoma', Arial, sans-serif":"'Roboto', 'Inter', 'Segoe UI', 'Helvetica Neue', Arial, sans-serif"}),[s]);const o=e=>{const t=document.documentElement,n={light:{"--primary-bg":"#ffffff","--secondary-bg":"#f8fafc","--accent-bg":"#e2e8f0","--card-bg":"rgba(255, 255, 255, 0.95)","--glass-bg":"rgba(248, 250, 252, 0.8)","--text-primary":"#1e293b","--text-secondary":"#475569","--text-muted":"#64748b","--gradient-dark":"linear-gradient(135deg, #ffffff 0%, #f8fafc 50%, #e2e8f0 100%)","--border-color":"#e2e8f0","--hover-bg":"rgba(0, 0, 0, 0.05)","--shadow":"0 4px 6px -1px rgba(0, 0, 0, 0.1)","--primary-color":"#3b82f6","--success-color":"#10b981","--warning-color":"#f59e0b","--error-color":"#ef4444","--glow-primary":"none","--glow-secondary":"none"},dark:{"--primary-bg":"#0f172a","--secondary-bg":"#1e293b","--accent-bg":"#334155","--card-bg":"rgba(30, 41, 59, 0.95)","--glass-bg":"rgba(15, 23, 42, 0.8)","--text-primary":"#f8fafc","--text-secondary":"#cbd5e1","--text-muted":"#94a3b8","--gradient-dark":"linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%)","--border-color":"#334155","--hover-bg":"rgba(255, 255, 255, 0.05)","--shadow":"0 4px 6px -1px rgba(0, 0, 0, 0.3)","--primary-color":"#60a5fa","--success-color":"#34d399","--warning-color":"#fbbf24","--error-color":"#f87171","--glow-primary":"none","--glow-secondary":"none"},minimal:{"--primary-bg":"#fefefe","--secondary-bg":"#f9f9f9","--accent-bg":"#f0f0f0","--card-bg":"rgba(255, 255, 255, 0.98)","--glass-bg":"rgba(249, 249, 249, 0.95)","--text-primary":"#2d3748","--text-secondary":"#4a5568","--text-muted":"#718096","--gradient-dark":"linear-gradient(135deg, #fefefe 0%, #f9f9f9 100%)","--border-color":"#e2e8f0","--hover-bg":"rgba(0, 0, 0, 0.03)","--shadow":"0 1px 3px rgba(0, 0, 0, 0.1)","--primary-color":"#4a5568","--success-color":"#48bb78","--warning-color":"#ed8936","--error-color":"#e53e3e","--glow-primary":"none","--glow-secondary":"none"},modern:{"--primary-bg":"#0a0a0a","--secondary-bg":"#1a1a1a","--accent-bg":"#2d2d2d","--card-bg":"rgba(26, 26, 26, 0.95)","--glass-bg":"rgba(10, 10, 10, 0.8)","--text-primary":"#ffffff","--text-secondary":"#d1d5db","--text-muted":"#9ca3af","--gradient-dark":"linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #2d2d2d 100%)","--border-color":"#404040","--hover-bg":"rgba(255, 255, 255, 0.08)","--shadow":"0 8px 32px rgba(0, 0, 0, 0.4)","--primary-color":"#00d4ff","--success-color":"#00ff88","--warning-color":"#ffaa00","--error-color":"#ff4757","--glow-primary":"0 0 20px rgba(0, 212, 255, 0.3)","--glow-secondary":"0 0 10px rgba(0, 255, 136, 0.2)"},fancy:{"--primary-bg":"#1a1a2e","--secondary-bg":"#16213e","--accent-bg":"#0f3460","--card-bg":"rgba(22, 33, 62, 0.95)","--glass-bg":"rgba(26, 26, 46, 0.8)","--text-primary":"#eee6ff","--text-secondary":"#b8b5ff","--text-muted":"#8a87ff","--gradient-dark":"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)","--border-color":"#533483","--hover-bg":"rgba(238, 230, 255, 0.1)","--shadow":"0 8px 32px rgba(83, 52, 131, 0.3)","--primary-color":"#bb86fc","--success-color":"#4ade80","--warning-color":"#fbbf24","--error-color":"#f87171","--glow-primary":"0 0 20px rgba(187, 134, 252, 0.5)","--glow-secondary":"0 0 10px rgba(184, 181, 255, 0.3)"},cyber:{"--primary-bg":"#0d1117","--secondary-bg":"#161b22","--accent-bg":"#21262d","--card-bg":"rgba(22, 27, 34, 0.95)","--glass-bg":"rgba(13, 17, 23, 0.8)","--text-primary":"#00ff41","--text-secondary":"#58a6ff","--text-muted":"#7d8590","--gradient-dark":"linear-gradient(135deg, #0d1117 0%, #161b22 50%, #21262d 100%)","--border-color":"#30363d","--hover-bg":"rgba(0, 255, 65, 0.1)","--shadow":"0 8px 32px rgba(0, 255, 65, 0.2)","--primary-color":"#00ff41","--success-color":"#00ff41","--warning-color":"#ffab00","--error-color":"#ff4757","--glow-primary":"0 0 20px rgba(0, 255, 65, 0.4)","--glow-secondary":"0 0 10px rgba(88, 166, 255, 0.3)"},sunset:{"--primary-bg":"#2d1b3d","--secondary-bg":"#3d2858","--accent-bg":"#4a3566","--card-bg":"rgba(61, 40, 88, 0.95)","--glass-bg":"rgba(45, 27, 61, 0.8)","--text-primary":"#fff4e6","--text-secondary":"#ffd6a5","--text-muted":"#ffab76","--gradient-dark":"linear-gradient(135deg, #2d1b3d 0%, #3d2858 50%, #ff6b6b 100%)","--border-color":"#ff8a80","--hover-bg":"rgba(255, 116, 116, 0.1)","--shadow":"0 8px 32px rgba(255, 107, 107, 0.3)","--primary-color":"#ff6b6b","--success-color":"#51cf66","--warning-color":"#ffd43b","--error-color":"#ff6b6b","--glow-primary":"0 0 20px rgba(255, 107, 107, 0.4)","--glow-secondary":"0 0 10px rgba(255, 214, 165, 0.3)"},ocean:{"--primary-bg":"#0f2027","--secondary-bg":"#203a43","--accent-bg":"#2c5364","--card-bg":"rgba(32, 58, 67, 0.95)","--glass-bg":"rgba(15, 32, 39, 0.8)","--text-primary":"#e6fffa","--text-secondary":"#9decf9","--text-muted":"#4dd0e1","--gradient-dark":"linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%)","--border-color":"#26a69a","--hover-bg":"rgba(38, 166, 154, 0.1)","--shadow":"0 8px 32px rgba(0, 188, 212, 0.3)","--primary-color":"#00bcd4","--success-color":"#26a69a","--warning-color":"#ffa726","--error-color":"#ef5350","--glow-primary":"0 0 20px rgba(0, 188, 212, 0.4)","--glow-secondary":"0 0 10px rgba(157, 236, 249, 0.3)"},forest:{"--primary-bg":"#1b2f1e","--secondary-bg":"#2d4a32","--accent-bg":"#3e5c42","--card-bg":"rgba(45, 74, 50, 0.95)","--glass-bg":"rgba(27, 47, 30, 0.8)","--text-primary":"#f1f8e9","--text-secondary":"#c8e6c9","--text-muted":"#a5d6a7","--gradient-dark":"linear-gradient(135deg, #1b2f1e 0%, #2d4a32 50%, #3e5c42 100%)","--border-color":"#4caf50","--hover-bg":"rgba(76, 175, 80, 0.1)","--shadow":"0 8px 32px rgba(76, 175, 80, 0.3)","--primary-color":"#4caf50","--success-color":"#66bb6a","--warning-color":"#ffb74d","--error-color":"#ef5350","--glow-primary":"0 0 20px rgba(76, 175, 80, 0.4)","--glow-secondary":"0 0 10px rgba(200, 230, 201, 0.3)"}},r=n[e]||n.dark;Object.entries(r).forEach((e=>{let[n,r]=e;t.style.setProperty(n,r)}))},c=e=>{i.includes(e)&&(r(e),localStorage.setItem("theme",e),document.documentElement.setAttribute("data-theme",e),document.body.setAttribute("data-theme",e),o(e))};return(0,Ot.jsx)(Rt.Provider,{value:{theme:n,toggleTheme:()=>{c("dark"===n?"light":"dark")},cycleTheme:()=>{const e=(i.indexOf(n)+1)%i.length,t=i[e];r(t),localStorage.setItem("theme",t),document.documentElement.setAttribute("data-theme",t),document.body.setAttribute("data-theme",t),o(t)},setSpecificTheme:c,availableThemes:i,language:s,setLanguage:l},children:(0,Ot.jsx)("div",{"data-theme":n,style:{minHeight:"100vh",background:"var(--gradient-dark)",color:"var(--text-primary)"},children:t})})},Ft=e=>{let{name:t,size:n=24,className:r="",animated:a=!0}=e;const s="svg-icon ".concat(a?"svg-icon-animated":""," ").concat(r),l={theme:(0,Ot.jsx)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",className:s,children:(0,Ot.jsx)("path",{d:"M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.061l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),search:(0,Ot.jsx)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",className:s,children:(0,Ot.jsx)("path",{d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),user:(0,Ot.jsx)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",className:s,children:(0,Ot.jsx)("path",{d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),dashboard:(0,Ot.jsx)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",className:s,children:(0,Ot.jsx)("path",{d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v10a1 1 0 01-1 1H4a1 1 0 01-1-1V10zM14 9a1 1 0 011-1h6a1 1 0 011 1v12a1 1 0 01-1 1h-6a1 1 0 01-1-1V9z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),warehouse:(0,Ot.jsx)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",className:s,children:(0,Ot.jsx)("path",{d:"M3.75 21h16.5M4.5 3h15l-.75 18h-13.5L4.5 3zM12 7.5V15M8.25 15h7.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),visits:(0,Ot.jsx)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",className:s,children:(0,Ot.jsx)("path",{d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),reports:(0,Ot.jsx)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",className:s,children:(0,Ot.jsx)("path",{d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),chat:(0,Ot.jsx)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",className:s,children:(0,Ot.jsx)("path",{d:"M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),settings:(0,Ot.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",className:s,children:[(0,Ot.jsx)("path",{d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ot.jsx)("path",{d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),logout:(0,Ot.jsx)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",className:s,children:(0,Ot.jsx)("path",{d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),close:(0,Ot.jsx)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",className:s,children:(0,Ot.jsx)("path",{d:"M6 18L18 6M6 6l12 12",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),print:(0,Ot.jsx)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",className:s,children:(0,Ot.jsx)("path",{d:"M6.72 13.829c-.24.03-.48.062-.72.096m-.72-.096A42.415 42.415 0 0112 13.5c2.04 0 4.068.069 6.08.205m-6.08-.205A23.383 23.383 0 005.5 15.5c-.068 2.845-.052 5.703.032 8.55a.75.75 0 001.232.336L8.5 22.5l1.736 1.886a.75.75 0 001.232-.336C11.552 21.203 11.568 18.345 11.5 15.5A23.383 23.383 0 0018 13.829c.24.03.48.062.72.096m-.72-.096c1.902.03 3.804.069 5.706.096",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),download:(0,Ot.jsx)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",className:s,children:(0,Ot.jsx)("path",{d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),notification:(0,Ot.jsx)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",className:s,children:(0,Ot.jsx)("path",{d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),moon:(0,Ot.jsx)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",className:s,children:(0,Ot.jsx)("path",{d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),sun:(0,Ot.jsx)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",className:s,children:(0,Ot.jsx)("path",{d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})};return l[t]||l.theme},It=e=>{let{isOpen:t,onClose:n}=e;const[r,s]=(0,a.useState)(""),[l,i]=(0,a.useState)("all"),[o,c]=(0,a.useState)({}),[d,u]=(0,a.useState)(!1),[f,m]=(0,a.useState)(!1),[h,p]=(0,a.useState)(null),x=async()=>{if(r.trim()){u(!0);try{const e=localStorage.getItem("token"),t=/^\d+$/.test(r.trim()),n=await Pt.get("".concat(Lt,"/search/comprehensive"),{params:{q:r,search_type:t?"invoice":l},headers:{Authorization:"Bearer ".concat(e)}});if(c(n.data.results),t&&n.data.results.invoices&&n.data.results.invoices.length>0){const e=n.data.results.invoices[0];p(e),m(!0)}}catch(e){console.error("Search error:",e)}finally{u(!1)}}};return t?(0,Ot.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-start justify-center pt-10",children:[(0,Ot.jsxs)("div",{className:"glass-effect w-full max-w-5xl max-h-[90vh] overflow-hidden rounded-2xl shadow-2xl",children:[(0,Ot.jsxs)("div",{className:"p-6 border-b border-white border-opacity-20",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h2",{className:"text-2xl font-bold text-gradient",children:"\u0627\u0644\u0628\u062d\u062b \u0627\u0644\u0634\u0627\u0645\u0644"}),(0,Ot.jsx)("button",{onClick:n,className:"p-2 hover:bg-gray-100 hover:bg-opacity-10 rounded-full transition-colors",children:(0,Ot.jsx)(Ft,{name:"close",size:24})})]}),(0,Ot.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,Ot.jsxs)("div",{className:"flex-1 relative",children:[(0,Ot.jsx)("input",{type:"text",value:r,onChange:e=>s(e.target.value),onKeyPress:e=>{"Enter"===e.key&&x()},placeholder:"\u0627\u0628\u062d\u062b \u0639\u0646 \u0645\u0646\u062f\u0648\u0628\u060c \u0637\u0628\u064a\u0628\u060c \u0639\u064a\u0627\u062f\u0629\u060c \u0631\u0642\u0645 \u0641\u0627\u062a\u0648\u0631\u0629\u060c \u0623\u0648 \u0645\u0646\u062a\u062c...",className:"w-full p-4 pr-12 rounded-xl border-2 focus:outline-none focus:ring-2 focus:ring-blue-500 glass-effect",style:{borderColor:"var(--border-color)",color:"var(--text-primary)"}}),(0,Ot.jsx)("div",{className:"absolute right-4 top-4",children:(0,Ot.jsx)(Ft,{name:"search",size:20})})]}),(0,Ot.jsxs)("button",{onClick:x,className:"btn-modern px-8 py-4 flex items-center gap-2",disabled:d,children:[(0,Ot.jsx)(Ft,{name:"search",size:18}),"\u0628\u062d\u062b"]})]}),(0,Ot.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[{value:"all",label:"\u0627\u0644\u0628\u062d\u062b \u0627\u0644\u0634\u0627\u0645\u0644",icon:"search"},{value:"representative",label:"\u0627\u0644\u0645\u0646\u0627\u062f\u064a\u0628",icon:"user"},{value:"doctor",label:"\u0627\u0644\u0623\u0637\u0628\u0627\u0621",icon:"user"},{value:"clinic",label:"\u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a",icon:"warehouse"},{value:"invoice",label:"\u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631",icon:"reports"},{value:"product",label:"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a",icon:"warehouse"}].map((e=>(0,Ot.jsxs)("button",{onClick:()=>i(e.value),className:"px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 whitespace-nowrap flex items-center gap-2 ".concat(l===e.value?"bg-blue-500 text-white shadow-lg":"glass-effect hover:bg-gray-100 hover:bg-opacity-10"),children:[(0,Ot.jsx)(Ft,{name:e.icon,size:16}),e.label]},e.value)))})]}),(0,Ot.jsx)("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:d?(0,Ot.jsxs)("div",{className:"text-center py-12",children:[(0,Ot.jsx)("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,Ot.jsx)("p",{style:{color:"var(--text-secondary)"},children:"\u062c\u0627\u0631\u064a \u0627\u0644\u0628\u062d\u062b..."})]}):o&&0!==Object.keys(o).length?(0,Ot.jsxs)("div",{className:"space-y-8",children:[o.representatives&&o.representatives.length>0&&(0,Ot.jsxs)("div",{className:"search-section",children:[(0,Ot.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-3",children:[(0,Ot.jsx)(Ft,{name:"user",size:24}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0645\u0646\u0627\u062f\u064a\u0628 (",o.representatives.length,")"]})]}),(0,Ot.jsx)("div",{className:"grid gap-4",children:o.representatives.map((e=>{var t,n,r,a,s,l;return(0,Ot.jsx)("div",{className:"glass-effect p-4 hover:shadow-lg transition-all duration-300",children:(0,Ot.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Ot.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:e.photo?(0,Ot.jsx)("img",{src:e.photo,alt:e.name,className:"w-full h-full rounded-full object-cover"}):e.name.charAt(0)}),(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Ot.jsx)("h4",{className:"font-bold text-lg",children:e.name}),(0,Ot.jsx)("span",{className:"text-sm px-3 py-1 bg-blue-100 bg-opacity-20 rounded-full",children:"\u0645\u0646\u062f\u0648\u0628"})]}),(0,Ot.jsxs)("p",{className:"text-sm mb-3",style:{color:"var(--text-secondary)"},children:[e.username," \u2022 ",e.email]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a: ",(null===(t=e.statistics)||void 0===t||null===(n=t.visits)||void 0===n?void 0:n.total)||0]})]}),(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0637\u0644\u0628\u0627\u062a: ",(null===(r=e.statistics)||void 0===r||null===(a=r.orders)||void 0===a?void 0:a.total)||0]})]}),(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u062a\u0627\u0631\u062c\u064a\u062a: ",(null===(s=e.statistics)||void 0===s?void 0:s.target)||0," \u062c.\u0645"]})]}),(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0645\u062f\u064a\u0648\u0646\u064a\u0629: ",(null===(l=e.statistics)||void 0===l?void 0:l.pending_debt)||0," \u062c.\u0645"]})]})]})]})]})},e.id)}))})]}),o.doctors&&o.doctors.length>0&&(0,Ot.jsxs)("div",{className:"search-section",children:[(0,Ot.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-3",children:[(0,Ot.jsx)(Ft,{name:"user",size:24}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0623\u0637\u0628\u0627\u0621 (",o.doctors.length,")"]})]}),(0,Ot.jsx)("div",{className:"grid gap-4",children:o.doctors.map((e=>{var t;return(0,Ot.jsx)("div",{className:"glass-effect p-4 hover:shadow-lg transition-all duration-300",children:(0,Ot.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Ot.jsxs)("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-teal-600 rounded-full flex items-center justify-center text-white font-bold",children:["\u062f.",e.name.charAt(0)]}),(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Ot.jsxs)("h4",{className:"font-bold text-lg",children:["\u062f. ",e.name]}),(0,Ot.jsx)("span",{className:"text-sm px-3 py-1 bg-green-100 bg-opacity-20 rounded-full",children:"\u0637\u0628\u064a\u0628"})]}),(0,Ot.jsxs)("p",{className:"text-sm mb-3",style:{color:"var(--text-secondary)"},children:[e.specialty," \u2022 ",e.phone]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0639\u064a\u0627\u062f\u0629: ",(null===(t=e.clinic)||void 0===t?void 0:t.name)||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"]})]}),(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0637\u0644\u0628\u0627\u062a: ",e.total_orders||0]})]}),(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0645\u062f\u064a\u0648\u0646\u064a\u0629: ",e.pending_debt||0," \u062c.\u0645"]})]})]})]})]})},e.id)}))})]}),o.clinics&&o.clinics.length>0&&(0,Ot.jsxs)("div",{className:"search-section",children:[(0,Ot.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-3",children:[(0,Ot.jsx)(Ft,{name:"warehouse",size:24}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a (",o.clinics.length,")"]})]}),(0,Ot.jsx)("div",{className:"grid gap-4",children:o.clinics.map((e=>{var t;return(0,Ot.jsx)("div",{className:"glass-effect p-4 hover:shadow-lg transition-all duration-300",children:(0,Ot.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Ot.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center text-white font-bold",children:e.name.charAt(0)}),(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Ot.jsx)("h4",{className:"font-bold text-lg",children:e.name}),(0,Ot.jsx)("span",{className:"text-sm px-3 py-1 bg-purple-100 bg-opacity-20 rounded-full",children:"\u0639\u064a\u0627\u062f\u0629"})]}),(0,Ot.jsxs)("p",{className:"text-sm mb-3",style:{color:"var(--text-secondary)"},children:[e.address," \u2022 ",e.phone]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{className:"w-2 h-2 bg-indigo-500 rounded-full"}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0645\u062f\u064a\u0631: ",e.manager_name||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"]})]}),(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0623\u0637\u0628\u0627\u0621: ",(null===(t=e.doctors)||void 0===t?void 0:t.length)||0]})]}),(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0637\u0644\u0628\u0627\u062a: ",e.total_orders||0]})]}),(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0645\u062f\u064a\u0648\u0646\u064a\u0629: ",e.pending_debt||0," \u062c.\u0645"]})]})]})]})]})},e.id)}))})]}),o.invoices&&o.invoices.length>0&&(0,Ot.jsxs)("div",{className:"search-section",children:[(0,Ot.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-3",children:[(0,Ot.jsx)(Ft,{name:"reports",size:24}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631 (",o.invoices.length,")"]})]}),(0,Ot.jsx)("div",{className:"grid gap-4",children:o.invoices.map((e=>(0,Ot.jsx)("div",{className:"glass-effect p-4 hover:shadow-lg transition-all duration-300 cursor-pointer",onClick:()=>(e=>{p(e),m(!0)})(e),children:(0,Ot.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Ot.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-red-600 rounded-full flex items-center justify-center text-white font-bold",children:"#"}),(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Ot.jsxs)("h4",{className:"font-bold text-lg",children:["\u0641\u0627\u062a\u0648\u0631\u0629 #",e.id.slice(-8)]}),(0,Ot.jsx)("span",{className:"text-sm px-3 py-1 rounded-full ".concat("APPROVED"===e.status?"bg-green-100 bg-opacity-20 text-green-300":"PENDING"===e.status?"bg-yellow-100 bg-opacity-20 text-yellow-300":"bg-gray-100 bg-opacity-20 text-gray-300"),children:e.status})]}),(0,Ot.jsxs)("p",{className:"text-sm mb-3",style:{color:"var(--text-secondary)"},children:[e.sales_rep_name," \u2022 ",e.doctor_name," \u2022 ",e.clinic_name]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u062a\u0627\u0631\u064a\u062e: ",new Date(e.created_at).toLocaleDateString("ar-EG")]})]}),(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0642\u064a\u0645\u0629: ",e.total_amount," \u062c.\u0645"]})]})]})]})]})},e.id)))})]}),o.products&&o.products.length>0&&(0,Ot.jsxs)("div",{className:"search-section",children:[(0,Ot.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-3",children:[(0,Ot.jsx)(Ft,{name:"warehouse",size:24}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a (",o.products.length,")"]})]}),(0,Ot.jsx)("div",{className:"grid gap-4",children:o.products.map((e=>(0,Ot.jsx)("div",{className:"glass-effect p-4 hover:shadow-lg transition-all duration-300",children:(0,Ot.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Ot.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-blue-600 rounded-full flex items-center justify-center text-white font-bold",children:e.image?(0,Ot.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-full rounded-full object-cover"}):e.name.charAt(0)}),(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Ot.jsx)("h4",{className:"font-bold text-lg",children:e.name}),(0,Ot.jsx)("span",{className:"text-sm px-3 py-1 bg-indigo-100 bg-opacity-20 rounded-full",children:"\u0645\u0646\u062a\u062c"})]}),(0,Ot.jsxs)("p",{className:"text-sm mb-3",style:{color:"var(--text-secondary)"},children:[e.description," \u2022 ",e.category]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0633\u0639\u0631: ",e.price," \u062c.\u0645"]})]}),(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u0648\u062d\u062f\u0629: ",e.unit]})]}),(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),(0,Ot.jsxs)("span",{children:["\u062a\u0645 \u0637\u0644\u0628\u0647: ",e.total_ordered||0," \u0645\u0631\u0629"]})]})]})]})]})},e.id)))})]}),r&&0===Object.keys(o).length&&(0,Ot.jsxs)("div",{className:"text-center py-12",children:[(0,Ot.jsx)(Ft,{name:"search",size:64,className:"mx-auto mb-4 text-gray-400"}),(0,Ot.jsxs)("p",{className:"text-lg mb-2",style:{color:"var(--text-secondary)"},children:['\u0644\u0627 \u062a\u0648\u062c\u062f \u0646\u062a\u0627\u0626\u062c \u0644\u0640 "',r,'"']}),(0,Ot.jsx)("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:"\u062c\u0631\u0628 \u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0643\u0644\u0645\u0627\u062a \u0623\u062e\u0631\u0649 \u0623\u0648 \u0623\u0631\u0642\u0627\u0645 \u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631"})]})]}):(0,Ot.jsxs)("div",{className:"text-center py-12",children:[(0,Ot.jsx)(Ft,{name:"search",size:64,className:"mx-auto mb-4 text-gray-400"}),(0,Ot.jsx)("p",{style:{color:"var(--text-secondary)"},children:"\u0627\u0628\u062f\u0623 \u0627\u0644\u0628\u062d\u062b \u0644\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u0627\u0644\u0646\u062a\u0627\u0626\u062c"}),(0,Ot.jsx)("p",{className:"text-xs mt-2",style:{color:"var(--text-muted)"},children:"\u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0628\u062d\u062b \u0628\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0623\u0633\u0645\u0627\u0621 \u0623\u0648 \u0623\u0631\u0642\u0627\u0645 \u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631"})]})})]}),f&&h&&(0,Ot.jsx)(Ut,{invoice:h,onClose:()=>m(!1)})]}):null},Ut=e=>{let{invoice:t,onClose:n}=e;return(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-60 flex items-center justify-center p-4",children:(0,Ot.jsxs)("div",{className:"glass-effect w-full max-w-4xl max-h-[95vh] overflow-hidden rounded-2xl shadow-2xl",children:[(0,Ot.jsxs)("div",{className:"p-6 border-b border-white border-opacity-20 flex items-center justify-between",children:[(0,Ot.jsxs)("h3",{className:"text-2xl font-bold text-gradient",children:["\u0641\u0627\u062a\u0648\u0631\u0629 \u0631\u0642\u0645 #",t.id.slice(-8)]}),(0,Ot.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ot.jsxs)("button",{onClick:()=>{document.getElementById("enhanced-invoice-content"),"\u0641\u0627\u062a\u0648\u0631\u0629-".concat(t.id.slice(-8),".pdf");alert("\u0633\u064a\u062a\u0645 \u062a\u0646\u0632\u064a\u0644 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629 \u0642\u0631\u064a\u0628\u0627\u064b")},className:"btn-modern px-4 py-2 flex items-center gap-2",children:[(0,Ot.jsx)(Ft,{name:"download",size:16}),"\u062a\u0646\u0632\u064a\u0644 PDF"]}),(0,Ot.jsxs)("button",{onClick:()=>{const e=document.getElementById("enhanced-invoice-content"),t=document.body.innerHTML;document.body.innerHTML=e.outerHTML,window.print(),document.body.innerHTML=t,window.location.reload()},className:"btn-modern px-4 py-2 flex items-center gap-2",children:[(0,Ot.jsx)(Ft,{name:"print",size:16}),"\u0637\u0628\u0627\u0639\u0629"]}),(0,Ot.jsx)("button",{onClick:n,className:"p-2 hover:bg-gray-100 hover:bg-opacity-10 rounded-full transition-colors",children:(0,Ot.jsx)(Ft,{name:"close",size:20})})]})]}),(0,Ot.jsx)("div",{className:"p-6 overflow-y-auto max-h-[80vh]",id:"enhanced-invoice-content",children:(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"text-center mb-8",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-center gap-4 mb-4",children:[(0,Ot.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,Ot.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"white",children:(0,Ot.jsx)("path",{d:"M12 2L2 7v10c0 5.55 3.84 9.74 9 11 5.16-1.26 9-5.45 9-11V7l-10-5z"})})}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h1",{className:"text-3xl font-bold",children:"\u0646\u0638\u0627\u0645 \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a"}),(0,Ot.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Sales Management System"})]})]}),(0,Ot.jsx)("div",{className:"w-full h-1 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full"})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Ot.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)(Ft,{name:"reports",size:20}),"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629"]}),(0,Ot.jsxs)("div",{className:"space-y-3",children:[(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{className:"font-semibold",children:"\u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629:"}),(0,Ot.jsxs)("span",{className:"font-mono",children:["#",t.id.slice(-8)]})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{className:"font-semibold",children:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0646\u0634\u0627\u0621:"}),(0,Ot.jsx)("span",{children:new Date(t.created_at).toLocaleDateString("ar-EG")})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{className:"font-semibold",children:"\u0627\u0644\u0648\u0642\u062a:"}),(0,Ot.jsx)("span",{children:new Date(t.created_at).toLocaleTimeString("ar-EG")})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{className:"font-semibold",children:"\u0627\u0644\u062d\u0627\u0644\u0629:"}),(0,Ot.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat("APPROVED"===t.status?"bg-green-100 bg-opacity-20 text-green-300":"PENDING"===t.status?"bg-yellow-100 bg-opacity-20 text-yellow-300":"bg-gray-100 bg-opacity-20 text-gray-300"),children:t.status})]}),(0,Ot.jsxs)("div",{className:"flex justify-between border-t pt-3 mt-3",children:[(0,Ot.jsx)("span",{className:"font-bold text-lg",children:"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a:"}),(0,Ot.jsxs)("span",{className:"font-bold text-lg text-green-500",children:[t.total_amount," \u062c.\u0645"]})]})]})]}),(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Ot.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)(Ft,{name:"user",size:20}),"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0639\u0645\u064a\u0644"]}),(0,Ot.jsxs)("div",{className:"space-y-3",children:[(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{className:"font-semibold",children:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628:"}),(0,Ot.jsx)("span",{children:t.sales_rep_name})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{className:"font-semibold",children:"\u0627\u0644\u0637\u0628\u064a\u0628:"}),(0,Ot.jsxs)("span",{children:["\u062f. ",t.doctor_name]})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{className:"font-semibold",children:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629:"}),(0,Ot.jsx)("span",{children:t.clinic_name})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{className:"font-semibold",children:"\u0627\u0644\u0645\u062e\u0632\u0646:"}),(0,Ot.jsx)("span",{children:t.warehouse_name})]})]})]})]}),t.items&&t.items.length>0&&(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Ot.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)(Ft,{name:"warehouse",size:20}),"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a (",t.items.length,")"]}),(0,Ot.jsx)("div",{className:"overflow-x-auto",children:(0,Ot.jsxs)("table",{className:"w-full",children:[(0,Ot.jsx)("thead",{children:(0,Ot.jsxs)("tr",{className:"border-b",style:{borderColor:"var(--border-color)"},children:[(0,Ot.jsx)("th",{className:"text-right py-3 px-4 font-bold",children:"#"}),(0,Ot.jsx)("th",{className:"text-right py-3 px-4 font-bold",children:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c"}),(0,Ot.jsx)("th",{className:"text-right py-3 px-4 font-bold",children:"\u0627\u0644\u0643\u0645\u064a\u0629"}),(0,Ot.jsx)("th",{className:"text-right py-3 px-4 font-bold",children:"\u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0629"}),(0,Ot.jsx)("th",{className:"text-right py-3 px-4 font-bold",children:"\u0627\u0644\u062e\u0635\u0645"}),(0,Ot.jsx)("th",{className:"text-right py-3 px-4 font-bold",children:"\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a"})]})}),(0,Ot.jsx)("tbody",{children:t.items.map(((e,t)=>(0,Ot.jsxs)("tr",{className:"border-b border-opacity-20",style:{borderColor:"var(--border-color)"},children:[(0,Ot.jsx)("td",{className:"py-3 px-4 text-center",children:t+1}),(0,Ot.jsxs)("td",{className:"py-3 px-4",children:[(0,Ot.jsx)("div",{className:"font-medium",children:e.product_name}),e.product_description&&(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:e.product_description})]}),(0,Ot.jsx)("td",{className:"py-3 px-4 text-center",children:e.quantity}),(0,Ot.jsxs)("td",{className:"py-3 px-4 text-center",children:[e.unit_price," \u062c.\u0645"]}),(0,Ot.jsx)("td",{className:"py-3 px-4 text-center",children:e.discount_amount?"".concat(e.discount_amount," \u062c.\u0645"):"-"}),(0,Ot.jsxs)("td",{className:"py-3 px-4 text-center font-bold",children:[(e.quantity*e.unit_price-(e.discount_amount||0)).toFixed(2)," \u062c.\u0645"]})]},t)))}),(0,Ot.jsx)("tfoot",{children:(0,Ot.jsxs)("tr",{className:"border-t-2 border-blue-500",children:[(0,Ot.jsx)("td",{colSpan:"5",className:"py-3 px-4 text-right font-bold text-lg",children:"\u0627\u0644\u0645\u062c\u0645\u0648\u0639 \u0627\u0644\u0643\u0644\u064a:"}),(0,Ot.jsxs)("td",{className:"py-3 px-4 text-center font-bold text-lg text-green-500",children:[t.total_amount," \u062c.\u0645"]})]})})]})})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.notes&&(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Ot.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)(Ft,{name:"chat",size:20}),"\u0645\u0644\u0627\u062d\u0638\u0627\u062a"]}),(0,Ot.jsx)("p",{className:"text-sm leading-relaxed",children:t.notes})]}),(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-xl",children:[(0,Ot.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)(Ft,{name:"reports",size:20}),"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062f\u0641\u0639"]}),(0,Ot.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{children:"\u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u062f\u0641\u0639:"}),(0,Ot.jsx)("span",{children:t.payment_method||"\u0622\u062c\u0644"})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{children:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0633\u062a\u062d\u0642\u0627\u0642:"}),(0,Ot.jsx)("span",{children:t.due_date?new Date(t.due_date).toLocaleDateString("ar-EG"):"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{children:"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0645\u062f\u0641\u0648\u0639:"}),(0,Ot.jsxs)("span",{className:"text-green-500",children:[t.paid_amount||0," \u062c.\u0645"]})]}),(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsx)("span",{children:"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0645\u062a\u0628\u0642\u064a:"}),(0,Ot.jsxs)("span",{className:"text-red-500",children:[(t.total_amount-(t.paid_amount||0)).toFixed(2)," \u062c.\u0645"]})]})]})]})]}),(0,Ot.jsxs)("div",{className:"text-center mt-8 pt-6 border-t border-white border-opacity-20",children:[(0,Ot.jsx)("p",{className:"text-sm mb-2",style:{color:"var(--text-secondary)"},children:"\u0634\u0643\u0631\u0627\u064b \u0644\u0643 \u0639\u0644\u0649 \u062b\u0642\u062a\u0643 \u0641\u064a \u0646\u0638\u0627\u0645 \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a"}),(0,Ot.jsxs)("p",{className:"text-xs",style:{color:"var(--text-muted)"},children:["\u062a\u0645 \u0625\u0646\u0634\u0627\u0621 \u0647\u0630\u0647 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629 \u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a\u0627\u064b \u0641\u064a ",(new Date).toLocaleString("ar-EG")]}),(0,Ot.jsxs)("div",{className:"mt-4 flex items-center justify-center gap-4",children:[(0,Ot.jsx)("div",{className:"w-16 h-1 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full"}),(0,Ot.jsx)("span",{className:"text-xs font-bold",children:"Sales Management System"}),(0,Ot.jsx)("div",{className:"w-16 h-1 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full"})]})]})]})})]})})},Bt=e=>{let{showLabel:t=!1,isDropdown:n=!1}=e;const{theme:r,cycleTheme:a,availableThemes:s,setSpecificTheme:l}=Dt(),i=e=>({light:"sun",dark:"moon",minimal:"theme",modern:"theme",fancy:"theme"}[e]||"theme"),o=e=>({light:"\u0641\u0627\u062a\u062d",dark:"\u062f\u0627\u0643\u0646",minimal:"\u0628\u0633\u064a\u0637",modern:"\u0639\u0635\u0631\u064a",fancy:"\u0641\u0627\u062e\u0631",cyber:"\u0633\u0627\u064a\u0628\u0631",sunset:"\u063a\u0631\u0648\u0628",ocean:"\u0645\u062d\u064a\u0637",forest:"\u063a\u0627\u0628\u0629"}[e]||e);return n?(0,Ot.jsxs)("div",{className:"relative group",children:[(0,Ot.jsxs)("button",{className:"theme-toggle flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 hover:bg-opacity-10 transition-all duration-200",title:"\u0627\u0644\u062b\u064a\u0645 \u0627\u0644\u062d\u0627\u0644\u064a: ".concat(o(r)),children:[(0,Ot.jsx)(Ft,{name:i(r),size:20}),t&&(0,Ot.jsx)("span",{children:o(r)})]}),(0,Ot.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white bg-opacity-95 backdrop-blur-sm rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:s.map((e=>(0,Ot.jsxs)("button",{onClick:()=>l(e),className:"w-full flex items-center gap-3 px-4 py-2 text-right hover:bg-gray-100 hover:bg-opacity-20 transition-colors ".concat(r===e?"bg-blue-500 bg-opacity-20":""),children:[(0,Ot.jsx)(Ft,{name:i(e),size:16}),(0,Ot.jsx)("span",{children:o(e)})]},e)))})]}):(0,Ot.jsxs)("button",{onClick:a,className:"theme-toggle flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 hover:bg-opacity-10 transition-all duration-200",title:"\u0627\u0644\u062b\u064a\u0645 \u0627\u0644\u062d\u0627\u0644\u064a: ".concat(o(r)," - \u0627\u0636\u063a\u0637 \u0644\u0644\u062a\u0628\u062f\u064a\u0644"),children:[(0,Ot.jsx)(Ft,{name:i(r),size:20}),t&&(0,Ot.jsx)("span",{children:o(r)})]})},qt=(0,a.createContext)(),Vt=()=>{const e=(0,a.useContext)(qt);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Ht=e=>{let{children:t}=e;const[n,r]=(0,a.useState)(null),[s,l]=(0,a.useState)(!0);(0,a.useEffect)((()=>{const e=localStorage.getItem("token");e?i(e):l(!1)}),[]);const i=async e=>{try{const t=await Pt.get("".concat(Lt,"/auth/me"),{headers:{Authorization:"Bearer ".concat(e)}});r(t.data)}catch(t){localStorage.removeItem("token")}finally{l(!1)}},o={user:n,login:async(e,t)=>{try{const n=await Pt.post("".concat(Lt,"/auth/login"),{username:e,password:t}),{token:a,user:s}=n.data;return localStorage.setItem("token",a),r(s),{success:!0}}catch(s){var n,a;return{success:!1,error:(null===(n=s.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.detail)||"\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644"}}},logout:()=>{localStorage.removeItem("token"),r(null)},loading:s};return(0,Ot.jsx)(qt.Provider,{value:o,children:t})},Wt=()=>{const[e,t]=(0,a.useState)(""),[n,r]=(0,a.useState)(""),[s,l]=(0,a.useState)(""),[i,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null),{login:u}=Vt();(0,a.useEffect)((()=>{f()}),[]);const f=async()=>{try{const e=await Pt.get("".concat(Lt,"/settings"));d(e.data)}catch(s){console.error("Error fetching settings:",s)}};return(0,Ot.jsxs)("div",{style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh"},children:[(0,Ot.jsx)(Bt,{}),(0,Ot.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,Ot.jsx)("div",{className:"floating",children:(0,Ot.jsxs)("div",{className:"card-modern w-full max-w-md p-8 fade-in-up glass-effect",children:[(0,Ot.jsxs)("div",{className:"text-center mb-8",children:[(0,Ot.jsx)("div",{className:"mb-6",children:null!==c&&void 0!==c&&c.logo_image?(0,Ot.jsx)("img",{src:c.logo_image,alt:"\u0634\u0639\u0627\u0631 \u0627\u0644\u0634\u0631\u0643\u0629",className:"w-24 h-24 mx-auto rounded-full object-cover glow-pulse"}):(0,Ot.jsx)("div",{className:"w-24 h-24 mx-auto card-gradient-orange rounded-full flex items-center justify-center glow-pulse",children:(0,Ot.jsx)("span",{className:"text-4xl",children:"\ud83c\udfe5"})})}),(0,Ot.jsx)("h1",{className:"text-4xl font-bold text-gradient mb-3",children:(null===c||void 0===c?void 0:c.company_name)||"\u0646\u0638\u0627\u0645 \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0646\u0627\u062f\u064a\u0628"}),(0,Ot.jsx)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:"\u0645\u0646\u0635\u0629 \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0646\u0627\u062f\u064a\u0628 \u0627\u0644\u0637\u0628\u064a\u0629 \u0627\u0644\u0645\u062a\u0642\u062f\u0645\u0629"})]}),(0,Ot.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),o(!0),l("");const r=await u(e,n);r.success||l(r.error),o(!1)},className:"space-y-8 form-modern",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{children:(0,Ot.jsx)("span",{className:"text-shadow-glow",children:"\ud83e\uddd1\u200d\ud83d\udcbc \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"})}),(0,Ot.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),className:"w-full focus-visible",placeholder:"\u0623\u062f\u062e\u0644 \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{children:(0,Ot.jsx)("span",{className:"text-shadow-glow",children:"\ud83d\udd12 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"})}),(0,Ot.jsx)("input",{type:"password",value:n,onChange:e=>r(e.target.value),className:"w-full focus-visible",placeholder:"\u0623\u062f\u062e\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",required:!0})]}),s&&(0,Ot.jsxs)("div",{className:"alert-modern alert-error scale-in",children:[(0,Ot.jsx)("span",{className:"ml-2",children:"\u26a0\ufe0f"}),s]}),(0,Ot.jsx)("button",{type:"submit",disabled:i,className:"w-full btn-primary neon-glow",children:i?(0,Ot.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,Ot.jsx)("div",{className:"loading-shimmer w-6 h-6 rounded-full"}),(0,Ot.jsx)("span",{children:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0642\u0642..."})]}):(0,Ot.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\ude80"}),(0,Ot.jsx)("span",{children:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644"})]})})]}),(0,Ot.jsx)("div",{className:"mt-8",children:(0,Ot.jsxs)("div",{className:"card-gradient-blue p-6 rounded-2xl text-center",children:[(0,Ot.jsxs)("h3",{className:"font-bold mb-3 flex items-center justify-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udca1"}),(0,Ot.jsx)("span",{children:"\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u062a\u062c\u0631\u0628\u0629"})]}),(0,Ot.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Ot.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ot.jsx)("span",{className:"font-bold",children:"\u0623\u062f\u0645\u0646:"}),(0,Ot.jsx)("span",{children:"admin / admin123"})]}),(0,Ot.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ot.jsx)("span",{className:"font-bold",children:"\u0645\u0646\u062f\u0648\u0628:"}),(0,Ot.jsx)("span",{children:"\u0623\u0646\u0634\u0626 \u0645\u0646 \u0644\u0648\u062d\u0629 \u0627\u0644\u0623\u062f\u0645\u0646"})]})]})]})})]})})})]})},$t=()=>{const[e,t]=(0,a.useState)({logo_image:"",company_name:"\u0646\u0638\u0627\u0645 \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0646\u0627\u062f\u064a\u0628",primary_color:"#ff6b35",secondary_color:"#0ea5e9"}),[n,r]=(0,a.useState)(""),[s,l]=(0,a.useState)(""),[i,o]=(0,a.useState)(!1);(0,a.useEffect)((()=>{c()}),[]);const c=async()=>{try{const e=localStorage.getItem("token"),n=await Pt.get("".concat(Lt,"/settings"),{headers:{Authorization:"Bearer ".concat(e)}});t(n.data)}catch(n){r("\u062e\u0637\u0623 \u0641\u064a \u062c\u0644\u0628 \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a")}};return(0,Ot.jsxs)("div",{style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh"},children:[(0,Ot.jsx)(Bt,{}),(0,Ot.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,Ot.jsxs)("div",{className:"card-modern p-8 page-transition",children:[(0,Ot.jsxs)("div",{className:"flex items-center mb-8",children:[(0,Ot.jsx)("div",{className:"w-16 h-16 card-gradient-purple rounded-full flex items-center justify-center ml-4 glow-pulse",children:(0,Ot.jsx)("span",{className:"text-3xl",children:"\u2699\ufe0f"})}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h2",{className:"text-3xl font-bold text-gradient",children:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0646\u0638\u0627\u0645"}),(0,Ot.jsx)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:"\u062a\u062e\u0635\u064a\u0635 \u0634\u0643\u0644 \u0648\u0645\u0638\u0647\u0631 \u0627\u0644\u0646\u0638\u0627\u0645"})]})]}),n&&(0,Ot.jsxs)("div",{className:"alert-modern alert-error mb-6 scale-in",children:[(0,Ot.jsx)("span",{className:"ml-2",children:"\u26a0\ufe0f"}),n]}),s&&(0,Ot.jsxs)("div",{className:"alert-modern alert-success mb-6 scale-in",children:[(0,Ot.jsx)("span",{className:"ml-2",children:"\u2705"}),s]}),(0,Ot.jsxs)("div",{className:"space-y-8 form-modern",children:[(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-3",children:[(0,Ot.jsx)("span",{className:"text-2xl",children:"\ud83d\uddbc\ufe0f"}),(0,Ot.jsx)("span",{children:"\u0634\u0639\u0627\u0631 \u0627\u0644\u0634\u0631\u0643\u0629"})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0631\u0641\u0639 \u0634\u0639\u0627\u0631 \u062c\u062f\u064a\u062f"}),(0,Ot.jsx)("input",{type:"file",accept:"image/*",onChange:n=>{const a=n.target.files[0];if(a){if(a.size>5242880)return void r("\u062d\u062c\u0645 \u0627\u0644\u0635\u0648\u0631\u0629 \u064a\u062c\u0628 \u0623\u0646 \u064a\u0643\u0648\u0646 \u0623\u0642\u0644 \u0645\u0646 5 \u0645\u064a\u062c\u0627\u0628\u0627\u064a\u062a");const n=new FileReader;n.onload=n=>{t(d(d({},e),{},{logo_image:n.target.result}))},n.readAsDataURL(a)}},className:"w-full p-4 border-2 border-dashed rounded-xl hover:border-orange-500 transition-colors",style:{background:"var(--glass-bg)",borderColor:"var(--brand-orange)",borderOpacity:.3}}),(0,Ot.jsx)("p",{className:"text-sm mt-2",style:{color:"var(--text-muted)"},children:"\u064a\u064f\u0641\u0636\u0644 \u0623\u0646 \u064a\u0643\u0648\u0646 \u0627\u0644\u0634\u0639\u0627\u0631 \u0645\u0631\u0628\u0639 \u0627\u0644\u0634\u0643\u0644 \u0648\u0628\u062d\u062c\u0645 \u0623\u0642\u0635\u0649 5 \u0645\u064a\u062c\u0627\u0628\u0627\u064a\u062a"})]}),(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0645\u0639\u0627\u064a\u0646\u0629 \u0627\u0644\u0634\u0639\u0627\u0631 \u0627\u0644\u062d\u0627\u0644\u064a"}),e.logo_image?(0,Ot.jsx)("img",{src:e.logo_image,alt:"\u0634\u0639\u0627\u0631 \u0627\u0644\u0634\u0631\u0643\u0629",className:"w-32 h-32 mx-auto rounded-full object-cover shadow-lg"}):(0,Ot.jsx)("div",{className:"w-32 h-32 mx-auto card-gradient-orange rounded-full flex items-center justify-center",children:(0,Ot.jsx)("span",{className:"text-4xl",children:"\ud83c\udfe5"})})]})]})]}),(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-3",children:[(0,Ot.jsx)("span",{className:"text-2xl",children:"\ud83c\udfe2"}),(0,Ot.jsx)("span",{children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0634\u0631\u0643\u0629"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629"}),(0,Ot.jsx)("input",{type:"text",value:e.company_name,onChange:n=>t(d(d({},e),{},{company_name:n.target.value})),className:"w-full",placeholder:"\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629 \u0623\u0648 \u0627\u0644\u0645\u0624\u0633\u0633\u0629"})]})]}),(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-3",children:[(0,Ot.jsx)("span",{className:"text-2xl",children:"\ud83c\udfa8"}),(0,Ot.jsx)("span",{children:"\u0623\u0644\u0648\u0627\u0646 \u0627\u0644\u0646\u0638\u0627\u0645"})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0644\u0648\u0646 \u0627\u0644\u0623\u0633\u0627\u0633\u064a"}),(0,Ot.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ot.jsx)("input",{type:"color",value:e.primary_color,onChange:n=>t(d(d({},e),{},{primary_color:n.target.value})),className:"w-16 h-12 rounded-lg border-2 cursor-pointer",style:{borderColor:"var(--accent-bg)"}}),(0,Ot.jsx)("input",{type:"text",value:e.primary_color,onChange:n=>t(d(d({},e),{},{primary_color:n.target.value})),className:"flex-1",placeholder:"#ff6b35"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0644\u0648\u0646 \u0627\u0644\u062b\u0627\u0646\u0648\u064a"}),(0,Ot.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ot.jsx)("input",{type:"color",value:e.secondary_color,onChange:n=>t(d(d({},e),{},{secondary_color:n.target.value})),className:"w-16 h-12 rounded-lg border-2 cursor-pointer",style:{borderColor:"var(--accent-bg)"}}),(0,Ot.jsx)("input",{type:"text",value:e.secondary_color,onChange:n=>t(d(d({},e),{},{secondary_color:n.target.value})),className:"flex-1",placeholder:"#0ea5e9"})]})]})]})]}),(0,Ot.jsx)("div",{className:"text-center",children:(0,Ot.jsx)("button",{onClick:async()=>{o(!0),r(""),l("");try{const t=localStorage.getItem("token");await Pt.post("".concat(Lt,"/settings"),e,{headers:{Authorization:"Bearer ".concat(t)}}),l("\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0628\u0646\u062c\u0627\u062d")}catch(n){var t,a;r((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||"\u062e\u0637\u0623 \u0641\u064a \u062d\u0641\u0638 \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a")}finally{o(!1)}},disabled:i,className:"btn-primary text-xl py-4 px-8 neon-glow",children:i?(0,Ot.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,Ot.jsx)("div",{className:"loading-shimmer w-6 h-6 rounded-full"}),(0,Ot.jsx)("span",{children:"\u062c\u0627\u0631\u064a \u0627\u0644\u062d\u0641\u0638..."})]}):(0,Ot.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,Ot.jsx)("span",{children:"\ud83d\udcbe"}),(0,Ot.jsx)("span",{children:"\u062d\u0641\u0638 \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a"})]})})})]})]})})]})},Qt=()=>{var e;const[t,n]=(0,a.useState)([]),[r,s]=(0,a.useState)(null),[l,i]=(0,a.useState)([]),[o,c]=(0,a.useState)(""),[u,f]=(0,a.useState)([]),[m,h]=(0,a.useState)(!1),[p,x]=(0,a.useState)(""),[g,v]=(0,a.useState)(!1),[b,y]=(0,a.useState)(null),{user:j}=Vt();(0,a.useEffect)((()=>{w(),N()}),[]),(0,a.useEffect)((()=>{if(r){k(r.id);const e=setInterval((()=>k(r.id)),5e3);return()=>clearInterval(e)}}),[r]);const w=async()=>{try{const e=localStorage.getItem("token"),t=await Pt.get("".concat(Lt,"/conversations"),{headers:{Authorization:"Bearer ".concat(e)}});n(t.data)}catch(e){console.error("Error fetching conversations:",e)}},N=async()=>{try{const e=localStorage.getItem("token"),t=await Pt.get("".concat(Lt,"/users"),{headers:{Authorization:"Bearer ".concat(e)}});f(t.data.filter((e=>e.id!==j.id)))}catch(e){console.error("Error fetching users:",e)}},k=async e=>{try{const t=localStorage.getItem("token"),n=await Pt.get("".concat(Lt,"/conversations/").concat(e,"/messages"),{headers:{Authorization:"Bearer ".concat(t)}});i(n.data)}catch(t){console.error("Error fetching messages:",t)}},S=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"TEXT",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!r)return;const n=d(d({message_type:e},"TEXT"===e?{message_text:o}:{}),"VOICE"===e?{voice_note:t}:{});if("TEXT"!==e||o.trim())try{const t=localStorage.getItem("token");await Pt.post("".concat(Lt,"/conversations/").concat(r.id,"/messages"),n,{headers:{Authorization:"Bearer ".concat(t)}}),"TEXT"===e&&c(""),k(r.id)}catch(a){console.error("Error sending message:",a)}};return(0,Ot.jsxs)("div",{style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh"},children:[(0,Ot.jsx)(Bt,{}),(0,Ot.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Ot.jsxs)("div",{className:"flex items-center mb-8",children:[(0,Ot.jsx)("div",{className:"w-16 h-16 card-gradient-blue rounded-full flex items-center justify-center ml-4 glow-pulse",children:(0,Ot.jsx)("span",{className:"text-3xl",children:"\ud83d\udcac"})}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h2",{className:"text-3xl font-bold text-gradient",children:"\u0646\u0638\u0627\u0645 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a"}),(0,Ot.jsx)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:"\u062a\u0648\u0627\u0635\u0644 \u0645\u0639 \u0627\u0644\u0645\u0646\u0627\u062f\u064a\u0628 \u0648\u0627\u0644\u0645\u062f\u064a\u0631\u064a\u0646"})]})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-96",children:[(0,Ot.jsxs)("div",{className:"card-modern p-4",children:[(0,Ot.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ot.jsx)("h3",{className:"text-lg font-bold",children:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a"}),(0,Ot.jsx)("button",{onClick:()=>h(!0),className:"btn-primary text-sm py-2 px-4",children:"+ \u0645\u062d\u0627\u062f\u062b\u0629 \u062c\u062f\u064a\u062f\u0629"})]}),(0,Ot.jsx)("div",{className:"space-y-2 overflow-y-auto max-h-80",children:t.map((e=>{var t,n;return(0,Ot.jsxs)("div",{onClick:()=>s(e),className:"p-3 rounded-lg cursor-pointer transition-colors ".concat((null===r||void 0===r?void 0:r.id)===e.id?"bg-orange-100 bg-opacity-20":"hover:bg-gray-100 hover:bg-opacity-10"),children:[(0,Ot.jsx)("div",{className:"font-semibold",children:null===(t=e.participant_names)||void 0===t?void 0:t.join(", ")}),(0,Ot.jsx)("div",{className:"text-sm text-gray-500 truncate",children:(null===(n=e.last_message)||void 0===n?void 0:n.message_text)||"\u0631\u0633\u0627\u0644\u0629 \u0635\u0648\u062a\u064a\u0629"}),(0,Ot.jsx)("div",{className:"text-xs text-gray-400",children:new Date(e.last_message_at).toLocaleTimeString("ar-EG")})]},e.id)}))})]}),(0,Ot.jsx)("div",{className:"lg:col-span-2 card-modern flex flex-col",children:r?(0,Ot.jsxs)(Ot.Fragment,{children:[(0,Ot.jsx)("div",{className:"p-4 border-b",style:{borderColor:"var(--accent-bg)"},children:(0,Ot.jsx)("h3",{className:"font-bold",children:null===(e=r.participant_names)||void 0===e?void 0:e.join(", ")})}),(0,Ot.jsx)("div",{className:"flex-1 p-4 overflow-y-auto space-y-3",children:l.map((e=>(0,Ot.jsx)("div",{className:"flex ".concat(e.sender_id===j.id?"justify-end":"justify-start"),children:(0,Ot.jsxs)("div",{className:"max-w-xs lg:max-w-md px-4 py-2 rounded-lg ".concat(e.sender_id===j.id?"bg-orange-500 text-white":"glass-effect"),children:["TEXT"===e.message_type?(0,Ot.jsx)("p",{children:e.message_text}):(0,Ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83c\udfb5"}),(0,Ot.jsx)("audio",{controls:!0,className:"w-32",children:(0,Ot.jsx)("source",{src:e.voice_note,type:"audio/wav"})})]}),(0,Ot.jsx)("div",{className:"text-xs opacity-75 mt-1",children:new Date(e.created_at).toLocaleTimeString("ar-EG")})]})},e.id)))}),(0,Ot.jsx)("div",{className:"p-4 border-t",style:{borderColor:"var(--accent-bg)"},children:(0,Ot.jsxs)("div",{className:"flex gap-2",children:[(0,Ot.jsx)("input",{type:"text",value:o,onChange:e=>c(e.target.value),onKeyPress:e=>"Enter"===e.key&&S(),placeholder:"\u0627\u0643\u062a\u0628 \u0631\u0633\u0627\u0644\u062a\u0643...",className:"flex-1 form-modern"}),(0,Ot.jsx)("button",{onClick:()=>S(),className:"btn-primary px-4",children:"\ud83d\udce4"}),(0,Ot.jsx)("button",{onClick:g?()=>{b&&g&&(b.stop(),v(!1),y(null))}:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=new MediaRecorder(e),n=[];t.ondataavailable=e=>n.push(e.data),t.onstop=()=>{const t=new Blob(n,{type:"audio/wav"}),r=new FileReader;r.onloadend=()=>{const e=r.result;S("VOICE",e)},r.readAsDataURL(t),e.getTracks().forEach((e=>e.stop()))},t.start(),y(t),v(!0)}catch(e){console.error("Error starting recording:",e)}},className:"px-4 py-2 rounded-lg ".concat(g?"bg-red-500 text-white":"btn-success"),children:g?"\ud83d\uded1":"\ud83c\udfa4"})]})})]}):(0,Ot.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,Ot.jsxs)("div",{className:"text-center",style:{color:"var(--text-secondary)"},children:[(0,Ot.jsx)("span",{className:"text-6xl block mb-4",children:"\ud83d\udcac"}),(0,Ot.jsx)("p",{children:"\u0627\u062e\u062a\u0631 \u0645\u062d\u0627\u062f\u062b\u0629 \u0644\u0644\u0628\u062f\u0621"})]})})})]}),m&&(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Ot.jsxs)("div",{className:"modal-modern p-6 w-full max-w-md",children:[(0,Ot.jsx)("h3",{className:"text-lg font-bold mb-4",children:"\u0645\u062d\u0627\u062f\u062b\u0629 \u062c\u062f\u064a\u062f\u0629"}),(0,Ot.jsxs)("div",{className:"mb-4",children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u062e\u062a\u0631 \u0645\u0633\u062a\u062e\u062f\u0645:"}),(0,Ot.jsxs)("select",{value:p,onChange:e=>x(e.target.value),className:"w-full form-modern",children:[(0,Ot.jsx)("option",{value:"",children:"\u0627\u062e\u062a\u0631 \u0645\u0633\u062a\u062e\u062f\u0645"}),u.map((e=>(0,Ot.jsxs)("option",{value:e.id,children:[e.full_name," (",e.role,")"]},e.id)))]})]}),(0,Ot.jsxs)("div",{className:"flex gap-3",children:[(0,Ot.jsx)("button",{onClick:async()=>{if(p)try{const e=localStorage.getItem("token");await Pt.post("".concat(Lt,"/conversations"),{participants:[p]},{headers:{Authorization:"Bearer ".concat(e)}}),h(!1),x(""),w()}catch(e){console.error("Error creating conversation:",e)}},className:"btn-primary flex-1",children:"\u0628\u062f\u0621 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629"}),(0,Ot.jsx)("button",{onClick:()=>h(!1),className:"btn-warning flex-1",children:"\u0625\u0644\u063a\u0627\u0621"})]})]})})]})]})},Gt=e=>{let{stats:t,user:n}=e;const[r,s]=(0,a.useState)("week"),[l,i]=(0,a.useState)({}),[o,c]=(0,a.useState)([]),[u,f]=(0,a.useState)(t),[m,h]=(0,a.useState)(!1),{analytics:p,loading:x}=an(),{language:g}=(0,a.useContext)(Rt),v={en:{title:"\ud83d\udcca Comprehensive Statistics Dashboard",subtitle:"Complete overview of system and team performance",today:"Today",week:"Week",month:"Month",quarter:"Quarter",live:"Live",quickActions:"\u26a1 Quick Actions",liveStats:"\ud83d\udd34 Live Statistics",updatesEvery30:"(Updates every 30 seconds)",visitsToday:"Visits Today",activeSalesReps:"Active Sales Reps",pendingOrders:"Pending Orders",totalUsers:"Total Users",totalClinics:"Total Clinics",totalVisits:"Total Visits",totalWarehouses:"Total Warehouses",lowStockItems:"Low Stock Items",todayVisits:"Today's Visits",lastUpdated:"Last updated:"},ar:{title:"\ud83d\udcca \u0644\u0648\u062d\u0629 \u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a \u0627\u0644\u0634\u0627\u0645\u0644\u0629",subtitle:"\u0646\u0638\u0631\u0629 \u0634\u0627\u0645\u0644\u0629 \u0639\u0644\u0649 \u0623\u062f\u0627\u0621 \u0627\u0644\u0646\u0638\u0627\u0645 \u0648\u0627\u0644\u0641\u0631\u064a\u0642",today:"\u0627\u0644\u064a\u0648\u0645",week:"\u0627\u0644\u0623\u0633\u0628\u0648\u0639",month:"\u0627\u0644\u0634\u0647\u0631",quarter:"\u0627\u0644\u0631\u0628\u0639",live:"\u0645\u0628\u0627\u0634\u0631",quickActions:"\u26a1 \u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0633\u0631\u064a\u0639\u0629",liveStats:"\ud83d\udd34 \u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a \u0627\u0644\u0645\u0628\u0627\u0634\u0631\u0629",updatesEvery30:"(\u064a\u062a\u0645 \u0627\u0644\u062a\u062d\u062f\u064a\u062b \u0643\u0644 30 \u062b\u0627\u0646\u064a\u0629)",visitsToday:"\u0632\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u064a\u0648\u0645",activeSalesReps:"\u0645\u0646\u0627\u062f\u064a\u0628 \u0646\u0634\u0637\u064a\u0646 \u0627\u0644\u0622\u0646",pendingOrders:"\u0637\u0644\u0628\u064a\u0627\u062a \u0645\u0639\u0644\u0642\u0629",totalUsers:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",totalClinics:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a",totalVisits:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a",totalWarehouses:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u062e\u0627\u0632\u0646",lowStockItems:"\u0645\u0646\u062a\u062c\u0627\u062a \u0646\u0642\u0635 \u0645\u062e\u0632\u0648\u0646",todayVisits:"\u0632\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u064a\u0648\u0645",lastUpdated:"\u0622\u062e\u0631 \u062a\u062d\u062f\u064a\u062b:"}},b=v[g]||v.en;(0,a.useEffect)((()=>{y(),w(),j()}),[r]);const y=async()=>{h(!0);try{let e=d({},t);switch(r){case"today":const t=localStorage.getItem("token");e=(await Pt.get("".concat(Lt,"/dashboard/stats?period=today"),{headers:{Authorization:"Bearer ".concat(t)}})).data;break;case"week":break;case"month":e=(await Pt.get("".concat(Lt,"/dashboard/stats?period=month"),{headers:{Authorization:"Bearer ".concat(t)}})).data;break;case"quarter":e=(await Pt.get("".concat(Lt,"/dashboard/stats?period=quarter"),{headers:{Authorization:"Bearer ".concat(t)}})).data}f(e),i({users_growth:"+12%",visits_growth:"+8%",clinics_growth:"+15%",revenue_growth:"+22%"})}catch(e){console.error("Error fetching time-filtered data:",e),f(t)}finally{h(!1)}},j=async()=>{await y()},w=async()=>{const e=[];u.pending_reviews>0&&e.push({type:"reviews",count:u.pending_reviews,text:"ar"===g?"\u0645\u0631\u0627\u062c\u0639\u0627\u062a \u062a\u062d\u062a\u0627\u062c \u0645\u0648\u0627\u0641\u0642\u0629":"Reviews Need Approval"}),u.low_stock_items>0&&e.push({type:"stock",count:u.low_stock_items,text:"ar"===g?"\u0645\u0646\u062a\u062c\u0627\u062a \u0646\u0642\u0635 \u0645\u062e\u0632\u0648\u0646":"Low Stock Items"}),u.pending_clinics>0&&e.push({type:"clinics",count:u.pending_clinics,text:"ar"===g?"\u0639\u064a\u0627\u062f\u0627\u062a \u062a\u062d\u062a\u0627\u062c \u0645\u0648\u0627\u0641\u0642\u0629":"Clinics Need Approval"}),c(e)},N=[{key:"total_users",title:b.totalUsers,icon:"\ud83d\udc65",color:"bg-blue-500",growth:l.users_growth},{key:"total_clinics",title:b.totalClinics,icon:"\ud83c\udfe5",color:"bg-green-500",growth:l.clinics_growth},{key:"total_visits",title:b.totalVisits,icon:"\ud83d\udccb",color:"bg-indigo-500",growth:l.visits_growth},{key:"total_warehouses",title:b.totalWarehouses,icon:"\ud83c\udfea",color:"bg-pink-500",growth:"+0%"},{key:"today_visits",title:b.todayVisits,icon:"\ud83d\udcc5",color:"bg-teal-500",growth:"+18%"},{key:"low_stock_items",title:b.lowStockItems,icon:"\u26a0\ufe0f",color:"bg-red-500",isAlert:!0}];return(0,Ot.jsx)("div",{style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh"},children:(0,Ot.jsxs)("div",{className:"space-y-8",children:[(0,Ot.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Ot.jsx)("h2",{className:"text-3xl font-bold text-gradient",children:b.title}),p&&(0,Ot.jsxs)("div",{className:"flex items-center gap-2 bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm animate-pulse",children:[(0,Ot.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,Ot.jsx)("span",{children:b.live})]})]}),(0,Ot.jsxs)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:[b.subtitle," - ",b.lastUpdated," ",null!==p&&void 0!==p&&p.timestamp?new Date(p.timestamp).toLocaleTimeString("ar"===g?"ar-EG":"en-US"):"ar"===g?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644...":"Loading..."]})]}),(0,Ot.jsx)("div",{className:"flex gap-2",children:["today","week","month","quarter"].map((e=>(0,Ot.jsx)("button",{onClick:()=>{s(e)},disabled:m,className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat(r===e?"btn-primary":"btn-secondary"," ").concat(m?"opacity-50 cursor-not-allowed":""),children:m&&r===e?(0,Ot.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):b[e]},e)))})]}),p&&(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udd34"}),(0,Ot.jsx)("span",{children:b.liveStats}),(0,Ot.jsx)("span",{className:"text-sm text-green-600 animate-pulse",children:b.updatesEvery30})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Ot.jsxs)("div",{className:"glass-effect p-4 rounded-lg border-l-4 border-blue-500",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:p.live_stats.visits_today}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:b.visitsToday})]}),(0,Ot.jsxs)("div",{className:"glass-effect p-4 rounded-lg border-l-4 border-green-500",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-green-600",children:p.live_stats.active_sales_reps}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:b.activeSalesReps})]}),(0,Ot.jsxs)("div",{className:"glass-effect p-4 rounded-lg border-l-4 border-orange-500",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-orange-600",children:p.live_stats.pending_orders}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:b.pendingOrders})]})]})]}),o.length>0&&(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\u26a1"}),(0,Ot.jsx)("span",{children:b.quickActions})]}),(0,Ot.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:o.map(((e,t)=>(0,Ot.jsx)("div",{className:"glass-effect p-4 rounded-lg border-l-4 border-orange-500",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:e.text}),(0,Ot.jsx)("p",{className:"text-2xl font-bold text-orange-500",children:e.count})]}),(0,Ot.jsx)("button",{className:"btn-warning text-sm",children:"ar"===g?"\u0639\u0631\u0636":"View"})]})},t)))})]}),(0,Ot.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:N.map((e=>{const n=t[e.key]||0;return(0,Ot.jsxs)("div",{className:"card-modern p-6 relative overflow-hidden",children:[(0,Ot.jsx)("div",{className:"absolute top-0 right-0 w-20 h-20 rounded-full opacity-10 -mr-10 -mt-10",style:{background:e.color.replace("bg-","")}}),(0,Ot.jsxs)("div",{className:"relative z-10",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ot.jsx)("div",{className:"w-12 h-12 ".concat(e.color," rounded-lg flex items-center justify-center text-white text-xl"),children:e.icon}),e.growth&&(0,Ot.jsx)("span",{className:"text-sm font-medium px-2 py-1 rounded-lg ".concat(e.isAlert?"bg-red-100 text-red-600":"bg-green-100 text-green-600"),children:e.growth})]}),(0,Ot.jsx)("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--text-secondary)"},children:e.title}),(0,Ot.jsx)("p",{className:"text-3xl font-bold ".concat(e.isAlert?"text-red-500":""),style:{color:e.isAlert?void 0:"var(--text-primary)"},children:n})]})]},e.key)}))}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udcc8"}),(0,Ot.jsx)("span",{children:"ar"===g?"\u0623\u062f\u0627\u0621 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a":"Visits Performance"})]}),null!==p&&void 0!==p&&p.chart_data?(0,Ot.jsx)("div",{className:"h-64",children:(0,Ot.jsx)("div",{className:"flex items-center justify-center h-full bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg",children:(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udcca"}),(0,Ot.jsx)("p",{className:"text-gray-600 mb-2",children:"ar"===g?"\u0631\u0633\u0645 \u0628\u064a\u0627\u0646\u064a \u062a\u0641\u0627\u0639\u0644\u064a \u0644\u0644\u0623\u062f\u0627\u0621":"Interactive Performance Chart"}),(0,Ot.jsx)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:p.chart_data.slice(-4).map(((e,t)=>(0,Ot.jsxs)("div",{className:"bg-white p-3 rounded-lg shadow",children:[(0,Ot.jsx)("div",{className:"text-sm text-gray-500",children:new Date(e.date).toLocaleDateString()}),(0,Ot.jsxs)("div",{className:"text-lg font-bold text-blue-600",children:[e.visits," ","ar"===g?"\u0632\u064a\u0627\u0631\u0629":"visits"]})]},t)))})]})})}):(0,Ot.jsx)("div",{className:"h-64 flex items-center justify-center glass-effect rounded-lg",children:(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udcca"}),(0,Ot.jsx)("p",{style:{color:"var(--text-secondary)"},children:"ar"===g?"\u0631\u0633\u0645 \u0628\u064a\u0627\u0646\u064a \u0644\u0623\u062f\u0627\u0621 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a":"Visits Performance Chart"}),(0,Ot.jsx)("p",{className:"text-sm mt-2",style:{color:"var(--text-muted)"},children:"ar"===g?"\u064a\u062a\u0645 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a...":"Loading data..."})]})})]}),(0,Ot.jsx)(Kt,{language:g})]}),"admin"===n.role&&(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udc51"}),(0,Ot.jsx)("span",{children:"ar"===g?"\u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0627\u0644\u0645\u062f\u064a\u0631":"Admin Actions"})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Ot.jsx)(Yt,{icon:"\ud83d\udcca",text:"ar"===g?"\u062a\u0635\u062f\u064a\u0631 \u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631":"Export Reports",onClick:()=>en()}),(0,Ot.jsx)(Yt,{icon:"\ud83d\udc65",text:"ar"===g?"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646":"User Management",onClick:()=>tn()}),(0,Ot.jsx)(Yt,{icon:"\u2699\ufe0f",text:"ar"===g?"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0646\u0638\u0627\u0645":"System Settings",onClick:()=>nn()})]})]})]})})},Kt=e=>{let{language:t}=e;const[n,r]=(0,a.useState)([]),[s,l]=(0,a.useState)(!0);(0,a.useEffect)((()=>{i()}),[]);const i=async()=>{try{const e=localStorage.getItem("token"),t=await Pt.get("".concat(Lt,"/activities/recent"),{headers:{Authorization:"Bearer ".concat(e)}}),n=Array.isArray(t.data)?t.data:[];r(n)}catch(e){r([{id:1,type:"visit",message:"ar"===t?"\u0632\u064a\u0627\u0631\u0629 \u062c\u062f\u064a\u062f\u0629 \u0644\u0644\u062f\u0643\u062a\u0648\u0631 \u0623\u062d\u0645\u062f \u0645\u0646 \u0627\u0644\u0645\u0646\u062f\u0648\u0628 \u0645\u062d\u0645\u0648\u062f":"New visit to Dr. Ahmed by sales rep Mahmoud",details:{doctor:"ar"===t?"\u062f. \u0623\u062d\u0645\u062f \u0645\u062d\u0645\u062f":"Dr. Ahmed Mohamed",sales_rep:"ar"===t?"\u0645\u062d\u0645\u0648\u062f \u0639\u0644\u064a":"Mahmoud Ali",clinic:"ar"===t?"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0646\u0648\u0631":"Al Nour Clinic",visit_time:"10:30 AM",effectiveness:!0},timestamp:new Date(Date.now()-3e5).toISOString(),color:"text-green-500"},{id:2,type:"clinic",message:"ar"===t?"\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0639\u064a\u0627\u062f\u0629 \u062c\u062f\u064a\u062f\u0629 \u0645\u0646 \u0627\u0644\u0645\u0646\u062f\u0648\u0628 \u0625\u0628\u0631\u0627\u0647\u064a\u0645":"New clinic added by sales rep Ibrahim",details:{clinic_name:"ar"===t?"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0634\u0641\u0627\u0621":"Al Shifa Clinic",sales_rep:"ar"===t?"\u0625\u0628\u0631\u0627\u0647\u064a\u0645 \u062d\u0633\u0646":"Ibrahim Hassan",address:"ar"===t?"\u0634\u0627\u0631\u0639 \u0627\u0644\u062c\u0645\u0647\u0648\u0631\u064a\u0629\u060c \u0627\u0644\u0645\u0646\u0635\u0648\u0631\u0629":"Gomhoria Street, Mansoura",status:"pending_approval"},timestamp:new Date(Date.now()-9e5).toISOString(),color:"text-blue-500"},{id:3,type:"order",message:"ar"===t?"\u0637\u0644\u0628\u064a\u0629 \u062c\u062f\u064a\u062f\u0629 \u0645\u0646 \u0627\u0644\u0645\u0646\u062f\u0648\u0628 \u0625\u0628\u0631\u0627\u0647\u064a\u0645 \u062a\u062d\u062a\u0627\u062c \u0644\u0644\u0645\u0648\u0627\u0641\u0642\u0629":"New order from sales rep Ibrahim needs approval",details:{order_id:"ORD-2024-001",sales_rep:"ar"===t?"\u0625\u0628\u0631\u0627\u0647\u064a\u0645 \u062d\u0633\u0646":"Ibrahim Hassan",clinic:"ar"===t?"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0623\u0645\u0644":"Al Amal Clinic",total_amount:2500,currency:"EGP",items_count:5,status:"pending_manager_approval"},timestamp:new Date(Date.now()-18e5).toISOString(),color:"text-orange-500"},{id:4,type:"user",message:"ar"===t?"\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062a\u062e\u062f\u0645 \u062c\u062f\u064a\u062f \u0645\u0646 \u0627\u0644\u0645\u062f\u064a\u0631 \u0639\u0644\u064a":"New user added by manager Ali",details:{user_name:"ar"===t?"\u062e\u0627\u0644\u062f \u0645\u062d\u0645\u062f":"Khaled Mohamed",role:"sales_rep",manager:"ar"===t?"\u0639\u0644\u064a \u0623\u062d\u0645\u062f":"Ali Ahmed",department:"ar"===t?"\u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a - \u0627\u0644\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u0634\u0631\u0642\u064a\u0629":"Sales - Eastern Region",employee_id:"EMP-2024-012"},timestamp:new Date(Date.now()-36e5).toISOString(),color:"text-purple-500"}]),console.error("Using mock data for activities:",e)}finally{l(!1)}},[o,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(!1);return(0,Ot.jsxs)(Ot.Fragment,{children:[(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udd50"}),(0,Ot.jsx)("span",{children:"ar"===t?"\u0627\u0644\u0646\u0634\u0627\u0637\u0627\u062a \u0627\u0644\u0623\u062e\u064a\u0631\u0629":"Recent Activities"})]}),s?(0,Ot.jsx)("div",{className:"space-y-3",children:[1,2,3,4].map((e=>(0,Ot.jsxs)("div",{className:"animate-pulse flex items-center gap-3 p-3",children:[(0,Ot.jsx)("div",{className:"w-8 h-8 bg-gray-300 rounded-full"}),(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsx)("div",{className:"h-4 bg-gray-300 rounded mb-2"}),(0,Ot.jsx)("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]})]},e)))}):(0,Ot.jsx)("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:n.map((e=>{return(0,Ot.jsxs)("div",{className:"flex items-center gap-3 p-3 glass-effect rounded-lg cursor-pointer hover:bg-white/10 transition-colors",onClick:()=>(e=>{c(e),u(!0)})(e),children:[(0,Ot.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white font-bold ".concat("visit"===e.type?"bg-green-500":"clinic"===e.type?"bg-blue-500":"order"===e.type?"bg-orange-500":"bg-purple-500"),children:(n=e.type,{visit:"\ud83d\udc68\u200d\u2695\ufe0f",clinic:"\ud83c\udfe5",order:"\ud83d\udce6",user:"\ud83d\udc64",approval:"\u2705",warehouse:"\ud83c\udfea"}[n]||"\ud83d\udccb")}),(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsx)("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:e.message}),(0,Ot.jsx)("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:new Date(e.timestamp).toLocaleString("ar"===t?"ar-EG":"en-US")})]}),(0,Ot.jsx)("div",{className:"text-gray-400",children:(0,Ot.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ot.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]},e.id);var n}))})]}),d&&o&&(0,Ot.jsx)(Xt,{activity:o,language:t,onClose:()=>u(!1)})]})},Xt=e=>{let{activity:t,language:n,onClose:r}=e;const a={en:{activityDetails:"Activity Details",visitDetails:"Visit Details",clinicDetails:"Clinic Details",orderDetails:"Order Details",userDetails:"User Details",close:"Close"},ar:{activityDetails:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0646\u0634\u0627\u0637",visitDetails:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0629",clinicDetails:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0639\u064a\u0627\u062f\u0629",orderDetails:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0637\u0644\u0628\u064a\u0629",userDetails:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",close:"\u0625\u063a\u0644\u0627\u0642"}},s=a[n]||a.en;return(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ot.jsxs)("div",{className:"modal-modern p-8 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:s.activityDetails}),(0,Ot.jsx)("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\u2715"})]}),(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg",children:[(0,Ot.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white text-xl ".concat("visit"===t.type?"bg-green-500":"clinic"===t.type?"bg-blue-500":"order"===t.type?"bg-orange-500":"bg-purple-500"),children:"visit"===t.type?"\ud83d\udc68\u200d\u2695\ufe0f":"clinic"===t.type?"\ud83c\udfe5":"order"===t.type?"\ud83d\udce6":"\ud83d\udc64"}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h4",{className:"text-lg font-bold text-gray-800",children:t.message}),(0,Ot.jsx)("p",{className:"text-sm text-gray-600",children:new Date(t.timestamp).toLocaleString("ar"===n?"ar-EG":"en-US")})]})]}),(0,Ot.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(t.details||{}).map((e=>{let[t,n]=e;return(0,Ot.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-sm font-bold text-gray-600 capitalize mb-1",children:t.replace("_"," ")}),(0,Ot.jsx)("div",{className:"text-lg text-gray-800",children:"boolean"===typeof n?n?"\u2705":"\u274c":"number"===typeof n?n.toLocaleString():n})]},t)}))})]}),(0,Ot.jsx)("div",{className:"flex justify-end mt-6",children:(0,Ot.jsx)("button",{onClick:r,className:"btn-primary px-6 py-3",children:s.close})})]})})},Yt=e=>{let{icon:t,text:n,onClick:r}=e;return(0,Ot.jsxs)("button",{onClick:r,className:"btn-primary flex items-center justify-center gap-2 py-3 hover:scale-105 transition-transform",children:[(0,Ot.jsx)("span",{className:"text-xl",children:t}),(0,Ot.jsx)("span",{children:n})]})},Jt=e=>{let{onCapture:t,onSkip:n}=e;const r=(0,a.useRef)(null),s=(0,a.useRef)(null),[l,i]=(0,a.useState)(null),[o,c]=(0,a.useState)(!1),{language:d}=(0,a.useContext)(Rt),u={en:{title:"\ud83d\udcf7 Daily Check-in Selfie",subtitle:"Please take a selfie to verify your attendance",startCamera:"\ud83c\udfa5 Start Camera",takeSelfie:"\ud83d\udcf8 Take Selfie",retake:"\ud83d\udd04 Retake",confirm:"\u2705 Confirm",skip:"\u23ed\ufe0f Skip for Now",cameraError:"Cannot access camera. Please allow camera permissions."},ar:{title:"\ud83d\udcf7 \u0633\u064a\u0644\u0641\u064a \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062d\u0636\u0648\u0631 \u0627\u0644\u064a\u0648\u0645\u064a",subtitle:"\u064a\u0631\u062c\u0649 \u0623\u062e\u0630 \u0633\u064a\u0644\u0641\u064a \u0644\u0644\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0636\u0648\u0631\u0643",startCamera:"\ud83c\udfa5 \u062a\u0634\u063a\u064a\u0644 \u0627\u0644\u0643\u0627\u0645\u064a\u0631\u0627",takeSelfie:"\ud83d\udcf8 \u0627\u0644\u062a\u0642\u0627\u0637 \u0633\u064a\u0644\u0641\u064a",retake:"\ud83d\udd04 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u062a\u0642\u0627\u0637",confirm:"\u2705 \u062a\u0623\u0643\u064a\u062f",skip:"\u23ed\ufe0f \u062a\u062e\u0637\u064a \u0627\u0644\u0622\u0646",cameraError:"\u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0643\u0627\u0645\u064a\u0631\u0627. \u064a\u0631\u062c\u0649 \u0627\u0644\u0633\u0645\u0627\u062d \u0628\u0635\u0644\u0627\u062d\u064a\u0627\u062a \u0627\u0644\u0643\u0627\u0645\u064a\u0631\u0627."}},f=u[d]||u.en,m=async e=>{try{const n=localStorage.getItem("token");await Pt.post("".concat(Lt,"/users/selfie"),{selfie_image:e,timestamp:(new Date).toISOString(),location:await h()},{headers:{Authorization:"Bearer ".concat(n)}}),t&&t(e)}catch(n){console.error("Error saving selfie:",n)}},h=()=>new Promise((e=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((t=>e({latitude:t.coords.latitude,longitude:t.coords.longitude})),(()=>e({latitude:null,longitude:null}))):e({latitude:null,longitude:null})})),p=()=>{l&&(l.getTracks().forEach((e=>e.stop())),i(null))};return(0,a.useEffect)((()=>()=>p()),[]),(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",children:(0,Ot.jsxs)("div",{className:"modal-modern p-8 w-full max-w-md",children:[(0,Ot.jsxs)("div",{className:"text-center mb-6",children:[(0,Ot.jsx)("h3",{className:"text-2xl font-bold text-gradient mb-2",children:f.title}),(0,Ot.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:f.subtitle})]}),(0,Ot.jsxs)("div",{className:"space-y-4",children:[(0,Ot.jsx)("div",{className:"relative bg-black rounded-lg overflow-hidden",style:{aspectRatio:"4/3"},children:l?(0,Ot.jsxs)(Ot.Fragment,{children:[(0,Ot.jsx)("video",{ref:r,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),(0,Ot.jsx)("div",{className:"absolute inset-4 border-2 border-green-400 rounded-lg"})]}):(0,Ot.jsx)("div",{className:"flex items-center justify-center h-full text-white",children:(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcf7"}),(0,Ot.jsx)("button",{onClick:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:640,height:480}});i(e),r.current&&(r.current.srcObject=e)}catch(e){console.error("Error accessing camera:",e),alert(f.cameraError)}},className:"btn-primary",children:f.startCamera})]})})}),(0,Ot.jsx)("canvas",{ref:s,style:{display:"none"}}),l&&(0,Ot.jsx)("div",{className:"flex gap-3",children:(0,Ot.jsxs)("button",{onClick:()=>{if(s.current&&r.current){const e=s.current,t=r.current,n=e.getContext("2d");e.width=t.videoWidth,e.height=t.videoHeight,n.drawImage(t,0,0);const a=e.toDataURL("image/jpeg",.8);c(!0),m(a)}},className:"btn-success flex-1 flex items-center justify-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udcf8"}),(0,Ot.jsx)("span",{children:f.takeSelfie})]})}),(0,Ot.jsx)("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:(0,Ot.jsx)("button",{onClick:()=>{p(),n&&n()},className:"btn-secondary flex-1",children:f.skip})})]})]})})},Zt=e=>{var t,n,r,s;let{user:l,onClose:i}=e;const[o,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(!0),{language:f}=(0,a.useContext)(Rt),m={en:{title:"\ud83d\udccb Today's Plan",subtitle:"Your daily tasks and schedule",visits:"Visits Scheduled",orders:"Orders to Process",clinics:"Clinics to Visit",startDay:"\ud83d\ude80 Start Your Day",viewMap:"\ud83d\uddfa\ufe0f View on Map",noTasks:"No tasks scheduled for today",loading:"Loading your daily plan..."},ar:{title:"\ud83d\udccb \u062e\u0637\u0629 \u0627\u0644\u064a\u0648\u0645",subtitle:"\u0645\u0647\u0627\u0645\u0643 \u0648\u062c\u062f\u0648\u0644\u0643 \u0627\u0644\u064a\u0648\u0645\u064a",visits:"\u0632\u064a\u0627\u0631\u0627\u062a \u0645\u062c\u062f\u0648\u0644\u0629",orders:"\u0637\u0644\u0628\u0627\u062a \u0644\u0644\u0645\u0639\u0627\u0644\u062c\u0629",clinics:"\u0639\u064a\u0627\u062f\u0627\u062a \u0644\u0644\u0632\u064a\u0627\u0631\u0629",startDay:"\ud83d\ude80 \u0627\u0628\u062f\u0623 \u064a\u0648\u0645\u0643",viewMap:"\ud83d\uddfa\ufe0f \u0639\u0631\u0636 \u0639\u0644\u0649 \u0627\u0644\u062e\u0631\u064a\u0637\u0629",noTasks:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0647\u0627\u0645 \u0645\u062c\u062f\u0648\u0644\u0629 \u0644\u0644\u064a\u0648\u0645",loading:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u062e\u0637\u0629 \u0627\u0644\u064a\u0648\u0645..."}},h=m[f]||m.en;(0,a.useEffect)((()=>{p()}),[]);const p=async()=>{try{const e=localStorage.getItem("token"),t=await Pt.get("".concat(Lt,"/users/").concat(l.id,"/daily-plan"),{headers:{Authorization:"Bearer ".concat(e)}});c(t.data)}catch(e){c({visits:[{id:1,clinic_name:"ar"===f?"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0646\u0648\u0631":"Al Nour Clinic",doctor_name:"ar"===f?"\u062f. \u0623\u062d\u0645\u062f \u0645\u062d\u0645\u062f":"Dr. Ahmed Mohamed",time:"10:00 AM",address:"ar"===f?"\u0634\u0627\u0631\u0639 \u0627\u0644\u062c\u0645\u0647\u0648\u0631\u064a\u0629\u060c \u0627\u0644\u0645\u0646\u0635\u0648\u0631\u0629":"Gomhoria Street, Mansoura",status:"pending"},{id:2,clinic_name:"ar"===f?"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0634\u0641\u0627\u0621":"Al Shifa Clinic",doctor_name:"ar"===f?"\u062f. \u0641\u0627\u0637\u0645\u0629 \u0639\u0644\u064a":"Dr. Fatema Ali",time:"2:00 PM",address:"ar"===f?"\u0634\u0627\u0631\u0639 \u0627\u0644\u0645\u062d\u0637\u0629\u060c \u0627\u0644\u0645\u0646\u0635\u0648\u0631\u0629":"Station Street, Mansoura",status:"pending"}],orders:[{id:1,clinic_name:"ar"===f?"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0623\u0645\u0644":"Al Amal Clinic",items_count:5,total_amount:2500,status:"pending_delivery"}],route_optimized:!0,estimated_duration:"6 hours",total_distance:"45 km"})}finally{u(!1)}};return d?(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Ot.jsx)("div",{className:"modal-modern p-8 w-full max-w-2xl",children:(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsx)("div",{className:"w-16 h-16 loading-shimmer rounded-full mx-auto mb-4"}),(0,Ot.jsx)("p",{children:h.loading})]})})}):(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ot.jsxs)("div",{className:"modal-modern p-8 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:h.title}),(0,Ot.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:h.subtitle})]}),(0,Ot.jsx)("button",{onClick:i,className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\u2715"})]}),(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Ot.jsxs)("div",{className:"card-modern p-4 text-center",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null===o||void 0===o||null===(t=o.visits)||void 0===t?void 0:t.length)||0}),(0,Ot.jsx)("div",{className:"text-sm text-gray-600",children:h.visits})]}),(0,Ot.jsxs)("div",{className:"card-modern p-4 text-center",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(null===o||void 0===o||null===(n=o.orders)||void 0===n?void 0:n.length)||0}),(0,Ot.jsx)("div",{className:"text-sm text-gray-600",children:h.orders})]}),(0,Ot.jsxs)("div",{className:"card-modern p-4 text-center",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:(null===o||void 0===o?void 0:o.estimated_duration)||"N/A"}),(0,Ot.jsx)("div",{className:"text-sm text-gray-600",children:"ar"===f?"\u0645\u062f\u0629 \u0645\u062a\u0648\u0642\u0639\u0629":"Estimated Duration"})]})]}),(null===o||void 0===o?void 0:o.visits)&&o.visits.length>0&&(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udc68\u200d\u2695\ufe0f"}),(0,Ot.jsx)("span",{children:h.visits})]}),(0,Ot.jsx)("div",{className:"space-y-3",children:o.visits.map(((e,t)=>(0,Ot.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[(0,Ot.jsx)("div",{className:"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-bold",children:t+1}),(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsx)("div",{className:"font-medium text-lg",children:e.clinic_name}),(0,Ot.jsx)("div",{className:"text-sm text-gray-600",children:e.doctor_name}),(0,Ot.jsx)("div",{className:"text-xs text-gray-500",children:e.address})]}),(0,Ot.jsxs)("div",{className:"text-right",children:[(0,Ot.jsx)("div",{className:"text-lg font-bold text-blue-600",children:e.time}),(0,Ot.jsx)("div",{className:"text-xs text-gray-500",children:"ar"===f?"\u0645\u0639\u0644\u0642":"Pending"})]})]},e.id)))})]}),(null===o||void 0===o?void 0:o.orders)&&o.orders.length>0&&(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsxs)("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udce6"}),(0,Ot.jsx)("span",{children:h.orders})]}),(0,Ot.jsx)("div",{className:"space-y-3",children:o.orders.map((e=>(0,Ot.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"font-medium",children:e.clinic_name}),(0,Ot.jsxs)("div",{className:"text-sm text-gray-600",children:[e.items_count," ","ar"===f?"\u0639\u0646\u0627\u0635\u0631":"items"," \u2022 ",e.total_amount.toLocaleString()," EGP"]})]}),(0,Ot.jsx)("div",{className:"text-sm text-orange-600 font-medium",children:"ar"===f?"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u062a\u0633\u0644\u064a\u0645":"Pending Delivery"})]},e.id)))})]}),0===(null===o||void 0===o||null===(r=o.visits)||void 0===r?void 0:r.length)&&0===(null===o||void 0===o||null===(s=o.orders)||void 0===s?void 0:s.length)&&(0,Ot.jsxs)("div",{className:"text-center py-12",children:[(0,Ot.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udccb"}),(0,Ot.jsx)("p",{className:"text-lg text-gray-600",children:h.noTasks})]}),(0,Ot.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[(0,Ot.jsxs)("button",{onClick:i,className:"btn-primary flex-1 flex items-center justify-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\ude80"}),(0,Ot.jsx)("span",{children:h.startDay})]}),(0,Ot.jsxs)("button",{className:"btn-info flex items-center justify-center gap-2 px-6",children:[(0,Ot.jsx)("span",{children:"\ud83d\uddfa\ufe0f"}),(0,Ot.jsx)("span",{children:h.viewMap})]})]})]})]})})},en=()=>{const e={generated_at:(new Date).toISOString(),type:"comprehensive",format:"pdf"},t="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e,null,2)),n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download","report_".concat(Date.now(),".json")),document.body.appendChild(n),n.click(),n.remove()},tn=()=>{const e=new CustomEvent("navigateToTab",{detail:"users"});window.dispatchEvent(e)},nn=()=>{const e=new CustomEvent("navigateToTab",{detail:"settings"});window.dispatchEvent(e)},rn=()=>{var e,t;const[n,r]=(0,a.useState)([]),[s,l]=(0,a.useState)(!1),[i,o]=(0,a.useState)(!1),[c,u]=(0,a.useState)(!1),[f,m]=(0,a.useState)(null),[h,p]=(0,a.useState)({username:"",email:"",password:"",full_name:"",role:"",phone:"",manager_id:"",department:"",employee_id:""}),[x,g]=(0,a.useState)(""),[v,b]=(0,a.useState)(""),[y,j]=(0,a.useState)(!1),[w,N]=(0,a.useState)(""),[k,S]=(0,a.useState)("all"),[_,E]=(0,a.useState)("all"),[C,T]=(0,a.useState)(""),[A,z]=(0,a.useState)(new Set),[P,O]=(0,a.useState)({});(0,a.useEffect)((()=>{L(),R()}),[]);const L=async()=>{j(!0);try{const e=localStorage.getItem("token"),t=await Pt.get("".concat(Lt,"/users"),{headers:{Authorization:"Bearer ".concat(e)}});r(t.data)}catch(x){g("\u062e\u0637\u0623 \u0641\u064a \u062c\u0644\u0628 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646")}finally{j(!1)}},R=async()=>{try{const e=localStorage.getItem("token"),t=await Pt.get("".concat(Lt,"/reports/users"),{headers:{Authorization:"Bearer ".concat(e)}});O(t.data)}catch(x){console.error("Error fetching user stats:",x)}},D=e=>({admin:"\u0645\u062f\u064a\u0631 \u0627\u0644\u0646\u0638\u0627\u0645",manager:"\u0645\u062f\u064a\u0631",sales_rep:"\u0645\u0646\u062f\u0648\u0628 \u0645\u0628\u064a\u0639\u0627\u062a",warehouse_manager:"\u0645\u062f\u064a\u0631 \u0645\u062e\u0632\u0646",accounting:"\u0645\u062d\u0627\u0633\u0628"}[e]||e),M=n.filter((e=>{const t=e.full_name.toLowerCase().includes(w.toLowerCase())||e.username.toLowerCase().includes(w.toLowerCase())||e.email.toLowerCase().includes(w.toLowerCase()),n="all"===k||e.role===k,r="all"===_||"active"===_&&e.is_active||"inactive"===_&&!e.is_active;return t&&n&&r}));return(0,Ot.jsxs)("div",{style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh"},children:[(0,Ot.jsx)(Bt,{}),(0,Ot.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,Ot.jsxs)("div",{className:"flex items-center",children:[(0,Ot.jsx)("div",{className:"w-16 h-16 card-gradient-blue rounded-full flex items-center justify-center ml-4 glow-pulse",children:(0,Ot.jsx)("span",{className:"text-3xl",children:"\ud83d\udc65"})}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h2",{className:"text-4xl font-bold text-gradient",children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0627\u0644\u0634\u0627\u0645\u0644\u0629"}),(0,Ot.jsx)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:"\u0625\u062f\u0627\u0631\u0629 \u0643\u0627\u0645\u0644\u0629 \u0644\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0645\u0639 \u062c\u0645\u064a\u0639 \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a \u0648\u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a"})]})]}),(0,Ot.jsxs)("button",{onClick:()=>l(!0),className:"btn-primary flex items-center gap-2 px-6 py-3 neon-glow",children:[(0,Ot.jsx)("span",{children:"\u2795"}),(0,Ot.jsx)("span",{children:"\u0645\u0633\u062a\u062e\u062f\u0645 \u062c\u062f\u064a\u062f"})]})]}),P.total_users&&(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,Ot.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:P.total_users}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"})]}),(0,Ot.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-green-600",children:(null===(e=P.active_distribution)||void 0===e?void 0:e.active)||0}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0646\u0634\u0637\u064a\u0646"})]}),(0,Ot.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-red-600",children:(null===(t=P.active_distribution)||void 0===t?void 0:t.inactive)||0}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0645\u0639\u0637\u0644\u064a\u0646"})]}),(0,Ot.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-purple-600",children:Object.keys(P.role_distribution||{}).length}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u0623\u062f\u0648\u0627\u0631"})]})]}),x&&(0,Ot.jsxs)("div",{className:"alert-modern alert-error mb-6 scale-in",children:[(0,Ot.jsx)("span",{className:"ml-2",children:"\u274c"}),x]}),v&&(0,Ot.jsxs)("div",{className:"alert-modern alert-success mb-6 scale-in",children:[(0,Ot.jsx)("span",{className:"ml-2",children:"\u2705"}),v]}),(0,Ot.jsx)("div",{className:"card-modern p-6 mb-8",children:(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0628\u062d\u062b:"}),(0,Ot.jsx)("input",{type:"text",value:w,onChange:e=>N(e.target.value),placeholder:"\u0627\u0628\u062d\u062b \u0628\u0627\u0644\u0627\u0633\u0645 \u0623\u0648 \u0627\u0644\u0628\u0631\u064a\u062f...",className:"form-modern w-full"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0641\u0644\u062a\u0631\u0629 \u0628\u0627\u0644\u062f\u0648\u0631:"}),(0,Ot.jsxs)("select",{value:k,onChange:e=>S(e.target.value),className:"form-modern w-full",children:[(0,Ot.jsx)("option",{value:"all",children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0623\u062f\u0648\u0627\u0631"}),(0,Ot.jsx)("option",{value:"admin",children:"\u0645\u062f\u064a\u0631 \u0627\u0644\u0646\u0638\u0627\u0645"}),(0,Ot.jsx)("option",{value:"manager",children:"\u0645\u062f\u064a\u0631"}),(0,Ot.jsx)("option",{value:"sales_rep",children:"\u0645\u0646\u062f\u0648\u0628 \u0645\u0628\u064a\u0639\u0627\u062a"}),(0,Ot.jsx)("option",{value:"warehouse_manager",children:"\u0645\u062f\u064a\u0631 \u0645\u062e\u0632\u0646"}),(0,Ot.jsx)("option",{value:"accounting",children:"\u0645\u062d\u0627\u0633\u0628"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0641\u0644\u062a\u0631\u0629 \u0628\u0627\u0644\u062d\u0627\u0644\u0629:"}),(0,Ot.jsxs)("select",{value:_,onChange:e=>E(e.target.value),className:"form-modern w-full",children:[(0,Ot.jsx)("option",{value:"all",children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0627\u0644\u0627\u062a"}),(0,Ot.jsx)("option",{value:"active",children:"\u0646\u0634\u0637"}),(0,Ot.jsx)("option",{value:"inactive",children:"\u063a\u064a\u0631 \u0646\u0634\u0637"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0625\u062c\u0631\u0627\u0621 \u062c\u0645\u0627\u0639\u064a:"}),(0,Ot.jsxs)("select",{value:C,onChange:e=>T(e.target.value),className:"form-modern w-full",children:[(0,Ot.jsx)("option",{value:"",children:"\u0627\u062e\u062a\u0631 \u0625\u062c\u0631\u0627\u0621"}),(0,Ot.jsx)("option",{value:"activate",children:"\u062a\u0646\u0634\u064a\u0637 \u0627\u0644\u0645\u062d\u062f\u062f"}),(0,Ot.jsx)("option",{value:"deactivate",children:"\u062a\u0639\u0637\u064a\u0644 \u0627\u0644\u0645\u062d\u062f\u062f"})]})]}),(0,Ot.jsxs)("div",{className:"flex items-end gap-2",children:[(0,Ot.jsxs)("button",{onClick:L,className:"btn-info flex-1 flex items-center justify-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udd04"}),(0,Ot.jsx)("span",{children:"\u062a\u062d\u062f\u064a\u062b"})]}),A.size>0&&C&&(0,Ot.jsxs)("button",{onClick:async()=>{if(!C||0===A.size)return;if(window.confirm('\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062a\u0637\u0628\u064a\u0642 "'.concat(C,'" \u0639\u0644\u0649 ').concat(A.size," \u0645\u0633\u062a\u062e\u062f\u0645\u061f")))try{const e=localStorage.getItem("token"),t=Array.from(A).map((t=>"activate"===C||"deactivate"===C?Pt.patch("".concat(Lt,"/users/").concat(t,"/toggle-status"),{},{headers:{Authorization:"Bearer ".concat(e)}}):void 0));await Promise.all(t),b("\u062a\u0645 \u062a\u0637\u0628\u064a\u0642 \u0627\u0644\u0625\u062c\u0631\u0627\u0621 \u0639\u0644\u0649 ".concat(A.size," \u0645\u0633\u062a\u062e\u062f\u0645")),z(new Set),T(""),L()}catch(x){g("\u062e\u0637\u0623 \u0641\u064a \u062a\u0637\u0628\u064a\u0642 \u0627\u0644\u0625\u062c\u0631\u0627\u0621 \u0627\u0644\u062c\u0645\u0627\u0639\u064a")}},className:"btn-warning flex-1 flex items-center justify-center gap-2",children:[(0,Ot.jsx)("span",{children:"\u26a1"}),(0,Ot.jsx)("span",{children:"\u062a\u0637\u0628\u064a\u0642"})]})]})]})}),(0,Ot.jsxs)("div",{className:"card-modern overflow-hidden",children:[(0,Ot.jsx)("div",{className:"p-6 border-b",style:{borderColor:"var(--accent-bg)"},children:(0,Ot.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-3",children:[(0,Ot.jsx)("span",{children:"\ud83d\udccb"}),(0,Ot.jsxs)("span",{children:["\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 (",M.length,")"]}),A.size>0&&(0,Ot.jsxs)("span",{className:"badge-modern badge-info",children:[A.size," \u0645\u062d\u062f\u062f"]})]})}),y?(0,Ot.jsxs)("div",{className:"p-12 text-center",children:[(0,Ot.jsx)("div",{className:"loading-shimmer w-16 h-16 rounded-full mx-auto mb-4"}),(0,Ot.jsx)("p",{style:{color:"var(--text-secondary)"},children:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644..."})]}):(0,Ot.jsx)("div",{className:"table-modern",children:(0,Ot.jsxs)("table",{className:"min-w-full",children:[(0,Ot.jsx)("thead",{children:(0,Ot.jsxs)("tr",{children:[(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:(0,Ot.jsx)("input",{type:"checkbox",onChange:e=>{e.target.checked?z(new Set(M.map((e=>e.id)))):z(new Set)},className:"rounded"})}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u062f\u0648\u0631"}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u062d\u0627\u0644\u0629"}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0622\u062e\u0631 \u062f\u062e\u0648\u0644"}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a"})]})}),(0,Ot.jsx)("tbody",{children:M.map((e=>(0,Ot.jsxs)("tr",{className:"hover:bg-gray-50 hover:bg-opacity-5 transition-colors",children:[(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("input",{type:"checkbox",checked:A.has(e.id),onChange:t=>{const n=new Set(A);t.target.checked?n.add(e.id):n.delete(e.id),z(n)},className:"rounded"})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ot.jsxs)("div",{className:"relative",children:[e.profile_image?(0,Ot.jsx)("img",{src:e.profile_image,alt:e.full_name,className:"w-10 h-10 rounded-full object-cover border-2 border-gray-200"}):(0,Ot.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold ".concat(e.is_active?"bg-gradient-to-br from-blue-500 to-purple-600":"bg-gray-500"),children:e.full_name.charAt(0)}),(0,Ot.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white ".concat(e.is_active?"bg-green-500":"bg-red-500")})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:e.full_name}),(0,Ot.jsxs)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:[e.username," \u2022 ",e.email]}),e.phone&&(0,Ot.jsxs)("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:["\ud83d\udcf1 ",e.phone]})]})]})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("span",{className:"badge-modern ".concat("admin"===e.role?"badge-danger":"manager"===e.role?"badge-warning":"sales_rep"===e.role?"badge-info":"warehouse_manager"===e.role?"badge-success":"badge-secondary"),children:D(e.role)})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("span",{className:"badge-modern ".concat(e.is_active?"badge-success":"badge-danger"),children:e.is_active?"\u2705 \u0646\u0634\u0637":"\u274c \u0645\u0639\u0637\u0644"})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:e.last_login?new Date(e.last_login).toLocaleDateString("ar-EG"):"\u0644\u0645 \u064a\u0633\u062c\u0644 \u062f\u062e\u0648\u0644"})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsxs)("div",{className:"flex gap-2",children:[(0,Ot.jsx)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token"),n=await Pt.get("".concat(Lt,"/users/").concat(e.id),{headers:{Authorization:"Bearer ".concat(t)}});m(n.data),u(!0)}catch(x){g("\u062e\u0637\u0623 \u0641\u064a \u062c\u0644\u0628 \u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645")}})(e),className:"btn-info text-xs px-3 py-1",title:"\u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644",children:"\ud83d\udc41\ufe0f"}),(0,Ot.jsx)("button",{onClick:()=>(e=>{m(d({},e)),o(!0)})(e),className:"btn-primary text-xs px-3 py-1",title:"\u062a\u0639\u062f\u064a\u0644",children:"\u270f\ufe0f"}),(0,Ot.jsx)("button",{onClick:()=>(async(e,t)=>{try{const n=localStorage.getItem("token");await Pt.patch("".concat(Lt,"/users/").concat(e,"/toggle-status"),{},{headers:{Authorization:"Bearer ".concat(n)}}),b("\u062a\u0645 ".concat(t?"\u062a\u0639\u0637\u064a\u0644":"\u062a\u0646\u0634\u064a\u0637"," \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0646\u062c\u0627\u062d")),L()}catch(x){var n,r;g((null===(n=x.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.detail)||"\u062e\u0637\u0623 \u0641\u064a \u062a\u063a\u064a\u064a\u0631 \u062d\u0627\u0644\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645")}})(e.id,e.is_active),className:"text-xs px-3 py-1 rounded ".concat(e.is_active?"btn-warning":"btn-success"),title:e.is_active?"\u062a\u0639\u0637\u064a\u0644":"\u062a\u0646\u0634\u064a\u0637",children:e.is_active?"\u23f8\ufe0f":"\u25b6\ufe0f"}),(0,Ot.jsx)("button",{onClick:()=>(async(e,t)=>{if(window.confirm('\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 "'.concat(t,'"\u061f\n\u0647\u0630\u0627 \u0627\u0644\u0625\u062c\u0631\u0627\u0621 \u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u062a\u0631\u0627\u062c\u0639 \u0639\u0646\u0647.')))try{const t=localStorage.getItem("token");await Pt.delete("".concat(Lt,"/users/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),b("\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0646\u062c\u0627\u062d"),L(),R()}catch(x){var n,r;g((null===(n=x.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.detail)||"\u062e\u0637\u0623 \u0641\u064a \u062d\u0630\u0641 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645")}})(e.id,e.full_name),className:"btn-danger text-xs px-3 py-1",title:"\u062d\u0630\u0641",children:"\ud83d\uddd1\ufe0f"})]})})]},e.id)))})]})})]}),s&&(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ot.jsxs)("div",{className:"modal-modern p-8 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u2795 \u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062a\u062e\u062f\u0645 \u062c\u062f\u064a\u062f"}),(0,Ot.jsx)("button",{onClick:()=>l(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\u2715"})]}),(0,Ot.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),j(!0),g(""),b("");try{const e=localStorage.getItem("token");await Pt.post("".concat(Lt,"/auth/register"),h,{headers:{Authorization:"Bearer ".concat(e)}}),b("\u062a\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0646\u062c\u0627\u062d"),l(!1),p({username:"",email:"",password:"",full_name:"",role:"",phone:"",manager_id:"",department:"",employee_id:""}),L(),R()}catch(x){var t,n;g((null===(t=x.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"\u062e\u0637\u0623 \u0641\u064a \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645")}finally{j(!1)}},className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 *"}),(0,Ot.jsx)("input",{type:"text",value:h.username,onChange:e=>p(d(d({},h),{},{username:e.target.value})),className:"form-modern w-full",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a *"}),(0,Ot.jsx)("input",{type:"email",value:h.email,onChange:e=>p(d(d({},h),{},{email:e.target.value})),className:"form-modern w-full",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 *"}),(0,Ot.jsx)("input",{type:"password",value:h.password,onChange:e=>p(d(d({},h),{},{password:e.target.value})),className:"form-modern w-full",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644 *"}),(0,Ot.jsx)("input",{type:"text",value:h.full_name,onChange:e=>p(d(d({},h),{},{full_name:e.target.value})),className:"form-modern w-full",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u062f\u0648\u0631 *"}),(0,Ot.jsxs)("select",{value:h.role,onChange:e=>p(d(d({},h),{},{role:e.target.value})),className:"form-modern w-full",required:!0,children:[(0,Ot.jsx)("option",{value:"",children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u062f\u0648\u0631"}),(0,Ot.jsx)("option",{value:"admin",children:"\u0645\u062f\u064a\u0631 \u0627\u0644\u0646\u0638\u0627\u0645"}),(0,Ot.jsx)("option",{value:"manager",children:"\u0645\u062f\u064a\u0631"}),(0,Ot.jsx)("option",{value:"sales_rep",children:"\u0645\u0646\u062f\u0648\u0628 \u0645\u0628\u064a\u0639\u0627\u062a"}),(0,Ot.jsx)("option",{value:"warehouse_manager",children:"\u0645\u062f\u064a\u0631 \u0645\u062e\u0632\u0646"}),(0,Ot.jsx)("option",{value:"accounting",children:"\u0645\u062d\u0627\u0633\u0628"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641"}),(0,Ot.jsx)("input",{type:"tel",value:h.phone,onChange:e=>p(d(d({},h),{},{phone:e.target.value})),className:"form-modern w-full"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0642\u0633\u0645"}),(0,Ot.jsx)("input",{type:"text",value:h.department,onChange:e=>p(d(d({},h),{},{department:e.target.value})),className:"form-modern w-full"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0631\u0642\u0645 \u0627\u0644\u0645\u0648\u0638\u0641"}),(0,Ot.jsx)("input",{type:"text",value:h.employee_id,onChange:e=>p(d(d({},h),{},{employee_id:e.target.value})),className:"form-modern w-full"})]})]}),(0,Ot.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Ot.jsx)("button",{type:"submit",disabled:y,className:"btn-primary flex-1",children:y?"\u062c\u0627\u0631\u064a \u0627\u0644\u0625\u0646\u0634\u0627\u0621...":"\u2705 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),(0,Ot.jsx)("button",{type:"button",onClick:()=>l(!1),className:"btn-secondary flex-1",children:"\u0625\u0644\u063a\u0627\u0621"})]})]})]})}),i&&f&&(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ot.jsxs)("div",{className:"modal-modern p-8 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\u270f\ufe0f \u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),(0,Ot.jsx)("button",{onClick:()=>o(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\u2715"})]}),(0,Ot.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),j(!0),g(""),b("");try{const e=localStorage.getItem("token"),t=d({},f);delete t.id,delete t.created_at,delete t.updated_at,await Pt.patch("".concat(Lt,"/users/").concat(f.id),t,{headers:{Authorization:"Bearer ".concat(e)}}),b("\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0646\u062c\u0627\u062d"),o(!1),m(null),L()}catch(x){var t,n;g((null===(t=x.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645")}finally{j(!1)}},className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),(0,Ot.jsx)("input",{type:"text",value:f.username,onChange:e=>m(d(d({},f),{},{username:e.target.value})),className:"form-modern w-full"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a"}),(0,Ot.jsx)("input",{type:"email",value:f.email,onChange:e=>m(d(d({},f),{},{email:e.target.value})),className:"form-modern w-full"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644"}),(0,Ot.jsx)("input",{type:"text",value:f.full_name,onChange:e=>m(d(d({},f),{},{full_name:e.target.value})),className:"form-modern w-full"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641"}),(0,Ot.jsx)("input",{type:"tel",value:f.phone||"",onChange:e=>m(d(d({},f),{},{phone:e.target.value})),className:"form-modern w-full"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u062f\u0648\u0631"}),(0,Ot.jsxs)("select",{value:f.role,onChange:e=>m(d(d({},f),{},{role:e.target.value})),className:"form-modern w-full",children:[(0,Ot.jsx)("option",{value:"admin",children:"\u0645\u062f\u064a\u0631 \u0627\u0644\u0646\u0638\u0627\u0645"}),(0,Ot.jsx)("option",{value:"manager",children:"\u0645\u062f\u064a\u0631"}),(0,Ot.jsx)("option",{value:"sales_rep",children:"\u0645\u0646\u062f\u0648\u0628 \u0645\u0628\u064a\u0639\u0627\u062a"}),(0,Ot.jsx)("option",{value:"warehouse_manager",children:"\u0645\u062f\u064a\u0631 \u0645\u062e\u0632\u0646"}),(0,Ot.jsx)("option",{value:"accounting",children:"\u0645\u062d\u0627\u0633\u0628"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0627\u0644\u0642\u0633\u0645"}),(0,Ot.jsx)("input",{type:"text",value:f.department||"",onChange:e=>m(d(d({},f),{},{department:e.target.value})),className:"form-modern w-full"})]})]}),(0,Ot.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Ot.jsx)("button",{type:"submit",disabled:y,className:"btn-primary flex-1",children:y?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u062f\u064a\u062b...":"\u2705 \u062d\u0641\u0638 \u0627\u0644\u062a\u063a\u064a\u064a\u0631\u0627\u062a"}),(0,Ot.jsx)("button",{type:"button",onClick:()=>o(!1),className:"btn-secondary flex-1",children:"\u0625\u0644\u063a\u0627\u0621"})]})]})]})}),c&&f&&(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ot.jsxs)("div",{className:"modal-modern p-8 w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\ud83d\udc41\ufe0f \u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),(0,Ot.jsx)("button",{onClick:()=>u(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\u2715"})]}),(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0623\u0633\u0627\u0633\u064a\u0629"}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"text-sm font-bold text-gray-500",children:"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644"}),(0,Ot.jsx)("p",{className:"text-lg font-medium",children:f.full_name})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"text-sm font-bold text-gray-500",children:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),(0,Ot.jsx)("p",{className:"text-lg font-medium",children:f.username})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"text-sm font-bold text-gray-500",children:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a"}),(0,Ot.jsx)("p",{className:"text-lg font-medium",children:f.email})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"text-sm font-bold text-gray-500",children:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641"}),(0,Ot.jsx)("p",{className:"text-lg font-medium",children:f.phone||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"text-sm font-bold text-gray-500",children:"\u0627\u0644\u062f\u0648\u0631"}),(0,Ot.jsx)("p",{className:"text-lg font-medium",children:(0,Ot.jsx)("span",{className:"badge-modern ".concat("admin"===f.role?"badge-danger":"manager"===f.role?"badge-warning":"sales_rep"===f.role?"badge-info":"badge-success"),children:D(f.role)})})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"text-sm font-bold text-gray-500",children:"\u0627\u0644\u062d\u0627\u0644\u0629"}),(0,Ot.jsx)("p",{className:"text-lg font-medium",children:(0,Ot.jsx)("span",{className:"badge-modern ".concat(f.is_active?"badge-success":"badge-danger"),children:f.is_active?"\u2705 \u0646\u0634\u0637":"\u274c \u0645\u0639\u0637\u0644"})})]})]})]}),f.statistics&&(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a"}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[void 0!==f.statistics.total_visits&&(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"text-sm font-bold text-gray-500",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a"}),(0,Ot.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:f.statistics.total_visits})]}),void 0!==f.statistics.total_orders&&(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"text-sm font-bold text-gray-500",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0637\u0644\u0628\u0627\u062a"}),(0,Ot.jsx)("p",{className:"text-2xl font-bold text-green-600",children:f.statistics.total_orders})]})]})]}),(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsx)("h4",{className:"text-lg font-bold mb-4",children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0646\u0634\u0627\u0637"}),(0,Ot.jsxs)("div",{className:"space-y-2",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"text-sm font-bold text-gray-500",children:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0646\u0634\u0627\u0621"}),(0,Ot.jsx)("p",{className:"text-lg",children:new Date(f.created_at).toLocaleDateString("ar-EG")})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"text-sm font-bold text-gray-500",children:"\u0622\u062e\u0631 \u062f\u062e\u0648\u0644"}),(0,Ot.jsx)("p",{className:"text-lg",children:f.last_login?new Date(f.last_login).toLocaleString("ar-EG"):"\u0644\u0645 \u064a\u0633\u062c\u0644 \u062f\u062e\u0648\u0644 \u0628\u0639\u062f"})]})]})]})]}),(0,Ot.jsx)("div",{className:"flex justify-end mt-6",children:(0,Ot.jsx)("button",{onClick:()=>u(!1),className:"btn-primary px-6 py-3",children:"\u0625\u063a\u0644\u0627\u0642"})})]})})]})]})},an=()=>{const[e,t]=(0,a.useState)(null),[n,r]=(0,a.useState)(!0);return(0,a.useEffect)((()=>{const e=async()=>{try{const e=localStorage.getItem("token"),n=await Pt.get("".concat(Lt,"/analytics/realtime"),{headers:{Authorization:"Bearer ".concat(e)}});t(n.data)}catch(e){console.error("Error fetching real-time analytics:",e)}finally{r(!1)}};e();const n=setInterval(e,3e4);return()=>clearInterval(n)}),[]),{analytics:e,loading:n}},sn=e=>{var t;let{user:n,onLogout:r,onSearchOpen:s}=e;const{theme:l,setSpecificTheme:i,availableThemes:o,language:c,setLanguage:d}=Dt(),[u,f]=(0,a.useState)(!1),[m,h]=(0,a.useState)(!1),[p,x]=(0,a.useState)(!1),g=e=>({light:"\u0641\u0627\u062a\u062d",dark:"\u062f\u0627\u0643\u0646",minimal:"\u0628\u0633\u064a\u0637",modern:"\u0639\u0635\u0631\u064a",fancy:"\u0641\u0627\u062e\u0631",cyber:"\u0633\u0627\u064a\u0628\u0631",sunset:"\u063a\u0631\u0648\u0628",ocean:"\u0645\u062d\u064a\u0637",forest:"\u063a\u0627\u0628\u0629"}[e]||e);return(0,Ot.jsx)("header",{className:"glass-effect sticky top-0 z-50 border-b",style:{borderColor:"var(--border-color)"},children:(0,Ot.jsx)("div",{className:"container mx-auto px-4 py-3",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsx)("div",{className:"flex items-center gap-4",children:(0,Ot.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ot.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg",children:(0,Ot.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"white",children:[(0,Ot.jsx)("path",{d:"M12 2L2 7v10c0 5.55 3.84 9.74 9 11 5.16-1.26 9-5.45 9-11V7l-10-5z"}),(0,Ot.jsx)("path",{d:"M9 12l2 2 4-4",stroke:"white",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h1",{className:"text-xl font-bold text-gradient",children:"\u0646\u0638\u0627\u0645 \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a"}),(0,Ot.jsx)("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Sales Management System"})]})]})}),(0,Ot.jsx)("div",{className:"flex-1 max-w-md mx-8",children:(0,Ot.jsxs)("button",{onClick:s,className:"w-full flex items-center gap-3 px-4 py-2.5 bg-white/10 backdrop-blur-sm border border-gray-300/20 rounded-xl hover:bg-white/20 transition-all duration-200 text-right",children:[(0,Ot.jsx)(Ft,{name:"search",size:20}),(0,Ot.jsx)("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0628\u062d\u062b \u0634\u0627\u0645\u0644 \u0641\u064a \u0627\u0644\u0646\u0638\u0627\u0645..."})]})}),(0,Ot.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ot.jsxs)("div",{className:"relative",children:[(0,Ot.jsxs)("button",{onClick:()=>h(!m),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 hover:bg-opacity-10 transition-all duration-200",title:"\u0627\u062e\u062a\u0631 \u0627\u0644\u062b\u064a\u0645",children:[(0,Ot.jsx)(Ft,{name:"theme",size:20}),(0,Ot.jsx)("span",{className:"text-sm hidden md:block",children:g(l)})]}),m&&(0,Ot.jsx)("div",{className:"absolute right-0 mt-2 w-48 glass-effect rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:(0,Ot.jsxs)("div",{className:"p-2",children:[(0,Ot.jsx)("h3",{className:"text-sm font-bold mb-2 px-2",style:{color:"var(--text-primary)"},children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u062b\u064a\u0645"}),o.map((e=>(0,Ot.jsxs)("button",{onClick:()=>{i(e),h(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-right hover:bg-gray-100 hover:bg-opacity-20 transition-colors rounded-lg ".concat(l===e?"bg-blue-500 bg-opacity-20":""),children:[(0,Ot.jsx)("div",{className:"w-4 h-4 rounded-full ".concat("light"===e?"bg-white border-2 border-gray-300":"dark"===e?"bg-gray-800":"minimal"===e?"bg-gray-200":"modern"===e?"bg-black":"fancy"===e?"bg-purple-600":"cyber"===e?"bg-green-500":"sunset"===e?"bg-orange-500":"ocean"===e?"bg-blue-500":"forest"===e?"bg-green-600":"bg-gray-500")}),(0,Ot.jsx)("span",{className:"text-sm",children:g(e)})]},e)))]})})]}),(0,Ot.jsxs)("div",{className:"relative",children:[(0,Ot.jsxs)("button",{onClick:()=>x(!p),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 hover:bg-opacity-10 transition-all duration-200",title:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0644\u063a\u0629",children:[(0,Ot.jsx)(Ft,{name:"settings",size:20}),(0,Ot.jsx)("span",{className:"text-sm hidden md:block",children:(v=c,{ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",en:"English",fr:"Fran\xe7ais"}[v]||v)})]}),p&&(0,Ot.jsx)("div",{className:"absolute right-0 mt-2 w-40 glass-effect rounded-lg shadow-lg z-50",children:(0,Ot.jsx)("div",{className:"p-2",children:[{code:"ar",label:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",flag:"\ud83c\uddf8\ud83c\udde6"},{code:"en",label:"English",flag:"\ud83c\uddfa\ud83c\uddf8"},{code:"fr",label:"Fran\xe7ais",flag:"\ud83c\uddeb\ud83c\uddf7"}].map((e=>(0,Ot.jsxs)("button",{onClick:()=>{d(e.code),x(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-right hover:bg-gray-100 hover:bg-opacity-20 transition-colors rounded-lg ".concat(c===e.code?"bg-blue-500 bg-opacity-20":""),children:[(0,Ot.jsx)("span",{className:"text-lg",children:e.flag}),(0,Ot.jsx)("span",{className:"text-sm",children:e.label})]},e.code)))})})]}),(0,Ot.jsxs)("button",{className:"relative p-2 rounded-lg hover:bg-gray-100 hover:bg-opacity-10 transition-all duration-200",title:"\u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a",children:[(0,Ot.jsx)(Ft,{name:"notification",size:20}),(0,Ot.jsx)("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-pulse"})]}),(0,Ot.jsxs)("div",{className:"relative",children:[(0,Ot.jsxs)("button",{onClick:()=>f(!u),className:"flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-100 hover:bg-opacity-10 transition-all duration-200",children:[(0,Ot.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:null!==n&&void 0!==n&&n.photo?(0,Ot.jsx)("img",{src:n.photo,alt:n.full_name,className:"w-full h-full rounded-full object-cover"}):(null===n||void 0===n||null===(t=n.full_name)||void 0===t?void 0:t.charAt(0))||"A"}),(0,Ot.jsxs)("div",{className:"text-right hidden md:block",children:[(0,Ot.jsxs)("p",{className:"text-sm font-medium",children:["\u0645\u0631\u062d\u0628\u0627\u064b ",(null===n||void 0===n?void 0:n.full_name)||"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"]}),(0,Ot.jsx)("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"admin"===(null===n||void 0===n?void 0:n.role)?"\u0645\u062f\u064a\u0631 \u0627\u0644\u0646\u0638\u0627\u0645":"sales_rep"===(null===n||void 0===n?void 0:n.role)?"\u0645\u0646\u062f\u0648\u0628 \u0645\u0628\u064a\u0639\u0627\u062a":"manager"===(null===n||void 0===n?void 0:n.role)?"\u0645\u062f\u064a\u0631":"\u0645\u0633\u062a\u062e\u062f\u0645"})]})]}),u&&(0,Ot.jsx)("div",{className:"absolute right-0 mt-2 w-48 glass-effect rounded-lg shadow-lg z-50",children:(0,Ot.jsxs)("div",{className:"p-2",children:[(0,Ot.jsxs)("div",{className:"px-3 py-2 border-b",style:{borderColor:"var(--border-color)"},children:[(0,Ot.jsx)("p",{className:"text-sm font-bold",children:null===n||void 0===n?void 0:n.full_name}),(0,Ot.jsx)("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:null===n||void 0===n?void 0:n.email})]}),(0,Ot.jsxs)("button",{onClick:()=>{f(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-right hover:bg-gray-100 hover:bg-opacity-20 transition-colors rounded-lg",children:[(0,Ot.jsx)(Ft,{name:"user",size:16}),(0,Ot.jsx)("span",{className:"text-sm",children:"\u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a"})]}),(0,Ot.jsxs)("button",{onClick:()=>{f(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-right hover:bg-gray-100 hover:bg-opacity-20 transition-colors rounded-lg",children:[(0,Ot.jsx)(Ft,{name:"settings",size:16}),(0,Ot.jsx)("span",{className:"text-sm",children:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a"})]}),(0,Ot.jsx)("div",{className:"border-t mt-2 pt-2",style:{borderColor:"var(--border-color)"},children:(0,Ot.jsxs)("button",{onClick:()=>{f(!1),r()},className:"w-full flex items-center gap-3 px-3 py-2 text-right hover:bg-red-500 hover:bg-opacity-20 transition-colors rounded-lg text-red-500",children:[(0,Ot.jsx)(Ft,{name:"logout",size:16}),(0,Ot.jsx)("span",{className:"text-sm",children:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c"})]})})]})})]})]})]})})});var v},ln=()=>{const{theme:e,language:t}=Dt();return(0,Ot.jsx)("footer",{className:"glass-effect mt-auto border-t",style:{borderColor:"var(--border-color)"},children:(0,Ot.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Ot.jsxs)("div",{className:"space-y-3",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ot.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,Ot.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"white",children:(0,Ot.jsx)("path",{d:"M12 2L2 7v10c0 5.55 3.84 9.74 9 11 5.16-1.26 9-5.45 9-11V7l-10-5z"})})}),(0,Ot.jsx)("h3",{className:"font-bold text-lg",children:"\u0646\u0638\u0627\u0645 \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a"})]}),(0,Ot.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0646\u0638\u0627\u0645 \u0634\u0627\u0645\u0644 \u0644\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a \u0648\u0627\u0644\u0645\u0646\u0627\u062f\u064a\u0628 \u0648\u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a \u0628\u062a\u0642\u0646\u064a\u0627\u062a \u062d\u062f\u064a\u062b\u0629"})]}),(0,Ot.jsxs)("div",{className:"space-y-3",children:[(0,Ot.jsx)("h4",{className:"font-semibold",children:"\u0631\u0648\u0627\u0628\u0637 \u0633\u0631\u064a\u0639\u0629"}),(0,Ot.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,Ot.jsx)("li",{children:(0,Ot.jsx)("a",{href:"#",className:"hover:text-blue-500 transition-colors",children:"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645"})}),(0,Ot.jsx)("li",{children:(0,Ot.jsx)("a",{href:"#",className:"hover:text-blue-500 transition-colors",children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"})}),(0,Ot.jsx)("li",{children:(0,Ot.jsx)("a",{href:"#",className:"hover:text-blue-500 transition-colors",children:"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631"})}),(0,Ot.jsx)("li",{children:(0,Ot.jsx)("a",{href:"#",className:"hover:text-blue-500 transition-colors",children:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a"})})]})]}),(0,Ot.jsxs)("div",{className:"space-y-3",children:[(0,Ot.jsx)("h4",{className:"font-semibold",children:"\u0627\u0644\u062f\u0639\u0645 \u0648\u0627\u0644\u0645\u0633\u0627\u0639\u062f\u0629"}),(0,Ot.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,Ot.jsx)("li",{children:(0,Ot.jsx)("a",{href:"#",className:"hover:text-blue-500 transition-colors",children:"\u0645\u0631\u0643\u0632 \u0627\u0644\u0645\u0633\u0627\u0639\u062f\u0629"})}),(0,Ot.jsx)("li",{children:(0,Ot.jsx)("a",{href:"#",className:"hover:text-blue-500 transition-colors",children:"\u0627\u062a\u0635\u0644 \u0628\u0646\u0627"})}),(0,Ot.jsx)("li",{children:(0,Ot.jsx)("a",{href:"#",className:"hover:text-blue-500 transition-colors",children:"\u0627\u0644\u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0634\u0627\u0626\u0639\u0629"})}),(0,Ot.jsx)("li",{children:(0,Ot.jsx)("a",{href:"#",className:"hover:text-blue-500 transition-colors",children:"\u0627\u0644\u062a\u062d\u062f\u064a\u062b\u0627\u062a"})})]})]}),(0,Ot.jsxs)("div",{className:"space-y-3",children:[(0,Ot.jsx)("h4",{className:"font-semibold",children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0646\u0638\u0627\u0645"}),(0,Ot.jsxs)("div",{className:"text-sm space-y-2",children:[(0,Ot.jsxs)("p",{children:["\u0627\u0644\u062b\u064a\u0645 \u0627\u0644\u062d\u0627\u0644\u064a: ",(0,Ot.jsx)("span",{className:"font-semibold",children:e})]}),(0,Ot.jsxs)("p",{children:["\u0627\u0644\u0644\u063a\u0629: ",(0,Ot.jsx)("span",{className:"font-semibold",children:"ar"===t?"\u0627\u0644\u0639\u0631\u0628\u064a\u0629":"English"})]}),(0,Ot.jsxs)("p",{children:["\u0627\u0644\u0625\u0635\u062f\u0627\u0631: ",(0,Ot.jsx)("span",{className:"font-semibold",children:"v2.0.0"})]})]})]})]}),(0,Ot.jsxs)("div",{className:"border-t mt-6 pt-4 flex items-center justify-between text-sm",style:{borderColor:"var(--border-color)"},children:[(0,Ot.jsxs)("p",{style:{color:"var(--text-secondary)"},children:["\xa9 ",(new Date).getFullYear()," \u0646\u0638\u0627\u0645 \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a. \u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0642\u0648\u0642 \u0645\u062d\u0641\u0648\u0638\u0629."]}),(0,Ot.jsx)("div",{className:"flex items-center gap-4",children:(0,Ot.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0645\u0637\u0648\u0631 \u0628\u0648\u0627\u0633\u0637\u0629 \u0641\u0631\u064a\u0642 \u0627\u0644\u062a\u0637\u0648\u064a\u0631"})})]})]})})},on=()=>{const[e,t]=(0,a.useState)(!1),[n,r]=(0,a.useState)(""),[s,l]=(0,a.useState)(!1),[i,o]=(0,a.useState)(""),[c,d]=(0,a.useState)(null),[u,f]=(0,a.useState)("all"),[m,h]=(0,a.useState)(""),[p,x]=(0,a.useState)(""),[g,v]=(0,a.useState)(""),[b,y]=(0,a.useState)([]);(0,a.useEffect)((()=>{const e=new Date,t=new Date(e.getTime()-2592e6);h(t.toISOString().split("T")[0]),x(e.toISOString().split("T")[0]),j()}),[]);const j=async()=>{try{const e=localStorage.getItem("token"),t=await Pt.get("".concat(Lt,"/users"),{headers:{Authorization:"Bearer ".concat(e)}});y(t.data)}catch(i){console.error("Error fetching users:",i)}},w=async()=>{l(!0),o("");try{const e=localStorage.getItem("token");(await Pt.post("".concat(Lt,"/reports/secret/access"),{password:n},{headers:{Authorization:"Bearer ".concat(e)}})).data.access_granted&&(t(!0),N())}catch(i){var e,r;o((null===(e=i.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.detail)||"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u0629")}finally{l(!1)}},N=async()=>{l(!0);try{const e=localStorage.getItem("token"),t=await Pt.get("".concat(Lt,"/reports/secret/comprehensive"),{params:{password:n,filter_type:u,start_date:m?"".concat(m,"T00:00:00"):void 0,end_date:p?"".concat(p,"T23:59:59"):void 0,user_filter:g||void 0},headers:{Authorization:"Bearer ".concat(e)}});d(t.data)}catch(i){o("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u062a\u0642\u0631\u064a\u0631")}finally{l(!1)}};return e?(0,Ot.jsx)("div",{className:"min-h-screen p-6",style:{background:"var(--gradient-dark)"},children:(0,Ot.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Ot.jsx)("div",{className:"glass-effect p-6 rounded-2xl mb-6",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ot.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500 to-orange-600 rounded-full flex items-center justify-center",children:(0,Ot.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"white",children:(0,Ot.jsx)("path",{d:"M12 1L3 5v6c0 5.55 3.84 9.74 9 11 5.16-1.26 9-5.45 9-11V5l-9-4z"})})}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h1",{className:"text-2xl font-bold text-red-500",children:"\u0627\u0644\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0633\u0631\u064a \u0627\u0644\u0634\u0627\u0645\u0644"}),(0,Ot.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0623\u0646\u0634\u0637\u0629 \u0648\u0627\u0644\u062d\u0631\u0643\u0627\u062a \u0641\u064a \u0627\u0644\u0646\u0638\u0627\u0645"})]})]}),(0,Ot.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ot.jsxs)("button",{onClick:()=>{const e=document.getElementById("secret-report-content"),t=document.body.innerHTML;document.body.innerHTML=e.outerHTML,window.print(),document.body.innerHTML=t,window.location.reload()},className:"btn-modern px-4 py-2 flex items-center gap-2",disabled:!c,children:[(0,Ot.jsx)(Ft,{name:"print",size:16}),"\u0637\u0628\u0627\u0639\u0629"]}),(0,Ot.jsxs)("button",{onClick:()=>t(!1),className:"btn-modern bg-red-500 hover:bg-red-600 px-4 py-2 flex items-center gap-2",children:[(0,Ot.jsx)(Ft,{name:"logout",size:16}),"\u062e\u0631\u0648\u062c"]})]})]})}),(0,Ot.jsxs)("div",{className:"glass-effect p-6 rounded-2xl mb-6",children:[(0,Ot.jsx)("h3",{className:"text-lg font-bold mb-4",children:"\u0641\u0644\u0627\u062a\u0631 \u0627\u0644\u062a\u0642\u0631\u064a\u0631"}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0646\u0648\u0639 \u0627\u0644\u0646\u0634\u0627\u0637"}),(0,Ot.jsxs)("select",{value:u,onChange:e=>f(e.target.value),className:"w-full p-3 rounded-lg glass-effect border-2 focus:outline-none focus:ring-2 focus:ring-red-500",style:{borderColor:"var(--border-color)"},children:[(0,Ot.jsx)("option",{value:"all",children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0623\u0646\u0634\u0637\u0629"}),(0,Ot.jsx)("option",{value:"users",children:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"}),(0,Ot.jsx)("option",{value:"visits",children:"\u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a"}),(0,Ot.jsx)("option",{value:"orders",children:"\u0627\u0644\u0637\u0644\u0628\u0627\u062a"}),(0,Ot.jsx)("option",{value:"clinics",children:"\u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a"}),(0,Ot.jsx)("option",{value:"warehouse",children:"\u0627\u0644\u0645\u062e\u0627\u0632\u0646"}),(0,Ot.jsx)("option",{value:"system",children:"\u0627\u0644\u0646\u0638\u0627\u0645"}),(0,Ot.jsx)("option",{value:"login",children:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0645\u0646 \u062a\u0627\u0631\u064a\u062e"}),(0,Ot.jsx)("input",{type:"date",value:m,onChange:e=>h(e.target.value),className:"w-full p-3 rounded-lg glass-effect border-2 focus:outline-none focus:ring-2 focus:ring-red-500",style:{borderColor:"var(--border-color)"}})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0625\u0644\u0649 \u062a\u0627\u0631\u064a\u062e"}),(0,Ot.jsx)("input",{type:"date",value:p,onChange:e=>x(e.target.value),className:"w-full p-3 rounded-lg glass-effect border-2 focus:outline-none focus:ring-2 focus:ring-red-500",style:{borderColor:"var(--border-color)"}})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),(0,Ot.jsxs)("select",{value:g,onChange:e=>v(e.target.value),className:"w-full p-3 rounded-lg glass-effect border-2 focus:outline-none focus:ring-2 focus:ring-red-500",style:{borderColor:"var(--border-color)"},children:[(0,Ot.jsx)("option",{value:"",children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"}),b.map((e=>(0,Ot.jsx)("option",{value:e.id,children:e.full_name},e.id)))]})]})]}),(0,Ot.jsx)("div",{className:"mt-4",children:(0,Ot.jsxs)("button",{onClick:N,disabled:s,className:"btn-modern px-6 py-3 flex items-center gap-2",children:[(0,Ot.jsx)(Ft,{name:"search",size:16}),s?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644...":"\u062a\u062d\u062f\u064a\u062b \u0627\u0644\u062a\u0642\u0631\u064a\u0631"]})})]}),(0,Ot.jsx)("div",{id:"secret-report-content",className:"glass-effect p-6 rounded-2xl",children:c&&(0,Ot.jsxs)(Ot.Fragment,{children:[(0,Ot.jsxs)("div",{className:"mb-6",children:[(0,Ot.jsx)("h3",{className:"text-lg font-bold mb-4",children:"\u0645\u0644\u062e\u0635 \u0627\u0644\u062a\u0642\u0631\u064a\u0631"}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Ot.jsxs)("div",{className:"bg-blue-500 bg-opacity-20 p-4 rounded-lg text-center",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-blue-300",children:c.summary.total_activities}),(0,Ot.jsx)("div",{className:"text-sm",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0623\u0646\u0634\u0637\u0629"})]}),(0,Ot.jsxs)("div",{className:"bg-green-500 bg-opacity-20 p-4 rounded-lg text-center",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-green-300",children:c.summary.categories.visits}),(0,Ot.jsx)("div",{className:"text-sm",children:"\u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a"})]}),(0,Ot.jsxs)("div",{className:"bg-orange-500 bg-opacity-20 p-4 rounded-lg text-center",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-orange-300",children:c.summary.categories.orders}),(0,Ot.jsx)("div",{className:"text-sm",children:"\u0627\u0644\u0637\u0644\u0628\u0627\u062a"})]}),(0,Ot.jsxs)("div",{className:"bg-purple-500 bg-opacity-20 p-4 rounded-lg text-center",children:[(0,Ot.jsx)("div",{className:"text-2xl font-bold text-purple-300",children:c.summary.categories.users}),(0,Ot.jsx)("div",{className:"text-sm",children:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"})]})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("h3",{className:"text-lg font-bold mb-4",children:["\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0623\u0646\u0634\u0637\u0629 (",c.activities.length,")"]}),(0,Ot.jsx)("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:c.activities.map(((e,t)=>{return(0,Ot.jsx)("div",{className:"border-b border-white border-opacity-10 pb-3",children:(0,Ot.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Ot.jsx)("div",{className:"flex-shrink-0",children:(0,Ot.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center ".concat((r=e.category,{"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646":"bg-blue-500","\u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a":"bg-green-500","\u0627\u0644\u0637\u0644\u0628\u0627\u062a":"bg-orange-500","\u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a":"bg-purple-500","\u0627\u0644\u0645\u062e\u0627\u0632\u0646":"bg-red-500","\u0627\u0644\u0646\u0638\u0627\u0645":"bg-gray-500","\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644":"bg-indigo-500"}[r]||"bg-gray-500")),children:(0,Ot.jsx)(Ft,{name:(n=e.action,{USER_REGISTRATION:"user",VISIT_REGISTERED:"visits",ORDER_CREATED:"warehouse",CLINIC_ADDED:"warehouse",STOCK_MOVEMENT:"warehouse",USER_LOGIN:"user",SECRET_REPORTS_ACCESS:"settings"}[n]||"settings"),size:16})})}),(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h4",{className:"font-medium",children:e.description}),(0,Ot.jsxs)("div",{className:"flex items-center gap-4 text-sm",style:{color:"var(--text-secondary)"},children:[(0,Ot.jsxs)("span",{children:["\u0628\u0648\u0627\u0633\u0637\u0629: ",e.user_name]}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u062f\u0648\u0631: ",e.user_role]}),(0,Ot.jsxs)("span",{children:["\u0627\u0644\u062a\u0635\u0646\u064a\u0641: ",e.category]})]})]}),(0,Ot.jsxs)("div",{className:"text-sm text-right",style:{color:"var(--text-muted)"},children:[(0,Ot.jsx)("div",{children:new Date(e.timestamp).toLocaleDateString("ar-EG")}),(0,Ot.jsx)("div",{children:new Date(e.timestamp).toLocaleTimeString("ar-EG")})]})]}),(0,Ot.jsx)("div",{className:"mt-2 text-sm bg-gray-500 bg-opacity-20 p-3 rounded-lg",children:(0,Ot.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:Object.entries(e.details).map((e=>{let[t,n]=e;return(0,Ot.jsxs)("div",{className:"flex justify-between",children:[(0,Ot.jsxs)("span",{className:"font-medium",children:[t,":"]}),(0,Ot.jsx)("span",{children:"object"===typeof n?JSON.stringify(n):String(n)})]},t)}))})})]})]})},e.id);var n,r}))})]}),(0,Ot.jsxs)("div",{className:"mt-6 pt-4 border-t border-white border-opacity-20 text-center",children:[(0,Ot.jsxs)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["\u062a\u0645 \u0625\u0646\u0634\u0627\u0621 \u0647\u0630\u0627 \u0627\u0644\u062a\u0642\u0631\u064a\u0631 \u0628\u0648\u0627\u0633\u0637\u0629: ",c.summary.generated_by]}),(0,Ot.jsxs)("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:["\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0646\u0634\u0627\u0621: ",new Date(c.summary.generated_at).toLocaleString("ar-EG")]})]})]})})]})}):(0,Ot.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{background:"var(--gradient-dark)"},children:(0,Ot.jsxs)("div",{className:"glass-effect p-8 rounded-2xl shadow-2xl w-full max-w-md",children:[(0,Ot.jsxs)("div",{className:"text-center mb-6",children:[(0,Ot.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-red-500 to-orange-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Ot.jsx)("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"white",children:(0,Ot.jsx)("path",{d:"M12 1L3 5v6c0 5.55 3.84 9.74 9 11 5.16-1.26 9-5.45 9-11V5l-9-4zM12 7c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})})}),(0,Ot.jsx)("h2",{className:"text-2xl font-bold text-red-500 mb-2",children:"\u0627\u0644\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0633\u0631\u064a"}),(0,Ot.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u064a\u062a\u0637\u0644\u0628 \u0643\u0644\u0645\u0629 \u0645\u0631\u0648\u0631 \u0644\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062d\u0633\u0627\u0633\u0629"})]}),(0,Ot.jsxs)("div",{className:"space-y-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"}),(0,Ot.jsx)("input",{type:"password",value:n,onChange:e=>r(e.target.value),placeholder:"\u0623\u062f\u062e\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",className:"w-full p-3 rounded-lg border-2 focus:outline-none focus:ring-2 focus:ring-red-500 glass-effect",style:{borderColor:"var(--border-color)",color:"var(--text-primary)"},onKeyPress:e=>"Enter"===e.key&&w()})]}),i&&(0,Ot.jsx)("div",{className:"bg-red-500 bg-opacity-20 text-red-300 p-3 rounded-lg text-sm",children:i}),(0,Ot.jsx)("button",{onClick:w,disabled:s||!n,className:"w-full btn-modern bg-red-500 hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0642\u0642...":"\u062f\u062e\u0648\u0644"})]}),(0,Ot.jsx)("div",{className:"mt-6 text-center",children:(0,Ot.jsx)("p",{className:"text-xs",style:{color:"var(--text-muted)"},children:"\u26a0\ufe0f \u0647\u0630\u0627 \u0627\u0644\u0642\u0633\u0645 \u0645\u062e\u0635\u0635 \u0644\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062d\u0633\u0627\u0633\u0629 \u0648\u0627\u0644\u0633\u0631\u064a\u0629"})})]})})},cn=()=>{const[e,t]=(0,a.useState)("visits_performance"),[n,r]=(0,a.useState)(null),[s,l]=(0,a.useState)(!1),[i,o]=(0,a.useState)({start_date:new Date(Date.now()-2592e6).toISOString().split("T")[0],end_date:(new Date).toISOString().split("T")[0]}),c=async()=>{l(!0);try{const t=localStorage.getItem("token"),n=new URLSearchParams({report_type:e,start_date:i.start_date,end_date:i.end_date}),a=await Pt.get("".concat(Lt,"/reports/advanced?").concat(n),{headers:{Authorization:"Bearer ".concat(t)}});r(a.data)}catch(t){console.error("Error fetching report:",t)}finally{l(!1)}};(0,a.useEffect)((()=>{c()}),[e,i]);const u=e=>{let{data:t,type:n,title:r}=e;return t&&t.data?(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsx)("h3",{className:"text-xl font-bold mb-4 text-center",children:r}),(0,Ot.jsx)("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udcca"}),(0,Ot.jsx)("p",{className:"text-gray-600",children:"\u0631\u0633\u0645 \u0628\u064a\u0627\u0646\u064a \u062a\u0641\u0627\u0639\u0644\u064a"}),(0,Ot.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:[t.data.length," \u0646\u0642\u0637\u0629 \u0628\u064a\u0627\u0646\u0627\u062a"]}),(0,Ot.jsx)("div",{className:"mt-4 text-xs text-gray-400",children:t.data.slice(0,3).map(((e,t)=>(0,Ot.jsxs)("div",{children:[e._id,": ",e.total_visits||e.total_orders||"N/A"]},t)))})]})})]}):(0,Ot.jsx)("div",{children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a \u0644\u0644\u0639\u0631\u0636"})};return(0,Ot.jsx)("div",{style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh"},children:(0,Ot.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Ot.jsx)("div",{className:"flex items-center justify-between mb-8",children:(0,Ot.jsxs)("div",{className:"flex items-center",children:[(0,Ot.jsx)("div",{className:"w-16 h-16 card-gradient-green rounded-full flex items-center justify-center ml-4 glow-pulse",children:(0,Ot.jsx)("span",{className:"text-3xl",children:"\ud83d\udcc8"})}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h2",{className:"text-4xl font-bold text-gradient",children:"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631 \u0627\u0644\u062a\u0641\u0627\u0639\u0644\u064a\u0629 \u0627\u0644\u0645\u062a\u0642\u062f\u0645\u0629"}),(0,Ot.jsx)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:"\u062a\u062d\u0644\u064a\u0644\u0627\u062a \u0648\u062a\u0642\u0627\u0631\u064a\u0631 \u0634\u0627\u0645\u0644\u0629 \u0645\u0639 \u0631\u0633\u0648\u0645 \u0628\u064a\u0627\u0646\u064a\u0629 \u062a\u0641\u0627\u0639\u0644\u064a\u0629"})]})]})}),(0,Ot.jsx)("div",{className:"card-modern p-6 mb-8",children:(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0646\u0648\u0639 \u0627\u0644\u062a\u0642\u0631\u064a\u0631:"}),(0,Ot.jsxs)("select",{value:e,onChange:e=>t(e.target.value),className:"form-modern w-full",children:[(0,Ot.jsx)("option",{value:"visits_performance",children:"\u0623\u062f\u0627\u0621 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a"}),(0,Ot.jsx)("option",{value:"sales_by_rep",children:"\u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a \u0628\u0648\u0627\u0633\u0637\u0629 \u0627\u0644\u0645\u0646\u0627\u062f\u064a\u0628"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0645\u0646 \u062a\u0627\u0631\u064a\u062e:"}),(0,Ot.jsx)("input",{type:"date",value:i.start_date,onChange:e=>o(d(d({},i),{},{start_date:e.target.value})),className:"form-modern w-full"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0625\u0644\u0649 \u062a\u0627\u0631\u064a\u062e:"}),(0,Ot.jsx)("input",{type:"date",value:i.end_date,onChange:e=>o(d(d({},i),{},{end_date:e.target.value})),className:"form-modern w-full"})]}),(0,Ot.jsx)("div",{className:"flex items-end",children:(0,Ot.jsx)("button",{onClick:c,disabled:s,className:"btn-primary w-full flex items-center justify-center gap-2",children:s?(0,Ot.jsxs)(Ot.Fragment,{children:[(0,Ot.jsx)("div",{className:"loading-shimmer w-4 h-4 rounded-full"}),(0,Ot.jsx)("span",{children:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644..."})]}):(0,Ot.jsxs)(Ot.Fragment,{children:[(0,Ot.jsx)("span",{children:"\ud83d\udd04"}),(0,Ot.jsx)("span",{children:"\u062a\u062d\u062f\u064a\u062b \u0627\u0644\u062a\u0642\u0631\u064a\u0631"})]})})})]})}),n&&(0,Ot.jsx)(u,{data:n,type:n.type,title:n.title})]})})},dn=e=>{let{onScan:t,onClose:n}=e;const[r,s]=(0,a.useState)(!1),l=(0,a.useRef)(null),i=(0,a.useRef)(null);return(0,a.useEffect)((()=>()=>(()=>{l.current&&l.current.srcObject&&l.current.srcObject.getTracks().forEach((e=>e.stop()));s(!1)})()),[]),(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",children:(0,Ot.jsxs)("div",{className:"modal-modern p-6 w-full max-w-md",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h3",{className:"text-xl font-bold text-gradient",children:"\ud83d\udcf1 \u0645\u0633\u062d QR Code"}),(0,Ot.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\u2715"})]}),(0,Ot.jsxs)("div",{className:"space-y-4",children:[(0,Ot.jsx)("div",{className:"relative bg-black rounded-lg overflow-hidden",style:{aspectRatio:"1"},children:r?(0,Ot.jsxs)(Ot.Fragment,{children:[(0,Ot.jsx)("video",{ref:l,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),(0,Ot.jsx)("div",{className:"absolute inset-4 border-2 border-green-400 rounded-lg animate-pulse"}),(0,Ot.jsx)("div",{className:"absolute bottom-4 left-4 right-4",children:(0,Ot.jsxs)("button",{onClick:()=>{if(i.current&&l.current){const e=i.current,n=l.current,r=e.getContext("2d");e.width=n.videoWidth,e.height=n.videoHeight,r.drawImage(n,0,0);e.toDataURL();t({type:"clinic",id:"sample-clinic-id",name:"\u0639\u064a\u0627\u062f\u0629 \u062a\u062c\u0631\u064a\u0628\u064a\u0629",address:"\u0639\u0646\u0648\u0627\u0646 \u062a\u062c\u0631\u064a\u0628\u064a"})}},className:"btn-success w-full flex items-center justify-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udcf7"}),(0,Ot.jsx)("span",{children:"\u0645\u0633\u062d \u0627\u0644\u0643\u0648\u062f"})]})})]}):(0,Ot.jsx)("div",{className:"flex items-center justify-center h-full text-white",children:(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcf1"}),(0,Ot.jsx)("p",{className:"text-lg mb-4",children:"\u0627\u0636\u063a\u0637 \u0644\u0628\u062f\u0621 \u0627\u0644\u0645\u0633\u062d"}),(0,Ot.jsx)("button",{onClick:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});l.current&&(l.current.srcObject=e,s(!0))}catch(e){console.error("Error accessing camera:",e),alert("\u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0643\u0627\u0645\u064a\u0631\u0627. \u062a\u0623\u0643\u062f \u0645\u0646 \u0627\u0644\u0633\u0645\u0627\u062d \u0644\u0644\u0645\u0648\u0642\u0639 \u0628\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0643\u0627\u0645\u064a\u0631\u0627.")}},className:"btn-primary",children:"\ud83c\udfa5 \u062a\u0634\u063a\u064a\u0644 \u0627\u0644\u0643\u0627\u0645\u064a\u0631\u0627"})]})})}),(0,Ot.jsx)("canvas",{ref:i,style:{display:"none"}}),(0,Ot.jsx)("div",{className:"text-center",children:(0,Ot.jsx)("p",{className:"text-sm text-gray-500",children:"\ud83d\udccb \u0648\u062c\u0647 \u0627\u0644\u0643\u0627\u0645\u064a\u0631\u0627 \u0646\u062d\u0648 QR Code \u0644\u0644\u0639\u064a\u0627\u062f\u0629 \u0623\u0648 \u0627\u0644\u0645\u0646\u062a\u062c"})})]})]})})},un=()=>{const[e,t]=(0,a.useState)(navigator.onLine),[n,r]=(0,a.useState)([]);(0,a.useEffect)((()=>{const e=()=>{t(!0),s()},n=()=>t(!1);return window.addEventListener("online",e),window.addEventListener("offline",n),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}),[]);const s=async()=>{const e=JSON.parse(localStorage.getItem("offline_data")||'{"visits": [], "orders": []}');if(0!==e.visits.length||0!==e.orders.length)try{const t=localStorage.getItem("token"),n=await Pt.post("".concat(Lt,"/offline/sync"),e,{headers:{Authorization:"Bearer ".concat(t)}});localStorage.removeItem("offline_data"),r([]),console.log("Offline data synced successfully:",n.data)}catch(t){console.error("Error syncing offline data:",t)}};return e?null:(0,Ot.jsx)("div",{className:"fixed bottom-4 left-4 right-4 bg-orange-100 border border-orange-400 text-orange-800 px-4 py-3 rounded-lg shadow-lg z-50",children:(0,Ot.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ot.jsx)("span",{className:"text-xl",children:"\ud83d\udce1"}),(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsx)("div",{className:"font-medium",children:"\u0648\u0636\u0639 \u0639\u062f\u0645 \u0627\u0644\u0627\u062a\u0635\u0627\u0644"}),(0,Ot.jsx)("div",{className:"text-sm",children:"\u0633\u064a\u062a\u0645 \u0645\u0632\u0627\u0645\u0646\u0629 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0639\u0646\u062f \u0639\u0648\u062f\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644"}),n.length>0&&(0,Ot.jsxs)("div",{className:"text-xs mt-1",children:[n.length," \u0639\u0646\u0627\u0635\u0631 \u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u0632\u0627\u0645\u0646\u0629"]})]})]})})},fn=()=>{const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)([]),[s,l]=(0,a.useState)(!1),[i,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(!1),[u,f]=(0,a.useState)("");(0,a.useEffect)((()=>{m()}),[]);const m=async()=>{l(!0);try{const e=localStorage.getItem("token"),n=await Pt.get("".concat(Lt,"/orders?status=MANAGER_APPROVED"),{headers:{Authorization:"Bearer ".concat(e)}});t(n.data);const a=await Pt.get("".concat(Lt,"/orders?status=ACCOUNTING_APPROVED"),{headers:{Authorization:"Bearer ".concat(e)}});r(a.data)}catch(e){console.error("Error fetching orders:",e)}finally{l(!1)}},h=e=>{var t;return(null===(t=e.items)||void 0===t?void 0:t.reduce(((e,t)=>e+t.price*t.quantity),0))||0};return(0,Ot.jsx)("div",{style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh"},children:(0,Ot.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Ot.jsx)("div",{className:"flex items-center justify-between mb-8",children:(0,Ot.jsxs)("div",{className:"flex items-center",children:[(0,Ot.jsx)("div",{className:"w-16 h-16 card-gradient-yellow rounded-full flex items-center justify-center ml-4 glow-pulse",children:(0,Ot.jsx)("span",{className:"text-3xl",children:"\ud83d\udcb0"})}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h2",{className:"text-4xl font-bold text-gradient",children:"\u0644\u0648\u062d\u0629 \u062a\u062d\u0643\u0645 \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629"}),(0,Ot.jsx)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:"\u0645\u0631\u0627\u062c\u0639\u0629 \u0648\u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0637\u0644\u0628\u064a\u0627\u062a \u0627\u0644\u0645\u0627\u0644\u064a\u0629"})]})]})}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,Ot.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-orange-600",children:e.length}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0637\u0644\u0628\u064a\u0627\u062a \u062a\u062d\u062a\u0627\u062c \u0645\u0648\u0627\u0641\u0642\u0629"})]}),(0,Ot.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-green-600",children:n.length}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0637\u0644\u0628\u064a\u0627\u062a \u062a\u0645\u062a \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u064a\u0647\u0627"})]}),(0,Ot.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,Ot.jsxs)("div",{className:"text-3xl font-bold text-blue-600",children:[e.reduce(((e,t)=>e+h(t)),0).toLocaleString()," \u0631\u064a\u0627\u0644"]}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0645\u0639\u0644\u0642\u0629"})]})]}),(0,Ot.jsxs)("div",{className:"card-modern mb-8",children:[(0,Ot.jsx)("div",{className:"p-6 border-b",style:{borderColor:"var(--accent-bg)"},children:(0,Ot.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-3",children:[(0,Ot.jsx)("span",{children:"\u23f3"}),(0,Ot.jsxs)("span",{children:["\u0637\u0644\u0628\u064a\u0627\u062a \u062a\u062d\u062a\u0627\u062c \u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629 (",e.length,")"]})]})}),s?(0,Ot.jsxs)("div",{className:"p-12 text-center",children:[(0,Ot.jsx)("div",{className:"loading-shimmer w-16 h-16 rounded-full mx-auto mb-4"}),(0,Ot.jsx)("p",{style:{color:"var(--text-secondary)"},children:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644..."})]}):(0,Ot.jsx)("div",{className:"table-modern",children:(0,Ot.jsxs)("table",{className:"min-w-full",children:[(0,Ot.jsx)("thead",{children:(0,Ot.jsxs)("tr",{children:[(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628\u064a\u0629"}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628"}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629"}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a\u0629"}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0646\u0634\u0627\u0621"}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a"})]})}),(0,Ot.jsx)("tbody",{children:e.map((e=>(0,Ot.jsxs)("tr",{className:"hover:bg-gray-50 hover:bg-opacity-5 transition-colors",children:[(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsxs)("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:["#",e.id.substring(0,8)]})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("div",{style:{color:"var(--text-primary)"},children:e.sales_rep_name||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("div",{style:{color:"var(--text-primary)"},children:e.clinic_name||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsxs)("div",{className:"text-lg font-bold text-green-600",children:[h(e).toLocaleString()," \u0631\u064a\u0627\u0644"]})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:new Date(e.created_at).toLocaleDateString("ar-EG")})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsxs)("div",{className:"flex gap-2",children:[(0,Ot.jsx)("button",{onClick:()=>{o(e),d(!0)},className:"btn-success text-xs px-3 py-1",title:"\u0645\u0648\u0627\u0641\u0642\u0629",children:"\u2705 \u0645\u0648\u0627\u0641\u0642\u0629"}),(0,Ot.jsx)("button",{className:"btn-info text-xs px-3 py-1",title:"\u062a\u0641\u0627\u0635\u064a\u0644",children:"\ud83d\udc41\ufe0f \u062a\u0641\u0627\u0635\u064a\u0644"})]})})]},e.id)))})]})})]}),(0,Ot.jsxs)("div",{className:"card-modern",children:[(0,Ot.jsx)("div",{className:"p-6 border-b",style:{borderColor:"var(--accent-bg)"},children:(0,Ot.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-3",children:[(0,Ot.jsx)("span",{children:"\u2705"}),(0,Ot.jsxs)("span",{children:["\u0637\u0644\u0628\u064a\u0627\u062a \u062a\u0645\u062a \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u064a\u0647\u0627 (",n.length,")"]})]})}),(0,Ot.jsx)("div",{className:"table-modern",children:(0,Ot.jsxs)("table",{className:"min-w-full",children:[(0,Ot.jsx)("thead",{children:(0,Ot.jsxs)("tr",{children:[(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628\u064a\u0629"}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628"}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629"}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a\u0629"}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629"}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"\u0627\u0644\u062d\u0627\u0644\u0629"})]})}),(0,Ot.jsx)("tbody",{children:n.map((e=>(0,Ot.jsxs)("tr",{className:"hover:bg-gray-50 hover:bg-opacity-5 transition-colors",children:[(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsxs)("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:["#",e.id.substring(0,8)]})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("div",{style:{color:"var(--text-primary)"},children:e.sales_rep_name||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("div",{style:{color:"var(--text-primary)"},children:e.clinic_name||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsxs)("div",{className:"text-lg font-bold text-green-600",children:[h(e).toLocaleString()," \u0631\u064a\u0627\u0644"]})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:e.approved_at_accounting?new Date(e.approved_at_accounting).toLocaleDateString("ar-EG"):"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("span",{className:"badge-modern badge-success",children:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u062e\u0632\u0646"})})]},e.id)))})]})})]}),c&&i&&(0,Ot.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ot.jsxs)("div",{className:"modal-modern p-8 w-full max-w-2xl",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ot.jsx)("h3",{className:"text-2xl font-bold text-gradient",children:"\ud83d\udcb0 \u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0637\u0644\u0628\u064a\u0629"}),(0,Ot.jsx)("button",{onClick:()=>d(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\u2715"})]}),(0,Ot.jsxs)("div",{className:"space-y-6",children:[(0,Ot.jsxs)("div",{className:"card-modern p-4",children:[(0,Ot.jsx)("h4",{className:"font-bold mb-3",children:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0637\u0644\u0628\u064a\u0629:"}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"font-medium",children:"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628\u064a\u0629:"}),(0,Ot.jsxs)("span",{className:"mr-2",children:["#",i.id.substring(0,8)]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"font-medium",children:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628:"}),(0,Ot.jsx)("span",{className:"mr-2",children:i.sales_rep_name})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"font-medium",children:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629:"}),(0,Ot.jsx)("span",{className:"mr-2",children:i.clinic_name})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{className:"font-medium",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0642\u064a\u0645\u0629:"}),(0,Ot.jsxs)("span",{className:"mr-2 text-green-600 font-bold",children:[h(i).toLocaleString()," \u0631\u064a\u0627\u0644"]})]})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-bold mb-2",children:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629:"}),(0,Ot.jsx)("textarea",{value:u,onChange:e=>f(e.target.value),rows:4,className:"form-modern w-full",placeholder:"\u0623\u0636\u0641 \u0623\u064a \u0645\u0644\u0627\u062d\u0638\u0627\u062a \u062e\u0627\u0635\u0629 \u0628\u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0645\u0627\u0644\u064a\u0629..."})]}),(0,Ot.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Ot.jsxs)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token");await Pt.post("".concat(Lt,"/orders/").concat(e,"/approve"),{notes:u},{headers:{Authorization:"Bearer ".concat(t)}}),d(!1),f(""),o(null),await m()}catch(t){console.error("Error approving order:",t),alert("\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0627\u0644\u0637\u0644\u0628\u064a\u0629")}})(i.id),className:"btn-success flex-1 flex items-center justify-center gap-2",children:[(0,Ot.jsx)("span",{children:"\u2705"}),(0,Ot.jsx)("span",{children:"\u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0627\u0644\u0637\u0644\u0628\u064a\u0629"})]}),(0,Ot.jsx)("button",{onClick:()=>d(!1),className:"btn-secondary flex-1",children:"\u0625\u0644\u063a\u0627\u0621"})]})]})]})})]})})},mn=()=>{const[e,t]=(0,a.useState)("dashboard"),[n,r]=(0,a.useState)([]),[s,l]=(0,a.useState)([]),[i,o]=(0,a.useState)([]),[c,d]=(0,a.useState)({}),[u,f]=(0,a.useState)([]),[m,h]=(0,a.useState)(!1),[p,x]=(0,a.useState)(""),[g,v]=(0,a.useState)(""),{language:b}=(0,a.useContext)(Rt),y=[{id:"WH_CAIRO",name:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0642\u0627\u0647\u0631\u0629",city:"Cairo",region:"Greater Cairo"},{id:"WH_ALEX",name:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0625\u0633\u0643\u0646\u062f\u0631\u064a\u0629",city:"Alexandria",region:"Alexandria"},{id:"WH_GIZA",name:"\u0645\u062e\u0632\u0646 \u0627\u0644\u062c\u064a\u0632\u0629",city:"Giza",region:"Greater Cairo"},{id:"WH_MANSOURA",name:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0645\u0646\u0635\u0648\u0631\u0629",city:"Mansoura",region:"Dakahlia"},{id:"WH_ASWAN",name:"\u0645\u062e\u0632\u0646 \u0623\u0633\u0648\u0627\u0646",city:"Aswan",region:"Upper Egypt"}],j={en:{title:"\ud83c\udfea Comprehensive Warehouse Management",subtitle:"Complete management of warehouses, inventory and orders",dashboard:"Dashboard",inventory:"Inventory Management",orders:"Orders",movements:"Movement Log",warehouseOverview:"Warehouse Overview",urgentActions:"\ud83d\udea8 Urgent Actions Required",lowStock:"Low Stock Alert",pendingApproval:"Pending Approval",criticalIssues:"Critical Issues"},ar:{title:"\ud83c\udfea \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u062e\u0627\u0632\u0646 \u0627\u0644\u0634\u0627\u0645\u0644\u0629",subtitle:"\u0625\u062f\u0627\u0631\u0629 \u0643\u0627\u0645\u0644\u0629 \u0644\u0644\u0645\u062e\u0627\u0632\u0646 \u0648\u0627\u0644\u0645\u062e\u0632\u0648\u0646 \u0648\u0627\u0644\u0637\u0644\u0628\u0627\u062a",dashboard:"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645",inventory:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u062e\u0632\u0646",orders:"\u0627\u0644\u0637\u0644\u0628\u0627\u062a",movements:"\u0633\u062c\u0644 \u0627\u0644\u062d\u0631\u0643\u0627\u062a",warehouseOverview:"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0627\u0644\u0645\u062e\u0627\u0632\u0646",urgentActions:"\ud83d\udea8 \u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0639\u0627\u062c\u0644\u0629 \u0645\u0637\u0644\u0648\u0628\u0629",lowStock:"\u062a\u0646\u0628\u064a\u0647 \u0646\u0642\u0635 \u0645\u062e\u0632\u0648\u0646",pendingApproval:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629",criticalIssues:"\u0645\u0634\u0627\u0643\u0644 \u062d\u0631\u062c\u0629"}},w=j[b]||j.en;(0,a.useEffect)((()=>{N()}),[]);const N=async()=>{h(!0);try{const e=localStorage.getItem("token"),[t,n,a,s,i]=await Promise.all([Pt.get("".concat(Lt,"/warehouses"),{headers:{Authorization:"Bearer ".concat(e)}}),Pt.get("".concat(Lt,"/dashboard/warehouse-stats"),{headers:{Authorization:"Bearer ".concat(e)}}),Pt.get("".concat(Lt,"/inventory"),{headers:{Authorization:"Bearer ".concat(e)}}),Pt.get("".concat(Lt,"/orders/pending"),{headers:{Authorization:"Bearer ".concat(e)}}),Pt.get("".concat(Lt,"/warehouses/movements"),{headers:{Authorization:"Bearer ".concat(e)}})]);r(t.data),d(n.data),l(a.data),o(s.data),f(i.data)}catch(p){r(y),d({total_value:485e3,low_stock_count:12,pending_orders_count:8,movement_today:45}),l([{id:1,name:"\u0623\u0643\u0633\u0632\u0648\u0645 500\u0645\u062c",warehouse:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0642\u0627\u0647\u0631\u0629",quantity:120,min_stock:50,unit_price:25.5,category:"\u0623\u062f\u0648\u064a\u0629"},{id:2,name:"\u0641\u064a\u062a\u0627\u0645\u064a\u0646 \u062f3",warehouse:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0625\u0633\u0643\u0646\u062f\u0631\u064a\u0629",quantity:8,min_stock:30,unit_price:45,category:"\u0641\u064a\u062a\u0627\u0645\u064a\u0646\u0627\u062a"},{id:3,name:"\u0628\u0627\u0631\u0627\u0633\u064a\u062a\u0627\u0645\u0648\u0644",warehouse:"\u0645\u062e\u0632\u0646 \u0627\u0644\u062c\u064a\u0632\u0629",quantity:200,min_stock:100,unit_price:12.75,category:"\u0645\u0633\u0643\u0646\u0627\u062a"},{id:4,name:"\u0623\u0648\u0645\u064a\u062c\u0627 3",warehouse:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0645\u0646\u0635\u0648\u0631\u0629",quantity:15,min_stock:25,unit_price:65,category:"\u0645\u0643\u0645\u0644\u0627\u062a"},{id:5,name:"\u0643\u0627\u0644\u0633\u064a\u0648\u0645 \u0645\u063a\u0646\u064a\u0633\u064a\u0648\u0645",warehouse:"\u0645\u062e\u0632\u0646 \u0623\u0633\u0648\u0627\u0646",quantity:75,min_stock:40,unit_price:38.25,category:"\u0645\u0643\u0645\u0644\u0627\u062a"}]),o([{id:"ORD-001",clinic:"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0646\u0648\u0631",items:5,total:1250,status:"pending_manager",sales_rep:"\u0645\u062d\u0645\u0648\u062f \u0639\u0644\u064a",warehouse:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0642\u0627\u0647\u0631\u0629"},{id:"ORD-002",clinic:"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0634\u0641\u0627\u0621",items:3,total:850,status:"pending_accounting",sales_rep:"\u0623\u062d\u0645\u062f \u062d\u0633\u0646",warehouse:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0625\u0633\u0643\u0646\u062f\u0631\u064a\u0629"},{id:"ORD-003",clinic:"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0623\u0645\u0644",items:7,total:2100,status:"pending_warehouse",sales_rep:"\u0641\u0627\u0637\u0645\u0629 \u0645\u062d\u0645\u062f",warehouse:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0645\u0646\u0635\u0648\u0631\u0629"}]),f([{id:1,date:"2024-01-24",product:"\u0623\u0643\u0633\u0632\u0648\u0645 500\u0645\u062c",requester:"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0646\u0648\u0631",region:"\u0627\u0644\u0642\u0627\u0647\u0631\u0629",movement_type:"\u0635\u0631\u0641",order_type:"\u0637\u0644\u0628\u064a\u0629",quantity:10,sales_rep:"\u0645\u062d\u0645\u0648\u062f \u0639\u0644\u064a",doctor:"\u062f. \u0623\u062d\u0645\u062f \u0645\u062d\u0645\u062f",reason:"\u0637\u0644\u0628\u064a\u0629 \u0639\u0627\u062f\u064a\u0629",comments:"\u062a\u0645 \u0627\u0644\u0635\u0631\u0641 \u0628\u0646\u062c\u0627\u062d",status:"completed"},{id:2,date:"2024-01-24",product:"\u0641\u064a\u062a\u0627\u0645\u064a\u0646 \u062f3",requester:"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0634\u0641\u0627\u0621",region:"\u0627\u0644\u0625\u0633\u0643\u0646\u062f\u0631\u064a\u0629",movement_type:"\u0635\u0631\u0641",order_type:"\u062f\u064a\u0645\u0648",quantity:5,sales_rep:"\u0623\u062d\u0645\u062f \u062d\u0633\u0646",doctor:"\u062f. \u0641\u0627\u0637\u0645\u0629 \u0639\u0644\u064a",reason:"\u0639\u064a\u0646\u0629 \u0645\u062c\u0627\u0646\u064a\u0629",comments:"\u0644\u0644\u062a\u062c\u0631\u0628\u0629",status:"pending_approval"},{id:3,date:"2024-01-23",product:"\u0628\u0627\u0631\u0627\u0633\u064a\u062a\u0627\u0645\u0648\u0644",requester:"\u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0623\u0645\u0644",region:"\u0627\u0644\u062c\u064a\u0632\u0629",movement_type:"\u0625\u062f\u062e\u0627\u0644",order_type:"\u062a\u0632\u0648\u064a\u062f",quantity:100,sales_rep:"\u0625\u0628\u0631\u0627\u0647\u064a\u0645 \u062e\u0627\u0644\u062f",doctor:"",reason:"\u062a\u0632\u0648\u064a\u062f \u0645\u062e\u0632\u0648\u0646",comments:"\u0634\u062d\u0646\u0629 \u062c\u062f\u064a\u062f\u0629",status:"completed"}]),console.error("Using mock data:",p)}finally{h(!1)}};return(0,Ot.jsx)("div",{style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh"},children:(0,Ot.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Ot.jsx)("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:(0,Ot.jsxs)("div",{className:"flex items-center",children:[(0,Ot.jsx)("div",{className:"w-12 h-12 md:w-16 md:h-16 card-gradient-purple rounded-full flex items-center justify-center ml-4 glow-pulse",children:(0,Ot.jsx)("span",{className:"text-xl md:text-3xl",children:"\ud83c\udfea"})}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h2",{className:"text-2xl md:text-4xl font-bold text-gradient",children:w.title}),(0,Ot.jsx)("p",{className:"text-sm md:text-lg",style:{color:"var(--text-secondary)"},children:w.subtitle})]})]})}),p&&(0,Ot.jsxs)("div",{className:"alert-modern alert-error mb-6 scale-in",children:[(0,Ot.jsx)("span",{className:"ml-2",children:"\u274c"}),p]}),g&&(0,Ot.jsxs)("div",{className:"alert-modern alert-success mb-6 scale-in",children:[(0,Ot.jsx)("span",{className:"ml-2",children:"\u2705"}),g]}),(0,Ot.jsx)("div",{className:"mb-8",children:(0,Ot.jsx)("nav",{className:"flex space-x-2 overflow-x-auto bg-white/80 backdrop-blur-lg rounded-2xl p-2 shadow-lg scrollbar-hide",style:{direction:"ltr"},children:[{key:"dashboard",label:w.dashboard,icon:"\ud83d\udcca"},{key:"inventory",label:w.inventory,icon:"\ud83d\udce6"},{key:"orders",label:w.orders,icon:"\ud83d\uded2"},{key:"movements",label:w.movements,icon:"\ud83d\udccb"}].map((n=>(0,Ot.jsxs)("button",{onClick:()=>t(n.key),className:"nav-tab ".concat(e===n.key?"active":""," flex items-center whitespace-nowrap px-4 py-2 text-sm md:text-base"),children:[(0,Ot.jsx)("span",{className:"ml-2",children:n.icon}),(0,Ot.jsx)("span",{className:"hidden sm:inline",children:n.label})]},n.key)))})}),"dashboard"===e&&(0,Ot.jsx)(hn,{stats:c,warehouses:n,inventory:s,loading:m,language:b}),"inventory"===e&&(0,Ot.jsx)(bn,{inventory:s,warehouses:n,onRefresh:N,language:b}),"orders"===e&&(0,Ot.jsx)(yn,{orders:i,onRefresh:N,language:b}),"movements"===e&&(0,Ot.jsx)(jn,{movements:u,language:b})]})})},hn=e=>{var t;let{stats:n,warehouses:r,inventory:a,loading:s,language:l}=e;const i="ar"===l?{warehouseOverview:"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0627\u0644\u0645\u062e\u0627\u0632\u0646",urgentActions:"\ud83d\udea8 \u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0639\u0627\u062c\u0644\u0629 \u0645\u0637\u0644\u0648\u0628\u0629",totalValue:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0642\u064a\u0645\u0629",lowStock:"\u0646\u0642\u0635 \u0645\u062e\u0632\u0648\u0646",pendingOrders:"\u0637\u0644\u0628\u0627\u062a \u0645\u0639\u0644\u0642\u0629",todayMovements:"\u062d\u0631\u0643\u0627\u062a \u0627\u0644\u064a\u0648\u0645",warehouseDetails:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0645\u062e\u0627\u0632\u0646",criticalAlerts:"\u062a\u0646\u0628\u064a\u0647\u0627\u062a \u062d\u0631\u062c\u0629",needsAttention:"\u064a\u062d\u062a\u0627\u062c 3 \u0639\u0628\u0648\u0627\u062a \u0627\u0643\u0633\u0632\u0648\u0645",needsApproval:"\u064a\u062d\u062a\u0627\u062c \u0645\u0648\u0627\u0641\u0642\u0629 \u0623\u0645\u064a\u0646 \u0627\u0644\u0645\u062e\u0632\u0646 \u0639\u0644\u0649 \u0627\u0644\u0637\u0644\u0628\u064a\u0629",stockShortage:"\u064a\u0648\u062c\u062f \u0646\u0642\u0635 \u0641\u064a \u0645\u0646\u062a\u062c"}:{warehouseOverview:"Warehouse Overview",urgentActions:"\ud83d\udea8 Urgent Actions Required",totalValue:"Total Value",lowStock:"Low Stock",pendingOrders:"Pending Orders",todayMovements:"Today Movements",warehouseDetails:"Warehouse Details",criticalAlerts:"Critical Alerts",needsAttention:"Needs 3 units of Axozom",needsApproval:"Needs warehouse manager approval",stockShortage:"Stock shortage in product"},o=[{warehouse:"\u0645\u062e\u0632\u0646 \u0623\u0628\u064a\u0633",message:i.needsAttention,type:"stock",priority:"high"},{warehouse:"\u0645\u062e\u0632\u0646 \u0627\u0644\u0639\u0635\u0627\u0641\u0631\u0629",message:i.needsApproval,type:"approval",priority:"medium"},{warehouse:"\u0645\u062e\u0632\u0646 \u062c\u0644\u064a\u0645",message:"".concat(i.stockShortage," \u0641\u064a\u062a\u0627\u0645\u064a\u0646 \u062f3"),type:"shortage",priority:"high"}];return(0,Ot.jsxs)("div",{className:"space-y-8",children:[(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Ot.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,Ot.jsxs)("div",{className:"text-3xl font-bold text-green-600",children:[(null===(t=n.total_value)||void 0===t?void 0:t.toLocaleString())||"485,000"," \u062c\u0646\u064a\u0647"]}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:i.totalValue})]}),(0,Ot.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-red-600",children:n.low_stock_count||12}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:i.lowStock})]}),(0,Ot.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-orange-600",children:n.pending_orders_count||8}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:i.pendingOrders})]}),(0,Ot.jsxs)("div",{className:"card-modern p-6 text-center",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:n.movement_today||45}),(0,Ot.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:i.todayMovements})]})]}),(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udea8"}),(0,Ot.jsx)("span",{children:i.urgentActions})]}),(0,Ot.jsx)("div",{className:"space-y-3",children:o.map(((e,t)=>(0,Ot.jsx)("div",{className:"p-4 rounded-lg border-l-4 ".concat("high"===e.priority?"bg-red-50 border-red-500":"bg-orange-50 border-orange-500"),children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"font-bold text-gray-800",children:e.warehouse}),(0,Ot.jsx)("div",{className:"text-sm text-gray-600",children:e.message})]}),(0,Ot.jsx)("button",{className:"btn-sm ".concat("high"===e.priority?"btn-danger":"btn-warning"),children:"ar"===l?"\u0639\u0631\u0636":"View"})]})},t)))})]}),(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83c\udfea"}),(0,Ot.jsx)("span",{children:i.warehouseDetails})]}),(0,Ot.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((e=>{const t=a.filter((t=>t.warehouse===e.name)),n=t.filter((e=>e.quantity<=e.min_stock));return(0,Ot.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 p-6 rounded-lg",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h4",{className:"font-bold text-lg text-gray-800",children:e.name}),(0,Ot.jsxs)("p",{className:"text-sm text-gray-600",children:[e.city," \u2022 ",e.region]})]}),(0,Ot.jsx)("div",{className:"w-4 h-4 rounded-full ".concat(n.length>0?"bg-red-500":"bg-green-500")})]}),(0,Ot.jsxs)("div",{className:"space-y-2",children:[(0,Ot.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Ot.jsxs)("span",{children:["ar"===l?"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a":"Total Products",":"]}),(0,Ot.jsx)("span",{className:"font-bold",children:t.length})]}),(0,Ot.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Ot.jsxs)("span",{children:["ar"===l?"\u0646\u0642\u0635 \u0645\u062e\u0632\u0648\u0646":"Low Stock",":"]}),(0,Ot.jsx)("span",{className:"font-bold ".concat(n.length>0?"text-red-600":"text-green-600"),children:n.length})]}),(0,Ot.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Ot.jsxs)("span",{children:["ar"===l?"\u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u062a\u0642\u062f\u064a\u0631\u064a\u0629":"Estimated Value",":"]}),(0,Ot.jsxs)("span",{className:"font-bold text-blue-600",children:[t.reduce(((e,t)=>e+t.quantity*t.unit_price),0).toLocaleString()," ","ar"===l?"\u062c\u0646\u064a\u0647":"EGP"]})]})]}),(0,Ot.jsx)("button",{className:"btn-primary w-full mt-4 text-sm",children:"ar"===l?"\u0639\u0631\u0636 \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644":"View Details"})]},e.id)}))})]})]})},pn=e=>{let{stats:t,user:n}=e;const[r,s]=(0,a.useState)(!1),[l,i]=(0,a.useState)(!1),[o,c]=(0,a.useState)(null),{language:d}=(0,a.useContext)(Rt);(0,a.useEffect)((()=>{u()}),[]);const u=async()=>{try{const e=localStorage.getItem("token"),t=((new Date).toISOString().split("T")[0],await Pt.get("".concat(Lt,"/users/selfie/today"),{headers:{Authorization:"Bearer ".concat(e)}}));t.data.selfie?c(t.data.selfie):s(!0)}catch(e){s(!0)}},f={en:{welcome:"\ud83d\udc4b Welcome back",todayStats:"Today's Performance",visitsToday:"Visits Today",ordersToday:"Orders Today",clinicsAdded:"Clinics Added",efficiency:"Efficiency Rate",quickActions:"\u26a1 Quick Actions",newVisit:"\ud83d\udc68\u200d\u2695\ufe0f New Visit",newOrder:"\ud83d\udce6 New Order",addClinic:"\ud83c\udfe5 Add Clinic",viewPlan:"\ud83d\udccb View Daily Plan",todaySelfie:"\ud83d\udcf7 Today's Check-in",retakeSelfie:"\ud83d\udd04 Retake Selfie"},ar:{welcome:"\ud83d\udc4b \u0645\u0631\u062d\u0628\u0627\u064b \u0628\u0639\u0648\u062f\u062a\u0643",todayStats:"\u0623\u062f\u0627\u0621 \u0627\u0644\u064a\u0648\u0645",visitsToday:"\u0632\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u064a\u0648\u0645",ordersToday:"\u0637\u0644\u0628\u0627\u062a \u0627\u0644\u064a\u0648\u0645",clinicsAdded:"\u0639\u064a\u0627\u062f\u0627\u062a \u0645\u0636\u0627\u0641\u0629",efficiency:"\u0645\u0639\u062f\u0644 \u0627\u0644\u0643\u0641\u0627\u0621\u0629",quickActions:"\u26a1 \u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0633\u0631\u064a\u0639\u0629",newVisit:"\ud83d\udc68\u200d\u2695\ufe0f \u0632\u064a\u0627\u0631\u0629 \u062c\u062f\u064a\u062f\u0629",newOrder:"\ud83d\udce6 \u0637\u0644\u0628\u0629 \u062c\u062f\u064a\u062f\u0629",addClinic:"\ud83c\udfe5 \u0625\u0636\u0627\u0641\u0629 \u0639\u064a\u0627\u062f\u0629",viewPlan:"\ud83d\udccb \u0639\u0631\u0636 \u062e\u0637\u0629 \u0627\u0644\u064a\u0648\u0645",todaySelfie:"\ud83d\udcf7 \u062a\u0633\u062c\u064a\u0644 \u062d\u0636\u0648\u0631 \u0627\u0644\u064a\u0648\u0645",retakeSelfie:"\ud83d\udd04 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u062a\u0642\u0627\u0637 \u0633\u064a\u0644\u0641\u064a"}},m=f[d]||f.en;return(0,Ot.jsxs)(Ot.Fragment,{children:[(0,Ot.jsx)("div",{style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh"},children:(0,Ot.jsxs)("div",{className:"space-y-8",children:[(0,Ot.jsx)("div",{className:"card-modern p-6",children:(0,Ot.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("h2",{className:"text-3xl font-bold text-gradient mb-2",children:[m.welcome,", ",n.full_name,"! \ud83c\udf1f"]}),(0,Ot.jsx)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:(new Date).toLocaleDateString("ar"===d?"ar-EG":"en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),o&&(0,Ot.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsx)("div",{className:"text-sm text-gray-500 mb-1",children:m.todaySelfie}),(0,Ot.jsx)("img",{src:o,alt:"Today's selfie",className:"w-16 h-16 rounded-full object-cover border-4 border-green-500"})]}),(0,Ot.jsx)("button",{onClick:()=>s(!0),className:"btn-secondary text-sm px-3 py-1",children:m.retakeSelfie})]})]})}),(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udcca"}),(0,Ot.jsx)("span",{children:m.todayStats})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Ot.jsxs)("div",{className:"text-center p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:t.today_visits||0}),(0,Ot.jsx)("div",{className:"text-sm text-gray-600",children:m.visitsToday})]}),(0,Ot.jsxs)("div",{className:"text-center p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-green-600",children:t.today_orders||0}),(0,Ot.jsx)("div",{className:"text-sm text-gray-600",children:m.ordersToday})]}),(0,Ot.jsxs)("div",{className:"text-center p-4 bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg",children:[(0,Ot.jsx)("div",{className:"text-3xl font-bold text-purple-600",children:t.clinics_added||0}),(0,Ot.jsx)("div",{className:"text-sm text-gray-600",children:m.clinicsAdded})]}),(0,Ot.jsxs)("div",{className:"text-center p-4 bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg",children:[(0,Ot.jsxs)("div",{className:"text-3xl font-bold text-orange-600",children:[t.efficiency_rate||"85","%"]}),(0,Ot.jsx)("div",{className:"text-sm text-gray-600",children:m.efficiency})]})]})]}),(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\u26a1"}),(0,Ot.jsx)("span",{children:m.quickActions})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Ot.jsxs)("button",{className:"btn-primary flex flex-col items-center gap-2 py-6",children:[(0,Ot.jsx)("span",{className:"text-3xl",children:"\ud83d\udc68\u200d\u2695\ufe0f"}),(0,Ot.jsx)("span",{children:m.newVisit})]}),(0,Ot.jsxs)("button",{className:"btn-success flex flex-col items-center gap-2 py-6",children:[(0,Ot.jsx)("span",{className:"text-3xl",children:"\ud83d\udce6"}),(0,Ot.jsx)("span",{children:m.newOrder})]}),(0,Ot.jsxs)("button",{className:"btn-info flex flex-col items-center gap-2 py-6",children:[(0,Ot.jsx)("span",{className:"text-3xl",children:"\ud83c\udfe5"}),(0,Ot.jsx)("span",{children:m.addClinic})]}),(0,Ot.jsxs)("button",{onClick:()=>i(!0),className:"btn-warning flex flex-col items-center gap-2 py-6",children:[(0,Ot.jsx)("span",{className:"text-3xl",children:"\ud83d\udccb"}),(0,Ot.jsx)("span",{children:m.viewPlan})]})]})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udcc8"}),(0,Ot.jsx)("span",{children:"ar"===d?"\u0623\u062f\u0627\u0621 \u0627\u0644\u0623\u0633\u0628\u0648\u0639":"Weekly Performance"})]}),(0,Ot.jsx)("div",{className:"h-64 bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg flex items-center justify-center",children:(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udcca"}),(0,Ot.jsx)("p",{className:"text-gray-600",children:"ar"===d?"\u0631\u0633\u0645 \u0628\u064a\u0627\u0646\u064a \u0644\u0623\u062f\u0627\u0626\u0643 \u0627\u0644\u0623\u0633\u0628\u0648\u0639\u064a":"Your Weekly Performance Chart"})]})})]}),(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83c\udfc6"}),(0,Ot.jsx)("span",{children:"ar"===d?"\u0625\u0646\u062c\u0627\u0632\u0627\u062a \u0627\u0644\u0634\u0647\u0631":"Monthly Achievements"})]}),(0,Ot.jsxs)("div",{className:"space-y-3",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ot.jsx)("span",{className:"text-2xl",children:"\ud83e\udd47"}),(0,Ot.jsx)("span",{className:"font-medium",children:"ar"===d?"\u0623\u0641\u0636\u0644 \u0645\u0646\u062f\u0648\u0628 \u0644\u0644\u0634\u0647\u0631":"Top Rep of the Month"})]}),(0,Ot.jsx)("span",{className:"text-yellow-600 font-bold",children:"ar"===d?"\u0645\u0643\u062a\u0645\u0644":"Achieved"})]}),(0,Ot.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ot.jsx)("span",{className:"text-2xl",children:"\ud83c\udfaf"}),(0,Ot.jsx)("span",{className:"font-medium",children:"ar"===d?"\u062a\u062d\u0642\u064a\u0642 \u0647\u062f\u0641 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a":"Visits Target Met"})]}),(0,Ot.jsx)("span",{className:"text-blue-600 font-bold",children:"95%"})]}),(0,Ot.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ot.jsx)("span",{className:"text-2xl",children:"\ud83d\udcb0"}),(0,Ot.jsx)("span",{className:"font-medium",children:"ar"===d?"\u062a\u062d\u0642\u064a\u0642 \u0647\u062f\u0641 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a":"Sales Target Met"})]}),(0,Ot.jsx)("span",{className:"text-green-600 font-bold",children:"110%"})]})]})]})]})]})}),r&&(0,Ot.jsx)(Jt,{onCapture:e=>{c(e),s(!1),i(!0)},onSkip:()=>{s(!1),i(!0)}}),l&&(0,Ot.jsx)(Zt,{user:n,onClose:()=>i(!1)})]})},xn=()=>{const[e,t]=(0,a.useState)({clinic_name:"",clinic_phone:"",doctor_name:"",clinic_class:"",doctor_address:"",clinic_manager_name:"",address:"",notes:"",clinic_image:""}),[n,r]=(0,a.useState)(null),[s,l]=(0,a.useState)(""),[i,o]=(0,a.useState)(!1),[c,u]=(0,a.useState)(""),[f,m]=(0,a.useState)("");(0,a.useEffect)((()=>{h()}),[]);const h=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((async e=>{const t={latitude:e.coords.latitude,longitude:e.coords.longitude};r(t);try{l("\u0627\u0644\u0645\u0648\u0642\u0639: ".concat(t.latitude.toFixed(6),", ").concat(t.longitude.toFixed(6)))}catch(c){l("".concat(t.latitude.toFixed(6),", ").concat(t.longitude.toFixed(6)))}}),(e=>{u("\u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u0645\u0648\u0642\u0639\u0643 \u0627\u0644\u062d\u0627\u0644\u064a. \u062a\u0623\u0643\u062f \u0645\u0646 \u062a\u0641\u0639\u064a\u0644 GPS")}),{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4}):u("\u0627\u0644\u0645\u062a\u0635\u0641\u062d \u0644\u0627 \u064a\u062f\u0639\u0645 \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0645\u0648\u0642\u0639")};return(0,Ot.jsxs)(Ot.Fragment,{children:[(0,Ot.jsx)(Bt,{}),(0,Ot.jsxs)("div",{className:"card-modern p-8 page-transition",children:[(0,Ot.jsxs)("div",{className:"flex items-center mb-8",children:[(0,Ot.jsx)("div",{className:"w-16 h-16 card-gradient-orange rounded-full flex items-center justify-center ml-4 glow-pulse",children:(0,Ot.jsx)("span",{className:"text-3xl",children:"\ud83c\udfe5"})}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h2",{className:"text-3xl font-bold text-gradient",children:"\u062a\u0633\u062c\u064a\u0644 \u0639\u064a\u0627\u062f\u0629 \u062c\u062f\u064a\u062f\u0629"}),(0,Ot.jsx)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:"\u0623\u0636\u0641 \u0639\u064a\u0627\u062f\u0629 \u0637\u0628\u064a\u0629 \u062c\u062f\u064a\u062f\u0629 \u0625\u0644\u0649 \u0627\u0644\u0646\u0638\u0627\u0645"})]})]}),c&&(0,Ot.jsxs)("div",{className:"alert-modern alert-error mb-6 scale-in",children:[(0,Ot.jsx)("span",{className:"ml-2",children:"\u26a0\ufe0f"}),c]}),f&&(0,Ot.jsxs)("div",{className:"alert-modern alert-success mb-6 scale-in",children:[(0,Ot.jsx)("span",{className:"ml-2",children:"\u2705"}),f]}),(0,Ot.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),n){o(!0),u("");try{const r=localStorage.getItem("token"),a=d(d({},e),{},{doctor_specialty:e.clinic_class,latitude:n.latitude,longitude:n.longitude});await Pt.post("".concat(Lt,"/clinic-requests"),a,{headers:{Authorization:"Bearer ".concat(r)}}),m("\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u0637\u0644\u0628 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0639\u064a\u0627\u062f\u0629 \u0628\u0646\u062c\u0627\u062d. \u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0645\u062f\u064a\u0631"),t({clinic_name:"",clinic_phone:"",doctor_name:"",clinic_class:"",doctor_address:"",clinic_manager_name:"",address:"",notes:"",clinic_image:""})}catch(c){var a,s;u((null===(a=c.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.detail)||"\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628")}finally{o(!1)}}else u("\u0644\u0627 \u064a\u0645\u0643\u0646 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0639\u064a\u0627\u062f\u0629 \u0628\u062f\u0648\u0646 \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0645\u0648\u0642\u0639")},className:"space-y-8 form-modern",children:[(0,Ot.jsxs)("div",{className:"card-gradient-success p-6 rounded-2xl",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-3",children:[(0,Ot.jsx)("span",{className:"text-2xl",children:"\ud83d\uddfa\ufe0f"}),(0,Ot.jsx)("span",{children:"\u0627\u0644\u0645\u0648\u0642\u0639 \u0627\u0644\u062c\u063a\u0631\u0627\u0641\u064a \u0627\u0644\u062d\u0627\u0644\u064a"})]}),(0,Ot.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n?(0,Ot.jsxs)(Ot.Fragment,{children:[(0,Ot.jsxs)("div",{className:"glass-effect p-4 rounded-xl",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Ot.jsx)("span",{className:"text-xl",children:"\ud83d\udccd"}),(0,Ot.jsx)("span",{className:"font-bold",children:"\u0627\u0644\u0625\u062d\u062f\u0627\u062b\u064a\u0627\u062a:"})]}),(0,Ot.jsxs)("p",{className:"text-sm font-mono",children:[n.latitude.toFixed(6),", ",n.longitude.toFixed(6)]})]}),(0,Ot.jsxs)("div",{className:"glass-effect p-4 rounded-xl",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Ot.jsx)("span",{className:"text-xl",children:"\ud83c\udfe0"}),(0,Ot.jsx)("span",{className:"font-bold",children:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646:"})]}),(0,Ot.jsx)("p",{className:"text-sm",children:s})]})]}):(0,Ot.jsx)("div",{className:"col-span-2 text-center",children:(0,Ot.jsx)("div",{className:"gps-indicator",children:(0,Ot.jsx)("span",{children:"\u062c\u0627\u0631\u064a \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0645\u0648\u0642\u0639..."})})})}),(0,Ot.jsx)("div",{className:"mt-6 h-48 glass-effect rounded-xl flex items-center justify-center",children:(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsx)("span",{className:"text-4xl mb-2 block",children:"\ud83d\uddfa\ufe0f"}),(0,Ot.jsx)("p",{className:"font-bold",children:"\u062e\u0631\u064a\u0637\u0629 Google Maps"}),(0,Ot.jsx)("p",{className:"text-sm opacity-75",children:"\u0633\u064a\u062a\u0645 \u0639\u0631\u0636 \u0627\u0644\u0645\u0648\u0642\u0639 \u0647\u0646\u0627 \u0628\u0639\u062f \u0625\u0636\u0627\u0641\u0629 \u0645\u0641\u062a\u0627\u062d \u0627\u0644\u062e\u0631\u0627\u0626\u0637"})]})})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{children:(0,Ot.jsx)("span",{className:"text-shadow-glow",children:"\ud83c\udfe5 \u0627\u0633\u0645 \u0627\u0644\u0639\u064a\u0627\u062f\u0629"})}),(0,Ot.jsx)("input",{type:"text",value:e.clinic_name,onChange:n=>t(d(d({},e),{},{clinic_name:n.target.value})),className:"w-full",placeholder:"\u0645\u062b\u0627\u0644: \u0639\u064a\u0627\u062f\u0629 \u0627\u0644\u0646\u0648\u0631 \u0627\u0644\u0637\u0628\u064a\u0629",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{children:(0,Ot.jsx)("span",{className:"text-shadow-glow",children:"\ud83d\udcde \u0631\u0642\u0645 \u0627\u0644\u0639\u064a\u0627\u062f\u0629"})}),(0,Ot.jsx)("input",{type:"tel",value:e.clinic_phone,onChange:n=>t(d(d({},e),{},{clinic_phone:n.target.value})),className:"w-full",placeholder:"0501234567"})]})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{children:(0,Ot.jsx)("span",{className:"text-shadow-glow",children:"\ud83d\udc68\u200d\u2695\ufe0f \u0627\u0633\u0645 \u0627\u0644\u0637\u0628\u064a\u0628"})}),(0,Ot.jsx)("input",{type:"text",value:e.doctor_name,onChange:n=>t(d(d({},e),{},{doctor_name:n.target.value})),className:"w-full",placeholder:"\u062f. \u0623\u062d\u0645\u062f \u0645\u062d\u0645\u062f",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{children:(0,Ot.jsx)("span",{className:"text-shadow-glow",children:"\ud83c\udfc6 \u062a\u0635\u0646\u064a\u0641 \u0627\u0644\u0639\u064a\u0627\u062f\u0629"})}),(0,Ot.jsxs)("select",{value:e.clinic_class,onChange:n=>t(d(d({},e),{},{clinic_class:n.target.value})),className:"w-full",required:!0,children:[(0,Ot.jsx)("option",{value:"",children:"\u0627\u062e\u062a\u0631 \u062a\u0635\u0646\u064a\u0641 \u0627\u0644\u0639\u064a\u0627\u062f\u0629"}),(0,Ot.jsx)("option",{value:"A Class",children:"A Class - \u0639\u064a\u0627\u062f\u0629 \u062f\u0631\u062c\u0629 \u0623\u0648\u0644\u0649"}),(0,Ot.jsx)("option",{value:"B Class",children:"B Class - \u0639\u064a\u0627\u062f\u0629 \u062f\u0631\u062c\u0629 \u062b\u0627\u0646\u064a\u0629"}),(0,Ot.jsx)("option",{value:"C Class",children:"C Class - \u0639\u064a\u0627\u062f\u0629 \u062f\u0631\u062c\u0629 \u062b\u0627\u0644\u062b\u0629"})]})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{children:(0,Ot.jsx)("span",{className:"text-shadow-glow",children:"\ud83c\udfe0 \u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0637\u0628\u064a\u0628"})}),(0,Ot.jsx)("input",{type:"text",value:e.doctor_address,onChange:n=>t(d(d({},e),{},{doctor_address:n.target.value})),className:"w-full",placeholder:"\u062d\u064a \u0627\u0644\u0645\u0644\u0632\u060c \u0634\u0627\u0631\u0639 \u0627\u0644\u0645\u0644\u0643 \u0641\u0647\u062f",required:!0})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{children:(0,Ot.jsx)("span",{className:"text-shadow-glow",children:"\ud83d\udc54 \u0627\u0644\u0645\u0633\u0624\u0648\u0644 \u0639\u0646 \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0639\u064a\u0627\u062f\u0629"})}),(0,Ot.jsx)("input",{type:"text",value:e.clinic_manager_name,onChange:n=>t(d(d({},e),{},{clinic_manager_name:n.target.value})),className:"w-full",placeholder:"\u0627\u0633\u0645 \u0645\u062f\u064a\u0631 \u0627\u0644\u0639\u064a\u0627\u062f\u0629",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{children:(0,Ot.jsx)("span",{className:"text-shadow-glow",children:"\ud83d\udccd \u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0639\u064a\u0627\u062f\u0629"})}),(0,Ot.jsx)("input",{type:"text",value:e.address,onChange:n=>t(d(d({},e),{},{address:n.target.value})),className:"w-full",placeholder:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0643\u0627\u0645\u0644 \u0644\u0644\u0639\u064a\u0627\u062f\u0629",required:!0})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{children:(0,Ot.jsx)("span",{className:"text-shadow-glow",children:"\ud83d\udcf8 \u0635\u0648\u0631\u0629 \u0627\u0644\u0639\u064a\u0627\u062f\u0629 \u0645\u0646 \u0627\u0644\u062e\u0627\u0631\u062c (\u0627\u062e\u062a\u064a\u0627\u0631\u064a)"})}),(0,Ot.jsxs)("div",{className:"mt-3",children:[(0,Ot.jsx)("input",{type:"file",accept:"image/*",onChange:n=>{const r=n.target.files[0];if(r){if(r.size>5242880)return void u("\u062d\u062c\u0645 \u0627\u0644\u0635\u0648\u0631\u0629 \u064a\u062c\u0628 \u0623\u0646 \u064a\u0643\u0648\u0646 \u0623\u0642\u0644 \u0645\u0646 5 \u0645\u064a\u062c\u0627\u0628\u0627\u064a\u062a");const n=new FileReader;n.onload=n=>{t(d(d({},e),{},{clinic_image:n.target.result}))},n.readAsDataURL(r)}},className:"w-full p-4 border-2 border-dashed border-orange-300 rounded-xl hover:border-orange-500 transition-colors",style:{background:"var(--glass-bg)",borderColor:"var(--brand-orange)",borderOpacity:.3}}),e.clinic_image&&(0,Ot.jsx)("div",{className:"mt-4",children:(0,Ot.jsx)("img",{src:e.clinic_image,alt:"\u0635\u0648\u0631\u0629 \u0627\u0644\u0639\u064a\u0627\u062f\u0629",className:"h-48 w-full object-cover rounded-xl shadow-lg"})})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{children:(0,Ot.jsx)("span",{className:"text-shadow-glow",children:"\ud83d\udcdd \u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0627\u0644\u0639\u064a\u0627\u062f\u0629"})}),(0,Ot.jsx)("textarea",{value:e.notes,onChange:n=>t(d(d({},e),{},{notes:n.target.value})),rows:5,className:"w-full",placeholder:"\u0623\u0636\u0641 \u0623\u064a \u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0645\u0647\u0645\u0629 \u0639\u0646 \u0627\u0644\u0639\u064a\u0627\u062f\u0629\u060c \u0633\u0627\u0639\u0627\u062a \u0627\u0644\u0639\u0645\u0644\u060c \u0623\u0648 \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u062e\u0627\u0635\u0629...",required:!0})]}),(0,Ot.jsx)("button",{type:"submit",disabled:i||!n,className:"w-full btn-primary text-xl py-4 neon-glow",children:i?(0,Ot.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,Ot.jsx)("div",{className:"loading-shimmer w-6 h-6 rounded-full"}),(0,Ot.jsx)("span",{children:"\u062c\u0627\u0631\u064a \u0627\u0644\u0625\u0631\u0633\u0627\u0644..."})]}):(0,Ot.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,Ot.jsx)("span",{children:"\ud83d\ude80"}),(0,Ot.jsx)("span",{children:"\u0625\u0631\u0633\u0627\u0644 \u0637\u0644\u0628 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0639\u064a\u0627\u062f\u0629"})]})})]})]})]})},gn=()=>{const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)([]),[s,l]=(0,a.useState)([]),[i,o]=(0,a.useState)({doctor_id:"",order_type:"DEMO",warehouse_id:"",notes:"",items:[]}),[c,u]=(0,a.useState)([]),[f,m]=(0,a.useState)(!1),[h,p]=(0,a.useState)(""),[x,g]=(0,a.useState)("");(0,a.useEffect)((()=>{v(),b(),y()}),[]);const v=async()=>{try{const e=localStorage.getItem("token"),n=await Pt.get("".concat(Lt,"/doctors"),{headers:{Authorization:"Bearer ".concat(e)}});t(n.data.filter((e=>e.approved_by)))}catch(h){console.error("Error fetching doctors:",h)}},b=async()=>{try{const e=localStorage.getItem("token"),t=await Pt.get("".concat(Lt,"/products"),{headers:{Authorization:"Bearer ".concat(e)}});r(t.data)}catch(h){console.error("Error fetching products:",h)}},y=async()=>{try{const e=localStorage.getItem("token"),t=await Pt.get("".concat(Lt,"/warehouses"),{headers:{Authorization:"Bearer ".concat(e)}});l(t.data)}catch(h){console.error("Error fetching warehouses:",h)}};return(0,Ot.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,Ot.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"\u0639\u0645\u0644 \u0637\u0644\u0628\u064a\u0629"}),h&&(0,Ot.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-4",children:h}),x&&(0,Ot.jsx)("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg mb-4",children:x}),(0,Ot.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),0!==c.length){m(!0),p("");try{const t=localStorage.getItem("token"),n=e.find((e=>e.id===i.doctor_id)),r=d(d({},i),{},{clinic_id:n.clinic_id,items:c.map((e=>({product_id:e.id,quantity:e.quantity})))});await Pt.post("".concat(Lt,"/orders"),r,{headers:{Authorization:"Bearer ".concat(t)}}),g("\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628\u064a\u0629 \u0628\u0646\u062c\u0627\u062d. \u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0645\u062f\u064a\u0631"),o({doctor_id:"",order_type:"DEMO",warehouse_id:"",notes:"",items:[]}),u([])}catch(h){var n,r;p((null===(n=h.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.detail)||"\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628\u064a\u0629")}finally{m(!1)}}else p("\u064a\u062c\u0628 \u0625\u0636\u0627\u0641\u0629 \u0645\u0646\u062a\u062c \u0648\u0627\u062d\u062f \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644")},className:"space-y-6",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0637\u0628\u064a\u0628"}),(0,Ot.jsxs)("select",{value:i.doctor_id,onChange:e=>o(d(d({},i),{},{doctor_id:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,Ot.jsx)("option",{value:"",children:"-- \u0627\u062e\u062a\u0631 \u0627\u0644\u0637\u0628\u064a\u0628 --"}),e.map((e=>(0,Ot.jsxs)("option",{value:e.id,children:["\u062f. ",e.name," - ",e.specialty]},e.id)))]})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0646\u0648\u0639 \u0627\u0644\u0637\u0644\u0628\u064a\u0629"}),(0,Ot.jsxs)("select",{value:i.order_type,onChange:e=>o(d(d({},i),{},{order_type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,Ot.jsx)("option",{value:"DEMO",children:"\u062f\u064a\u0645\u0648 (\u0645\u062c\u0627\u0646\u064a)"}),(0,Ot.jsx)("option",{value:"SALE",children:"\u0623\u0648\u0631\u062f\u0631 \u0645\u062f\u0641\u0648\u0639"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0645\u062e\u0632\u0646"}),(0,Ot.jsxs)("select",{value:i.warehouse_id,onChange:e=>o(d(d({},i),{},{warehouse_id:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,Ot.jsx)("option",{value:"",children:"-- \u0627\u062e\u062a\u0631 \u0627\u0644\u0645\u062e\u0632\u0646 --"}),s.map((e=>(0,Ot.jsxs)("option",{value:e.id,children:[e.name," - ",e.location]},e.id)))]})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0625\u0636\u0627\u0641\u0629 \u0645\u0646\u062a\u062c\u0627\u062a"}),(0,Ot.jsxs)("select",{onChange:e=>{e.target.value&&((e=>{const t=n.find((t=>t.id===e));t&&!c.find((t=>t.id===e))&&u([...c,d(d({},t),{},{quantity:1})])})(e.target.value),e.target.value="")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,Ot.jsx)("option",{value:"",children:"-- \u0627\u062e\u062a\u0631 \u0645\u0646\u062a\u062c \u0644\u0625\u0636\u0627\u0641\u062a\u0647 --"}),n.map((e=>(0,Ot.jsxs)("option",{value:e.id,children:[e.name," - ",e.price," \u0631\u064a\u0627\u0644 (",e.unit,")"]},e.id)))]})]}),c.length>0&&(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u0645\u062e\u062a\u0627\u0631\u0629"}),(0,Ot.jsxs)("div",{className:"space-y-3",children:[c.map((e=>(0,Ot.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[(0,Ot.jsxs)("div",{className:"flex-1",children:[(0,Ot.jsx)("h4",{className:"font-medium text-gray-800",children:e.name}),(0,Ot.jsxs)("p",{className:"text-sm text-gray-600",children:[e.price," \u0631\u064a\u0627\u0644 / ",e.unit]})]}),(0,Ot.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ot.jsx)("input",{type:"number",min:"1",value:e.quantity,onChange:t=>{return n=e.id,r=t.target.value,void u(c.map((e=>e.id===n?d(d({},e),{},{quantity:parseInt(r)}):e)));var n,r},className:"w-20 px-2 py-1 border border-gray-300 rounded text-center"}),(0,Ot.jsxs)("span",{className:"text-sm font-medium text-gray-600",children:[(e.price*e.quantity).toFixed(2)," \u0631\u064a\u0627\u0644"]}),(0,Ot.jsx)("button",{type:"button",onClick:()=>{return t=e.id,void u(c.filter((e=>e.id!==t)));var t},className:"text-red-600 hover:text-red-800 text-sm",children:"\u062d\u0630\u0641"})]})]},e.id))),(0,Ot.jsx)("div",{className:"bg-blue-50 p-3 rounded-lg",children:(0,Ot.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ot.jsx)("span",{className:"font-semibold text-blue-800",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0637\u0644\u0628\u064a\u0629:"}),(0,Ot.jsxs)("span",{className:"text-xl font-bold text-blue-600",children:[c.reduce(((e,t)=>e+t.price*t.quantity),0).toFixed(2)," \u0631\u064a\u0627\u0644"]})]})})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0627\u0644\u0623\u0648\u0631\u062f\u0631"}),(0,Ot.jsx)("textarea",{value:i.notes,onChange:e=>o(d(d({},i),{},{notes:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"\u0623\u0636\u0641 \u0623\u064a \u0645\u0644\u0627\u062d\u0638\u0627\u062a \u062e\u0627\u0635\u0629 \u0628\u0627\u0644\u0637\u0644\u0628\u064a\u0629..."})]}),(0,Ot.jsx)("button",{type:"submit",disabled:f||0===c.length,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 transition duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:f?"\u062c\u0627\u0631\u064a \u0627\u0644\u0625\u0631\u0633\u0627\u0644...":"\u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628\u064a\u0629"})]})]})},vn=()=>{const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)([]),[s,l]=(0,a.useState)(""),[i,o]=(0,a.useState)(""),[c,d]=(0,a.useState)(""),[u,f]=(0,a.useState)(!1),[m,h]=(0,a.useState)(null),[p,x]=(0,a.useState)(""),[g,v]=(0,a.useState)(""),[b,y]=(0,a.useState)(!1),[j,w]=(0,a.useState)(null),[N,k]=(0,a.useState)([]),[S,_]=(0,a.useState)(null);(0,a.useEffect)((()=>{T(),A(),E()}),[]);const E=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((e=>{h({latitude:e.coords.latitude,longitude:e.coords.longitude})}),(e=>{x("\u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u0645\u0648\u0642\u0639\u0643 \u0627\u0644\u062d\u0627\u0644\u064a. \u062a\u0623\u0643\u062f \u0645\u0646 \u062a\u0641\u0639\u064a\u0644 GPS")})):x("\u0627\u0644\u0645\u062a\u0635\u0641\u062d \u0644\u0627 \u064a\u062f\u0639\u0645 \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0645\u0648\u0642\u0639")},C=async(e,t,n)=>{try{const r=localStorage.getItem("token");await Pt.post("".concat(Lt,"/visits/").concat(e,"/voice-notes"),{audio_data:t,duration:Math.round(n)},{headers:{Authorization:"Bearer ".concat(r)}}),v("\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0629 \u0627\u0644\u0635\u0648\u062a\u064a\u0629 \u0628\u0646\u062c\u0627\u062d")}catch(p){console.error("Error adding voice note:",p),x("\u062e\u0637\u0623 \u0641\u064a \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0629 \u0627\u0644\u0635\u0648\u062a\u064a\u0629")}},T=async()=>{try{const e=localStorage.getItem("token"),n=await Pt.get("".concat(Lt,"/doctors"),{headers:{Authorization:"Bearer ".concat(e)}});t(n.data)}catch(p){console.error("Error fetching doctors:",p)}},A=async()=>{try{const e=localStorage.getItem("token"),t=await Pt.get("".concat(Lt,"/clinics"),{headers:{Authorization:"Bearer ".concat(e)}});r(t.data)}catch(p){console.error("Error fetching clinics:",p)}};return(0,Ot.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,Ot.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"\u062a\u0633\u062c\u064a\u0644 \u0632\u064a\u0627\u0631\u0629 \u062c\u062f\u064a\u062f\u0629"}),(0,Ot.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),m){f(!0),x(""),v("");try{const e=localStorage.getItem("token"),t=await Pt.post("".concat(Lt,"/visits"),{doctor_id:s,clinic_id:i,latitude:m.latitude,longitude:m.longitude,notes:c},{headers:{Authorization:"Bearer ".concat(e)}});_(t.data.visit_id);for(const n of N)await C(t.data.visit_id,n.audio,n.duration);k([]),v("\u062a\u0645 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0629 \u0628\u0646\u062c\u0627\u062d"),l(""),o(""),d(""),_(null)}catch(p){var t,n;x((null===(t=p.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0629")}finally{f(!1)}}else x("\u0644\u0627 \u064a\u0645\u0643\u0646 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0629 \u0628\u062f\u0648\u0646 \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0645\u0648\u0642\u0639")},className:"space-y-6",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0637\u0628\u064a\u0628"}),(0,Ot.jsxs)("select",{value:s,onChange:e=>l(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,Ot.jsx)("option",{value:"",children:"-- \u0627\u062e\u062a\u0631 \u0627\u0644\u0637\u0628\u064a\u0628 --"}),e.map((e=>(0,Ot.jsxs)("option",{value:e.id,children:["\u062f. ",e.name," - ",e.specialty]},e.id)))]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0639\u064a\u0627\u062f\u0629"}),(0,Ot.jsxs)("select",{value:i,onChange:e=>o(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,Ot.jsx)("option",{value:"",children:"-- \u0627\u062e\u062a\u0631 \u0627\u0644\u0639\u064a\u0627\u062f\u0629 --"}),n.map((e=>(0,Ot.jsxs)("option",{value:e.id,children:[e.name," - ",e.address]},e.id)))]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0627\u0644\u0632\u064a\u0627\u0631\u0629"}),(0,Ot.jsx)("textarea",{value:c,onChange:e=>d(e.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"\u0623\u0636\u0641 \u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0629...",required:!0})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0635\u0648\u062a\u064a\u0629 (\u0627\u062e\u062a\u064a\u0627\u0631\u064a\u0629)"}),(0,Ot.jsxs)("div",{className:"border border-gray-300 rounded-lg p-4",children:[(0,Ot.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,Ot.jsx)("button",{type:"button",onClick:b?()=>{j&&b&&(j.stop(),y(!1),w(null))}:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=new MediaRecorder(e),n=[];t.ondataavailable=e=>n.push(e.data),t.onstop=async()=>{const t=new Blob(n,{type:"audio/wav"}),r=new FileReader;r.onloadend=async()=>{const e=r.result;S?await C(S,e,t.size/1e3):k([...N,{audio:e,duration:t.size/1e3}])},r.readAsDataURL(t),e.getTracks().forEach((e=>e.stop()))},t.start(),w(t),y(!0)}catch(p){console.error("Error starting recording:",p),x("\u062e\u0637\u0623 \u0641\u064a \u0628\u062f\u0621 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0635\u0648\u062a")}},className:"px-6 py-3 rounded-lg font-medium transition-colors ".concat(b?"bg-red-500 text-white hover:bg-red-600":"bg-green-500 text-white hover:bg-green-600"),children:b?(0,Ot.jsxs)(Ot.Fragment,{children:[(0,Ot.jsx)("span",{className:"ml-2",children:"\ud83d\uded1"}),"\u0625\u064a\u0642\u0627\u0641 \u0627\u0644\u062a\u0633\u062c\u064a\u0644"]}):(0,Ot.jsxs)(Ot.Fragment,{children:[(0,Ot.jsx)("span",{className:"ml-2",children:"\ud83c\udfa4"}),"\u0628\u062f\u0621 \u062a\u0633\u062c\u064a\u0644 \u0635\u0648\u062a\u064a"]})}),b&&(0,Ot.jsxs)("div",{className:"flex items-center gap-2 text-red-600",children:[(0,Ot.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),(0,Ot.jsx)("span",{className:"text-sm font-medium",children:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u0633\u062c\u064a\u0644..."})]})]}),N.length>0&&(0,Ot.jsxs)("div",{className:"space-y-2",children:[(0,Ot.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0627\u0644\u0635\u0648\u062a\u064a\u0629 \u0627\u0644\u0645\u0633\u062c\u0644\u0629:"}),N.map(((e,t)=>(0,Ot.jsxs)("div",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded-lg",children:[(0,Ot.jsx)("span",{className:"text-sm",children:"\ud83c\udfb5"}),(0,Ot.jsx)("audio",{controls:!0,className:"flex-1 h-8",children:(0,Ot.jsx)("source",{src:e.audio,type:"audio/wav"})}),(0,Ot.jsxs)("span",{className:"text-xs text-gray-500",children:[Math.round(e.duration),"\u062b"]})]},t)))]}),(0,Ot.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"\ud83d\udca1 \u064a\u0645\u0643\u0646\u0643 \u062a\u0633\u062c\u064a\u0644 \u0639\u062f\u0629 \u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0635\u0648\u062a\u064a\u0629 \u0644\u062d\u0641\u0638 \u062a\u0641\u0627\u0635\u064a\u0644 \u0645\u0647\u0645\u0629 \u0623\u062b\u0646\u0627\u0621 \u0627\u0644\u0632\u064a\u0627\u0631\u0629"})]})]}),(0,Ot.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg",children:(0,Ot.jsxs)("div",{className:"flex items-center",children:[(0,Ot.jsx)("div",{className:"text-blue-600 ml-2",children:"\ud83d\udccd"}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"\u0627\u0644\u0645\u0648\u0642\u0639 \u0627\u0644\u062d\u0627\u0644\u064a"}),m?(0,Ot.jsxs)("p",{className:"text-xs text-blue-600",children:[m.latitude.toFixed(6),", ",m.longitude.toFixed(6)]}):(0,Ot.jsx)("p",{className:"text-xs text-blue-600",children:"\u062c\u0627\u0631\u064a \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0645\u0648\u0642\u0639..."})]})]})}),p&&(0,Ot.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:p}),g&&(0,Ot.jsx)("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg",children:g}),(0,Ot.jsx)("button",{type:"submit",disabled:u||!m,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 transition duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:u?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u0633\u062c\u064a\u0644...":"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0629"})]})]})},bn=e=>{let{inventory:t,warehouses:n,onRefresh:r,language:s}=e;const[l,i]=(0,a.useState)("all"),[o,c]=(0,a.useState)(""),[d,u]=(0,a.useState)("all"),f="ar"===s?{inventoryTitle:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u062e\u0632\u0648\u0646 \u0627\u0644\u0634\u0627\u0645\u0644",warehouse:"\u0627\u0644\u0645\u062e\u0632\u0646",allWarehouses:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u062e\u0627\u0632\u0646",search:"\u0628\u062d\u062b \u0641\u064a \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a...",category:"\u0627\u0644\u0641\u0626\u0629",allCategories:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0641\u0626\u0627\u062a",productName:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c",quantity:"\u0627\u0644\u0643\u0645\u064a\u0629",minStock:"\u0623\u0642\u0644 \u0645\u062e\u0632\u0648\u0646",unitPrice:"\u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0629",totalValue:"\u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a\u0629",status:"\u0627\u0644\u062d\u0627\u0644\u0629",actions:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a",inStock:"\u0645\u062a\u0648\u0641\u0631",lowStock:"\u0646\u0642\u0635 \u0645\u062e\u0632\u0648\u0646",outOfStock:"\u0646\u0641\u062f \u0627\u0644\u0645\u062e\u0632\u0648\u0646",edit:"\u062a\u0639\u062f\u064a\u0644",view:"\u0639\u0631\u0636"}:{inventoryTitle:"Comprehensive Inventory Management",warehouse:"Warehouse",allWarehouses:"All Warehouses",search:"Search products...",category:"Category",allCategories:"All Categories",productName:"Product Name",quantity:"Quantity",minStock:"Min Stock",unitPrice:"Unit Price",totalValue:"Total Value",status:"Status",actions:"Actions",inStock:"In Stock",lowStock:"Low Stock",outOfStock:"Out of Stock",edit:"Edit",view:"View"},m=t.filter((e=>{const t="all"===l||e.warehouse===l,n=e.name.toLowerCase().includes(o.toLowerCase()),r="all"===d||e.category===d;return t&&n&&r})),h=[...new Set(t.map((e=>e.category)))];return(0,Ot.jsx)("div",{className:"space-y-6",children:(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udce6"}),(0,Ot.jsx)("span",{children:f.inventoryTitle})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("label",{className:"block text-sm font-bold mb-2",children:[f.warehouse,":"]}),(0,Ot.jsxs)("select",{value:l,onChange:e=>i(e.target.value),className:"form-modern w-full",children:[(0,Ot.jsx)("option",{value:"all",children:f.allWarehouses}),n.map((e=>(0,Ot.jsx)("option",{value:e.name,children:e.name},e.id)))]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("label",{className:"block text-sm font-bold mb-2",children:[f.search,":"]}),(0,Ot.jsx)("input",{type:"text",value:o,onChange:e=>c(e.target.value),placeholder:f.search,className:"form-modern w-full"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("label",{className:"block text-sm font-bold mb-2",children:[f.category,":"]}),(0,Ot.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"form-modern w-full",children:[(0,Ot.jsx)("option",{value:"all",children:f.allCategories}),h.map((e=>(0,Ot.jsx)("option",{value:e,children:e},e)))]})]}),(0,Ot.jsx)("div",{className:"flex items-end",children:(0,Ot.jsxs)("button",{onClick:r,className:"btn-primary w-full flex items-center justify-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udd04"}),(0,Ot.jsx)("span",{children:"ar"===s?"\u062a\u062d\u062f\u064a\u062b":"Refresh"})]})})]}),(0,Ot.jsx)("div",{className:"table-modern overflow-x-auto",children:(0,Ot.jsxs)("table",{className:"min-w-full",children:[(0,Ot.jsx)("thead",{children:(0,Ot.jsxs)("tr",{children:[(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:f.productName}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:f.warehouse}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:f.quantity}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:f.minStock}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:f.unitPrice}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:f.totalValue}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:f.status}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:f.actions})]})}),(0,Ot.jsx)("tbody",{children:m.map((e=>{const t=(e=>0===e.quantity?{text:f.outOfStock,color:"text-red-600",bg:"bg-red-100"}:e.quantity<=e.min_stock?{text:f.lowStock,color:"text-orange-600",bg:"bg-orange-100"}:{text:f.inStock,color:"text-green-600",bg:"bg-green-100"})(e),n=e.quantity*e.unit_price;return(0,Ot.jsxs)("tr",{className:"hover:bg-gray-50 hover:bg-opacity-5 transition-colors",children:[(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("div",{className:"font-medium text-lg",children:e.name}),(0,Ot.jsx)("div",{className:"text-sm text-gray-500",children:e.category})]})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("div",{className:"font-medium",children:e.warehouse})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("div",{className:"text-lg font-bold",children:e.quantity})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("div",{className:"text-sm text-gray-600",children:e.min_stock})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsxs)("div",{className:"font-medium",children:[e.unit_price.toFixed(2)," ","ar"===s?"\u062c\u0646\u064a\u0647":"EGP"]})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsxs)("div",{className:"text-lg font-bold text-green-600",children:[n.toFixed(2)," ","ar"===s?"\u062c\u0646\u064a\u0647":"EGP"]})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(t.bg," ").concat(t.color),children:t.text})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsxs)("div",{className:"flex gap-2",children:[(0,Ot.jsx)("button",{className:"btn-info text-xs px-3 py-1",title:f.view,children:"\ud83d\udc41\ufe0f"}),(0,Ot.jsx)("button",{className:"btn-primary text-xs px-3 py-1",title:f.edit,children:"\u270f\ufe0f"})]})})]},e.id)}))})]})})]})})},yn=e=>{let{orders:t,onRefresh:n,language:r}=e;const a="ar"===r?{ordersTitle:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0645\u0646\u062a\u0638\u0631\u0629",orderId:"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628\u064a\u0629",clinic:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629",salesRep:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628",warehouse:"\u0627\u0644\u0645\u062e\u0632\u0646",items:"\u0639\u062f\u062f \u0627\u0644\u0639\u0646\u0627\u0635\u0631",total:"\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a",status:"\u0627\u0644\u062d\u0627\u0644\u0629",actions:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a",pendingManager:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u062f\u064a\u0631",pendingAccounting:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629",pendingWarehouse:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u062e\u0632\u0646",approve:"\u0645\u0648\u0627\u0641\u0642\u0629",reject:"\u0631\u0641\u0636",view:"\u0639\u0631\u0636"}:{ordersTitle:"Pending Orders Management",orderId:"Order ID",clinic:"Clinic",salesRep:"Sales Rep",warehouse:"Warehouse",items:"Items",total:"Total",status:"Status",actions:"Actions",pendingManager:"Pending Manager",pendingAccounting:"Pending Accounting",pendingWarehouse:"Pending Warehouse",approve:"Approve",reject:"Reject",view:"View"};return(0,Ot.jsx)("div",{className:"space-y-6",children:(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\uded2"}),(0,Ot.jsx)("span",{children:a.ordersTitle})]}),(0,Ot.jsx)("div",{className:"table-modern overflow-x-auto",children:(0,Ot.jsxs)("table",{className:"min-w-full",children:[(0,Ot.jsx)("thead",{children:(0,Ot.jsxs)("tr",{children:[(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:a.orderId}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:a.clinic}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:a.salesRep}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:a.warehouse}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:a.items}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:a.total}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:a.status}),(0,Ot.jsx)("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:a.actions})]})}),(0,Ot.jsx)("tbody",{children:t.map((e=>{const t=(e=>{switch(e){case"pending_manager":return{text:a.pendingManager,color:"text-orange-600",bg:"bg-orange-100"};case"pending_accounting":return{text:a.pendingAccounting,color:"text-blue-600",bg:"bg-blue-100"};case"pending_warehouse":return{text:a.pendingWarehouse,color:"text-purple-600",bg:"bg-purple-100"};default:return{text:e,color:"text-gray-600",bg:"bg-gray-100"}}})(e.status);return(0,Ot.jsxs)("tr",{className:"hover:bg-gray-50 hover:bg-opacity-5 transition-colors",children:[(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsxs)("div",{className:"font-medium",children:["#",e.id]})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("div",{className:"font-medium",children:e.clinic})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("div",{className:"font-medium",children:e.sales_rep})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("div",{className:"font-medium",children:e.warehouse})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("div",{className:"text-center font-bold",children:e.items})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsxs)("div",{className:"text-lg font-bold text-green-600",children:[e.total.toLocaleString()," ","ar"===r?"\u062c\u0646\u064a\u0647":"EGP"]})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(t.bg," ").concat(t.color),children:t.text})}),(0,Ot.jsx)("td",{className:"px-6 py-4",children:(0,Ot.jsxs)("div",{className:"flex gap-2",children:[(0,Ot.jsx)("button",{className:"btn-info text-xs px-3 py-1",title:a.view,children:"\ud83d\udc41\ufe0f"}),(0,Ot.jsx)("button",{className:"btn-success text-xs px-3 py-1",title:a.approve,children:"\u2705"}),(0,Ot.jsx)("button",{className:"btn-danger text-xs px-3 py-1",title:a.reject,children:"\u274c"})]})})]},e.id)}))})]})})]})})},jn=e=>{let{movements:t,language:n}=e;const[r,s]=(0,a.useState)(""),[l,i]=(0,a.useState)("all"),[o,c]=(0,a.useState)("all"),d="ar"===n?{movementsTitle:"\u0633\u062c\u0644 \u062d\u0631\u0643\u0627\u062a \u0627\u0644\u0645\u062e\u0632\u0646",filterByDate:"\u0641\u0644\u062a\u0631\u0629 \u0628\u0627\u0644\u062a\u0627\u0631\u064a\u062e",filterByType:"\u0641\u0644\u062a\u0631\u0629 \u0628\u0646\u0648\u0639 \u0627\u0644\u062d\u0631\u0643\u0629",filterByStatus:"\u0641\u0644\u062a\u0631\u0629 \u0628\u0627\u0644\u062d\u0627\u0644\u0629",allTypes:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0623\u0646\u0648\u0627\u0639",allStatuses:"\u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0627\u0644\u0627\u062a",date:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e",product:"\u0627\u0644\u0645\u0646\u062a\u062c",requester:"\u0627\u0644\u0637\u0627\u0644\u0628",region:"\u0627\u0644\u0645\u0646\u0637\u0642\u0629",movementType:"\u0646\u0648\u0639 \u0627\u0644\u062d\u0631\u0643\u0629",orderType:"\u0646\u0648\u0639 \u0627\u0644\u0637\u0644\u0628",quantity:"\u0627\u0644\u0643\u0645\u064a\u0629",salesRep:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628",doctor:"\u0627\u0644\u062f\u0643\u062a\u0648\u0631 \u0627\u0644\u0645\u0633\u062a\u0644\u0645",reason:"\u0627\u0644\u0633\u0628\u0628",comments:"\u062a\u0639\u0644\u064a\u0642\u0627\u062a",status:"\u0627\u0644\u062d\u0627\u0644\u0629",actions:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a",completed:"\u062a\u0645\u062a",pendingApproval:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629",review:"\u0645\u0631\u0627\u062c\u0639\u0629",cancel:"\u0625\u0644\u063a\u0627\u0621"}:{movementsTitle:"Warehouse Movement Log",filterByDate:"Filter by Date",filterByType:"Filter by Type",filterByStatus:"Filter by Status",allTypes:"All Types",allStatuses:"All Statuses",date:"Date",product:"Product",requester:"Requester",region:"Region",movementType:"Movement Type",orderType:"Order Type",quantity:"Quantity",salesRep:"Sales Rep",doctor:"Receiving Doctor",reason:"Reason",comments:"Comments",status:"Status",actions:"Actions",completed:"Completed",pendingApproval:"Pending Approval",review:"Review",cancel:"Cancel"},u=t.filter((e=>{const t=!r||e.date.includes(r),n="all"===l||e.movement_type===l,a="all"===o||e.status===o;return t&&n&&a}));return(0,Ot.jsx)("div",{className:"space-y-6",children:(0,Ot.jsxs)("div",{className:"card-modern p-6",children:[(0,Ot.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Ot.jsx)("span",{children:"\ud83d\udccb"}),(0,Ot.jsx)("span",{children:d.movementsTitle})]}),(0,Ot.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("label",{className:"block text-sm font-bold mb-2",children:[d.filterByDate,":"]}),(0,Ot.jsx)("input",{type:"date",value:r,onChange:e=>s(e.target.value),className:"form-modern w-full"})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("label",{className:"block text-sm font-bold mb-2",children:[d.filterByType,":"]}),(0,Ot.jsxs)("select",{value:l,onChange:e=>i(e.target.value),className:"form-modern w-full",children:[(0,Ot.jsx)("option",{value:"all",children:d.allTypes}),(0,Ot.jsx)("option",{value:"\u0635\u0631\u0641",children:"ar"===n?"\u0635\u0631\u0641":"Dispatch"}),(0,Ot.jsx)("option",{value:"\u0625\u062f\u062e\u0627\u0644",children:"ar"===n?"\u0625\u062f\u062e\u0627\u0644":"Receive"})]})]}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsxs)("label",{className:"block text-sm font-bold mb-2",children:[d.filterByStatus,":"]}),(0,Ot.jsxs)("select",{value:o,onChange:e=>c(e.target.value),className:"form-modern w-full",children:[(0,Ot.jsx)("option",{value:"all",children:d.allStatuses}),(0,Ot.jsx)("option",{value:"completed",children:d.completed}),(0,Ot.jsx)("option",{value:"pending_approval",children:d.pendingApproval})]})]})]}),(0,Ot.jsx)("div",{className:"table-modern overflow-x-auto",children:(0,Ot.jsxs)("table",{className:"min-w-full text-sm",children:[(0,Ot.jsx)("thead",{children:(0,Ot.jsxs)("tr",{children:[(0,Ot.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.date}),(0,Ot.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.product}),(0,Ot.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.requester}),(0,Ot.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.region}),(0,Ot.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.movementType}),(0,Ot.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.orderType}),(0,Ot.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.quantity}),(0,Ot.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.salesRep}),(0,Ot.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.doctor}),(0,Ot.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.reason}),(0,Ot.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.comments}),(0,Ot.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.status}),(0,Ot.jsx)("th",{className:"px-4 py-3 text-right text-xs font-bold uppercase",children:d.actions})]})}),(0,Ot.jsx)("tbody",{children:u.map((e=>{const t=(e=>{switch(e){case"completed":return{text:d.completed,color:"text-green-600",bg:"bg-green-100"};case"pending_approval":return{text:d.pendingApproval,color:"text-orange-600",bg:"bg-orange-100"};default:return{text:e,color:"text-gray-600",bg:"bg-gray-100"}}})(e.status);return(0,Ot.jsxs)("tr",{className:"hover:bg-gray-50 hover:bg-opacity-5 transition-colors",children:[(0,Ot.jsx)("td",{className:"px-4 py-3",children:(0,Ot.jsx)("div",{className:"text-sm font-medium",children:e.date})}),(0,Ot.jsx)("td",{className:"px-4 py-3",children:(0,Ot.jsx)("div",{className:"font-medium",children:e.product})}),(0,Ot.jsx)("td",{className:"px-4 py-3",children:(0,Ot.jsx)("div",{className:"text-sm",children:e.requester})}),(0,Ot.jsx)("td",{className:"px-4 py-3",children:(0,Ot.jsx)("div",{className:"text-sm",children:e.region})}),(0,Ot.jsx)("td",{className:"px-4 py-3",children:(0,Ot.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat("\u0635\u0631\u0641"===e.movement_type?"bg-red-100 text-red-800":"bg-green-100 text-green-800"),children:e.movement_type})}),(0,Ot.jsx)("td",{className:"px-4 py-3",children:(0,Ot.jsx)("div",{className:"text-sm",children:e.order_type})}),(0,Ot.jsx)("td",{className:"px-4 py-3",children:(0,Ot.jsx)("div",{className:"text-center font-bold",children:e.quantity})}),(0,Ot.jsx)("td",{className:"px-4 py-3",children:(0,Ot.jsx)("div",{className:"text-sm",children:e.sales_rep})}),(0,Ot.jsx)("td",{className:"px-4 py-3",children:(0,Ot.jsx)("div",{className:"text-sm",children:e.doctor||"-"})}),(0,Ot.jsx)("td",{className:"px-4 py-3",children:(0,Ot.jsx)("div",{className:"text-sm",children:e.reason})}),(0,Ot.jsx)("td",{className:"px-4 py-3",children:(0,Ot.jsx)("div",{className:"text-sm",children:e.comments})}),(0,Ot.jsx)("td",{className:"px-4 py-3",children:(0,Ot.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(t.bg," ").concat(t.color),children:t.text})}),(0,Ot.jsx)("td",{className:"px-4 py-3",children:(0,Ot.jsxs)("div",{className:"flex gap-1",children:[(0,Ot.jsx)("button",{className:"btn-info text-xs px-2 py-1",title:d.review,children:"\ud83d\udc41\ufe0f"}),(0,Ot.jsx)("button",{className:"btn-danger text-xs px-2 py-1",title:d.cancel,children:"\u274c"})]})})]},e.id)}))})]})})]})})},wn=()=>{const{user:e,logout:t}=Vt(),[n,r]=(0,a.useState)({}),[s,l]=(0,a.useState)([]),[i,o]=(0,a.useState)("dashboard");(0,a.useEffect)((()=>{c(),d();const e=e=>{o(e.detail)};return window.addEventListener("navigateToTab",e),()=>{window.removeEventListener("navigateToTab",e)}}),[]);const c=async()=>{try{const e=localStorage.getItem("token"),t=await Pt.get("".concat(Lt,"/dashboard/stats"),{headers:{Authorization:"Bearer ".concat(e)}});r(t.data)}catch(e){console.error("Error fetching stats:",e)}},d=async()=>{try{const e=localStorage.getItem("token"),t=await Pt.get("".concat(Lt,"/visits"),{headers:{Authorization:"Bearer ".concat(e)}});l(t.data)}catch(e){console.error("Error fetching visits:",e)}},u=t=>{var n;return(null===(n={users:["admin","warehouse_manager","manager"],warehouse:["admin","warehouse_manager"],visit:["sales_rep"],reports:["admin","warehouse_manager","manager","accounting"],accounting:["admin","accounting"]}[t])||void 0===n?void 0:n.includes(e.role))||!1},[f,m]=(0,a.useState)(!1);return(0,Ot.jsxs)(Ot.Fragment,{children:[(0,Ot.jsx)(Bt,{}),(0,Ot.jsxs)("div",{className:"min-h-screen page-transition flex flex-col",children:[(0,Ot.jsx)(sn,{user:e,onLogout:t,onSearchOpen:()=>m(!0)}),(0,Ot.jsx)(It,{isOpen:f,onClose:()=>m(!1)}),(0,Ot.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 flex-1",children:[(0,Ot.jsx)("div",{className:"mb-8",children:(0,Ot.jsxs)("nav",{className:"flex space-x-4 overflow-x-auto bg-white/80 backdrop-blur-lg rounded-2xl p-2 shadow-lg","aria-label":"Tabs",children:[(0,Ot.jsxs)("button",{onClick:()=>o("dashboard"),className:"nav-tab ".concat("dashboard"===i?"active":""," flex items-center whitespace-nowrap"),children:[(0,Ot.jsx)("span",{className:"ml-2",children:"\ud83d\udcca"}),"admin"===e.role?"\u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a":"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645"]}),u("users")&&(0,Ot.jsxs)("button",{onClick:()=>o("users"),className:"nav-tab ".concat("users"===i?"active":""," flex items-center whitespace-nowrap"),children:[(0,Ot.jsx)("span",{className:"ml-2",children:"\ud83d\udc65"}),"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"]}),u("warehouse")&&(0,Ot.jsxs)("button",{onClick:()=>o("warehouse"),className:"nav-tab ".concat("warehouse"===i?"active":""," flex items-center whitespace-nowrap"),children:[(0,Ot.jsx)("span",{className:"ml-2",children:"\ud83c\udfed"}),"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u062e\u0627\u0632\u0646"]}),u("visit")&&(0,Ot.jsxs)("button",{onClick:()=>o("clinic-registration"),className:"nav-tab ".concat("clinic-registration"===i?"active":""," flex items-center whitespace-nowrap"),children:[(0,Ot.jsx)("span",{className:"ml-2",children:"\ud83c\udfe5"}),"\u062a\u0633\u062c\u064a\u0644 \u0639\u064a\u0627\u062f\u0629"]}),u("visit")&&(0,Ot.jsxs)("button",{onClick:()=>o("order-creation"),className:"nav-tab ".concat("order-creation"===i?"active":""," flex items-center whitespace-nowrap"),children:[(0,Ot.jsx)("span",{className:"ml-2",children:"\ud83d\udce6"}),"\u0639\u0645\u0644 \u0637\u0644\u0628\u064a\u0629"]}),u("visit")&&(0,Ot.jsxs)("button",{onClick:()=>o("visit"),className:"nav-tab ".concat("visit"===i?"active":""," flex items-center whitespace-nowrap"),children:[(0,Ot.jsx)("span",{className:"ml-2",children:"\ud83d\udcdd"}),"\u062a\u0633\u062c\u064a\u0644 \u0632\u064a\u0627\u0631\u0629"]}),(0,Ot.jsxs)("button",{onClick:()=>o("visits"),className:"nav-tab ".concat("visits"===i?"active":""," flex items-center whitespace-nowrap"),children:[(0,Ot.jsx)("span",{className:"ml-2",children:"\ud83d\udccb"}),"\u0633\u062c\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a"]}),u("reports")&&(0,Ot.jsxs)("button",{onClick:()=>o("reports"),className:"nav-tab ".concat("reports"===i?"active":""," flex items-center whitespace-nowrap"),children:[(0,Ot.jsx)("span",{className:"ml-2",children:"\ud83d\udcc8"}),"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631"]}),u("accounting")&&(0,Ot.jsxs)("button",{onClick:()=>o("accounting"),className:"nav-tab ".concat("accounting"===i?"active":""," flex items-center whitespace-nowrap"),children:[(0,Ot.jsx)("span",{className:"ml-2",children:"\ud83d\udcb0"}),"\u0627\u0644\u0645\u062d\u0627\u0633\u0628\u0629"]}),(0,Ot.jsxs)("button",{onClick:()=>o("chat"),className:"nav-tab ".concat("chat"===i?"active":""," flex items-center whitespace-nowrap"),children:[(0,Ot.jsx)("span",{className:"ml-2",children:"\ud83d\udcac"}),"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a"]}),"admin"===e.role&&(0,Ot.jsxs)("button",{onClick:()=>o("settings"),className:"nav-tab ".concat("settings"===i?"active":""," flex items-center whitespace-nowrap"),children:[(0,Ot.jsx)("span",{className:"ml-2",children:"\u2699\ufe0f"}),"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0646\u0638\u0627\u0645"]}),"admin"===e.role&&(0,Ot.jsxs)("button",{onClick:()=>o("secret"),className:"nav-tab ".concat("secret"===i?"active":""," flex items-center whitespace-nowrap"),children:[(0,Ot.jsx)("span",{className:"ml-2",children:"\ud83d\udd12"}),"\u0627\u0644\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0633\u0631\u064a"]})]})}),"dashboard"===i&&"sales_rep"===e.role&&(0,Ot.jsx)(pn,{stats:n,user:e}),"dashboard"===i&&"sales_rep"!==e.role&&(0,Ot.jsx)(Gt,{stats:n,user:e}),"clinic-registration"===i&&"sales_rep"===e.role&&(0,Ot.jsx)(xn,{}),"order-creation"===i&&"sales_rep"===e.role&&(0,Ot.jsx)(gn,{}),"users"===i&&u("users")&&(0,Ot.jsx)(rn,{}),"warehouse"===i&&u("warehouse")&&(0,Ot.jsx)(mn,{}),"visit"===i&&"sales_rep"===e.role&&(0,Ot.jsx)(vn,{}),"visits"===i&&(0,Ot.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,Ot.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,Ot.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"\u0633\u062c\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a"})}),(0,Ot.jsx)("div",{className:"overflow-x-auto",children:(0,Ot.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ot.jsx)("thead",{className:"bg-gray-50",children:(0,Ot.jsxs)("tr",{children:[(0,Ot.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e"}),(0,Ot.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u0627\u0644\u0637\u0628\u064a\u0628"}),(0,Ot.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u0627\u0644\u0639\u064a\u0627\u062f\u0629"}),(0,Ot.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u0627\u0644\u0645\u0646\u062f\u0648\u0628"}),(0,Ot.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u0627\u0644\u062d\u0627\u0644\u0629"})]})}),(0,Ot.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map((e=>(0,Ot.jsxs)("tr",{children:[(0,Ot.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.visit_date).toLocaleDateString("ar-EG")}),(0,Ot.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.doctor_name}),(0,Ot.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.clinic_name}),(0,Ot.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.sales_rep_name}),(0,Ot.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ot.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(null===e.is_effective?"bg-yellow-100 text-yellow-800":e.is_effective?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:null===e.is_effective?"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u0631\u0627\u062c\u0639\u0629":e.is_effective?"\u0645\u062c\u062f\u064a\u0629":"\u063a\u064a\u0631 \u0645\u062c\u062f\u064a\u0629"})})]},e.id)))})]})})]}),"reports"===i&&u("reports")&&(0,Ot.jsx)(cn,{}),"accounting"===i&&u("accounting")&&(0,Ot.jsx)(fn,{}),"chat"===i&&(0,Ot.jsx)(Qt,{}),"settings"===i&&"admin"===e.role&&(0,Ot.jsx)($t,{}),"secret"===i&&"admin"===e.role&&(0,Ot.jsx)(on,{})]}),(0,Ot.jsx)(ln,{})]})]})},Nn=()=>{const{user:e,loading:t}=Vt(),[n,r]=(0,a.useState)(!1);return t?(0,Ot.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{background:"var(--gradient-dark)",color:"var(--text-primary)"},children:(0,Ot.jsxs)("div",{className:"text-center",children:[(0,Ot.jsx)("div",{className:"w-20 h-20 loading-shimmer rounded-full mx-auto mb-6"}),(0,Ot.jsx)("p",{style:{color:"var(--text-secondary)",fontSize:"18px"},children:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644..."})]})}):(0,Ot.jsxs)("div",{className:"App",style:{background:"var(--gradient-dark)",color:"var(--text-primary)",minHeight:"100vh"},children:[e?(0,Ot.jsx)(wn,{}):(0,Ot.jsx)(Wt,{}),n&&(0,Ot.jsx)(dn,{onScan:async e=>{try{const t=localStorage.getItem("token"),n=await Pt.post("".concat(Lt,"/qr/scan"),{content:e},{headers:{Authorization:"Bearer ".concat(t)}});"prefill_visit_form"===n.data.action?alert("\u062a\u0645 \u0645\u0633\u062d \u0639\u064a\u0627\u062f\u0629: ".concat(n.data.data.name)):"add_to_order"===n.data.action&&alert("\u062a\u0645 \u0645\u0633\u062d \u0645\u0646\u062a\u062c: ".concat(n.data.data.name)),r(!1)}catch(t){console.error("QR scan error:",t),alert("\u062e\u0637\u0623 \u0641\u064a \u0645\u0639\u0627\u0644\u062c\u0629 QR Code")}},onClose:()=>r(!1)}),(0,Ot.jsx)(un,{}),e&&(0,Ot.jsx)("button",{onClick:()=>r(!0),className:"fixed bottom-6 right-6 w-14 h-14 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 transition-colors z-40 flex items-center justify-center",title:"\u0645\u0633\u062d QR Code",children:(0,Ot.jsx)("span",{className:"text-xl",children:"\ud83d\udcf1"})})]})},kn=()=>(0,Ot.jsx)(Mt,{children:(0,Ot.jsx)(Ht,{children:(0,Ot.jsx)(Nn,{})})});s.createRoot(document.getElementById("root")).render((0,Ot.jsx)(a.StrictMode,{children:(0,Ot.jsx)(kn,{})}))})();
//# sourceMappingURL=main.2a2972a2.js.map