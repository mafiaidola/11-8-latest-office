"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[877],{877:(e,t,a)=>{a.r(t),a.d(t,{default:()=>n});var r=a(555),s=a(424),l=a(579);const n=e=>{var t,a,n,i,o,c,d,u,f;let{user:g,language:h="ar",isRTL:x=!0,onClose:p,onSave:m}=e;const[b,v]=(0,s.useState)({theme:localStorage.getItem("theme")||"modern",language:localStorage.getItem("language")||"ar",emailNotifications:!1!==(null===g||void 0===g||null===(t=g.settings)||void 0===t?void 0:t.emailNotifications),pushNotifications:!1!==(null===g||void 0===g||null===(a=g.settings)||void 0===a?void 0:a.pushNotifications),smsNotifications:!1!==(null===g||void 0===g||null===(n=g.settings)||void 0===n?void 0:n.smsNotifications),showOnlineStatus:!1!==(null===g||void 0===g||null===(i=g.settings)||void 0===i?void 0:i.showOnlineStatus),allowDirectMessages:!1!==(null===g||void 0===g||null===(o=g.settings)||void 0===o?void 0:o.allowDirectMessages),autoLogout:(null===g||void 0===g||null===(c=g.settings)||void 0===c?void 0:c.autoLogout)||30,defaultView:(null===g||void 0===g||null===(d=g.settings)||void 0===d?void 0:d.defaultView)||"dashboard",dataRetention:(null===g||void 0===g||null===(u=g.settings)||void 0===u?void 0:u.dataRetention)||90,autoBackup:!1!==(null===g||void 0===g||null===(f=g.settings)||void 0===f?void 0:f.autoBackup)}),[j,y]=(0,s.useState)(!1),N=(e,t)=>{v((a=>(0,r.A)((0,r.A)({},a),{},{[e]:t})))};return(0,l.jsx)("div",{className:"modal-overlay",children:(0,l.jsxs)("div",{className:"modal-content max-w-4xl",children:[(0,l.jsxs)("div",{className:"modal-header",children:[(0,l.jsx)("h3",{children:"ar"===h?"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645":"User Settings"}),(0,l.jsx)("button",{onClick:p,className:"modal-close",children:"\xd7"})]}),(0,l.jsxs)("div",{className:"modal-body",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:["\ud83c\udfa8 ","ar"===h?"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0639\u0631\u0636":"Display Settings"]}),(0,l.jsxs)("div",{className:"space-y-4 bg-gray-50 p-4 rounded-lg",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ar"===h?"\u0627\u0644\u0645\u0638\u0647\u0631":"Theme"}),(0,l.jsxs)("select",{value:b.theme,onChange:e=>N("theme",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,l.jsx)("option",{value:"modern",children:"ar"===h?"\u062d\u062f\u064a\u062b":"Modern"}),(0,l.jsx)("option",{value:"minimal",children:"ar"===h?"\u0628\u0633\u064a\u0637":"Minimal"}),(0,l.jsx)("option",{value:"glassy",children:"ar"===h?"\u0632\u062c\u0627\u062c\u064a":"Glassy"}),(0,l.jsx)("option",{value:"dark",children:"ar"===h?"\u062f\u0627\u0643\u0646":"Dark"}),(0,l.jsx)("option",{value:"white",children:"ar"===h?"\u0623\u0628\u064a\u0636":"White"}),(0,l.jsx)("option",{value:"neon",children:"ar"===h?"\u0646\u064a\u0648\u0646":"Neon"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ar"===h?"\u0627\u0644\u0644\u063a\u0629":"Language"}),(0,l.jsxs)("select",{value:b.language,onChange:e=>N("language",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,l.jsx)("option",{value:"ar",children:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629"}),(0,l.jsx)("option",{value:"en",children:"English"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ar"===h?"\u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0627\u0641\u062a\u0631\u0627\u0636\u064a\u0629":"Default View"}),(0,l.jsxs)("select",{value:b.defaultView,onChange:e=>N("defaultView",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,l.jsx)("option",{value:"dashboard",children:"ar"===h?"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645":"Dashboard"}),(0,l.jsx)("option",{value:"orders",children:"ar"===h?"\u0627\u0644\u0637\u0644\u0628\u0627\u062a":"Orders"}),(0,l.jsx)("option",{value:"clinics",children:"ar"===h?"\u0627\u0644\u0639\u064a\u0627\u062f\u0627\u062a":"Clinics"}),(0,l.jsx)("option",{value:"visits",children:"ar"===h?"\u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a":"Visits"})]})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:["\ud83d\udd14 ","ar"===h?"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a":"Notification Settings"]}),(0,l.jsxs)("div",{className:"space-y-4 bg-gray-50 p-4 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"ar"===h?"\u0625\u0634\u0639\u0627\u0631\u0627\u062a \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a":"Email Notifications"}),(0,l.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,l.jsx)("input",{type:"checkbox",checked:b.emailNotifications,onChange:e=>N("emailNotifications",e.target.checked),className:"sr-only peer"}),(0,l.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"ar"===h?"\u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a \u0627\u0644\u0645\u0628\u0627\u0634\u0631\u0629":"Push Notifications"}),(0,l.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,l.jsx)("input",{type:"checkbox",checked:b.pushNotifications,onChange:e=>N("pushNotifications",e.target.checked),className:"sr-only peer"}),(0,l.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"ar"===h?"\u0631\u0633\u0627\u0626\u0644 SMS":"SMS Notifications"}),(0,l.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,l.jsx)("input",{type:"checkbox",checked:b.smsNotifications,onChange:e=>N("smsNotifications",e.target.checked),className:"sr-only peer"}),(0,l.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:["\ud83d\udd12 ","ar"===h?"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u062e\u0635\u0648\u0635\u064a\u0629":"Privacy Settings"]}),(0,l.jsxs)("div",{className:"space-y-4 bg-gray-50 p-4 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"ar"===h?"\u0625\u0638\u0647\u0627\u0631 \u062d\u0627\u0644\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644":"Show Online Status"}),(0,l.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,l.jsx)("input",{type:"checkbox",checked:b.showOnlineStatus,onChange:e=>N("showOnlineStatus",e.target.checked),className:"sr-only peer"}),(0,l.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"ar"===h?"\u0627\u0644\u0633\u0645\u0627\u062d \u0628\u0627\u0644\u0631\u0633\u0627\u0626\u0644 \u0627\u0644\u0645\u0628\u0627\u0634\u0631\u0629":"Allow Direct Messages"}),(0,l.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,l.jsx)("input",{type:"checkbox",checked:b.allowDirectMessages,onChange:e=>N("allowDirectMessages",e.target.checked),className:"sr-only peer"}),(0,l.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ar"===h?"\u062a\u0633\u062c\u064a\u0644 \u062e\u0631\u0648\u062c \u062a\u0644\u0642\u0627\u0626\u064a (\u0628\u0627\u0644\u062f\u0642\u0627\u0626\u0642)":"Auto Logout (minutes)"}),(0,l.jsxs)("select",{value:b.autoLogout,onChange:e=>N("autoLogout",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,l.jsxs)("option",{value:15,children:["15 ","ar"===h?"\u062f\u0642\u064a\u0642\u0629":"minutes"]}),(0,l.jsxs)("option",{value:30,children:["30 ","ar"===h?"\u062f\u0642\u064a\u0642\u0629":"minutes"]}),(0,l.jsxs)("option",{value:60,children:["60 ","ar"===h?"\u062f\u0642\u064a\u0642\u0629":"minutes"]}),(0,l.jsxs)("option",{value:120,children:["120 ","ar"===h?"\u062f\u0642\u064a\u0642\u0629":"minutes"]}),(0,l.jsx)("option",{value:0,children:"ar"===h?"\u0623\u0628\u062f\u0627\u064b":"Never"})]})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:["\ud83d\udcbe ","ar"===h?"\u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0648\u0627\u0644\u0646\u0633\u062e \u0627\u0644\u0627\u062d\u062a\u064a\u0627\u0637\u064a":"Data & Backup"]}),(0,l.jsxs)("div",{className:"space-y-4 bg-gray-50 p-4 rounded-lg",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ar"===h?"\u0645\u062f\u0629 \u0627\u0644\u0627\u062d\u062a\u0641\u0627\u0638 \u0628\u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a (\u0628\u0627\u0644\u0623\u064a\u0627\u0645)":"Data Retention (days)"}),(0,l.jsxs)("select",{value:b.dataRetention,onChange:e=>N("dataRetention",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,l.jsxs)("option",{value:30,children:["30 ","ar"===h?"\u064a\u0648\u0645":"days"]}),(0,l.jsxs)("option",{value:60,children:["60 ","ar"===h?"\u064a\u0648\u0645":"days"]}),(0,l.jsxs)("option",{value:90,children:["90 ","ar"===h?"\u064a\u0648\u0645":"days"]}),(0,l.jsxs)("option",{value:180,children:["180 ","ar"===h?"\u064a\u0648\u0645":"days"]}),(0,l.jsxs)("option",{value:365,children:["365 ","ar"===h?"\u064a\u0648\u0645":"days"]})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"ar"===h?"\u0646\u0633\u062e \u0627\u062d\u062a\u064a\u0627\u0637\u064a \u062a\u0644\u0642\u0627\u0626\u064a":"Auto Backup"}),(0,l.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,l.jsx)("input",{type:"checkbox",checked:b.autoBackup,onChange:e=>N("autoBackup",e.target.checked),className:"sr-only peer"}),(0,l.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})]}),(0,l.jsxs)("div",{className:"mt-8 border-t pt-6",children:[(0,l.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:["\u26a0\ufe0f ","ar"===h?"\u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0645\u062a\u0642\u062f\u0645\u0629":"Advanced Actions"]}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,l.jsx)("button",{onClick:()=>{confirm("ar"===h?"\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646 \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0644\u0644\u0627\u0641\u062a\u0631\u0627\u0636\u064a\u0629\u061f":"Are you sure you want to reset settings to default?")&&v({theme:"modern",language:"ar",emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,showOnlineStatus:!0,allowDirectMessages:!0,autoLogout:30,defaultView:"dashboard",dataRetention:90,autoBackup:!0})},className:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors duration-200",children:"ar"===h?"\u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646 \u0644\u0644\u0627\u0641\u062a\u0631\u0627\u0636\u064a":"Reset to Defaults"}),(0,l.jsx)("button",{onClick:()=>{const e=JSON.stringify(b,null,2),t=new Blob([e],{type:"application/json"}),a=URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download="user-settings-".concat(g.username,".json"),r.click()},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200",children:"ar"===h?"\u062a\u0635\u062f\u064a\u0631 \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a":"Export Settings"})]})]})]}),(0,l.jsxs)("div",{className:"modal-footer",children:[(0,l.jsx)("button",{onClick:p,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors duration-200",children:"ar"===h?"\u0625\u0644\u063a\u0627\u0621":"Cancel"}),(0,l.jsx)("button",{onClick:async()=>{try{y(!0),localStorage.setItem("theme",b.theme),localStorage.setItem("language",b.language);const e=localStorage.getItem("access_token");if(!(await fetch("".concat("https://af82d270-0f9e-4b08-93b4-329c3531075a.preview.emergentagent.com","/api/users/").concat(g.id,"/settings"),{method:"PUT",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({settings:b})})).ok)throw new Error("Failed to save settings");m&&m(b),alert("ar"===h?"\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0628\u0646\u062c\u0627\u062d":"Settings saved successfully"),b.language!==localStorage.getItem("language")&&window.location.reload()}catch(e){console.error("Error saving settings:",e),alert("ar"===h?"\u062e\u0637\u0623 \u0641\u064a \u062d\u0641\u0638 \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a":"Error saving settings")}finally{y(!1)}},disabled:j,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50",children:j?"ar"===h?"\u062c\u0627\u0631\u064d \u0627\u0644\u062d\u0641\u0638...":"Saving...":"ar"===h?"\u062d\u0641\u0638 \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a":"Save Settings"})]})]})})}}}]);
//# sourceMappingURL=877.dc27b5e3.chunk.js.map