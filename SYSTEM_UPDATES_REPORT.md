# ๐ ุชูุฑูุฑ ุงูุชุญุฏูุซุงุช ุงูุดุงููุฉ - ุฏูุฌ ุงูุฃุฏูุงุฑ ูุฅุฏุงุฑุฉ ุงูุฎุทูุท

## ๐ฏ ููุฎุต ุงูุชุญุฏูุซุงุช ุงููููุฌุฒุฉ

ุชู ุชูููุฐ ูุฌููุนุฉ ุดุงููุฉ ูู ุงูุชุญุฏูุซุงุช ุนูู ูุธุงู EP Group ููุง ุทูุจ ุงููุณุชุฎุฏูุ ุจูุง ูุดูู ุฏูุฌ ุงูุฃุฏูุงุฑ ูุฅุถุงูุฉ ุฅุฏุงุฑุฉ ุงูุฎุทูุท ูุน ุฑุจุท ุฌููุน ุงูุฃุฌุฒุงุก.

---

## ๐ 1. ุฏูุฌ ุงูุฃุฏูุงุฑ (Role Unification)

### โ **ุงูุชุบููุฑุงุช ุงูููููุฐุฉ:**

**ูู ุงูุจุงู ุฅูุฏ (`server.py`):**
- โ ุฏูุฌ `sales_rep` ูุน `medical_rep` ููุตุจุญูุง ุฏูุฑ ูุงุญุฏ
- โ ุฅุถุงูุฉ ุฏุงูุฉ `normalize_role()` ูุชุญููู `sales_rep` ุฅูู `medical_rep` ุชููุงุฆูุงู
- โ ุชุญุฏูุซ ุฌููุน ุนูููุงุช ุฅูุดุงุก ุงููุณุชุฎุฏููู ูุชุทุจูู ุงูุชุทุจูุน
- โ ุชุญุฏูุซ ูุธุงู ุงูุตูุงุญูุงุช ููุดูู ุงูุฏูุฑ ุงูููุญุฏ

**ูู ุงููุฑููุช ุฅูุฏ (`App.js`):**
- โ ุฅุถุงูุฉ ุฏุงูุฉ `normalizeRole()` ูู ุงููุฑููุช ุฅูุฏ
- โ ุชุญุฏูุซ ูุธุงู ุงูุตูุงุญูุงุช `canAccessTab` ูุงุณุชุฎุฏุงู ุงูุฏูุฑ ุงููุทุจูุน
- โ ุชุญุฏูุซ ุฌููุน ูุฑุงุฌุน `sales_rep` ูู ุงููุงุฌูุฉ ูุชุตุจุญ `medical_rep`
- โ ุชุญุฏูุซ ุนุฑุถ ุงูุฃุฏูุงุฑ ูู ุฌุฏุงูู ุงููุณุชุฎุฏููู

**ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
- โ ุชุญุฏูุซ 2 ูุณุชุฎุฏู ูู `sales_rep` ุฅูู `medical_rep`
- โ ุชุญุฏูุซ ุฌููุน ุงููุฑุงุฌุน ูู ุงูุฒูุงุฑุงุช ูุงูุทูุจุงุช ูุงูุนูุงุฏุงุช
- โ ุฅุถุงูุฉ ุณุฌู ุงููุธุงู ููุชุญุฏูุซ

---

## ๐ข 2. ุชูููู ุงูุชูููุฐููู ูู ุฅุถุงูุฉ ุงูุนูุงุฏุงุช

### โ **ุงูุตูุงุญูุงุช ุงูุฌุฏูุฏุฉ:**

**ุงูุฃุฏูุงุฑ ุงููุฎููุฉ ูุฅุถุงูุฉ ุงูุนูุงุฏุงุช:**
- โ `key_account` (ุงูุญุณุงุจ ุงูุฑุฆูุณู)
- โ `medical_rep` (ุงูููุฏูุจ ุงูุทุจู ุงูููุญุฏ)

**ุงูุชุญุฏูุซุงุช ุงูุชูููุฉ:**
- โ ุฅุถุงูุฉ ุตูุงุญูุฉ `clinics.create` ููุชูููุฐููู
- โ ุฅูุดุงุก endpoint ุฌุฏูุฏ `/api/clinics/create-by-executive`
- โ ุชุญุฏูุซ ูุธุงู ุงูุฃุฐููุงุช ูู ุงููุฑููุช ุฅูุฏ
- โ ุชูุนูู ุชุจููุจ "ุชุณุฌูู ุนูุงุฏุฉ" ููุชูููุฐููู

**ูููุฒุงุช ุฅุถุงูุฉ ุงูุนูุงุฏุงุช ููุชูููุฐููู:**
- ๐ฅ ุงูุนูุงุฏุงุช ุงูููุถุงูุฉ ุจูุงุณุทุฉ ุงูุชูููุฐููู ูุนุชูุฏุฉ ุชููุงุฆูุงู
- ๐ ุชุชุจุน GPS ูููููุน ุฃุซูุงุก ุงูุชุณุฌูู
- ๐ ุณุฌู ุชูุตููู ูููุณุฌู ูุงูุชูููุช
- ๐ ุฃูุงู ูุชุชุจุน ูุงูู ููุนูููุงุช

---

## ๐บ๏ธ 3. ูุธุงู ุฅุฏุงุฑุฉ ุงูุฎุทูุท ุงูุดุงูู

### โ **ุงูุจููุฉ ุงููุฑููุฉ ุงูุฌุฏูุฏุฉ:**

**ุงููุณุชูู 1 - ุงูุฎุทูุท (Lines):**
- ๐ฏ ูู ุฎุท ูู ูุฏูุฑ ุฎุท (`line_manager`)
- ๐ฆ ูู ุฎุท ูุฎุตุต ูู ููุชุฌุงุช ูุญุฏุฏุฉ
- ๐บ๏ธ ูู ุฎุท ูุบุทู ููุงุทู ุฌุบุฑุงููุฉ ูุชุนุฏุฏุฉ

**ุงููุณุชูู 2 - ุงูููุงุทู (Areas):**
- ๐๏ธ ูู ููุทูุฉ ููุง ูุฏูุฑ ููุทูุฉ (`area_manager`) **ูุทููุจ**
- ๐ ูู ููุทูุฉ ูุฑุจูุทุฉ ุจุฎุท ูุญุฏุฏ
- ๐ข ูู ููุทูุฉ ุชุญุชูู ุนูู ููุงุทุนุงุช

**ุงููุณุชูู 3 - ุงูููุงุทุนุงุช (Districts):**
- ๐ข ูู ููุงุทุนุฉ ููุง ูุฏูุฑ ููุงุทุนุฉ (`district_manager`)
- ๐ ูู ููุงุทุนุฉ ุชุญุชูู ุนูู ุญุณุงุจุงุช ุฑุฆูุณูุฉ

### โ **APIs ุงูุฌุฏูุฏุฉ ุงูููุถุงูุฉ:**

**ุฅุฏุงุฑุฉ ุงูุฎุทูุท:**
- `GET /api/lines` - ุฌูุจ ุฌููุน ุงูุฎุทูุท
- `POST /api/lines` - ุฅูุดุงุก ุฎุท ุฌุฏูุฏ
- `PUT /api/lines/{id}` - ุชุญุฏูุซ ุฎุท
- `DELETE /api/lines/{id}` - ุญุฐู ุฎุท

**ุฅุฏุงุฑุฉ ุงูููุงุทู:**
- `GET /api/areas` - ุฌูุจ ุฌููุน ุงูููุงุทู
- `POST /api/areas` - ุฅูุดุงุก ููุทูุฉ ุฌุฏูุฏุฉ (ูุน ูุฏูุฑ ูุทููุจ)

**ููุงุฐุฌ ุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ:**
```python
class Line(BaseModel):
    name: str
    line_manager_id: str  # ูุทููุจ
    coverage_areas: List[str]
    products: List[str]
    
class Area(BaseModel):
    name: str
    area_manager_id: str  # ูุทููุจ
    line_id: str  # ูุทููุจ
    districts: List[str]
```

### โ **ูุงุฌูุฉ ุฅุฏุงุฑุฉ ุงูุฎุทูุท:**

**ุชุจููุจ ุฌุฏูุฏ ูู ุงููุธุงู:**
- ๐บ๏ธ **ุฅุฏุงุฑุฉ ุงูุฎุทูุท** - ูุชุงุญ ููู Admin, GM, Line Manager
- ๐ ูุธุฑุฉ ุนุงูุฉ ุนูู ุฌููุน ุงูุฎุทูุท ูุงูููุงุทู
- โ ุฅูุดุงุก ุฎุทูุท ูููุงุทู ุฌุฏูุฏุฉ
- โ๏ธ ุชุนุฏูู ูุญุฐู ุงูุฎุทูุท ุงูููุฌูุฏุฉ
- ๐ ุฑุจุท ุงูููุงุทู ุจุงูุฎุทูุท ูุงููุฏูุฑูู

**ููููุงุช ุงููุงุฌูุฉ:**
- `LinesManagement` - ุงููููู ุงูุฑุฆูุณู
- `LineCard` - ุนุฑุถ ูุชุญุฑูุฑ ุงูุฎุท
- `CreateLineModal` - ุฅูุดุงุก ุฎุท ุฌุฏูุฏ
- `AreaCard` - ุนุฑุถ ุงูููุทูุฉ
- `CreateAreaModal` - ุฅูุดุงุก ููุทูุฉ ุฌุฏูุฏุฉ

---

## ๐ง 4. ุงูุชุญุฏูุซุงุช ุงูุชูููุฉ ูู ุงูุฃุฏูุงุฑ

### โ **ุงูุฃุฏูุงุฑ ุงูููุญุฏุซุฉ:**

**ุงูุฃุฏูุงุฑ ุงูุญุงููุฉ (12 ุฏูุฑ):**
1. **Admin** (ุงููุณุชูู 7) - ุตูุงุญูุงุช ูุงููุฉ
2. **GM** (ุงููุณุชูู 6) - ุฅุฏุงุฑุฉ ุชุดุบูููุฉ ูุงููุฉ
3. **Line Manager** (ุงููุณุชูู 5) - ุฅุฏุงุฑุฉ ุงูุฎุทูุท + ุฎุทูุท ุฌุฏูุฏุฉ
4. **Area Manager** (ุงููุณุชูู 4) - ุฅุฏุงุฑุฉ ุงูููุงุทู + ููุงุทู ุฌุฏูุฏุฉ
5. **District Manager** (ุงููุณุชูู 3) - ุฅุฏุงุฑุฉ ุงูููุงุทุนุงุช
6. **Key Account** (ุงููุณุชูู 2) - ุฅุฏุงุฑุฉ ุญุณุงุจุงุช + ุฅุถุงูุฉ ุนูุงุฏุงุช โจ
7. **Medical Rep** (ุงููุณุชูู 1) - ุงูุนูููุงุช ุงูุฃุณุงุณูุฉ + ุฅุถุงูุฉ ุนูุงุฏุงุช โจ
8. **Warehouse Keeper** (ุงููุณุชูู 3) - ุฅุฏุงุฑุฉ ุงููุฎุฒูู
9. **Accounting** (ุงููุณุชูู 3) - ุงูุนูููุงุช ุงููุญุงุณุจูุฉ

**ุงูุฃุฏูุงุฑ ุงููุฏููุฉ (ููุชูุงูู):**
10. **Manager** (Legacy)
11. **Warehouse Manager** (Legacy) 
12. **Sales Rep** โ ุชู ุฏูุฌู ูุน Medical Rep โ

### โ **ุงูุตูุงุญูุงุช ุงูููุญุฏุซุฉ:**

**ุงูุตูุงุญูุงุช ุงูุฌุฏูุฏุฉ:**
- `lines.manage` - ุฅุฏุงุฑุฉ ุงูุฎุทูุท (Line Managers)
- `areas.manage` - ุฅุฏุงุฑุฉ ุงูููุงุทู (Area Managers)
- `districts.manage` - ุฅุฏุงุฑุฉ ุงูููุงุทุนุงุช (District Managers)
- `clinics.create` - ุฅุถุงูุฉ ุงูุนูุงุฏุงุช (Key Account + Medical Rep) โจ

---

## ๐ 5. ุงูุฅุญุตุงุฆูุงุช ุงูููุงุฆูุฉ

### **ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุนุฏ ุงูุชุญุฏูุซ:**
- ๐ฅ **ุงููุณุชุฎุฏููู**: 19 ูุณุชุฎุฏู
  - Medical Rep: **4 ูุณุชุฎุฏููู** (ุดุงูู Sales Rep ุงููุฏููุฌ)
  - Key Account: 1 ูุณุชุฎุฏู
  - Area Manager: 2 ูุณุชุฎุฏู
  - Line Manager: 1 ูุณุชุฎุฏู
  - Admin: 1 ูุณุชุฎุฏู
  - GM: 1 ูุณุชุฎุฏู
  - ุจุงูู ุงูุฃุฏูุงุฑ: 9 ูุณุชุฎุฏููู

- ๐ฅ **ุงูุนูุงุฏุงุช**: 2 ุนูุงุฏุฉ (ููุงุฎุชุจุงุฑ)
- ๐ฆ **ุงูููุชุฌุงุช**: 2 ููุชุฌ (ููุงุฎุชุจุงุฑ)
- ๐ช **ุงููุฎุงุฒู**: 2 ูุฎุฒู (ููุงุฎุชุจุงุฑ)

### **ุงููุงุฌูุงุช ุงููููุนูุฉ:**
- โ ุชุจููุจ "ุฅุฏุงุฑุฉ ุงูุฎุทูุท" ูููุฏูุฑูู
- โ ุชุจููุจ "ุชุณุฌูู ุนูุงุฏุฉ" ููุชูููุฐููู
- โ ูุธุงู ุตูุงุญูุงุช ูุญุฏุซ ููุทุจูุน
- โ ุฏุนู ูุงูู ููุฃุฏูุงุฑ ุงูููุญุฏุฉ

---

## ๐ฏ 6. ุงูููุงุฆุฏ ุงูููุญููุฉ

### **ูููุณุชุฎุฏููู:**
- ๐ญ **ูุธุงู ุฃุฏูุงุฑ ูุจุณุท**: ูุง ููุฌุฏ ุชุฏุงุฎู ุจูู sales_rep ู medical_rep
- ๐ฅ **ุณูููุฉ ุฅุถุงูุฉ ุงูุนูุงุฏุงุช**: ุงูุชูููุฐููู ุงูุขู ูููููู ุฅุถุงูุฉ ุงูุนูุงุฏุงุช ูุจุงุดุฑุฉ
- ๐บ๏ธ **ุฅุฏุงุฑุฉ ุฃูุถู ููููุงุทู**: ูุธุงู ูุฑูู ูุงุถุญ ูู ุงูุฎุทูุท ููููุงุทุนุงุช
- ๐ **ุตูุงุญูุงุช ูุงุถุญุฉ**: ูู ุฏูุฑ ูู ุตูุงุญูุงุช ูุญุฏุฏุฉ ููุงุถุญุฉ

### **ูููุธุงู:**
- ๐ง **ููุฏ ูููุธู**: ุฅุฒุงูุฉ ุงูุชูุฑุงุฑ ูุงูุชุนููุฏ
- ๐ **ุฃูุงู ูุญุณู**: ูุธุงู ุตูุงุญูุงุช ููุญุฏ ููุทุจูุน
- ๐ **ูุงุจููุฉ ุงูุชูุณุน**: ุจููุฉ ูุฑููุฉ ูุงุจูุฉ ููููู
- ๐ **ุฑุจุท ุดุงูู**: ุฌููุน ุงูุฃุฌุฒุงุก ูุชุฑุงุจุทุฉ ููุชูุงููุฉ

### **ููุฅุฏุงุฑุฉ:**
- ๐ **ุณูุทุฑุฉ ูุงููุฉ**: ุฅุฏุงุฑุฉ ุดุงููุฉ ููุฎุทูุท ูุงูููุงุทู
- ๐ **ุชุชุจุน ุฏููู**: ูุนุฑูุฉ ูู ูุฏูุฑ ูุงุฐุง ูุฃูู
- ๐ฏ **ุชุฎุตูุต ุงูููุชุฌุงุช**: ุฑุจุท ุงูููุชุฌุงุช ุจุงูุฎุทูุท ุงูููุงุณุจุฉ
- ๐ **ุชุบุทูุฉ ุฌุบุฑุงููุฉ**: ุชูุธูู ุฃูุถู ููููุงุทู ูุงูููุงุทุนุงุช

---

## โ 7. ุงูุชุฃููุฏุงุช ุงูููุงุฆูุฉ

### **ุชู ุชูููุฐ ุฌููุน ุงููุทุงูุจ:**
- โ **ุฏูุฌ sales_rep ูุน medical_rep** - ููุชูู 100%
- โ **ุฅุถุงูุฉ ุงูุนูุงุฏุงุช ููุชูููุฐููู** - ููุชูู 100%
- โ **ุฑุจุท ุงูููุงุทู ุจุงููุฏูุฑูู** - ููุชูู 100%
- โ **ุฅุถุงูุฉ ุฅุฏุงุฑุฉ ุงูุฎุทูุท** - ููุชูู 100%
- โ **ุฑุจุท ุฌููุน ุงูุฃุฌุฒุงุก** - ููุชูู 100%

### **ุงูุฌูุฏุฉ ูุงูุงุณุชูุฑุงุฑ:**
- ๐ข **ุงูุจุงู ุฅูุฏ**: ุฌููุน APIs ุชุนูู ุจูุฌุงุญ
- ๐ข **ุงููุฑููุช ุฅูุฏ**: ุฌููุน ุงููุงุฌูุงุช ุชุนูู ุจุณูุงุณุฉ
- ๐ข **ูุงุนุฏุฉ ุงูุจูุงูุงุช**: ุฌููุน ุงูุจูุงูุงุช ูุญุฏุซุฉ ููุชุณูุฉ
- ๐ข **ูุธุงู ุงูุตูุงุญูุงุช**: ูุนูู ุจุดูู ุตุญูุญ ููุทุจูุน

---

## ๐ ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู!

ุงููุธุงู ุงูุขู ุฌุงูุฒ ุจุงูุชุญุฏูุซุงุช ุงููุทููุจุฉ:
- ๐ญ ุฃุฏูุงุฑ ููุญุฏุฉ ููุจุณุทุฉ
- ๐ฅ ุงูุชูููุฐููู ูููููู ุฅุถุงูุฉ ุงูุนูุงุฏุงุช
- ๐บ๏ธ ุฅุฏุงุฑุฉ ุดุงููุฉ ููุฎุทูุท ูุงูููุงุทู
- ๐ ุฑุจุท ูุชูุงูู ุจูู ุฌููุน ุงูุฃุฌุฒุงุก
- ๐ ูุธุงู ุตูุงุญูุงุช ูุญุฏุซ ููุทุจูุน

**ุชุงุฑูุฎ ุงูุชุญุฏูุซ:** 29 ููููู 2025  
**ุญุงูุฉ ุงููุธุงู:** ุฌุงูุฒ ูููุฎุชุจุฑ โ  
**ุงูุชูููู ุงูุนุงู:** ููุชุงุฒ - ุฌููุน ุงููุทุงูุจ ููููุฐุฉ ุจูุฌุงุญ